"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[3564],{11305:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(96124),o=n(76271),a=n(6833);const r=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,s={headers:{Accept:"application/json","Content-Type":"application/json"},method:a.f2.GET,params:{filter:t,limit:r,offset:n},url:"".concat(o.h.getState().config.endpoints.organizations,"/organizations/discovery")},l=(0,i.Z)(e?s:null,{shouldRetryOnError:!1}),c=l.data,u=l.error;return{data:c,error:u,isLoading:!u&&!c,isValidating:l.isValidating,mutate:l.mutate}}},38316:(e,t,n)=>{n.d(t,{w:()=>i});var i=n(68799).r},71108:(e,t,n)=>{n.d(t,{R:()=>u});var i,o=n(60507);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,c(i.key),i)}}function s(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}var u=s((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));i=u,l(u,"ORGANIZATION_DOMAIN_ASSIGN_ERROR_CODE","CON-ODA-10001"),l(u,"ORGANIZATION_DOMAIN_ASSIGN_INVALID_STATUS_CODE_ERROR_CODE","CON-ODA-10002"),l(u,"ORGANIZATION_DOMAIN_ASSIGN_FORM_ID","organization-domain-assign-form"),l(u,"ErrorMessages",{ORGANIZATION_DOMAIN_ASSIGN_ERROR:new o.O(i.ORGANIZATION_DOMAIN_ASSIGN_ERROR_CODE,"An error occurred while assigning email domains for the organization.","Error while assigning domains",null),ORGANIZATION_DOMAIN_ASSIGN_INVALID_STATUS_CODE_ERROR:new o.O(i.ORGANIZATION_DOMAIN_ASSIGN_INVALID_STATUS_CODE_ERROR_CODE,"An invalid status code was received while assigning email domains for the organization.","Invalid status code while assigning domains",null)}),l(u,"FEATURE_DICTIONARY",(new Map).set("ORGANIZATION_DISCOVERY_CREATE","organizationDiscovery.create").set("ORGANIZATION_DISCOVERY_UPDATE","organizationDiscovery.update").set("ORGANIZATION_DISCOVERY_DELETE","organizationDiscovery.delete").set("ORGANIZATION_DISCOVERY_READ","organizationDiscovery.read").set("ORGANIZATION_DISCOVERY_EMAIL_DOMAIN_FOR_SELF_REG","organizationDiscovery.emailDomainDiscoveryForSelfReg"))},83564:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Oe});var i=n(91970),o=n(55007),a=n(60486),r=n(90302),s=n(40838),l=n(4717),c=n(47149),u=n(86105),d=n(6833),m=n(82406),g=n(79438),f=n(20494),v=n(44194),p=n(10479),y=n(59673),E=n(47245),D=n(39114),O=n(62508),h=n(2292),b=n(76271),S=h.AsgardeoSPAClient.getInstance().httpRequest.bind(h.AsgardeoSPAClient.getInstance());const R=function(e){var t={data:e,headers:{"Content-Type":"application/json"},method:d.f2.POST,url:"".concat(b.h.getState().config.endpoints.organizations,"/organization-configs/discovery")};return S(t).then((function(e){return 201!==e.status?Promise.reject(new Error("Failed to add organization discovery configs.")):Promise.resolve(null==e?void 0:e.data)})).catch((function(e){var t;return Promise.reject(null==e||null===(t=e.response)||void 0===t?void 0:t.data)}))};var I=h.AsgardeoSPAClient.getInstance().httpRequest.bind(h.AsgardeoSPAClient.getInstance());const _=function(){var e={headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE",url:"".concat(b.h.getState().config.endpoints.organizations,"/organization-configs/discovery")};return I(e).then((function(e){return 204!==(null==e?void 0:e.status)?Promise.reject(new Error("Failed to delete organization discovery configs.")):Promise.resolve(null==e?void 0:e.data)})).catch((function(e){return Promise.reject(e)}))};var A=h.AsgardeoSPAClient.getInstance().httpRequest.bind(h.AsgardeoSPAClient.getInstance());const N=function(e){var t={data:e,headers:{"Content-Type":"application/json"},method:d.f2.PUT,url:"".concat(b.h.getState().config.endpoints.organizations,"/organization-configs/discovery")};return A(t).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to update organization discovery configs.")):Promise.resolve(null==e?void 0:e.data)})).catch((function(e){var t;return Promise.reject(null==e||null===(t=e.response)||void 0===t?void 0:t.data)}))};var C=n(11305),z=n(96124);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function P(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,M(i.key),i)}}function w(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function L(e,t,n){return(t=M(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=T(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}var V=w((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=j(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}L(V,"EMAIL_DOMAIN_DISCOVERY_PROPERTY_KEY","emailDomain.enable"),L(V,"EMAIL_DOMAIN_DISCOVERY_SELF_REG_PROPERTY_KEY","emailDomainBasedSelfSignup.enable"),L(V,"DEFAULT_DISCOVERY_PARAM","defaultParam"),L(V,"ORGANIZATION_DISCOVERY_DOMAINS_NOT_CONFIGURED_ERROR_CODE","OCM-60002");const U=function(){var e,t,n,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o={headers:{Accept:"application/json","Content-Type":"application/json"},method:d.f2.GET,url:"".concat(b.h.getState().config.endpoints.organizations,"/organization-configs/discovery")},a=(0,z.Z)(i?o:null,{shouldRetryOnError:!1}),r=a.data,s=a.error,l=a.isValidating,c=a.mutate,u=!1,m=!1;null!=r&&r.properties&&(null===(n=r.properties)||void 0===n||n.forEach((function(e){e.key===V.EMAIL_DOMAIN_DISCOVERY_PROPERTY_KEY&&"true"===e.value&&(u=!0),e.key===V.EMAIL_DOMAIN_DISCOVERY_SELF_REG_PROPERTY_KEY&&"true"===e.value&&(m=!0),e.key===V.DEFAULT_DISCOVERY_PARAM&&(t=e.value)})));return(null==s||null===(e=s.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.code)===V.ORGANIZATION_DISCOVERY_DOMAINS_NOT_CONFIGURED_ERROR_CODE?{data:G({isOrganizationDiscoveryEnabled:u=!1},r),error:s,isLoading:!s&&!r,isValidating:l,mutate:c}:{data:G({defaultParam:t,isEmailDomainBasedSelfRegistrationEnabled:m,isOrganizationDiscoveryEnabled:u},r),error:s,isLoading:!s&&!r,isValidating:l,mutate:c}};var Z=n(25134),F=n(43974),x=n(61444),Q=n(90408),B=n(26154),K=n(13550),$=n(50699),q=n(12638),J=n(38316),X=n(71108),H=function(e){var t=e.defaultListItemLimit,n=e.isLoading,i=e.list,l=e.onEmptyListPlaceholderActionClick,c=e.onSearchQueryClear,d=e.searchQuery,m=e.selection,g=e.showListItemActions,y=e.isRenderedOnPortal,D=e["data-componentid"],O=(0,p.$)().t,h=(0,E.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),b=(0,E.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.organizationDiscovery})),S=(0,E.v9)((function(e){return e.config.ui.features})),R=F.l.getInstance(),I=function(e){s.m.push({pathname:a.$.getPaths().get("UPDATE_ORGANIZATION_DISCOVERY_DOMAINS").replace(":id",e)})},_=function(){return d&&((0,$.Z)(i)||0===(null==i?void 0:i.totalResults))?v.createElement(f.$J,{action:v.createElement(f.Qj,{onClick:c},O("console:manage.placeholders.emptySearchResult.action")),image:(0,K.jF)().emptySearch,imageSize:"tiny",title:O("console:manage.placeholders.emptySearchResult.title"),subtitle:[O("console:manage.placeholders.emptySearchResult.subtitles.0",{query:d.split(" ").pop()}),O("console:manage.placeholders.emptySearchResult.subtitles.1")],"data-componentid":"".concat(D,"-empty-search-placeholder")}):(0,$.Z)(i)||0===(null==i?void 0:i.totalResults)?v.createElement(f.$J,{className:y?"":"list-placeholder mr-0",action:l&&v.createElement(o.di,{when:null==S||null===(e=S.organizationDiscovery)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.create},v.createElement(f.KM,{onClick:function(){R.publish(D+"-click-assign-email-domain-button"),l()}},v.createElement(B.Z,{name:"add"}),O("organizationDiscovery:placeholders.emptyList.action"))),image:(0,K.jF)().newList,imageSize:"tiny",title:O("console:manage.placeholders.emptySearchResult.title"),subtitle:[O("organizationDiscovery:placeholders.emptyList.subtitles")],"data-componentid":"".concat(D,"-empty-placeholder")}):null;var e};return v.createElement(f.wQ,{className:"organizations-table",isLoading:n,loadingStateOptions:{count:null!=t?t:r.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"square"},actions:function(){if(g)return[{"data-componentid":"".concat(D,"-item-edit-button"),hidden:function(){return!(0,u.cr)(b,X.R.FEATURE_DICTIONARY.get("ORGANIZATION_DISCOVERY_UPDATE"))},icon:function(){var e;return(0,u.Xr)(b,null==b||null===(e=b.scopes)||void 0===e?void 0:e.update,h)?"pencil alternate":"eye"},onClick:function(e,t){return I(t.organizationId)},popupText:function(){var e;return(0,u.Xr)(b,null==b||null===(e=b.scopes)||void 0===e?void 0:e.update,h)?O("common:edit"):O("common:view")},renderer:"semantic-icon"}]}(),columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){return v.createElement(q.Z,{image:!0,as:"h6",className:"header-with-icon","data-componentid":"".concat(D,"-item-heading")},v.createElement(f.dn,{defaultIcon:!0,relaxed:"very",size:"micro",shape:"rounded",spaced:"right",hoverable:!1,icon:J.w}),v.createElement(q.Z.Content,null,e.organizationName))},title:O("organizations:list.columns.name")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:O("organizations:list.columns.actions")}],data:null==i?void 0:i.organizations,onRowClick:function(e,t){I(t.organizationId)},placeholders:_(),selectable:m,showHeader:!1,transparent:!n&&null!==_(),"data-componentid":D})};H.defaultProps={"data-componentid":"discoverable-organizations-list",selection:!0,showListItemActions:!0};const W=H;var ee=n(51835),te=n.n(ee),ne=n(27975),ie=n.n(ne),oe=n(55900),ae=n.n(oe),re=n(21555),se=n.n(re),le=n(3621),ce=n.n(le),ue=n(5062),de=n.n(ue),me=n(53502),ge={};ge.styleTagTransform=de(),ge.setAttributes=se(),ge.insert=ae().bind(null,"head"),ge.domAPI=ie(),ge.insertStyleElement=ce();te()(me.Z,ge);me.Z&&me.Z.locals&&me.Z.locals;function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ve(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const pe=function(e){var t,n,i,r,l,c=e.discoverableOrganizations,u=e.listItemLimit,d=e.isDiscoverableOrganizationsFetchRequestLoading,m=e.featureConfig,g=e.searchQuery,y=e.onListItemLimitChange,E=e.onListOffsetChange,D=e.onSearchQueryChange,O=e["data-componentid"],h=void 0===O?"discoverable-organizations-list-layout":O,b=[{key:0,text:x.I18n.instance.t("organizationDiscovery:advancedSearch.form.dropdown.filterAttributeOptions.organizationName"),value:"organizationName"}],S=F.l.getInstance(),R=(0,p.$)().t,I=fe((0,v.useState)(!1),2),_=I[0],A=I[1],N=fe((0,v.useState)(b[0]),2),C=N[0],z=N[1],T=(0,v.useCallback)((function(e){D(e)}),[D]),P=(0,v.useCallback)((function(){A(!_),D("")}),[D,_]);return v.createElement(f.PS,{advancedSearch:v.createElement(Z.n,{onFilter:T,filterAttributeOptions:[{key:0,text:R("organizationDiscovery:advancedSearch.form.dropdown.filterAttributeOptions.organizationName"),value:"organizationName"}],filterAttributePlaceholder:R("organizationDiscovery:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:R("organizationDiscovery:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:R("organizationDiscovery:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:R("organizationDiscovery:advancedSearch.placeholder"),defaultSearchAttribute:"organizationName",defaultSearchOperator:"co",triggerClearQuery:_,"data-componentid":"".concat(h,"-list-advanced-search")}),currentListSize:null==c||null===(t=c.organizations)||void 0===t?void 0:t.length,listItemLimit:u,onItemsPerPageDropdownChange:function(e,t){y(t.value)},onPageChange:function(e,t){var n=(t.activePage-1)*u;E(n)},onSortStrategyChange:function(e,t){z((0,Q.Z)(b,(function(e){return t.value===e.value})))},showTopActionPanel:d||!(!g&&(null==c||null===(n=c.organizations)||void 0===n?void 0:n.length)<=0),sortOptions:b,sortStrategy:C,topActionPanelExtension:v.createElement(o.di,{when:null==m||null===(i=m.organizationDiscovery)||void 0===i||null===(i=i.scopes)||void 0===i?void 0:i.create},v.createElement(f.KM,{disabled:d,loading:d,onClick:function(){S.publish("organization-click-assign-email-domain-button"),s.m.push(a.$.getPaths().get("ASSIGN_ORGANIZATION_DISCOVERY_DOMAINS"))},"data-componentid":"".concat(h,"-assign-button")},v.createElement(B.Z,{name:"add"}),R("organizationDiscovery:emailDomains.actions.assign"))),totalPages:10,totalListSize:null==c||null===(r=c.organizations)||void 0===r?void 0:r.length,isLoading:d,paginationOptions:{disableNextButton:(l=c,!((null==l?void 0:l.startIndex)+(null==l?void 0:l.count)!==(null==l?void 0:l.totalResults)+1))},"data-componentid":"".concat(h,"-list-layout"),className:"discoverable-organizations-list-layout",showPagination:!0},v.createElement(W,{list:c,onEmptyListPlaceholderActionClick:function(){s.m.push(a.$.getPaths().get("ASSIGN_ORGANIZATION_DISCOVERY_DOMAINS"))},onSearchQueryClear:P,searchQuery:g,"data-componentid":"organization-list-with-discovery"}))};function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ee(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var De=function(e){var t,n,h,b=e["data-componentid"],S=(0,p.$)().t,I=(0,E.I0)(),A=(0,E.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),z=(0,u.cr)(null==A?void 0:A.organizationDiscovery,X.R.FEATURE_DICTIONARY.get("ORGANIZATION_DISCOVERY_EMAIL_DOMAIN_FOR_SELF_REG")),T=(0,o.EV)(null==A||null===(t=A.organizationDiscovery)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),P=(0,o.EV)(null==A||null===(n=A.organizationDiscovery)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.create),w=(0,o.EV)(null==A||null===(h=A.organizationDiscovery)||void 0===h||null===(h=h.scopes)||void 0===h?void 0:h.delete),L=!(T||P&&w),M=ye((0,v.useState)(""),2),j=M[0],k=M[1],G=ye((0,v.useState)(r.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),Y=G[0],Z=G[1],F=ye((0,v.useState)(0),2),x=F[0],Q=F[1],B=(0,v.useMemo)((function(){return j}),[j]),K=U(),$=K.data,q=K.error,J=K.mutate,H=(0,C.Z)(!0,B,x,Y),W=H.data,ee=H.error,te=H.isLoading,ne=(0,l.P5)(c.v.USER_ONBOARDING_CONNECTOR_ID,c.v.SELF_SIGN_UP_CONNECTOR_ID).data,ie=$.isOrganizationDiscoveryEnabled,oe=$.isEmailDomainBasedSelfRegistrationEnabled,ae=$.defaultParam,re=ye((0,v.useState)(!1),2),se=re[0],le=re[1];(0,v.useEffect)((function(){var e,t=null==ne||null===(e=ne.properties)||void 0===e?void 0:e.find((function(e){return e.name===c.v.SELF_REGISTRATION_ENABLE}));le("true"===(null==t?void 0:t.value))}),[ne]);(0,v.useEffect)((function(){var e;q&&404!==(null===(e=q.response)||void 0===e?void 0:e.status)&&I((0,m.V_)({description:S("organizationDiscovery:notifications.getEmailDomainDiscovery.error.description"),level:d.QU.ERROR,message:S("organizationDiscovery:notifications.getEmailDomainDiscovery.error.message")}))}),[q]),(0,v.useEffect)((function(){ee&&I((0,m.V_)({description:S("organizationDiscovery:notifications.getOrganizationListWithDiscovery.error.description"),level:d.QU.ERROR,message:S("organizationDiscovery:notifications.getOrganizationListWithDiscovery.error.message")}))}),[ee]);var ce=function(e,t){var n={properties:[]};!0===t.checked?n.properties.push({key:V.EMAIL_DOMAIN_DISCOVERY_PROPERTY_KEY,value:"true"}):(n.properties.push({key:V.EMAIL_DOMAIN_DISCOVERY_PROPERTY_KEY,value:"false"}),n.properties.push({key:V.EMAIL_DOMAIN_DISCOVERY_SELF_REG_PROPERTY_KEY,value:"false"})),null!=ae&&n.properties.push({key:V.DEFAULT_DISCOVERY_PARAM,value:ae}),T?N(n).then((function(){I((0,m.V_)({description:t.checked?S("organizationDiscovery:notifications.enableEmailDomainDiscovery.success.description"):S("organizationDiscovery:notifications.disableEmailDomainDiscovery.success.description"),level:d.QU.SUCCESS,message:t.checked?S("organizationDiscovery:notifications.enableEmailDomainDiscovery.success.message"):S("organizationDiscovery:notifications.disableEmailDomainDiscovery.success.message")})),J()})).catch((function(){I((0,m.V_)({description:t.checked?S("organizationDiscovery:notifications.enableEmailDomainDiscovery.error.description"):S("organizationDiscovery:notifications.disableEmailDomainDiscovery.error.description"),level:d.QU.ERROR,message:t.checked?S("organizationDiscovery:notifications.enableEmailDomainDiscovery.error.message"):S("organizationDiscovery:notifications.disableEmailDomainDiscovery.error.message")}))})):P&&w&&(t.checked?R(n).then((function(){I((0,m.V_)({description:S("organizationDiscovery:notifications.enableEmailDomainDiscovery.success.description"),level:d.QU.SUCCESS,message:S("organizationDiscovery:notifications.enableEmailDomainDiscovery.success.message")})),J()})).catch((function(){I((0,m.V_)({description:S("organizationDiscovery:notifications.enableEmailDomainDiscovery.error.description"),level:d.QU.ERROR,message:S("organizationDiscovery:notifications.enableEmailDomainDiscovery.error.message")}))})):_().then((function(){I((0,m.V_)({description:S("organizationDiscovery:notifications.disableEmailDomainDiscovery.success.description"),level:d.QU.SUCCESS,message:S("organizationDiscovery:notifications.disableEmailDomainDiscovery.success.message")})),J()})).catch((function(){I((0,m.V_)({description:S("organizationDiscovery:notifications.disableEmailDomainDiscovery.error.description"),level:d.QU.ERROR,message:S("organizationDiscovery:notifications.disableEmailDomainDiscovery.error.message")}))})))};return v.createElement(f.Xg,{pageTitle:S("pages:emailDomainDiscovery.title"),title:S("pages:emailDomainDiscovery.title"),description:S("pages:emailDomainDiscovery.subTitle"),"data-componentid":"".concat(b,"-page-layout"),backButton:{"data-testid":"".concat(b,"-page-back-button"),onClick:function(){s.m.push(a.$.getPaths().get("LOGIN_AND_REGISTRATION"))},text:S("governanceConnectors:goBackLoginAndRegistration")}},v.createElement(D.Z,{label:S("organizationDiscovery:emailDomains.actions.enable"),toggle:!0,onChange:ce,checked:ie,"data-testId":"".concat(b,"-enable-toggle"),readOnly:L}),v.createElement(O.Z,{hidden:!0}),v.createElement(i.Z,{severity:"info"},S("organizationDiscovery:message")),v.createElement(O.Z,{hidden:!0}),ie&&v.createElement(v.Fragment,null,z&&v.createElement(f.pJ,{padded:!0},v.createElement(g.l0,null,v.createElement(g.gN.Checkbox,{ariaLabel:"emailDomainBasedSelfRegistration",name:"emailDomainBasedSelfRegistration",label:S("organizationDiscovery:selfRegistration.label"),listen:function(e){return function(e){var t={properties:[]};t.properties.push({key:V.EMAIL_DOMAIN_DISCOVERY_PROPERTY_KEY,value:ie.toString()}),t.properties.push({key:V.EMAIL_DOMAIN_DISCOVERY_SELF_REG_PROPERTY_KEY,value:e.toString()}),null!=ae&&t.properties.push({key:V.DEFAULT_DISCOVERY_PARAM,value:ae}),N(t).then((function(){I((0,m.V_)({description:S(e?"organizationDiscovery:notifications.enableEmailDomainBasedSelfRegistration.success.description":"organizationDiscovery:notifications.disableEmailDomainBasedSelfRegistration.success.description"),level:d.QU.SUCCESS,message:S(e?"organizationDiscovery:notifications.enableEmailDomainBasedSelfRegistration.success.message":"organizationDiscovery:notifications.disableEmailDomainBasedSelfRegistration.success.message")})),J()})).catch((function(){I((0,m.V_)({description:S(e?"organizationDiscovery:notifications.enableEmailDomainBasedSelfRegistration.error.description":"organizationDiscovery:notifications.disableEmailDomainBasedSelfRegistration.error.description"),level:d.QU.ERROR,message:S(e?"organizationDiscovery:notifications.enableEmailDomainBasedSelfRegistration.error.message":"organizationDiscovery:notifications.disableEmailDomainBasedSelfRegistration.error.message")}))}))}(e)},checked:oe,disabled:!se||!T,width:16,"data-testid":"".concat(b,"-notify-account-confirmation"),hint:se&&S("organizationDiscovery:selfRegistration.labelHint")}),!se&&v.createElement(i.Z,{severity:"info"},v.createElement(y.c,{i18nKey:"organizationDiscovery:selfRegistration.message"},"Enable",v.createElement(f.rU,{external:!1,onClick:function(){s.m.push(a.$.getPaths().get("GOVERNANCE_CONNECTOR_EDIT").replace(":categoryId",c.v.USER_ONBOARDING_CONNECTOR_ID).replace(":connectorId",c.v.SELF_SIGN_UP_CONNECTOR_ID))}},"self-registration"),"to allow domain discovery for self-registration.")))),v.createElement(pe,{discoverableOrganizations:W,listItemLimit:Y,isDiscoverableOrganizationsFetchRequestLoading:te,featureConfig:A,onListItemLimitChange:Z,onListOffsetChange:Q,searchQuery:j,onSearchQueryChange:k})))};De.defaultProps={"data-componentid":"organization-discovery-domains-page"};const Oe=De},53502:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(81611),o=n.n(i),a=n(83948),r=n.n(a)()(o());r.push([e.id,".discoverable-organizations-list-layout .top-action-panel{display:flex;flex-direction:row-reverse;flex-wrap:nowrap;align-content:center;justify-content:flex-start;align-items:center;gap:10px}.discoverable-organizations-list-layout .top-action-panel>.ui.grid{flex-grow:1}",""]);const s=r}}]);