"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[9162],{39203:(e,t,n)=>{n.d(t,{Ug:()=>c,VL:()=>u,fF:()=>d,hI:()=>s,sS:()=>v,tN:()=>m,yq:()=>p});var r=n(2292),a=n(96124),i=n(76271),o=n(6833),l=r.AsgardeoSPAClient.getInstance().httpRequest.bind(r.AsgardeoSPAClient.getInstance()),s=function(e,t){var n={headers:{"Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.GET,params:{domain:e,excludedAttributes:t},url:i.h.getState().config.endpoints.groups};return l(n).then((function(e){if(200==e.status)return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],c={headers:{"Content-Type":"application/json"},method:o.f2.GET,params:{count:e,domain:r,excludedAttributes:l,filter:n,startIndex:t},url:i.h.getState().config.endpoints.groups},u=(0,a.Z)(s?c:null),d=u.data,m=u.error;return{data:d,error:m,isLoading:!m&&!d,isValidating:u.isValidating,mutate:u.mutate,response:u.response}},u=function(e,t){var n={headers:{"Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.GET,params:{excludedAttributes:t},url:i.h.getState().config.endpoints.groups+"/"+e};return l(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},d=function(e,t){var n={data:t,headers:{"Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.PATCH,url:i.h.getState().config.endpoints.groups+"/"+e};return l(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},m=function(e){var t={data:e,headers:{"Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.POST,url:i.h.getState().config.endpoints.groups+"/.search"};return l(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},p=function(e){var t={headers:{"Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.DELETE,url:i.h.getState().config.endpoints.groups+"/"+e};return l(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},v=function(e){var t={data:e,headers:{"Access-Control-Allow-Origin":i.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.POST,url:i.h.getState().config.endpoints.groups};return l(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},51318:(e,t,n)=>{function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{F2:()=>l,P_:()=>u});var i=function(e){return Math.random()*e},o=function(e,t){var n,a=r(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;e=e.replace(i,"")}}catch(o){a.e(o)}finally{a.f()}return e},l=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,m=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,p=arguments.length>10&&void 0!==arguments[10]?arguments[10]:[],v="",f="",h=o("abcdefghijklmnopqrstuvwxyz",p),g=o("ABCDEFGHIJKLMNOPQRSTUVWXYZ",p),E=o("0123456789",p),y=o("!#$%&'()*+,-./:;<=>?@[]^_{|}~",p),I=0;I<i;I++)f+=s(f,h);for(var O=0;O<l;O++)f+=s(f,g);for(var N=0;N<u;N++)f+=s(f,E);for(var b=0;b<d;b++)f+=s(f,y);v=f;var _="";_=t?_+h:_,_=n?_+g:_,_=r?_+E:_,_=a?_+y:_,0===i&&0===l&&0===u&&0===d&&(_=_+h+g+E+y);var S=new Set(v.split("")),A=!1;m>0&&S.size<m&&(v=Array.from(S).join(""),A=!0);for(var C=e-v.length,L=0;L<C;L++)v+=A?c(v,_):s(v,_);return v},s=function(e,t){for(var n=t.charAt(i(t.length));n===e.charAt(e.length-1);)n=t.charAt(i(t.length));return n},c=function(e,t){for(var n=t.charAt(i(t.length));e.includes(n);)n=t.charAt(i(t.length));return n},u=function(e){var t=null==e?void 0:e.filter((function(e){return"password"===e.field}));if(!(void 0===t||t.length<1)){var n=t[0],r=null==n?void 0:n.rules;if(!((null==r?void 0:r.length)<1))return{consecutiveCharacterValidatorEnabled:null!==d(r,"RepeatedCharacterValidator","max.consecutive.character"),field:"password",maxConsecutiveCharacters:d(r,"RepeatedCharacterValidator","max.consecutive.character")?d(r,"RepeatedCharacterValidator","max.consecutive.character"):"0",maxLength:d(r,"LengthValidator","max.length")?d(r,"LengthValidator","max.length"):"30",minLength:d(r,"LengthValidator","min.length")?d(r,"LengthValidator","min.length"):"8",minLowerCaseCharacters:d(r,"LowerCaseValidator","min.length")?d(r,"LowerCaseValidator","min.length"):"0",minNumbers:d(r,"NumeralValidator","min.length")?d(r,"NumeralValidator","min.length"):"0",minSpecialCharacters:d(r,"SpecialCharacterValidator","min.length")?d(r,"SpecialCharacterValidator","min.length"):"0",minUniqueCharacters:d(r,"UniqueCharacterValidator","min.unique.character")?d(r,"UniqueCharacterValidator","min.unique.character"):"0",minUpperCaseCharacters:d(r,"UpperCaseValidator","min.length")?d(r,"UpperCaseValidator","min.length"):"0",type:"rules",uniqueCharacterValidatorEnabled:null!==d(r,"UniqueCharacterValidator","min.unique.character")}}},d=function(e,t,n){var r=null==e?void 0:e.filter((function(e){return e.validator===t}));if((null==r?void 0:r.length)>0){var a=r.flatMap((function(e){var t;return null!==(t=e.properties)&&void 0!==t?t:[]}));if((a=a.filter((function(e){return e.key===n}))).length>0)return a[0].value}return null}},33839:(e,t,n)=>{n.d(t,{Tf:()=>r.Tf,Wf:()=>r.Wf,sM:()=>r.sM});var r=n(3116)},3116:(e,t,n)=>{n.d(t,{Tf:()=>f,Wf:()=>h,sM:()=>v});var r=n(2292),a=n(96124),i=n(76271),o=n(87029),l=n(21257),s=n(43939),c=n(6833),u=n(44485);function d(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=r.AsgardeoSPAClient.getInstance().httpRequest.bind(r.AsgardeoSPAClient.getInstance()).bind(r.AsgardeoSPAClient.getInstance()),v=function(e,t,n){var r={data:[t,n,g(e),E(e)].filter((function(e){return null!=e})),headers:{Accept:"application/json","Content-Type":"application/json"},method:c.f2.PUT,url:i.h.getState().config.endpoints.validationServiceMgt};return p(r).then((function(e){if(200!==e.status)throw new s.u(u.Q0.CONFIGURATION_UPDATE_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new s.u(u.Q0.CONFIGURATION_STATUS_UPDATE_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},f=function(e){var t={data:{fields:e},headers:{Accept:"application/json","Content-Type":"application/json"},method:c.f2.POST,url:i.h.getState().config.endpoints.validationServiceMgt+"/revert"};return p(t).then((function(e){if(200!==e.status)throw new s.u(u.Q0.CONFIGURATION_REVERT_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new s.u(u.Q0.CONFIGURATION_REVERT_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},h=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,l.z)().organizationType,n={headers:{Accept:"application/json","Content-Type":"application/json"},method:c.f2.GET,params:{},url:t===o.$B.SUBORGANIZATION?i.h.getState().config.endpoints.validationServiceMgtSubOrg:i.h.getState().config.endpoints.validationServiceMgt},r=(0,a.Z)(e?n:null,{shouldRetryOnError:!1}),s=r.data,u=r.error;return{data:s,error:u,isLoading:!s&&!u,isValidating:r.isValidating,mutate:r.mutate}},g=function(e){if("username"!==e.field){var t=[{properties:[{key:"min.length",value:e.minLength?e.minLength:"8"},{key:"max.length",value:e.maxLength?e.maxLength:"30"}],validator:"LengthValidator"},{properties:[{key:"min.length",value:e.minNumbers?e.minNumbers:"1"}],validator:"NumeralValidator"},{properties:[{key:"min.length",value:e.minUpperCaseCharacters?e.minUpperCaseCharacters:"1"}],validator:"UpperCaseValidator"},{properties:[{key:"min.length",value:e.minLowerCaseCharacters?e.minLowerCaseCharacters:"8"}],validator:"LowerCaseValidator"},{properties:[{key:"min.length",value:e.minSpecialCharacters?e.minSpecialCharacters:"8"}],validator:"SpecialCharacterValidator"}];return e.uniqueCharacterValidatorEnabled&&Number(e.minUniqueCharacters)>0&&(t=[].concat(d(t),[{properties:[{key:"min.unique.character",value:e.minUniqueCharacters?e.minUniqueCharacters:"1"}],validator:"UniqueCharacterValidator"}])),e.consecutiveCharacterValidatorEnabled&&Number(e.maxConsecutiveCharacters)>0&&(t=[].concat(d(t),[{properties:[{key:"max.consecutive.character",value:e.maxConsecutiveCharacters?e.maxConsecutiveCharacters:"1"}],validator:"RepeatedCharacterValidator"}])),{field:"password",rules:t}}},E=function(e){if(e&&"password"!==(null==e?void 0:e.field)){var t=[];return"false"===(null==e?void 0:e.enableValidator)?t.push({properties:[{key:"enable.validator",value:"true"}],validator:"EmailFormatValidator"}):t.push({properties:[{key:"enable.validator",value:"true"},{key:"enable.special.characters",value:"".concat(!e.isAlphanumericOnly)}],validator:"AlphanumericValidator"},{properties:[{key:"min.length",value:e.minLength?e.minLength:"3"},{key:"max.length",value:e.maxLength?e.maxLength:"50"}],validator:"LengthValidator"}),{field:"username",rules:t}}}},44485:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}n.d(t,{Ps:()=>c,Pv:()=>d,Q0:()=>u});var c=i((function e(){o(this,e)}));l(c,"VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS",{MIN_LENGTH:1,MIN_VALUE:0,PASSWORD_MIN_LENGTH:1,PASSWORD_MIN_VALUE:5}),l(c,"FEATURE_DICTIONARY",(new Map).set("RULE_BASED_PASSWORD_EXPIRY","validation.ruleBasedPasswordExpiry"));var u=i((function e(){o(this,e)}));l(u,"CONFIGURATION_STATUS_UPDATE_ERROR","An error occurred while updating validation configurations."),l(u,"CONFIGURATION_REVERT_ERROR","An error occurred while reverting validation configurations."),l(u,"CONFIGURATION_UPDATE_INVALID_STATUS_CODE_ERROR","Received an invalid status code while updating validation configurations."),l(u,"CONFIGURATION_REVERT_INVALID_STATUS_CODE_ERROR","Received an invalid status code while reverting validation configurations.");var d=function(e){return e.USERNAME="username",e.PASSWORD="password",e}({})},59162:(e,t,n)=>{n.r(t),n.d(t,{ValidationConfigEditPage:()=>Ae,default:()=>Ce});var r=n(65612),a=n(85658),i=n(55007),o=n(60486),l=n(40838),s=n(51021),c=n(39203),u=n(79282),d=n(4717),m=n(47149),p=n(66534),v=n(51318),f=n(6833),h=n(82406),g=n(79438),E=n(20494),y=n(44194),I=n(10479),O=n(47245),N=n(62508),b=n(41206),_=n(33839),S=n(91970),A=n(82160),C=n(5466),L=n(758),R=n(71339),T=n(82070),w=n(32637),P=n(32463),x=n(48934),V=n(22939),D=n(70988),F=n(7603),U=n(17901),M=n(7231),j=n(8058),k=function(e){return e.EQ="eq",e.NE="ne",e}({}),G=function(e){return e.ROLES="roles",e.GROUPS="groups",e}({});function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Z(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,t)||Q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){if(e){if("string"==typeof e)return B(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var z=function(e){return e.UP="up",e.DOWN="down",e}(z||{}),K=function(e){var t=e.componentId,n=e.ruleList,r=e.isPasswordExpiryEnabled,a=e.isSkipFallbackEnabled,i=e.defaultPasswordExpiryTime,o=e.rolesList,l=e.groupsList,c=e.isReadOnly,u=e.onSkipFallbackChange,d=e.onDefaultPasswordExpiryTimeChange,m=e.onRuleChange,p=e.onRuleError,v=H((0,y.useState)(n),2),f=v[0],h=v[1],g=H((0,y.useState)({}),2),E=g[0],O=g[1],N=(0,I.$)().t;(0,y.useEffect)((function(){h(n),b(n)}),[n]);var b=function(e){var t={},n=!1;e.forEach((function(e){t[null==e?void 0:e.id]={expiryDays:!1,values:!1},0===(null==e?void 0:e.values.length)&&(t[null==e?void 0:e.id].values=!0,n=!0),(null==e?void 0:e.operator)===k.EQ&&((null==e?void 0:e.expiryDays)<j.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE||(null==e?void 0:e.expiryDays)>j.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE)&&(t[null==e?void 0:e.id].expiryDays=!0,n=!0)})),O(t),p(n)},_=function(e,t,n){var r=Y(f);r[e]=q(q({},r[e]),{},X({},t,n)),Z(r)},Z=function(e){h(e),m(e)},W=function(e,t){if(!(t===z.UP&&0===e||t===z.DOWN&&e===f.length-1)){var n=Y(f),r=t===z.UP?e-1:e+1,a=[n[r],n[e]];n[e]=a[0],n[r]=a[1],n.forEach((function(e,t){return e.priority=t+1})),Z(n)}},Q=[{label:N("validation:passwordExpiry.rules.attributes.roles"),value:G.ROLES},{label:N("validation:passwordExpiry.rules.attributes.groups"),value:G.GROUPS}],B=[{label:N("validation:passwordExpiry.rules.actions.apply"),value:k.EQ},{label:N("validation:passwordExpiry.rules.actions.skip"),value:k.NE}],K=function(e,t){if(t){var n,r,a=e.audience;return(null==a||null===(n=a.type)||void 0===n?void 0:n.toLowerCase())===M.cv.APPLICATION.toLowerCase()?"application | ".concat(null==a?void 0:a.display):null!==(r=null==a?void 0:a.type)&&void 0!==r?r:""}var i=e.displayName;return null!=i&&i.includes("/")?i.split("/")[0]:null===s.wO||void 0===s.wO?void 0:s.wO.primaryUserstoreName},$=function(e,t){var n;if(t)return null!==(n=e.displayName)&&void 0!==n?n:"";var r=e.displayName;return null!=r&&r.includes("/")?r.split("/")[1]:null!=r?r:""};return y.createElement("div",{"data-componentid":t},y.createElement(R.Z,{container:!0,direction:"row",columnSpacing:1,alignItems:"stretch"},y.createElement(R.Z,null,y.createElement(D.Z,{size:"small",value:a?k.NE:k.EQ,onChange:function(e){var t=e.target.value;u(t===k.NE)},disabled:!r,readOnly:c,"data-componentid":"".concat(t,"-skip-fallback-select"),className:"password-expiry-rule-select"},B.map((function(e){return y.createElement(V.Z,{key:e.value,value:e.value},e.label)})))),a?y.createElement(R.Z,{alignContent:"center"},N("validation:passwordExpiry.rules.messages.defaultRuleSkipMessage")):y.createElement(y.Fragment,null,y.createElement(R.Z,null,y.createElement(F.Z,{type:"number",value:i,"data-componentid":"".concat(t,"-default-expiry-time"),onChange:function(e){var t=parseInt(e.target.value,10);d(t)},disabled:!r,inputProps:{max:j.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE,min:j.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE,readOnly:c}})),y.createElement(R.Z,{alignContent:"center"},N("validation:passwordExpiry.rules.messages.defaultRuleApplyMessage")))),y.createElement(S.Z,{severity:"info",className:"info-box"},N("validation:passwordExpiry.rules.messages.info")),y.createElement(A.Z,{variant:"text",onClick:function(){if(!((null==f?void 0:f.length)>=j.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_RULES_MAX_COUNT)){var e=[{attribute:G.ROLES,expiryDays:30,id:"rule".concat(Date.now()),operator:k.EQ,priority:1,values:[]}].concat(Y(f.map((function(e){return q(q({},e),{},{priority:(null==e?void 0:e.priority)+1})}))));Z(e)}},className:"add-rule-btn",disabled:!r||c,"data-componentid":"".concat(t,"-add-rule")},y.createElement(U.pO,null),N("validation:passwordExpiry.rules.buttons.addRule")),(null==f?void 0:f.length)>0&&y.createElement("div",null,N("validation:passwordExpiry.rules.messages.ifUserHas")),y.createElement(w.Z,null,null==f?void 0:f.map((function(e,n){var a,i;return y.createElement(P.Z,{key:null==e?void 0:e.id},y.createElement(R.Z,{container:!0,spacing:1,alignItems:"stretch",width:1},y.createElement(R.Z,{container:!0,xs:1,direction:"row"},y.createElement(T.Z,{onClick:function(){return W(n,z.UP)},disabled:!r||0===n||c,"data-componentid":"".concat(t,"-move-up-").concat(n)},y.createElement(U.g8,{fill:"#000000"})),y.createElement(T.Z,{disabled:!r||n===f.length-1||c,onClick:function(){return W(n,z.DOWN)},"data-componentid":"".concat(t,"-move-down-").concat(n)},y.createElement(U.v4,{fill:"#000000"}))),y.createElement(R.Z,{xs:1.5},y.createElement(D.Z,{value:null==e?void 0:e.attribute,onChange:function(e){return _(n,"attribute",e.target.value)},readOnly:c,disabled:!r,"data-componentid":"".concat(t,"-attribute-select-").concat(n),fullWidth:!0},null==Q?void 0:Q.map((function(e){return y.createElement(V.Z,{key:e.value,value:e.value},e.label)})))),y.createElement(R.Z,{xs:4},y.createElement(D.Z,{labelId:"".concat(t,"-values-select-label-").concat(n),"data-componentid":"".concat(t,"-values-select-").concat(n),multiple:!0,readOnly:c,value:null==e?void 0:e.values,onChange:function(t){return function(e,t,n){var r=t.target.value,a="string"==typeof r?r.split(","):r,i=n?o:l,s=a.filter((function(e){return i.some((function(t){return t.id===e}))})).slice(0,j.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_RULE_MAX_VALUES_PER_RULE);_(e,"values",s)}(n,t,(null==e?void 0:e.attribute)===G.ROLES)},renderValue:function(t){return function(e,t){if(!e||0===(null==e?void 0:e.length))return null;var n=(null==t?void 0:t.attribute)===G.ROLES,r=n?o:l,a=null==r?void 0:r.find((function(t){return t.id===e[0]}));return a?y.createElement(R.Z,{container:!0,direction:"row",alignItems:"center",gap:1,justifyContent:"flex-start"},y.createElement(L.Z,{label:K(a,n),size:"small"}),y.createElement(x.Z,{primary:$(a,n)}),(null==e?void 0:e.length)>1&&y.createElement(L.Z,{label:"+".concat((null==e?void 0:e.length)-1," ").concat(N("common:more")),size:"small"})):null}(t,e)},disabled:!r,error:null===(a=E[null==e?void 0:e.id])||void 0===a?void 0:a.values,className:"password-expiry-rule-select",size:"small",fullWidth:!0},function(e){var t=(null==e?void 0:e.attribute)===G.ROLES;return(t?o:l).map((function(n){return y.createElement(V.Z,{key:n.id,value:n.id},y.createElement(R.Z,{direction:"row",alignItems:"center",gap:1,container:!0},y.createElement(C.Z,{checked:(null==e?void 0:e.values.indexOf(n.id))>-1}),y.createElement(L.Z,{label:K(n,t)}),y.createElement(x.Z,{primary:$(n,t)})))}))}(e))),y.createElement(R.Z,{xs:1.5},y.createElement(D.Z,{value:null==e?void 0:e.operator,onChange:function(e){return _(n,"operator",e.target.value)},readOnly:c,disabled:!r,"data-componentid":"".concat(t,"-operator-select-").concat(n),fullWidth:!0},B.map((function(e){return y.createElement(V.Z,{key:e.value,value:e.value},e.label)})))),(null==e?void 0:e.operator)===k.EQ&&y.createElement(R.Z,{xs:1},y.createElement(F.Z,{id:"expiryDays","data-componentid":"".concat(t,"-expiry-days-").concat(n),required:!0,value:null==e?void 0:e.expiryDays,type:"number",onChange:function(e){return function(e,t){var n=""===t?0:parseInt(t);_(e,"expiryDays",n)}(n,e.target.value)},inputProps:{className:"password-expiry-rule-input",max:j.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE,min:j.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE,readOnly:c},error:null===(i=E[null==e?void 0:e.id])||void 0===i?void 0:i.expiryDays,disabled:!r,className:"password-expiry-rule-select"})),y.createElement(R.Z,{xs:(null==e?void 0:e.operator)===k.NE?3.5:2.5,alignContent:"center"},(null==e?void 0:e.operator)===k.EQ?N("validation:passwordExpiry.rules.messages.applyMessage"):N("validation:passwordExpiry.rules.messages.skipMessage")),y.createElement(R.Z,{xs:.5,alignContent:"center"},y.createElement(T.Z,{disabled:c||!r,onClick:function(){return t=null==e?void 0:e.id,n=f.filter((function(e){return(null==e?void 0:e.id)!==t})).map((function(e,t){return q(q({},e),{},{priority:t+1})})),void Z(n);var t,n},"data-componentid":"".concat(t,"-delete-rule-").concat(n)},y.createElement(U.XH,null)))))}))))},$=n(44485),J=n(51835),ee=n.n(J),te=n(27975),ne=n.n(te),re=n(55900),ae=n.n(re),ie=n(21555),oe=n.n(ie),le=n(3621),se=n.n(le),ce=n(5062),ue=n.n(ce),de=n(48311),me={};me.styleTagTransform=ue(),me.setAttributes=oe(),me.insert=ae().bind(null,"head"),me.domAPI=ne(),me.insertStyleElement=se();ee()(de.Z,me);de.Z&&de.Z.locals&&de.Z.locals;function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function ve(){ve=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),l=new T(r||[]);return a(o,"_invoke",{value:A(e,n,l)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",p="suspendedYield",v="executing",f="completed",h={};function g(){}function E(){}function y(){}var I={};c(I,o,(function(){return this}));var O=Object.getPrototypeOf,N=O&&O(O(w([])));N&&N!==n&&r.call(N,o)&&(I=N);var b=y.prototype=g.prototype=Object.create(I);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,i,o,l){var s=d(e[a],e,i);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==pe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,l)}))}l(s.arg)}var i;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function A(t,n,r){var a=m;return function(i,o){if(a===v)throw Error("Generator is already running");if(a===f){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var l=r.delegate;if(l){var s=C(l,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=v;var c=d(t,n,r);if("normal"===c.type){if(a=r.done?f:p,c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=f,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=d(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function w(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(pe(t)+" is not iterable")}return E.prototype=y,a(b,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:E,configurable:!0}),E.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},_(S.prototype),c(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new S(u(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(b),c(b,s,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=w,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],l=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;R(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:w(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function fe(e,t,n,r,a,i,o){try{var l=e[i](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=pe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e){return _e(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ne(e)||Oe()}function Ie(e,t){return _e(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,t)||Ne(e,t)||Oe()}function Oe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ne(e,t){if(e){if("string"==typeof e)return be(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _e(e){if(Array.isArray(e))return e}var Se="validation-config-form",Ae=function(e){var t,n,S,A=e["data-componentid"],C=(0,O.I0)(),L=(0,y.useRef)(null),R=(0,I.$)().t,T=(0,E.fQ)().getLink,w=(0,O.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.isPasswordInputValidationEnabled})),P=(0,O.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t||null===(t=t.loginAndRegistration)||void 0===t?void 0:t.disabledFeatures})),x=(0,O.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),V=(0,O.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.passwordPolicyConfigs)||void 0===t?void 0:t.maxPasswordAllowedLength})),D=null==V||null===(t=V.toString())||void 0===t?void 0:t.length,F=Ie((0,y.useState)(!1),2),U=F[0],M=F[1],j=Ie((0,y.useState)(void 0),2),Z=j[0],W=j[1],q=Ie((0,y.useState)(!0),1)[0],X=Ie((0,y.useState)(!1),2),Y=X[0],H=X[1],Q=Ie((0,y.useState)(!1),2),B=Q[0],z=Q[1],J=Ie((0,y.useState)(void 0),2),ee=J[0],te=J[1],ne=Ie((0,y.useState)(!0),2),re=ne[0],ae=ne[1],ie=Ie((0,y.useState)(!1),2),oe=ie[0],le=ie[1],se=Ie((0,y.useState)(!1),2),ce=se[0],ue=se[1],de=Ie((0,y.useState)(30),2),me=de[0],pe=de[1],he=Ie((0,y.useState)(!1),2),Oe=he[0],Ne=he[1],be=Ie((0,y.useState)([]),2),_e=be[0],Ae=be[1],Ce=Ie((0,y.useState)([]),2),Le=Ce[0],Re=Ce[1],Te=Ie((0,y.useState)(!1),2),we=Te[0],Pe=Te[1],xe=Ie((0,y.useState)(void 0),2),Ve=xe[0],De=xe[1],Fe=Ie((0,y.useState)([]),2),Ue=Fe[0],Me=Fe[1],je=!(0,i.EV)(null==x||null===(n=x.governanceConnectors)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.update),ke=(0,i.EV)(null==x||null===(S=x.ruleBasedPasswordExpiry)||void 0===S||null===(S=S.scopes)||void 0===S?void 0:S.read),Ge=(null==P?void 0:P.includes($.Ps.FEATURE_DICTIONARY.get("RULE_BASED_PASSWORD_EXPIRY")))||!ke,Ze=s.KL.usePasswordHistory(),We=Ze.data,qe=Ze.error,Xe=Ze.mutate,Ye=s.KL.usePasswordExpiry(),He=Ye.data,Qe=Ye.error,Be=Ye.mutate,ze=(0,_.Wf)(w),Ke=ze.data,$e=ze.error,Je=ze.mutate,et=(0,c.Ug)(null,null,null,null,"members,roles",!Ge),tt=et.data,nt=et.error,rt=et.isLoading,at=(0,u.Z)(100,null,null,"users,groups,permissions,associatedApplications",!Ge),it=at.data,ot=at.isLoading,lt=at.error;(0,y.useEffect)((function(){w||pt()}),[]),(0,y.useEffect)((function(){var e,t,n,r,a,i,o,l,s,c;nt&&C((0,h.V_)({description:null!==(e=null!==(t=null==nt||null===(n=nt.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.description)&&void 0!==t?t:null==nt||null===(r=nt.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.detail)&&void 0!==e?e:R("console:manage.features.groups.notifications.fetchGroups.genericError.description"),level:f.QU.ERROR,message:null!==(a=null==nt||null===(i=nt.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.message)&&void 0!==a?a:R("console:manage.features.groups.notifications.fetchGroups.genericError.message")}));lt&&C((0,h.V_)({description:null!==(o=null!==(l=null==lt||null===(s=lt.response)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.description)&&void 0!==l?l:null==lt||null===(c=lt.response)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.detail)&&void 0!==o?o:R("roles:notifications.fetchRoles.genericError.description"),level:f.QU.ERROR,message:R("roles:notifications.fetchRoles.genericError.message")}))}),[nt,lt]),(0,y.useEffect)((function(){var e,t,n,r;if(He&&!Ge){var a=function(e){var t;return null==He||null===(t=He.properties)||void 0===t?void 0:t.find((function(t){return t.name===e}))};ue("true"===(null===(e=a(m.v.PASSWORD_EXPIRY_ENABLE))||void 0===e?void 0:e.value)),pe(parseInt(null===(t=a(m.v.PASSWORD_EXPIRY_TIME))||void 0===t?void 0:t.value,10)||30),Ne("true"===(null===(n=a(m.v.PASSWORD_EXPIRY_SKIP_IF_NO_APPLICABLE_RULES))||void 0===n?void 0:n.value));var i=null==He||null===(r=He.properties)||void 0===r?void 0:r.filter((function(e){var t;return null==e||null===(t=e.name)||void 0===t?void 0:t.startsWith(m.v.PASSWORD_EXPIRY_RULES_PREFIX)})).reduce((function(e,t){var n=st(t);return null!==n&&e.push(n),e}),[]).sort((function(e,t){return e.priority-t.priority}));Re(i),Ae(i)}}),[He]);var st=function(e){var t,n=ye(null==e||null===(t=e.value)||void 0===t?void 0:t.split(",")),r=n[0],a=n[1],i=n[2],o=n[3],l=n.slice(4);if(!(r&&a&&i&&o&&0!==l.length))return null;var s=parseInt(r,10),c=parseInt(a,10);return isNaN(s)||isNaN(c)?null:Object.values(G).includes(i)&&Object.values(k).includes(o)?{attribute:i,expiryDays:c,id:null==e?void 0:e.name,operator:o,priority:s,values:l}:null};(0,y.useEffect)((function(){!We||!He||w&&!Ke||!w&&!Ue&&(null==Ue?void 0:Ue.length)>0||dt()}),[We,Ke,He,Ue]),(0,y.useEffect)((function(){void 0!==Z&&(te(ge({},Z)),null!=Z&&Z.uniqueCharacterValidatorEnabled&&H(!0),null!=Z&&Z.consecutiveCharacterValidatorEnabled&&z(!0),ae(!1))}),[Z]),(0,y.useEffect)((function(){var e,t,n;if($e||qe||Qe)if(null!=$e&&null!==(e=$e.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description){var r,a;if(404===(null==$e||null===(r=$e.response)||void 0===r?void 0:r.status))return;C((0,h.V_)({description:null!==(a=$e.response.data.description)&&void 0!==a?a:R("validation:fetchValidationConfigData.error.description"),level:f.QU.ERROR,message:R("validation:fetchValidationConfigData.error.message")}))}else if(null!=qe&&null!==(t=qe.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description){var i,o;if(404===(null==qe||null===(i=qe.response)||void 0===i?void 0:i.status))return;C((0,h.V_)({description:null!==(o=$e.response.data.description)&&void 0!==o?o:R("validation:fetchValidationConfigData.error.description"),level:f.QU.ERROR,message:R("validation:fetchValidationConfigData.error.message")}))}else if(null!=Qe&&null!==(n=Qe.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.description){var l;if(404===(null==Qe||null===(l=Qe.response)||void 0===l?void 0:l.status))return;C((0,h.V_)({description:Qe.response.data.description,level:f.QU.ERROR,message:R("validation:fetchValidationConfigData.error.message")}))}else C((0,h.V_)({description:R("validation:fetchValidationConfigData.genericError.description"),level:f.QU.ERROR,message:R("validation:fetchValidationConfigData.genericError.message")}))}),[$e,qe,Qe]);var ct,ut,dt=function(){var e,t=null===s.KL||void 0===s.KL?void 0:s.KL.processInitialValues((0,v.P_)(Ke),We,le);(t=s.KL.processPasswordExpiryInitialValues(t,He,ue),w)||(t=Ue.reduce((function(e,t){var n=p.e.encodeConnectorPropertyName(t.name);return ge(ge({},e),{},Ee({},n,t.value))}),t),De("true"===(null===(e=t)||void 0===e?void 0:e[p.e.encodeConnectorPropertyName(m.v.PASSWORD_POLICY_ENABLE)])));W(t)},mt=function(){var e,t=(e=ve().mark((function e(){var t,n,r,a,i,o,l,s,c,u;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(!0),t=!1,!w){e.next=16;break}return e.prev=3,e.next=6,(0,_.Tf)([$.Pv.PASSWORD]);case 6:Je(),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(3),M(!1),t=!0,C((0,h.V_)({description:R("validation:revertValidationConfigData.error.description"),level:f.QU.ERROR,message:R("validation:revertValidationConfigData.error.message")}));case 14:e.next=29;break;case 16:return n={properties:[]},Ue.forEach((function(e){n.properties.push(e.name)})),e.prev=18,e.next=21,(0,d.Mo)(m.v.IDENTITY_GOVERNANCE_PASSWORD_POLICIES_ID,m.v.PASSWORD_POLICY_CONNECTOR_ID,n);case 21:pt(),e.next=29;break;case 24:e.prev=24,e.t1=e.catch(18),M(!1),t=!0,C((0,h.V_)({description:null!==(r=null===e.t1||void 0===e.t1||null===(a=e.t1.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.detail)&&void 0!==r?r:R("validation:revertValidationConfigData.error.description"),level:f.QU.ERROR,message:R("validation:revertValidationConfigData.error.message")}));case 29:return e.prev=29,l={properties:[]},s={properties:[]},null===(i=We.properties)||void 0===i||i.forEach((function(e){l.properties.push(e.name)})),null===(o=He.properties)||void 0===o||o.forEach((function(e){s.properties.push(e.name)})),e.next=36,(0,d.Mo)(m.v.IDENTITY_GOVERNANCE_PASSWORD_POLICIES_ID,m.v.PASSWORD_HISTORY_CONNECTOR_ID,l);case 36:return e.next=38,(0,d.Mo)(m.v.IDENTITY_GOVERNANCE_PASSWORD_POLICIES_ID,m.v.PASSWORD_EXPIRY_CONNECTOR_ID,s);case 38:Xe(),Be(),M(!1),t||C((0,h.V_)({description:R("validation:revertValidationConfigData.success.description"),level:f.QU.SUCCESS,message:R("validation:revertValidationConfigData.success.message")})),e.next=48;break;case 44:e.prev=44,e.t2=e.catch(29),M(!1),C((0,h.V_)({description:null!==(c=null===e.t2||void 0===e.t2||null===(u=e.t2.response)||void 0===u||null===(u=u.data)||void 0===u?void 0:u.detail)&&void 0!==c?c:R("validation:revertValidationConfigData.error.description"),level:f.QU.ERROR,message:R("validation:revertValidationConfigData.error.message")}));case 48:case"end":return e.stop()}}),e,null,[[3,9],[18,24],[29,44]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){fe(i,r,a,o,l,"next",e)}function l(e){fe(i,r,a,o,l,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),pt=function(){(0,d.PP)(m.v.IDENTITY_GOVERNANCE_PASSWORD_POLICIES_ID,m.v.PASSWORD_POLICY_CONNECTOR_ID).then((function(e){Me(null==e?void 0:e.properties)})).catch((function(e){e.response&&e.response.data&&e.response.data.detail?C((0,h.V_)({description:R("governanceConnectors:notifications.getConnector.error.description",{description:e.response.data.description}),level:f.QU.ERROR,message:R("governanceConnectors:notifications.getConnector.error.message")})):C((0,h.V_)({description:R("governanceConnectors:notifications.getConnector.genericError.description"),level:f.QU.ERROR,message:R("governanceConnectors:notifications.getConnector.genericError.message")}))}))},vt=function(e){if(!we){var t,n,r=ge(ge({},e),{},{passwordExpiryEnabled:ce});Ge||(r.passwordExpiryRules=(t={},n=new Set,null==Le||Le.forEach((function(e){var r;if(e){var a="".concat(m.v.PASSWORD_EXPIRY_RULES_PREFIX).concat(null==e?void 0:e.priority);t[a]="".concat(e.priority,",").concat(e.expiryDays,",").concat(e.attribute,",").concat(e.operator,",").concat(null===(r=e.values)||void 0===r?void 0:r.join(",")),n.add(a)}})),null==_e||_e.forEach((function(e){n.has(null==e?void 0:e.id)||(t[null==e?void 0:e.id]="")})),t),r.passwordExpirySkipFallback=Oe,r.passwordExpiryTime=me),e.uniqueCharacterValidatorEnabled&&"0"===e.minUniqueCharacters&&(r.minUniqueCharacters="1"),e.consecutiveCharacterValidatorEnabled&&"0"===e.maxConsecutiveCharacters&&(r.maxConsecutiveCharacters="1"),function(e){var t=!1,n="";return q&&(Number(e.minLength)<$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE?(t=!0,n=R("validation:validationError.minLimitError")):Number(e.maxLength)>V?(t=!0,n=R("validation:validationError.maxLimitError",{maxPasswordValue:V})):Number(e.minLength)>Number(e.maxLength)?(t=!0,n=R("validation:validationError.minMaxMismatch")):e.uniqueCharacterValidatorEnabled&&Number(e.minUniqueCharacters)>Number(e.minLength)?(t=!0,n=R("validation:validationError.uniqueChrMismatch")):e.consecutiveCharacterValidatorEnabled&&Number(e.maxConsecutiveCharacters)>Number(e.minLength)?(t=!0,n=R("validation:validationError.consecutiveChrMismatch")):Number(e.minLowerCaseCharacters)+Number(e.minUpperCaseCharacters)+Number(e.minSpecialCharacters)+Number(e.minNumbers)>Number(e.minLength)&&(t=!0,n=R("validation:validationError.invalidConfig"))),!t||(C((0,h.V_)({description:n,level:f.QU.ERROR,message:R("validation:validationError.wrongCombination")})),!1)}(r)&&(M(!0),s.KL.processPasswordPoliciesSubmitData(r,!w).then((function(){if(w)return(0,_.sM)(r,null,Ke[0])})).then((function(){Xe(),Be(),w?Je():pt(),C((0,h.V_)({description:R("validation:notifications.success.description"),level:f.QU.SUCCESS,message:R("validation:notifications.success.message")}))})).catch((function(e){var t,n,r,a,i,o,l;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?C((0,h.V_)({description:null!==(n=null!==(r=null==e||null===(a=e.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.description)&&void 0!==r?r:null==e||null===(i=e.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.detail)&&void 0!==n?n:R("validation:notifications.error.description"),level:f.QU.ERROR,message:null!==(o=null==e||null===(l=e.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.message)&&void 0!==o?o:R("validation:notifications.error.message")})):C((0,h.V_)({description:R("validation:notifications.genericError.description"),level:f.QU.ERROR,message:R("validation:notifications.genericError.message")}))})).finally((function(){M(!1)})))}};return y.createElement(E.Xg,{pageTitle:R("validation:pageTitle"),title:y.createElement(y.Fragment,null,R("validation:pageTitle")),description:y.createElement(y.Fragment,null,R("validation:description"),y.createElement(E.eb,{link:T("manage.validation.passwordValidation.learnMore")},R("common:learnMore"))),"data-componentid":"".concat(A,"-page-layout"),backButton:{"data-testid":"".concat(A,"-page-back-button"),onClick:function(){l.m.push(o.$.getPaths().get("LOGIN_AND_REGISTRATION"))},text:R("governanceConnectors:goBackLoginAndRegistration")},bottomMargin:!1,contentTopMargin:!0,pageHeaderMaxWidth:!0,className:"password-validation-form"},y.createElement(b.R,{innerRef:L},y.createElement(r.Z,{container:!0,spacing:2,direction:"column"},y.createElement(r.Z,{xs:12},y.createElement(E.pJ,{className:"form-wrapper",padded:"very"},y.createElement("div",{className:"validation-configurations password-validation-configurations"},re||!Ge&&(ot||rt)?y.createElement(E.pO,null):y.createElement(g.l0,{id:Se,initialValues:Z,uncontrolledForm:!0,validate:null,onSubmit:function(e){return vt(e)},enableReInitialize:!0},q&&y.createElement("div",{className:"validation-configurations-form"},Ge?s.KL.passwordExpiryComponent(A,ce,ue,R,je):y.createElement(y.Fragment,null,y.createElement(r.Z,{container:!0,spacing:2,direction:"row",alignContent:"stretch"},y.createElement(r.Z,{alignContent:"center"},y.createElement(E.X6,{as:"h4"},R("validation:passwordExpiry.heading"))),y.createElement(r.Z,{alignContent:"center"},y.createElement(a.Z,{checked:ce,disabled:je,"data-componentid":"".concat(A,"-password-expiry-toggle"),onChange:function(){return ue(!ce)}}))),y.createElement(N.Z,{hidden:!0}),y.createElement(K,{componentId:"".concat(A,"-password-expiry-rules"),isPasswordExpiryEnabled:ce,isSkipFallbackEnabled:Oe,defaultPasswordExpiryTime:me,ruleList:null!=Le?Le:[],rolesList:null!==(ct=null==it?void 0:it.Resources)&&void 0!==ct?ct:[],groupsList:null!==(ut=null==tt?void 0:tt.Resources)&&void 0!==ut?ut:[],isReadOnly:je,onDefaultPasswordExpiryTimeChange:function(e){return pe(e)},onSkipFallbackChange:function(e){return Ne(e)},onRuleChange:function(e){return Re(e)},onRuleError:function(e){return Pe(e)}})),y.createElement(N.Z,{className:"heading-divider"}),s.KL.passwordHistoryCountComponent(A,oe,le,R,je)),w?y.createElement("div",{className:"validation-configurations-form"},y.createElement(N.Z,{className:"heading-divider"}),y.createElement(E.X6,{as:"h4"},R("extensions:manage.serverConfigurations.passwordValidation.heading")),y.createElement("div",{className:"criteria"},y.createElement("label",null,"Must be between"),y.createElement(g.gN.Input,{ariaLabel:"minLength",inputType:"number",name:"minLength",validation:function(e,t){var n=parseInt(e),r=$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;if(n<r)return R("common:minValidation",{min:r});var a=t.maxLength?parseInt(t.maxLength):V;return n>a?R("common:maxValidation",{max:a}):void 0},min:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:ee.maxLength?ee.maxLength:V,width:2,required:!0,hidden:!1,placeholder:"min",maxLength:D,minLength:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,listen:function(e){te(ge(ge({},ee),{},{minLength:e}))},readOnly:je,disabled:!1,"data-testid":"".concat(A,"-min-length")}),y.createElement("label",null,"and"),y.createElement(g.gN.Input,{ariaLabel:"maxLength",inputType:"number",name:"maxLength",validation:function(e,t){var n=parseInt(e),r=t.minLength?parseInt(t.minLength):$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;return n<r?R("common:minValidation",{min:r}):n>V?R("common:maxValidation",{max:V}):void 0},min:ee.minLength?ee.minLength:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:V,width:2,required:!0,hidden:!1,placeholder:"max",listen:function(e){te(ge(ge({},ee),{},{maxLength:e}))},maxLength:D,labelPosition:"top",minLength:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:je,disabled:!1,"data-testid":"".concat(A,"-max-length")}),y.createElement("label",null,"characters")),y.createElement("label",{className:"labelName"},"Must contain at least"),y.createElement("div",{className:"criteria rule mt-3"},y.createElement(g.gN.Input,{ariaLabel:"minNumbers",inputType:"number",name:"minNumbers",validation:function(e,t){var n=parseInt(e),r=$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(n<r)return R("common:minValidation",{min:r});var a=t.minLength?parseInt(t.minLength):V;return n>a?R("common:maxValidation",{max:a}):void 0},min:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:ee.minLength?ee.minLength:V,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){te(ge(ge({},ee),{},{minNumbers:e}))},maxLength:D,minLength:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,readOnly:je,disabled:!1,"data-componentid":"".concat(A,"-min-numbers")}),y.createElement("label",null,"numbers (0-9).")),y.createElement("div",{className:"criteria rule"},y.createElement(g.gN.Input,{ariaLabel:"minUpperCaseCharacters",inputType:"number",name:"minUpperCaseCharacters",validation:function(e,t){var n=parseInt(e),r=$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(n<r)return R("common:minValidation",{min:r});var a=t.minLength?parseInt(t.minLength):V;return n>a?R("common:maxValidation",{max:a}):void 0},min:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:ee.minLength?ee.minLength:V,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){te(ge(ge({},ee),{},{minUpperCaseCharacters:e}))},maxLength:D,minLength:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,readOnly:je,disabled:!1,"data-testid":"".concat(A,"-min-upper-case-characters")}),y.createElement("label",null,"upper-case characters (A-Z).")),y.createElement("div",{className:"criteria rule"},y.createElement(g.gN.Input,{ariaLabel:"minLowerCaseCharacters",inputType:"number",name:"minLowerCaseCharacters",validation:function(e,t){var n=parseInt(e),r=$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(n<r)return R("common:minValidation",{min:r});var a=t.minLength?parseInt(t.minLength):V;return n>a?R("common:maxValidation",{max:a}):void 0},min:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:ee.minLength?ee.minLength:V,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){te(ge(ge({},ee),{},{minLowerCaseCharacters:e}))},maxLength:D,minLength:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,readOnly:je,disabled:!1,"data-testid":"".concat(A,"-min-lower-case-characters")}),y.createElement("label",null,"lower-case characters (a-z).")),y.createElement("div",{className:"criteria rule"},y.createElement(g.gN.Input,{ariaLabel:"minSpecialCharacters",inputType:"number",name:"minSpecialCharacters",validation:function(e,t){var n=parseInt(e),r=$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(n<r)return R("common:minValidation",{min:r});var a=t.minLength?parseInt(t.minLength):V;return n>a?R("common:maxValidation",{max:a}):void 0},min:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:ee.minLength?ee.minLength:V,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){te(ge(ge({},ee),{},{minSpecialCharacters:e}))},maxLength:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,minLength:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:je,disabled:!1,"data-testid":"".concat(A,"-min-special-characters")}),y.createElement("label",null,"special characters (!@#$%^&*).")),y.createElement("div",{className:"criteria"},y.createElement(g.gN.Checkbox,{ariaLabel:"uniqueCharacterValidatorEnabled",name:"uniqueCharacterValidatorEnabled",required:!1,label:"Must contain at least",listen:function(e){H(e)},width:16,"data-testid":"".concat(A,"-unique-chr-enable"),readOnly:je}),y.createElement(g.gN.Input,{ariaLabel:"minUniqueCharacters",inputType:"number",name:"minUniqueCharacters",validation:function(e,t){var n=parseInt(e);if(n<1)return R("common:minValidation",{min:1});var r=t.minLength?parseInt(t.minLength):V;return n>r?R("common:maxValidation",{max:r}):void 0},min:1,max:ee.minLength?ee.minLength:V,width:2,required:!0,hidden:!1,placeholder:"min",value:Number(Z.minUniqueCharacters)>0?Z.minUniqueCharacters:1,listen:function(e){te(ge(ge({},ee),{},{minUniqueCharacters:e}))},maxLength:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,minLength:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:je,disabled:!Y,"data-testid":"".concat(A,"-min-unique-chr")}),y.createElement("label",null,"unique characters.")),y.createElement("div",{className:"criteria"},y.createElement(g.gN.Checkbox,{ariaLabel:"consecutiveCharacterValidatorEnabled",name:"consecutiveCharacterValidatorEnabled",label:"Must not contain more than",required:!1,disabled:!1,listen:function(e){z(e)},width:16,"data-testid":"".concat(A,"-consecutive-chr-enable"),readOnly:je}),y.createElement(g.gN.Input,{ariaLabel:"maxConsecutiveCharacters",inputType:"number",name:"maxConsecutiveCharacters",validation:function(e,t){var n=parseInt(e);if(n<1)return R("common:minValidation",{min:1});var r=t.minLength?parseInt(t.minLength):V;return n>r?R("common:maxValidation",{max:r}):void 0},min:1,max:ee.minLength?ee.minLength:V,width:2,required:!0,hidden:!1,placeholder:"max",value:Number(Z.maxConsecutiveCharacters)>0?Z.maxConsecutiveCharacters:1,listen:function(e){te(ge(ge({},ee),{},{maxConsecutiveCharacters:e}))},maxLength:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,minLength:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:je,disabled:!B,"data-testid":"".concat(A,"-max-consecutive-chr")}),y.createElement("label",null,"repeated characters."))):y.createElement("div",{className:"validation-configurations-form"},y.createElement(N.Z,{className:"heading-divider"}),y.createElement(E.X6,{as:"h4"},R("extensions:manage.serverConfigurations.passwordValidation.heading")),y.createElement(g.gN.Checkbox,{className:"toggle mb-4",ariaLabel:"passwordPolicy.enable",name:p.e.encodeConnectorPropertyName("passwordPolicy.enable"),required:!1,checked:Ve,label:p.e.resolveFieldLabel("Password Policies","passwordPolicy.enable","Validate passwords based on a policy pattern"),width:16,"data-componentid":"".concat(A,"-enable-password-policy"),listen:function(e){return De(e)},readOnly:je}),y.createElement("div",{className:"validation-configurations-form mt-3 mb-3"},y.createElement("div",{className:"criteria"},y.createElement("label",null,"Must be between"),y.createElement(g.gN.Input,{ariaLabel:"Minimum length of the password",inputType:"number",name:p.e.encodeConnectorPropertyName("passwordPolicy.min.length"),validation:function(e,t){var n=parseInt(e),r=$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;if(n<r)return R("common:minValidation",{min:r});var a=t.maxLength?parseInt(t.maxLength):V;return n>a?R("common:maxValidation",{max:a}):void 0},min:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:ee.maxLength?ee.maxLength:V,listen:function(e){te(ge(ge({},ee),{},Ee({},p.e.encodeConnectorPropertyName("passwordPolicy.min.length"),e)))},width:2,required:!0,hidden:!1,placeholder:"min",maxLength:D,minLength:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:je,disabled:!Ve,"data-testid":"".concat(A,"-min-length")}),y.createElement("label",null,"and"),y.createElement(g.gN.Input,{ariaLabel:"Maximum length of the password",inputType:"number",name:p.e.encodeConnectorPropertyName("passwordPolicy.max.length"),validation:function(e,t){var n=parseInt(e),r=t.minLength?parseInt(t.minLength):$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;return n<r?R("common:minValidation",{min:r}):n>V?R("common:maxValidation",{max:V}):void 0},min:ee.minLength?ee.minLength:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:V,width:2,required:!0,hidden:!1,placeholder:"max",listen:function(e){te(ge(ge({},ee),{},Ee({},p.e.encodeConnectorPropertyName("passwordPolicy.max.length"),e)))},maxLength:D,labelPosition:"top",minLength:$.Ps.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:je,disabled:!Ve,"data-testid":"".concat(A,"-max-length")}),y.createElement("label",null,"characters"))),y.createElement(g.gN.Input,{ariaLabel:"passwordPolicy.pattern",inputType:"text",name:p.e.encodeConnectorPropertyName("passwordPolicy.pattern"),type:"text",width:12,required:!0,placeholder:R("extensions:manage.serverConfigurations.passwordValidation.passwordValidationRegexPlaceholder"),labelPosition:"top",minLength:3,maxLength:255,readOnly:je,listen:function(e){te(ge(ge({},ee),{},Ee({},p.e.encodeConnectorPropertyName("passwordPolicy.pattern"),e)))},"data-componentid":"".concat(A,"-password-pattern-regex"),label:p.e.resolveFieldLabel("Password Validation","passwordPolicy.pattern",R("extensions:manage.serverConfigurations.passwordValidation.passwordValidationRegexLabel")),disabled:!Ve}),y.createElement(E.kW,{className:"mb-4"},p.e.resolveFieldHint("Password Validation","passwordPolicy.pattern",R("extensions:manage.serverConfigurations.passwordValidation.passwordValidationRegexHint"))),y.createElement(g.gN.Input,{ariaLabel:"passwordPolicy.errorMsg",inputType:"text",name:p.e.encodeConnectorPropertyName("passwordPolicy.errorMsg"),type:"text",width:12,required:!0,placeholder:R("extensions:manage.serverConfigurations.passwordValidation.passwordValidationErrorPlaceholder"),labelPosition:"top",minLength:3,maxLength:255,readOnly:je,listen:function(e){te(ge(ge({},ee),{},Ee({},p.e.encodeConnectorPropertyName("passwordPolicy.errorMsg"),e)))},"data-componentid":"".concat(A,"-password-policy-error-msg"),label:p.e.resolveFieldLabel("Password Validation","passwordPolicy.errorMsg",R("extensions:manage.serverConfigurations.passwordValidation.passwordValidationErrorLabel")),disabled:!Ve}),y.createElement(E.kW,null,p.e.resolveFieldHint("Password Validation","passwordPolicy.errorMsg",R("extensions:manage.serverConfigurations.passwordValidation.passwordValidationErrorHint")))),y.createElement(g.gN.Button,{form:Se,size:"small",buttonType:"primary_btn",ariaLabel:"Validation configuration update button",name:"update-button","data-testid":"".concat(A,"-submit-button"),loading:U,label:R("common:update"),hidden:je}))))),y.createElement(r.Z,{xs:12},y.createElement(E.v9,{sectionHeader:R("common:dangerZone")},y.createElement(E.cN,{actionTitle:R("governanceConnectors:dangerZone.actionTitle"),header:R("governanceConnectors:dangerZone.heading"),subheader:R("governanceConnectors:dangerZone.subHeading"),onActionClick:function(){return mt()},"data-testid":"".concat(A,"-danger-zone")}))))))};Ae.defaultProps={"data-componentid":"validation-config-edit-page"};const Ce=Ae},70988:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(92336),a=n(31549),i=n(69673),o=n(14517),l=n(44194),s=n(78801);const c=(0,l.forwardRef)(((e,t)=>{var{className:n,InputLabelProps:l={disableAnimation:!0,focused:!1,shrink:!1},label:c,name:u,required:d}=e,m=(0,r.__rest)(e,["className","InputLabelProps","label","name","required"]);const p=Object.assign({disableAnimation:!0,focused:!1,required:d,shrink:!1},l);return(0,a.jsxs)(a.Fragment,{children:[c&&(0,a.jsx)(s.Z,Object.assign({id:u,htmlFor:u},p,{className:(0,o.Z)("oxygen-select-static-label",null==l?void 0:l.className)},{children:c})),(0,a.jsx)(i.Z,Object.assign({ref:t,labelId:u,className:(0,o.Z)("oxygen-select","OxygenSelect-root",n)},m))]})}));var u,d,m;u='/**\n * Copyright (c) 2023, WSO2 LLC. (https://www.wso2.com).\n *\n * WSO2 LLC. licenses this file to you under the Apache License,\n * Version 2.0 (the "License"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.oxygen-select-static-label {\n  margin-top: -40px;\n  margin-left: -14px;\n}',d=document.getElementsByTagName("head")[0],(m=document.createElement("style")).setAttribute("type","text/css"),m.appendChild(document.createTextNode(u)),d.appendChild(m)},48311:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(81611),a=n.n(r),i=n(83948),o=n.n(i)()(a());o.push([e.id,".password-validation-form .info-box{margin-top:20px;margin-bottom:20px}.password-validation-form .form-container.with-max-width{max-width:none}.password-validation-form .add-rule-btn{margin-bottom:10px}.password-validation-form .heading-divider{margin-top:1.5rem !important;margin-bottom:2rem !important}.MuiPaper-root.MuiMenu-paper{max-height:250px;max-width:350px;overflow:auto}.password-expiry-rule-select{height:100%}.password-expiry-rule-input{padding-top:15px !important;padding-bottom:15px !important}",""]);const l=o}}]);