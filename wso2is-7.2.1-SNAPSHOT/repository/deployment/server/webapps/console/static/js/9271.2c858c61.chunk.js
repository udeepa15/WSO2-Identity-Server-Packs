"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[9271],{79271:(e,t,r)=>{r.d(t,{v:()=>E,Z:()=>ce});var n=r(13550),o=r(90302),i=r(40838),a=r(6833),s=r(82406),c=r(20494),l=r(44194),u=r(10479),d=r(47245),p=r(12638),f=r(37077),m=r(26154),h=r(43151),y=r(38722),v=r(40578);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var E=function(e){var t=e.apiResourcesList,r=e.categoryId,b=e.featureConfig,E=e.isAPIResourcesListLoading,w=e.onAPIResourceDelete,R=e.onListItemClick,S=e.onSearchQueryClear,A=e.searchQuery,x=e.showListItemActions,P=e.onEmptyListPlaceholderActionClicked,I=e["data-componentid"],L=(0,u.$)().t,O=(0,d.I0)(),T=(0,y.Z)(),N=T.addNewResourceButtonText,k=T.resourceEditPath,C=T.resourceServerEmptyListSubtitle,j=T.resourceServerTypeDisplayName,z=g((0,l.useState)(!1),2),Z=z[0],_=z[1],V=g((0,l.useState)(!1),2),M=V[0],F=V[1],D=g((0,l.useState)(void 0),2),H=D[0],U=D[1],B=(0,d.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),G=function(){return A&&t&&0===t.length?l.createElement(c.$J,{action:l.createElement(c.Qj,{onClick:S},L("console:develop.placeholders.emptySearchResult.action")),image:(0,n.jF)().emptySearch,imageSize:"tiny",title:L("console:develop.placeholders.emptySearchResult.title"),subtitle:[L("console:develop.placeholders.emptySearchResult.subtitles.0",{query:A}),L("console:develop.placeholders.emptySearchResult.subtitles.1")],"data-testid":"".concat(I,"-empty-search-placeholder-icon")}):!t||t&&0===t.length?l.createElement(c.$J,{image:(0,n.jF)().emptyList,imageSize:"tiny",subtitle:C,"data-testid":"".concat(I,"-empty-search-placeholder-icon"),action:v.H.isAPIResourceCreateAllowed(b,B)&&P?l.createElement(c.KM,{onClick:function(){return P()},"data-testid":"".concat(I,"-add-api-resources-button")},l.createElement(m.Z,{name:"add"}),N):null}):null},$=function(e,t){i.m.push(k.replace(":categoryId",r).replace(":id",e.id)),R&&R(t,e)};return l.createElement(l.Fragment,null,l.createElement(c.wQ,{className:"api-resources-table",loadingStateOptions:{count:o.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"},showHeader:!1,"data-componentid":I,"data-testid":I,columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){var t,r=e?e.name:"";return t=r&&""!==r?r:"",l.createElement(p.Z,{as:"h6",className:"header-with-icon","data-testid":"".concat(I,"-item-heading")},l.createElement(c.JT,{image:l.createElement(c.Xo,{name:t,size:"mini","data-testid":"".concat(I,"-item-display-name-avatar")}),size:"mini",spaced:"right","data-testid":"".concat(I,"-item-display-name")}),l.createElement(p.Z.Content,null,t,l.createElement(p.Z.Subheader,null,v.H.checkIfAPIResourcePropertyManaged(e.properties)&&l.createElement(f.Z,{size:"mini",className:"choreo-label ml-0"},L("extensions:develop.apiResource.managedByChoreoText")))))},title:L("extensions:develop.apiResource.table.name.column")},{allowToggleVisibility:!1,dataIndex:"identifier",id:"identifier",key:"identifier",render:function(e){var t=e?e.identifier:"",r="";return t&&""!==t&&(r=t),l.createElement(p.Z,{as:"h6","data-testid":"".concat(I,"-col-2-item-heading")},l.createElement(p.Z.Content,null,l.createElement(p.Z.Subheader,{"data-testid":"".concat(I,"-col-2-item-sub-heading")},r,r&&l.createElement(f.Z,{pointing:"left",size:"mini",className:"client-id-label"},L("extensions:develop.apiResource.table.identifier.label")))))},title:L("extensions:develop.apiResource.table.identifier.column")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:L("extensions:develop.apiResource.table.actions.column")}],placeholders:G(),actions:function(){if(x)return[{"data-componentid":"".concat(I,"-item-edit-button"),hidden:function(){var e=!v.H.isAPIResourceReadAllowed(b,B),t=!v.H.isAPIResourceUpdateAllowed(b,B);return e&&t},icon:function(e){var t=v.H.isAPIResourceUpdateAllowed(b,B);return!v.H.isSystemAPI(null==e?void 0:e.type)&&t?"pencil alternate":"eye"},onClick:function(e,t){$(t,e)},popupText:function(e){var t=v.H.isAPIResourceUpdateAllowed(b,B),r=v.H.isSystemAPI(null==e?void 0:e.type);return L(!r&&t?"common:edit":"common:view")},renderer:"semantic-icon"},{"data-componentid":"".concat(I,"-item-delete-button"),hidden:function(e){var t=!v.H.isAPIResourceDeleteAllowed(b,B),r=v.H.isSystemAPI(null==e?void 0:e.type);return t||r},icon:function(){return"trash alternate"},onClick:function(e,t){F(!0),U(t)},popupText:function(){return L("common:delete")},renderer:"semantic-icon"}]}(),data:t,transparent:E||null!==G(),isLoading:E,onRowClick:function(e,t){$(t,e)}}),H&&l.createElement(c.cV,{primaryActionLoading:Z,onClose:function(){return F(!1)},type:"negative",open:M,assertionHint:L("extensions:develop.apiResource.confirmations.deleteAPIResource.assertionHint"),assertionType:"checkbox",primaryAction:L("common:confirm"),secondaryAction:L("common:cancel"),onSecondaryActionClick:function(){F(!1)},onPrimaryActionClick:function(){return e=H.id,_(!0),void(0,h.PF)(e).then((function(){O((0,s.V_)({description:L("extensions:develop.apiResource.notifications.deleteAPIResource.success.description",{resourceType:j}),level:a.QU.SUCCESS,message:L("extensions:develop.apiResource.notifications.deleteAPIResource.success.message",{resourceType:j})})),F(!1),w&&w()})).catch((function(){O((0,s.V_)({description:L("extensions:develop.apiResource.notifications.deleteAPIResource.genericError.description",{resourceType:j}),level:a.QU.ERROR,message:L("extensions:develop.apiResource.notifications.deleteAPIResource.genericError.message")}))})).finally((function(){_(!1),U(void 0)}));var e},"data-testid":"".concat(I,"-delete-confirmation-modal"),closeOnDimmerClick:!1},l.createElement(c.cV.Header,{"data-testid":"".concat(I,"-delete-confirmation-modal-header")},L("extensions:develop.apiResource.confirmations.deleteAPIResource.header")),l.createElement(c.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(I,"-delete-confirmation-modal-message")},L("extensions:develop.apiResource.confirmations.deleteAPIResource.message",{resourceType:j})),l.createElement(c.cV.Content,{"data-testid":"".concat(I,"-delete-confirmation-modal-content")},L("extensions:develop.apiResource.confirmations.deleteAPIResource.content",{resourceType:j}))))};E.defaultProps={"data-componentid":"api-resources",showListItemActions:!0};var w=r(79438),R=function(e){var t=e.apiResourceData,r=e.isAPIResourceDataLoading,n=e["data-componentid"],o=(0,u.$)().t,i=(0,c.fQ)().getLink;return r?l.createElement(c.pO,{dimmer:!0}):l.createElement(l.Fragment,null,l.createElement(c.pJ,{padded:"very"},l.createElement(w.l0,{"data-componentid":"".concat(n,"-form"),onSubmit:function(){return null},id:"".concat(n,"-form"),uncontrolledForm:!1},l.createElement(w.gN.Checkbox,{ariaLabel:"authorization",name:"authorization",label:o("extensions:develop.apiResource.tabs.authorization.form.fields.authorize.label"),hint:l.createElement(l.Fragment,null,o("extensions:develop.apiResource.tabs.authorization.form.fields.authorize.hint"),l.createElement(c.eb,{link:i("develop.apiResources.addAPIResource.requiredAuthorization.learnMore")},o("common:learnMore"))),width:16,defaultValue:t.requiresAuthorization,readOnly:!0,"data-componentid":"".concat(n,"-authorize")}))))};R.defaultProps={"data-componentid":"authorization-api-resource"};var S=r(55007),A=r(62508),x=r(10049),P=r(83646);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var O="apiResource-general-details",T=function(e){var t,r=e.isReadOnly,n=e.isSubmitting,o=e.handleUpdateAPIResource,p=e.apiResourceData,f=e.isAPIResourceDataLoading,m=e["data-componentid"],h=(0,u.$)().t,v=(0,d.I0)(),g=(0,y.Z)(),b=g.deleteResourceWizardContent,E=g.resourceServerTypeDisplayName,R=(0,d.v9)((function(e){return e.config.ui.features})),L=I((0,l.useState)(!0),2),T=L[0],N=L[1],k=I((0,l.useState)(!1),2),C=k[0],j=k[1],z=I((0,l.useState)(!1),2),Z=z[0],_=z[1],V=I((0,l.useState)(void 0),2),M=V[0],F=V[1];return f?l.createElement(c.pO,{dimmer:!0}):l.createElement(l.Fragment,null,l.createElement(c.pJ,{padded:"very"},l.createElement(w.l0,{"data-testid":"".concat(m,"-form"),onSubmit:function(e){var t;o({name:null===(t=e.displayName)||void 0===t?void 0:t.toString().trim()})},id:O,validate:function(e){var t,r={displayName:void 0};return null!==(t=e.displayName)&&void 0!==t&&t.toString().trim()?N(!1):(r.displayName=h("extensions:develop.apiResource.tabs.general.form.fields.name.emptyValidate"),N(!0)),r},uncontrolledForm:!1},p.name&&l.createElement(w.gN.Input,{ariaLabel:"Site title input field",inputType:"name",name:"displayName",label:h("extensions:develop.apiResource.tabs.general.form.fields.name.label"),placeholder:h("extensions:develop.apiResource.tabs.general.form.fields.name.placeholder"),readOnly:r,required:!0,initialValue:p.name,maxLength:100,minLength:0,width:16,"data-componentid":"".concat(m,"-general-form-displayName")}),p.identifier&&l.createElement(w.gN.Input,{ariaLabel:"Site title input field",inputType:"url",name:"identifier",label:h("extensions:develop.apiResource.tabs.general.form.fields.identifier.label"),readOnly:!0,required:!0,maxLength:100,minLength:0,width:16,"data-componentid":"".concat(m,"-general-form-identifier")},l.createElement(c.OR,{value:p.identifier})),l.createElement(w.gN.Button,{form:O,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button",hidden:r,disabled:n||T,loading:n,"data-componentid":"".concat(m,"-submit-button"),label:h("extensions:develop.apiResource.tabs.general.form.updateButton")}))),l.createElement(A.Z,{hidden:!0}),l.createElement(l.Fragment,null,!r&&l.createElement(S.di,{when:null==R||null===(t=R.apiResources)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.delete},l.createElement(c.v9,{sectionHeader:h("extensions:develop.apiResource.tabs.general.dangerZoneGroup.header")},l.createElement(c.cN,{"data-testid":"".concat(m,"-danger-zone"),actionTitle:null==b?void 0:b.buttonText,header:null==b?void 0:b.heading,subheader:null==b?void 0:b.subHeading,onActionClick:function(){_(!0),F(p)},isButtonDisabled:!1})))),M&&l.createElement(c.cV,{primaryActionLoading:C,onClose:function(){return _(!1)},type:"negative",open:Z,assertionHint:h("extensions:develop.apiResource.confirmations.deleteAPIResource.assertionHint"),assertionType:"checkbox",primaryAction:h("common:confirm"),secondaryAction:h("common:cancel"),onSecondaryActionClick:function(){_(!1)},onPrimaryActionClick:function(){return e=M.id,j(!0),void(0,x.PF)(e).then((function(){v((0,s.V_)({description:h("extensions:develop.apiResource.notifications.deleteAPIResource.success.description",{resourceType:E}),level:a.QU.SUCCESS,message:h("extensions:develop.apiResource.notifications.deleteAPIResource.success.message",{resourceType:E})})),_(!1),i.m.push(P.KG.getPaths().get("API_RESOURCES"))})).catch((function(){v((0,s.V_)({description:h("extensions:develop.apiResource.notifications.deleteAPIResource.genericError.description",{resourceType:E}),level:a.QU.ERROR,message:h("extensions:develop.apiResource.notifications.deleteAPIResource.genericError.message")}))})).finally((function(){j(!1),F(void 0)}));var e},"data-testid":"".concat(m,"-delete-confirmation-modal"),closeOnDimmerClick:!1},l.createElement(c.cV.Header,{"data-testid":"".concat(m,"-delete-confirmation-modal-header")},h("extensions:develop.apiResource.confirmations.deleteAPIResource.header")),l.createElement(c.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(m,"-delete-confirmation-modal-message")},h("extensions:develop.apiResource.confirmations.deleteAPIResource.message",{resourceType:E})),l.createElement(c.cV.Content,{"data-testid":"".concat(m,"-delete-confirmation-modal-content")},h("extensions:develop.apiResource.confirmations.deleteAPIResource.content",{resourceType:E}))))};T.defaultProps={"data-componentid":"general-api-resource"};var N=r(65612),k=r(96334),C=r(12950),j=r(16590),z=r(51835),Z=r.n(z),_=r(27975),V=r.n(_),M=r(55900),F=r.n(M),D=r(21555),H=r.n(D),U=r(3621),B=r.n(U),G=r(5062),$=r.n(G),q=r(64814),W={};W.styleTagTransform=$(),W.setAttributes=H(),W.insert=F().bind(null,"head"),W.domAPI=V(),W.insertStyleElement=B();Z()(q.Z,W);q.Z&&q.Z.locals&&q.Z.locals;function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function K(){K=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new T(n||[]);return o(a,"_invoke",{value:P(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",m="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};l(E,a,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(N([])));R&&R!==r&&n.call(R,a)&&(E=R);var S=b.prototype=v.prototype=Object.create(E);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Q(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,r,n){var o=p;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=I(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?h:f,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=h,n.method="throw",n.arg=l.arg)}}}function I(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Q(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},A(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function J(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ee=function(e){var t=e.permissionList,r=e.serachedPermissionList,o=e.isAPIResourceDataLoading,i=e.isSubmitting,a=e.isReadOnly,s=e.clearSearchPermission,d=e.setRemovePermission,h=e.setTriggerAddAPIResourcePermissionModal,y=e["data-componentid"],v=(0,u.$)().t,g=X((0,l.useState)(void 0),2),b=g[0],E=g[1],w=function(e){d(e)},R=function(){var e,t=(e=K().mark((function e(t,r){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,j.CommonUtils.copyTextToClipboard(r.name);case 3:E(r);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){J(i,n,o,a,s,"next",e)}function s(e){J(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}();return l.createElement(c.wQ,{className:"oidc-scopes-table",columnCount:3,isLoading:o||i,loadingStateOptions:{count:10,imageType:"square"},onRowClick:R,showHeader:!1,placeholders:0===(null==t?void 0:t.length)?l.createElement(c.$J,{subtitle:[v("apiResources:tabs.scopes.empty.subTitle")],title:v("apiResources:tabs.scopes.empty.title"),image:(0,n.jF)().emptyList,action:l.createElement(c.KM,{"data-componentid":"".concat(y,"-add-permission-button"),onClick:h},l.createElement(m.Z,{name:"add"}),v("apiResources:tabs.scopes.button")),imageSize:"tiny"}):0===(null==r?void 0:r.length)?l.createElement(c.$J,{subtitle:[v("apiResources:tabs.scopes.emptySearch.subTitle.0"),v("apiResources:tabs.scopes.emptySearch.subTitle.1")],title:v("apiResources:tabs.scopes.emptySearch.title"),image:(0,n.jF)().emptySearch,action:l.createElement(c.Qj,{onClick:s},v("apiResources:tabs.scopes.emptySearch.viewAll")),imageSize:"tiny"}):null,transparent:0===(null==t?void 0:t.length)||0===(null==r?void 0:r.length),"data-testid":y,actions:[{"data-componentid":"".concat(y,"-item-copy-button"),icon:function(){return"copy"},onClick:function(e,t){R(e,t)},popupText:function(e){return(null==b?void 0:b.name)===e.name?v("apiResources:tabs.scopes.copiedPopupText"):v("apiResources:tabs.scopes.copyPopupText")},renderer:"semantic-icon"},{"data-componentid":"".concat(y,"-item-delete-button"),hidden:function(){return a},icon:function(){return"trash alternate"},onClick:function(e,t){w(t)},popupText:function(){return v("apiResources:tabs.scopes.removeScopePopupText")},renderer:"semantic-icon"}],columns:[{allowToggleVisibility:!1,dataIndex:"displayName",id:"displayName",key:"displayName",render:function(e){return l.createElement(p.Z,{as:"h6","data-testid":"".concat(y,"-permission-display-name")},l.createElement(p.Z.Content,null,e.displayName,l.createElement(p.Z.Subheader,null,l.createElement(f.Z,{size:"medium",className:"ml-0 mt-2"},l.createElement(f.Z.Detail,{className:"ml-0"},e.name)))))},title:v("extensions:develop.apiResource.tabs.permissions.form.fields.permission.label"),width:3},{allowToggleVisibility:!1,dataIndex:"description",id:"description",key:"description",render:function(e){return l.createElement(p.Z,{as:"h6","data-testid":"".concat(y,"-description")},l.createElement(p.Z.Content,null,l.createElement(p.Z.Subheader,{className:"permission-description"},e.description)))},title:v("extensions:develop.apiResource.tabs.permissions.form.fields.description.label")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:v("extensions:develop.apiResource.tabs.permissions.form.fields.permission.label")}],data:r})};ee.defaultProps={"data-componentid":"permission-list-api-resource"};var te=r(72274);function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ne(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var oe=function(e){var t=e.apiResourceData,r=e.isAPIResourceDataLoading,o=e.isSubmitting,i=e.isReadOnly,a=e.handleUpdateAPIResource,s=e.handleDeleteAPIScope,d=e["data-componentid"],p=(0,u.$)().t,f=re((0,l.useState)([]),2),h=f[0],v=f[1],g=re((0,l.useState)([]),2),b=g[0],E=g[1],w=re((0,l.useState)(null),2),R=w[0],S=w[1],A=re((0,k.cC)(),2),x=A[0],P=A[1],I=re((0,l.useState)(""),2),L=I[0],O=I[1],T=(0,y.Z)(),j=T.scopesTabContent,z=T.resourceServerTypeDisplayName;(0,l.useEffect)((function(){t&&(v(t.scopes),E(t.scopes))}),[t,R]);return l.createElement(l.Fragment,null,l.createElement(c.pJ,{className:"padded",loading:r},l.createElement(N.Z,{container:!0,className:"mb-1"},l.createElement(N.Z,{xs:8},l.createElement(c.X6,{as:"h4",compact:!0},p("apiResources:tabs.scopes.title")),l.createElement(c.X6,{as:"h6",color:"grey",subHeading:!0,className:"mb-5"},null==j?void 0:j.subHeading)),l.createElement(N.Z,{xs:4,alignItems:"flex-end"},0!==(null==h?void 0:h.length)&&!i&&l.createElement(c.KM,{"data-componentid":"".concat(d,"-add-permission-button"),size:"medium",floated:"right",onClick:function(){return P()}},l.createElement(m.Z,{name:"add"}),p("apiResources:tabs.scopes.button")))),l.createElement(c.PS,{showTopActionPanel:!r&&(null==h?void 0:h.length)>0,showPagination:!1,onPageChange:function(){return null},totalPages:100,"data-testid":"".concat(d,"-list-layout"),totalListSize:null==h?void 0:h.length,leftActionPanel:l.createElement("div",{className:"advanced-search-wrapper aligned-left fill-default"},l.createElement(C.Z,{className:"advanced-search with-add-on","data-testid":"".concat(d,"-list-search-input"),icon:"search",iconPosition:"left",onChange:function(e){var t=e.target.value;O(t),t.length>0?E(h.filter((function(e){return e.displayName.toLowerCase().includes(t.toLowerCase())}))):E(h)},placeholder:p("apiResources:tabs.scopes.search"),floated:"right",size:"small",value:L}))},h?l.createElement(ee,{isAPIResourceDataLoading:r,isReadOnly:i,permissionList:h,serachedPermissionList:b,isSubmitting:o,clearSearchPermission:function(){O(""),E(h)},setRemovePermission:S,setTriggerAddAPIResourcePermissionModal:P}):l.createElement(c.$J,{subtitle:[p("extensions:develop.apiResource.apiResourceError.subtitles.0"),p("extensions:develop.apiResource.apiResourceError.subtitles.1")],title:p("extensions:develop.apiResource.apiResourceError.title"),image:(0,n.jF)().genericError,imageSize:"tiny"}))),x&&l.createElement(te.m,{closeWizard:function(){return P()},handleUpdateAPIResource:a}),R&&l.createElement(c.cV,{primaryActionLoading:o,open:null!==R,onClose:function(){return S(null)},type:"negative",assertionHint:p("apiResources:confirmations.deleteAPIResourcePermission.assertionHint"),assertionType:"checkbox",primaryAction:p("common:confirm"),secondaryAction:p("common:cancel"),onSecondaryActionClick:function(){return S(null)},onPrimaryActionClick:function(){s(R.name,(function(){return S(null)}))},"data-testid":"".concat(d,"-delete-confirmation-modal"),closeOnDimmerClick:!1},l.createElement(c.cV.Header,{"data-testid":"".concat(d,"-delete-confirmation-modal-header")},p("apiResources:confirmations.deleteAPIResourcePermission.header")),l.createElement(c.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(d,"-delete-confirmation-modal-message")},p("apiResources:confirmations.deleteAPIResourcePermission.message",{resourceType:z})),l.createElement(c.cV.Content,{"data-testid":"".concat(d,"-delete-confirmation-modal-content")},p("apiResources:confirmations.deleteAPIResourcePermission.content",{resourceType:z}))))};oe.defaultProps={"data-componentid":"permission-api-resource"};var ie=r(28e3);function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return se(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?se(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ce=function(e){var t=e.featureConfig,r=e.isReadOnly,n=e.apiResourceData,o=e.isAPIResourceDataLoading,i=e.mutateAPIResource,p=(0,u.$)().t,f=(0,d.I0)(),m=ae((0,l.useState)(!1),2),v=m[0],g=m[1],b=(0,y.Z)(),E=b.resourceServerType,w=b.resourceServerTypeDisplayName,S=function(e,t){g(!0),(0,h.BZ)(n.id,e).then((function(){f((0,s.V_)({description:p("extensions:develop.apiResource.notifications.updateAPIResource.success.description",{resourceType:w}),level:a.QU.SUCCESS,message:p("extensions:develop.apiResource.notifications.updateAPIResource.success.message",{resourceType:w})})),i()})).catch((function(){f((0,s.V_)({description:p("extensions:develop.apiResource.notifications.updateAPIResource.genericError.description"),level:a.QU.ERROR,message:p("extensions:develop.apiResource.notifications.updateAPIResource.genericError.message")}))})).finally((function(){g(!1),t&&t()}))},A=function(e,t){g(!0),(0,h.j4)(n.id,e).then((function(){f((0,s.V_)({description:p("extensions:develop.apiResource.notifications.updateAPIResource.success.description",{resourceType:w}),level:a.QU.SUCCESS,message:p("extensions:develop.apiResource.notifications.updateAPIResource.success.message",{resourceType:w})})),i()})).catch((function(){f((0,s.V_)({description:p("extensions:develop.apiResource.notifications.updateAPIResource.genericError.description",{resourceType:w}),level:a.QU.ERROR,message:p("extensions:develop.apiResource.notifications.updateAPIResource.genericError.message")}))})).finally((function(){g(!1),t&&t()}))};return l.createElement(c.M$,{isLoading:o,panes:[{menuItem:p("extensions:develop.apiResource.tabs.general.label"),render:function(){return l.createElement(c.M$.Pane,{controlledSegmentation:!0,attached:!1},l.createElement(T,{apiResourceData:n,isAPIResourceDataLoading:o,featureConfig:t,isReadOnly:r,isSubmitting:v,handleUpdateAPIResource:S}))}},{menuItem:p("apiResources:tabs.scopes.label"),render:function(){return l.createElement(c.M$.Pane,{controlledSegmentation:!0,attached:!1},l.createElement(oe,{apiResourceData:n,isAPIResourceDataLoading:o,isSubmitting:v,isReadOnly:r,handleUpdateAPIResource:S,handleDeleteAPIScope:A}))}},E===ie.X.API&&{menuItem:p("extensions:develop.apiResource.tabs.authorization.label"),render:function(){return l.createElement(c.M$.Pane,{controlledSegmentation:!0,attached:!1},l.createElement(R,{apiResourceData:n,isAPIResourceDataLoading:o}))}}]})}},72274:(e,t,r)=>{r.d(t,{d:()=>ce,m:()=>he});var n=r(40838),o=r(6833),i=r(82406),a=r(96334),s=r(20494),c=r(44194),l=r(56321),u=r(10479),d=r(47245),p=r(47018),f=r(89141),m=r(26154),h=r(79438),y=r(59673),v=function(e){var t=e.triggerSubmission,r=e.initalRequiredAuthorizationValue,n=e.setRequiredAuthorization,o=e.submitCallback,i=e["data-componentid"],a=(0,u.$)().t,l=(0,s.fQ)().getLink,p=(0,d.v9)((function(e){return e.config.ui.productName}));return c.createElement(h.l0,{"data-testid":"".concat(i,"-form"),onSubmit:function(e){n(e.authorization),o&&o(e.authorization)},triggerSubmit:function(e){return t(e)},id:"apiResource-authorization",uncontrolledForm:!1},c.createElement(s.v0,{type:"info",content:c.createElement(c.Fragment,null,a("extensions:develop.apiResource.wizard.addApiResource.steps.authorization.form.rbacMessage",{productName:p}),c.createElement(s.eb,{link:l("develop.apiResources.addAPIResource.rbacInfoBox.learnMore")},a("common:learnMore")))}),c.createElement(h.gN.Checkbox,{ariaLabel:"authorization",name:"authorization",label:a("extensions:develop.apiResource.wizard.addApiResource.steps.authorization.form.fields.authorize.label"),tabIndex:3,hint:c.createElement(c.Fragment,null,c.createElement(y.c,{i18nKey:"extensions:develop.apiResource.wizard.addApiResource.steps.authorization.form.fields.authorize.hint"},"If checked, it will be mandatory to add authorization when configuring the application to consume the API resource. ",c.createElement("b",null,"This field cannot be edited once created.")),c.createElement(s.eb,{link:l("develop.apiResources.addAPIResource.requiredAuthorization.learnMore")},a("common:learnMore"))),width:16,defaultValue:r,"data-componentid":"".concat(i,"-authorize")}))};v.defaultProps={"data-componentid":"add-api-resource-authorizaiton"};var g=r(43151),b=r(95241),E=r(38722);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function R(){R=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new k(n||[]);return o(a,"_invoke",{value:L(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",m="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};l(E,a,(function(){return this}));var S=Object.getPrototypeOf,A=S&&S(S(C([])));A&&A!==r&&n.call(A,a)&&(E=A);var x=b.prototype=v.prototype=Object.create(E);function P(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==w(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,r,n){var o=p;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=O(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?h:f,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=h,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(w(t)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},P(I.prototype),l(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new I(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(x),l(x,c,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function S(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var A=function(e){var t=e.triggerSubmission,r=e.initalBasicDetails,n=e.setBasicDetails,o=e.submitCallback,i=e.isIdentifierValidationLoading,l=e.setIdentifierValidationLoading,p=e["data-componentid"],m=(0,E.Z)().createResourceWizard,h=(0,u.$)().t,v=(0,c.useRef)(),w=(0,d.v9)((function(e){return e.config.ui.productName}));return c.createElement(a.Es,{"data-testid":"".concat(p,"-form"),onSubmit:function(e){n({displayName:e.get("displayName").toString(),identifier:e.get("identifier").toString()}),o&&o()},submitState:t},c.createElement(f.Z,null,c.createElement(f.Z.Row,{columns:1},c.createElement(f.Z.Column,{mobile:16,tablet:16,computer:12},c.createElement(a.gN,{ref:v,type:"text",name:"identifier",label:h("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.label"),placeholder:null==m?void 0:m.identifierPlaceholder,requiredErrorMessage:h("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.emptyValidate"),required:!0,tabIndex:1,value:r&&r.identifier,validation:function(){var e,t=(e=R().mark((function e(t,r){var n,o,i;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(!0),b.KG.checkValidPermissionIdentifier(t)){e.next=6;break}r.isValid=!1,r.errorMessages.push(h("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.invalid")),e.next=19;break;case 6:return n="identifier eq "+t,e.prev=7,e.next=10,(0,g.J4)(n);case 10:(null==(i=e.sent)||null===(o=i.apiResources)||void 0===o?void 0:o.length)>0&&(r.isValid=!1,r.errorMessages.push(h("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.alreadyExistsError"))),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(7),r.isValid=!1,r.errorMessages.push(h("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.errorOccurred")),l(!1);case 19:l(!1);case 20:case"end":return e.stop()}}),e,null,[[7,14]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){S(i,n,o,a,s,"next",e)}function s(e){S(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),"data-testid":"".concat(p,"-basic-form-identifier"),loading:i}),c.createElement(s.kW,{className:"mb-0"},c.createElement(y.c,{i18nKey:"extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.hint",tOptions:{productName:w}},"We recommend using a URI as the identifier, but you do not need to make the URI publicly available since WSO2 Identity Server will not access your API. WSO2 Identity Server will use this identifier value as the audience(aud) claim in the issued JWT tokens. ",c.createElement("b",null,"This field should be unique; once created, it is not editable."))))),c.createElement(f.Z.Row,{columns:1},c.createElement(f.Z.Column,{mobile:16,tablet:16,computer:12},c.createElement(a.gN,{type:"text",name:"displayName",label:h("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.name.label"),placeholder:null==m?void 0:m.displayNamePlaceholder,required:!0,tabIndex:2,requiredErrorMessage:h("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.name.emptyValidate"),value:null==r?void 0:r.displayName,"data-testid":"".concat(p,"-basic-form-displayName")}),c.createElement(s.kW,{className:"mb-0"},null==m?void 0:m.displayNameHint)))))};A.defaultProps={"data-componentid":"add-api-resource-basic"};var x=r(12638),P=r(37077),I=r(62508);function L(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return N(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var k=function(e){var t=e.addedPermissions,r=e.updatePermissions,n=e["data-componentid"],o=(0,u.$)().t,i=O((0,c.useState)(null),2),a=i[0],l=i[1];(0,c.useEffect)((function(){l(L(t.values()).reverse())}),[t]);var d=function(e){r(e,"delete")};return c.createElement(s.wQ,{className:"oidc-scopes-table",columnCount:3,loadingStateOptions:{count:10,imageType:"square"},onRowClick:function(){return null},showHeader:!1,placeholders:0===(null==a?void 0:a.length)?c.createElement(c.Fragment,null,c.createElement(I.Z,{className:"mb-1",hidden:!0}),c.createElement(s.$J,{subtitle:[o("apiResources:tabs.scopes.empty.title")]}),c.createElement(I.Z,{className:"mt-1",hidden:!0})):null,transparent:0===(null==a?void 0:a.length),"data-testid":n,actions:[{icon:function(){return"trash alternate"},onClick:function(e,t){d(t)},popupText:function(){return o("apiResources:tabs.scopes.removeScopePopupText")},renderer:"semantic-icon"}],columns:[{allowToggleVisibility:!1,dataIndex:"displayName",id:"displayName",key:"displayName",render:function(e){return c.createElement(x.Z,{as:"h6","data-testid":"".concat(n,"-permission-display-name")},c.createElement(x.Z.Content,null,e.displayName,c.createElement(x.Z.Subheader,null,c.createElement(P.Z,{size:"medium",className:"ml-0 mt-2"},e.name))))},title:o("apiResources:tabs.scopes.form.fields.permission.label")},{allowToggleVisibility:!1,dataIndex:"description",id:"description",key:"description",render:function(e){return c.createElement(x.Z,{as:"h6","data-testid":"".concat(n,"-description")},c.createElement(x.Z.Content,null,c.createElement(x.Z.Subheader,{className:"permission-description"},e.description)))},title:o("apiResources:tabs.scopes.form.fields.description.label")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:o("apiResources:tabs.scopes.form.fields.permission.label"),width:1}],data:a})};function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function j(){j=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new T(n||[]);return o(a,"_invoke",{value:P(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",m="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};l(E,a,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(N([])));R&&R!==r&&n.call(R,a)&&(E=R);var S=b.prototype=v.prototype=Object.create(E);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==C(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,r,n){var o=p;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=I(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?h:f,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=h,n.method="throw",n.arg=l.arg)}}}function I(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(C(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},A(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function z(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}k.defaultProps={"data-componentid":"permission-list-api-resource"};var V="apiResource-general-details",M=function(e){var t=e.isPermissionValidationLoading,r=e.addedPermissions,n=e.triggerAddPermission,o=e.setAddPermission,i=e.updatePermissions,l=e.setLatestPermissionFormValues,d=e.setPermissionValidationLoading,p=e["data-componentid"],m=(0,u.$)().t,h=Z((0,a.cC)(),2),v=h[0],E=h[1];return c.createElement(a.Es,{"data-testid":"".concat(p,"-form"),onSubmit:function(e){var t={description:e.get("description").toString(),displayName:e.get("displayName").toString(),name:e.get("identifier").toString()};i(t,"set"),l(void 0),E()},id:V,submitState:n,uncontrolledForm:!1,resetState:v,onChange:function(e,t){return l(t)}},c.createElement(f.Z,null,c.createElement(f.Z.Row,{columns:2,padded:"vertically"},c.createElement(f.Z.Column,{mobile:16,tablet:16,computer:8},c.createElement(a.gN,{type:"text",name:"identifier",label:m("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.label"),placeholder:m("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.placeholder"),requiredErrorMessage:m("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.emptyValidate"),loading:t,validation:function(){var e,t=(e=j().mark((function e(t,n){var o,i;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),!t){e.next=26;break}if(b.KG.checkValidPermissionIdentifier(t)){e.next=7;break}n.isValid=!1,n.errorMessages.push(m("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.invalid")),e.next=25;break;case 7:if(!r.has(t)){e.next=12;break}n.isValid=!1,n.errorMessages.push(m("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.uniqueValidate")),e.next=25;break;case 12:return o="name eq "+t,e.prev=13,e.next=16,(0,g.dH)(o);case 16:(null==(i=e.sent)?void 0:i.length)>0&&(n.isValid=!1,n.errorMessages.push(m("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.uniqueValidate"))),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(13),n.isValid=!1,n.errorMessages.push(m("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.errorOccurred")),d(!1);case 25:d(!1);case 26:case"end":return e.stop()}}),e,null,[[13,20]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){z(i,n,o,a,s,"next",e)}function s(e){z(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),required:!0,tabIndex:1,"data-testid":"".concat(p,"-identifier")}),c.createElement(s.kW,null,c.createElement(y.c,{i18nKey:"apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.hint"},"A unique value that acts as the scope when requesting an access token.",c.createElement("b",null,"Note that the permission cannot be modified once created.")))),c.createElement(f.Z.Column,{mobile:16,tablet:16,computer:8},c.createElement(a.gN,{type:"text",name:"displayName",label:m("apiResources:wizard.addApiResource.steps.scopes.form.fields.displayName.label"),placeholder:m("apiResources:wizard.addApiResource.steps.scopes.form.fields.displayName.placeholder"),requiredErrorMessage:m("apiResources:wizard.addApiResource.steps.scopes.form.fields.displayName.emptyValidate"),required:!0,tabIndex:2,"data-testid":"".concat(p,"-displayName")}),c.createElement(s.kW,null,m("apiResources:wizard.addApiResource.steps.scopes.form.fields.displayName.hint")))),c.createElement(f.Z.Row,{columns:1,className:"pt-0 pb-0"},c.createElement(f.Z.Column,{width:16},c.createElement(a.gN,{type:"textarea",name:"description",label:m("apiResources:wizard.addApiResource.steps.scopes.form.fields.description.label"),placeholder:m("apiResources:wizard.addApiResource.steps.scopes.form.fields.description.placeholder"),tabIndex:3,maxLength:300,minLength:3,"data-testid":"".concat(p,"-description")}),c.createElement(s.kW,null,m("apiResources:wizard.addApiResource.steps.scopes.form.fields.description.hint")))),c.createElement(f.Z.Row,{columns:1},c.createElement(f.Z.Column,{width:16,textAlign:"right"},c.createElement(a.gN,{type:"button",form:V,size:"small",tabIndex:4,buttonType:"primary_btn",name:"submit-button",icon:"add",value:m("apiResources:wizard.addApiResource.steps.scopes.form.button"),loading:t,"data-testid":"".concat(p,"-add-permission-btn"),onClick:o})))))};function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}M.defaultProps={"data-componentid":"permission-mapping-list-item"};var H,U,B,G=function(e){var t=e.initialPermissions,r=e.triggerAddPermission,n=e.isPermissionValidationLoading,o=e.setAddPermission,i=e.setPermissionsList,a=e.setLatestPermissionFormValues,l=e.setPermissionValidationLoading,d=(0,u.$)().t,p=F((0,c.useState)(t||new Map),2),m=p[0],h=p[1];(0,c.useEffect)((function(){i(m)}),[m]);var y=function(e,t){var r=new Map(m);switch(t){case"set":r.set(e.name,e);break;case"delete":r.delete(e.name)}h(r)};return c.createElement(f.Z,null,c.createElement(f.Z.Row,{columns:1},c.createElement(f.Z.Column,{width:16},c.createElement(s.pJ,{className:"mb-4"},c.createElement(M,{addedPermissions:m,updatePermissions:y,triggerAddPermission:r,setAddPermission:o,setLatestPermissionFormValues:a,isPermissionValidationLoading:n,setPermissionValidationLoading:l}))),c.createElement(f.Z.Column,{width:16},c.createElement(c.Fragment,null,c.createElement(x.Z,{as:"h5",className:"bold-text mb-2"},d("apiResources:wizard.addApiResource.steps.scopes.form.fields.permissionList.label")),c.createElement(s.pJ,{className:"mt-0"},c.createElement(k,{addedPermissions:m,updatePermissions:y}))))))},$=["title","titleId"];function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q.apply(null,arguments)}var W=function(e,t){var r=e.title,n=e.titleId,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,$);return c.createElement("svg",q({id:"account-policy-icon",xmlns:"http://www.w3.org/2000/svg",className:"icon",width:14,height:14,viewBox:"0 0 16.782 19.097",ref:t,"aria-labelledby":n},o),r?c.createElement("title",{id:n},r):null,H||(H=c.createElement("path",{id:"Path_233",className:"path",d:"M89.988,127.019a5.035,5.035,0,1,0,5.035-5.035A5.041,5.041,0,0,0,89.988,127.019Zm3.357,3.538v-.181a1.678,1.678,0,1,1,3.356,0v.181a3.911,3.911,0,0,1-3.356,0Zm5.594-3.538a3.9,3.9,0,0,1-1.176,2.794,2.8,2.8,0,0,0-5.481,0,3.915,3.915,0,1,1,6.656-2.794Zm0,0",transform:"translate(-86.632 -117.435)",fill:"#464646"})),U||(U=c.createElement("path",{id:"Path_234",className:"path",d:"M183.337,183.655a1.678,1.678,0,1,0-1.678,1.678A1.68,1.68,0,0,0,183.337,183.655Zm-1.678.559a.559.559,0,1,1,.559-.559A.56.56,0,0,1,181.659,184.214Zm0,0",transform:"translate(-173.267 -175.189)",fill:"#464646"})),B||(B=c.createElement("path",{id:"Path_235",className:"path",d:"M8.391,0,0,3.623V6.658A13.431,13.431,0,0,0,8.171,19l.22.094L8.612,19A13.431,13.431,0,0,0,16.782,6.658V3.623Zm7.272,6.658A12.311,12.311,0,0,1,8.391,17.877,12.311,12.311,0,0,1,1.119,6.658v-2.3l7.272-3.14,7.272,3.14Zm0,0",fill:"#464646"})))},Q=(0,c.forwardRef)(W);r.p;var K,J=r(51080),X=["title","titleId"];function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y.apply(null,arguments)}var ee=function(e,t){var r=e.title,n=e.titleId,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,X);return c.createElement("svg",Y({id:"key-icon",className:"icon",xmlns:"http://www.w3.org/2000/svg",width:14,height:14,viewBox:"0 0 14 14",style:{enableBackground:"new 0 0 14 14"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},o),r?c.createElement("title",{id:n},r):null,K||(K=c.createElement("path",{className:"path fill primary",d:"M.292,14A.292.292,0,0,1,0,13.708V11.375a.291.291,0,0,1,.086-.206l1.081-1.082V9.625a.292.292,0,0,1,.292-.292h.463l.413-.412V8.458a.292.292,0,0,1,.292-.292h.463L3.5,7.754V7.292A.292.292,0,0,1,3.792,7h.463l.292-.292-.377-.377a.291.291,0,0,1,.076-.467L4.766,5.6a4.606,4.606,0,0,1-.1-.937A4.667,4.667,0,1,1,8.4,9.234l-.26.521a.292.292,0,0,1-.467.076l-.377-.377-4.46,4.46A.3.3,0,0,1,2.625,14ZM1.75,10.209a.294.294,0,0,1-.085.206L.583,11.5v1.921H2.5L7.086,8.835a.292.292,0,0,1,.412,0l.3.3.183-.365a.292.292,0,0,1,.334-.152A4.081,4.081,0,1,0,5.25,4.667a4.116,4.116,0,0,0,.135,1.022.293.293,0,0,1-.152.334L4.867,6.2l.3.3a.291.291,0,0,1,0,.412L4.581,7.5a.291.291,0,0,1-.206.086H4.083v.292A.291.291,0,0,1,4,8.081l-.583.583a.291.291,0,0,1-.206.086H2.917v.292a.289.289,0,0,1-.086.206l-.583.584a.294.294,0,0,1-.206.085H1.75Zm.086,1.956a.292.292,0,0,1,0-.412L5.918,7.669a.291.291,0,0,1,.412.412L2.247,12.164a.291.291,0,0,1-.412,0Zm7.5-8.956a1.458,1.458,0,1,1,1.458,1.458A1.46,1.46,0,0,1,9.333,3.209Zm.583,0a.875.875,0,1,0,.875-.875A.876.876,0,0,0,9.916,3.209Z"})))},te=(0,c.forwardRef)(ee);r.p;var re=function(){return{authorize:Q,general:J.r,permissions:te}},ne=r(28e3);function oe(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){if(e){if("string"==typeof e)return se(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?se(e,t):void 0}}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ce=function(e){var t,r=e.closeWizard,h=e.currentStep,y=e["data-componentid"],w=(0,u.$)().t,R=(0,d.I0)(),S=(0,E.Z)(),x=S.resourceServerType,P=S.createResourceWizard,I=S.resourceEditPath,L=S.resourceServerTypeDisplayName,O=ie((0,a.cC)(),2),T=O[0],N=O[1],k=ie((0,a.cC)(),2),C=k[0],j=k[1],z=ie((0,c.useState)(!1),2),Z=z[0],_=z[1],V=ie((0,c.useState)(void 0),2),M=V[0],F=V[1],D=ie((0,c.useState)(void 0),2),H=D[0],U=D[1],B=ie((0,c.useState)(!0),2),$=B[0],q=B[1],W=ie((0,c.useState)(new Map),2),Q=W[0],K=W[1],J=ie((0,c.useState)(h),2),X=J[0],Y=J[1],ee=ie((0,c.useState)(ne.l.BASIC_DETAILS),2),te=ee[0],ae=ee[1],se=ie((0,c.useState)(!1),2),ce=se[0],le=se[1],ue=ie((0,c.useState)(!1),2),de=ue[0],pe=ue[1],fe=function(){switch(te){case ne.l.BASIC_DETAILS:N();break;case ne.l.PERMISSIONS:var e,r;(null==M||null===(e=M.get("displayName"))||void 0===e?void 0:e.toString().trim())!==(null==M||null===(r=M.get("identifier"))||void 0===r?void 0:r.toString().trim())&&(0,l.flushSync)((function(){return j()})),ye.length-1===X?he(!0):me();break;case ne.l.AUTHORIZATION:t()}},me=function(){var e=X+1;Y(e),ae(ye[e].addAPIResourceWizardStepsFormType)},he=function(e){_(!0);var t={identifier:H.identifier,name:H.displayName,requiresAuthorization:e,scopes:oe(Q.values())};x===ne.X.MCP&&(t.resourceType=b.$d.MCP),(0,g.tI)(t).then((function(e){R((0,i.V_)({description:w("extensions:develop.apiResource.notifications.addAPIResource.success.description",{resourceType:L}),level:o.QU.SUCCESS,message:w("extensions:develop.apiResource.notifications.addAPIResource.success.message",{resourceType:L})})),n.m.push(null==I?void 0:I.replace(":id",e.id).replace(":categoryId",b.$d.CUSTOM))})).catch((function(){R((0,i.V_)({description:w("extensions:develop.apiResource.notifications.addAPIResource.genericError.description",{resourceType:L}),level:o.QU.ERROR,message:w("extensions:develop.apiResource.notifications.addAPIResource.genericError.message",{resourceType:L})}))})).finally((function(){_(!1),r()}))},ye=[{addAPIResourceWizardStepsFormType:ne.l.BASIC_DETAILS,content:c.createElement(A,{initalBasicDetails:H,setBasicDetails:U,triggerSubmission:T,submitCallback:me,isIdentifierValidationLoading:ce,setIdentifierValidationLoading:le}),icon:re().general,title:w("extensions:develop.apiResource.wizard.addApiResource.steps.basic.stepTitle")},{addAPIResourceWizardStepsFormType:ne.l.PERMISSIONS,content:c.createElement(G,{setPermissionsList:K,initialPermissions:Q,triggerAddPermission:C,setAddPermission:j,setLatestPermissionFormValues:F,isPermissionValidationLoading:de,setPermissionValidationLoading:pe}),icon:re().permissions,title:w("apiResources:wizard.addApiResource.steps.scopes.stepTitle")},{addAPIResourceWizardStepsFormType:ne.l.AUTHORIZATION,content:c.createElement(v,{triggerSubmission:function(e){t=e},initalRequiredAuthorizationValue:$,setRequiredAuthorization:q,submitCallback:he}),icon:re().authorize,title:w("extensions:develop.apiResource.wizard.addApiResource.steps.authorization.stepTitle")}].filter((function(e){var t;return!(null!=P&&null!==(t=P.hiddenSteps)&&void 0!==t&&t.includes(e.addAPIResourceWizardStepsFormType))})).filter(Boolean);return c.createElement(p.Z,{"data-testid":y,open:!0,className:"wizard api-resource-create-wizard",dimmer:"blurring",onClose:r,closeOnDimmerClick:!1,closeOnEscape:!0},c.createElement(p.Z.Header,{className:"wizard-header"},null==P?void 0:P.title,c.createElement(s.X6,{as:"h6"},null==P?void 0:P.description)),ye.length>1&&c.createElement(p.Z.Content,{scrolling:!0,className:"steps-container"},c.createElement(s.Rg.Group,{current:X},ye.map((function(e){return c.createElement(s.Rg.Step,{key:e.title,icon:e.icon,title:e.title})})))),c.createElement(p.Z.Content,{className:"content-container",scrolling:!0},ye[X].content),c.createElement(p.Z.Actions,null,c.createElement(f.Z,null,c.createElement(f.Z.Row,{column:1},c.createElement(f.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(s.Qj,{tabIndex:6,"data-testid":"".concat(y,"-cancel-button"),floated:"left",onClick:function(){return r()}},w("extensions:develop.apiResource.wizard.addApiResource.cancelButton"))),c.createElement(f.Z.Column,{mobile:8,tablet:8,computer:8},X!==ye.length-1&&c.createElement(s.KM,{tabIndex:7,"data-testid":"".concat(y,"-next-button"),floated:"right",onClick:function(){return fe()},loading:ce,disabled:ce},w("extensions:develop.apiResource.wizard.addApiResource.nextButton"),c.createElement(m.Z,{name:"arrow right"})),X===ye.length-1&&c.createElement(s.KM,{tabIndex:8,"data-testid":"".concat(y,"-finish-button"),floated:"right",onClick:function(){return fe()},loading:Z||de},w("extensions:develop.apiResource.wizard.addApiResource.submitButton")),X>0&&c.createElement(s.Qj,{tabIndex:9,"data-testid":"".concat(y,"-previous-button"),floated:"right",onClick:function(){return Y(e=X-1),void ae(ye[e].addAPIResourceWizardStepsFormType);var e},loading:Z},c.createElement(m.Z,{name:"arrow left"}),w("extensions:develop.apiResource.wizard.addApiResource.previousButton")))))))};function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function ue(){ue=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new T(n||[]);return o(a,"_invoke",{value:P(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",m="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};l(E,a,(function(){return this}));var w=Object.getPrototypeOf,R=w&&w(w(N([])));R&&R!==r&&n.call(R,a)&&(E=R);var S=b.prototype=v.prototype=Object.create(E);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==le(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,r,n){var o=p;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=I(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?h:f,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=h,n.method="throw",n.arg=l.arg)}}}function I(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(le(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},A(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function de(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}ce.defaultProps={currentStep:0,"data-componentid":"add-api-resource"};var pe=function(e){var t=e.permissionValidationLoading,r=e.triggerAddPermission,n=e.addPermission,o=e.setIsSubmitting,i=e.setPermissionValidationLoading,l=e["data-componentid"],d=(0,u.$)().t;return c.createElement(a.Es,{"data-componentid":"".concat(l,"-form"),onSubmit:function(e){var t={description:e.get("description").toString(),displayName:e.get("displayName").toString(),name:e.get("identifier").toString()};o(!0),n(t)},id:"apiResource-general-details",submitState:r,uncontrolledForm:!1},c.createElement(f.Z,null,c.createElement(f.Z.Row,{columns:1},c.createElement(f.Z.Column,{mobile:16,tablet:16,computer:12},c.createElement(a.gN,{type:"text",name:"identifier",label:d("apiResources:tabs.scopes.form.fields.scope.label"),placeholder:d("apiResources:tabs.scopes.form.fields.scope.placeholder"),required:!0,tabIndex:1,requiredErrorMessage:d("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.emptyValidate"),validation:function(){var e,t=(e=ue().mark((function e(t,r){var n,o;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(!0),!t){e.next=20;break}if(b.KG.checkValidPermissionIdentifier(t)){e.next=7;break}r.isValid=!1,r.errorMessages.push(d("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.invalid")),e.next=20;break;case 7:return n="name eq "+t,e.prev=8,e.next=11,(0,g.dH)(n);case 11:(null==(o=e.sent)?void 0:o.length)>0&&(r.isValid=!1,r.errorMessages.push(d("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.uniqueValidate"))),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(8),r.isValid=!1,r.errorMessages.push(d("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.errorOccurred")),i(!1);case 20:i(!1);case 21:case"end":return e.stop()}}),e,null,[[8,15]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){de(i,n,o,a,s,"next",e)}function s(e){de(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),"data-testid":"".concat(l,"-identifier"),loading:t}),c.createElement(s.kW,null,c.createElement(y.c,{i18nKey:"apiResources:wizard.addApiResource.steps.scopes.form.fields.scope.hint"},"A unique value that acts as the scope when requesting an access token.\xa0",c.createElement("b",null,"Note that the scope cannot be modified once created."))))),c.createElement(f.Z.Row,{columns:1},c.createElement(f.Z.Column,{mobile:16,tablet:16,computer:12},c.createElement(a.gN,{type:"text",name:"displayName",label:d("extensions:develop.apiResource.tabs.permissions.form.fields.displayName.label"),placeholder:d("extensions:develop.apiResource.tabs.permissions.form.fields.displayName.placeholder"),required:!0,tabIndex:2,requiredErrorMessage:d("extensions:develop.apiResource.tabs.permissions.form.fields.displayName.emptyValidate"),"data-testid":"".concat(l,"-displayName")}),c.createElement(s.kW,null,d("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.displayName.hint")))),c.createElement(f.Z.Row,{columns:1},c.createElement(f.Z.Column,{mobile:16,tablet:16,computer:12},c.createElement(a.gN,{type:"text",name:"description",label:d("apiResources:tabs.scopes.form.fields.description.label"),placeholder:d("apiResources:tabs.scopes.form.fields.description.placeholder"),tabIndex:3,"data-testid":"".concat(l,"-description")}),c.createElement(s.kW,null,d("apiResources:wizard.addApiResource.steps.scopes.form.fields.description.hint"))))))};function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return me(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?me(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}pe.defaultProps={"data-componentid":"add-api-resource-permission-form"};var he=function(e){var t=e.closeWizard,r=e.handleUpdateAPIResource,n=e["data-componentid"],o=(0,u.$)().t,i=fe((0,a.cC)(),2),l=i[0],d=i[1],m=fe((0,c.useState)(!1),2),h=m[0],y=m[1],v=fe((0,c.useState)(!1),2),g=v[0],b=v[1];return c.createElement(p.Z,{"data-testid":n,open:!0,className:"wizard api-resource-permission-create-wizard",dimmer:"blurring",size:"small",onClose:t,closeOnDimmerClick:!1,closeOnEscape:!0},c.createElement(p.Z.Header,{className:"wizard-header"},o("apiResources:tabs.scopes.form.title"),c.createElement(s.X6,{as:"h6"},o("apiResources:tabs.scopes.form.subTitle"))),c.createElement(p.Z.Content,{className:"content-container"},c.createElement(pe,{triggerAddPermission:l,addPermission:function(e){r({addedScopes:[e]},(function(){t(),y(!1)}))},setIsSubmitting:y,permissionValidationLoading:g,setPermissionValidationLoading:b})),c.createElement(p.Z.Actions,null,c.createElement(f.Z,null,c.createElement(f.Z.Row,{column:1},c.createElement(f.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(s.Qj,{"data-testid":"".concat(n,"-cancel-button"),floated:"left",onClick:function(){return t()}},o("apiResources:tabs.scopes.form.cancelButton"))),c.createElement(f.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(s.KM,{"data-testid":"".concat(n,"-finish-button"),floated:"right",onClick:function(){return d()},loading:h},o("apiResources:tabs.scopes.form.submitButton")))))))};he.defaultProps={"data-componentid":"add-api-resource-permission"}},38722:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(60486),o=r(20494),i=r(44194),a=r(10479),s=r(47245),c=r(83646),l=r(28e3);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const f=function(){var e=(0,a.$)().t,t=(0,o.fQ)().getLink,r=(0,s.v9)((function(e){return e.config.ui.productName})),u=window.location.pathname.includes("mcp-servers")?l.X.MCP:l.X.API;var f=p(p({},l.X.API,{addNewResourceButtonText:e("extensions:develop.apiResource.addApiResourceButton"),createResourceWizard:{description:e("extensions:develop.apiResource.wizard.addApiResource.subtitle"),displayNameHint:e("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.name.hint",{productName:r}),displayNamePlaceholder:e("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.name.placeholder"),hiddenSteps:[],identifierPlaceholder:e("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.placeholder"),title:e("extensions:develop.apiResource.wizard.addApiResource.title")},defaultSearchFilter:"type eq ".concat(c.KG.BUSINESS),deleteResourceWizardContent:{buttonText:e("extensions:develop.apiResource.tabs.general.dangerZoneGroup.deleteApiResource.button"),heading:e("extensions:develop.apiResource.tabs.general.dangerZoneGroup.deleteApiResource.header"),subHeading:e("extensions:develop.apiResource.tabs.general.dangerZoneGroup.deleteApiResource.subHeading")},resourceEditBackButtonLink:n.$.getPaths().get("API_RESOURCES"),resourceEditBackButtonText:"Back to API Resources",resourceEditPageTitle:e("extensions:develop.apiResource.tabs.title"),resourceEditPath:n.$.getPaths().get("API_RESOURCE_EDIT"),resourceSearchBarPlaceholder:"Search API resources by name",resourceServerEmptyListSubtitle:[e("extensions:develop.apiResource.empty")],resourceServerListDescription:i.createElement(i.Fragment,null,e("extensions:develop.apiResource.pageHeader.description"),i.createElement(o.eb,{link:t("develop.apiResources.learnMore")},e("common:learnMore"))),resourceServerListPageTitle:e("extensions:develop.apiResource.pageHeader.title"),resourceServerListTitle:e("extensions:develop.apiResource.pageHeader.title"),scopesTabContent:{subHeading:e("apiResources:tabs.scopes.subTitle")}}),l.X.MCP,{addNewResourceButtonText:e("apiResources:mcpServers.newMcpServer"),createResourceWizard:{description:e("apiResources:mcpServers.wizards.addMcpServer.description"),displayNameHint:e("apiResources:mcpServers.wizards.addMcpServer.steps.general.fields.displayName.hint"),displayNamePlaceholder:e("apiResources:mcpServers.wizards.addMcpServer.steps.general.fields.displayName.placeholder"),hiddenSteps:[l.l.AUTHORIZATION],identifierPlaceholder:e("apiResources:mcpServers.wizards.addMcpServer.steps.general.fields.identifier.placeholder"),title:e("apiResources:mcpServers.wizards.addMcpServer.title")},defaultSearchFilter:"type eq ".concat(c.KG.MCP),deleteResourceWizardContent:{buttonText:e("apiResources:mcpServers.deleteMcpServer.actionText"),heading:e("apiResources:mcpServers.deleteMcpServer.heading"),subHeading:e("apiResources:mcpServers.deleteMcpServer.subheading")},resourceEditBackButtonLink:n.$.getPaths().get("MCP_SERVERS"),resourceEditBackButtonText:e("apiResources:mcpServers.backButtonText"),resourceEditPageTitle:e("apiResources:mcpServers.editPageTitle"),resourceEditPath:n.$.getPaths().get("MCP_SERVER_EDIT"),resourceSearchBarPlaceholder:e("apiResources:mcpServers.searchBarPlaceholder"),resourceServerEmptyListSubtitle:[e("apiResources:mcpServers.emptyListPlaceholderText")],resourceServerListDescription:e("apiResources:mcpServers.description"),resourceServerListPageTitle:e("apiResources:mcpServers.title"),resourceServerListTitle:e("apiResources:mcpServers.title"),scopesTabContent:{subHeading:e("apiResources:mcpServers.scopes.subHeading")}});return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({resourceServerType:u,resourceServerTypeDisplayName:function(t){switch(t){case l.X.API:return e("extensions:develop.apiResource.resourceTypes.api");case l.X.MCP:return e("extensions:develop.apiResource.resourceTypes.mcp")}}(u)},f[u])}},28e3:(e,t,r)=>{r.d(t,{l:()=>o,X:()=>n});var n=function(e){return e.API="API",e.MCP="MCP",e.NONE="NONE",e}({}),o=function(e){return e.BASIC_DETAILS="BasicDetails",e.AUTHORIZATION="Authorization",e.PERMISSIONS="Permission",e}({})},64814:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(81611),o=r.n(n),i=r(83948),a=r.n(i)()(o());a.push([e.id,".permission-description{overflow-wrap:anywhere}",""]);const s=a}}]);