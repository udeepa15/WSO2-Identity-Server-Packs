"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[2176],{94945:(e,t,n)=>{n.d(t,{H8:()=>s,Lr:()=>u,b9:()=>d,o0:()=>l,sE:()=>c});var r=n(2292),a=n(76271),i=n(6833),o=r.AsgardeoSPAClient.getInstance().httpRequest.bind(r.AsgardeoSPAClient.getInstance()),l=function(e){var t={data:e,headers:{"Content-Type":"application/json"},method:i.f2.POST,url:a.h.getState().config.endpoints.agents};return o(t).then((function(e){return Promise.resolve(null==e?void 0:e.data)})).catch((function(e){return Promise.reject(e)}))},c=function(e,t){var n={data:t,headers:{"Content-Type":"application/json"},method:i.f2.PUT,url:a.h.getState().config.endpoints.agents+"/".concat(e)};return o(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},u=function(e){var t={headers:{"Content-Type":"application/json"},method:i.f2.DELETE,url:a.h.getState().config.endpoints.agents+"/".concat(e)};return o(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},s=function(e,t){var n={data:{Operations:[{op:"replace",value:{"urn:scim:wso2:schema":{accountLocked:t}}}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]},headers:{"Content-Type":"application/json"},method:i.f2.PATCH,url:a.h.getState().config.endpoints.agents+"/".concat(e)};return o(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},d=function(e,t){var n={data:{Operations:[{op:"replace",value:{password:t}}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]},headers:{"Content-Type":"application/json"},method:i.f2.PATCH,url:a.h.getState().config.endpoints.agents+"/".concat(e)};return o(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},92176:(e,t,n)=>{n.d(t,{l:()=>y});var r=n(51318),a=n(3116),i=n(6833),o=n(82406),l=n(20494),c=n(62159),u=n(44194),s=n(47245),d=n(47018),m=n(72857),h=n(26154),f=n(10909),g=n(94945);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=e.title,n=e.agentId,v=e.agentSecret,y=e.isOpen,C=e.onClose,b=e.isForSecretRegeneration,E=e["data-componentid"],S=void 0===E?"agent-secret-show-modal":E,w=(0,a.Wf)().data,A=(0,s.I0)(),P=p(u.useState(!1),2),V=P[0],N=P[1],j=p(u.useState(!1),2),L=j[0],O=j[1],T=(0,u.useMemo)((function(){return(0,r.P_)(w)}),[w]),U=p(u.useState(""),2),k=U[0],I=U[1];return u.createElement(d.Z,{"data-testid":S,"data-componentid":S,open:y,className:"wizard",dimmer:"blurring",size:"tiny",onClose:C,closeOnDimmerClick:!1,closeOnEscape:!0},u.createElement(d.Z.Header,null,t),u.createElement(d.Z.Content,null,b&&!V?u.createElement(u.Fragment,null,u.createElement("strong",null,"Before regenerating:")," Make sure you are ready to update all applications using the new agent secret. Once regenerated,",u.createElement("ul",null,u.createElement("li",null,"Scripts and applications using the current agent secret will need to be updated accordingly."),u.createElement("li",null,"The current agent secret cannot be recovered once regenerated."))):u.createElement(u.Fragment,null,u.createElement(m.Z,{warning:!0},u.createElement("strong",null,"Important:")," Please copy and store the agent credentials securely."," ","Make sure to copy the agent secret now as you will not be able to see this again."),!b&&u.createElement(u.Fragment,null,u.createElement("label",null,"Agent ID"),u.createElement("div",{style:{marginTop:"1%"}},u.createElement(l.OR,{className:"agent-id-input",value:n,"data-componentid":"agent-id-readonly-input"}))),u.createElement("div",{style:{marginTop:"2%"}}),u.createElement("label",null,"Agent Secret"),u.createElement("div",{style:{marginTop:"1%"}},u.createElement(l.OR,{className:"agent-secret-input",secret:!0,value:v||k,hideSecretLabel:"Hide secret",showSecretLabel:"Show secret","data-componentid":"agent-secret-readonly-input"})))),u.createElement(d.Z.Actions,null,b&&!V?u.createElement(u.Fragment,null,u.createElement(l.KM,{className:"link-button",basic:!0,primary:!0,onClick:function(){return C()}},"Cancel"),u.createElement(l.KM,{onClick:function(){!function(){O(!0);var e=(0,r.F2)(16,Number(T.minLowerCaseCharacters)>0,Number(T.minUpperCaseCharacters)>0,Number(T.minNumbers)>0,Number(T.minSpecialCharacters)>0,Number(T.minLowerCaseCharacters),Number(T.minUpperCaseCharacters),Number(T.minNumbers),Number(T.minSpecialCharacters),Number(T.minUniqueCharacters));I(e),(0,g.b9)(n,e).then((function(){N(!0)})).catch((function(e){A((0,o.V_)({description:(0,c.t)("agents:edit.credentials.regenerate.alerts.error.description"),level:i.QU.ERROR,message:(0,c.t)("agents:edit.credentials.regenerate.alerts.error.message")}))})).finally((function(){O(!1)}))}()},loading:L,disabled:L,"data-componentid":S+"-proceed-btn"},"Proceed",u.createElement(h.Z,{name:"arrow right"}))):u.createElement(f.Z,{primary:!0,type:"submit",onClick:function(){N(!1),C()},"data-testid":"".concat(S,"-done-button")},"Done")))}},51318:(e,t,n)=>{function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{F2:()=>l,P_:()=>s});var i=function(e){return Math.random()*e},o=function(e,t){var n,a=r(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;e=e.replace(i,"")}}catch(o){a.e(o)}finally{a.f()}return e},l=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,m=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:[],f="",g="",p=o("abcdefghijklmnopqrstuvwxyz",h),v=o("ABCDEFGHIJKLMNOPQRSTUVWXYZ",h),y=o("0123456789",h),C=o("!#$%&'()*+,-./:;<=>?@[]^_{|}~",h),b=0;b<i;b++)g+=c(g,p);for(var E=0;E<l;E++)g+=c(g,v);for(var S=0;S<s;S++)g+=c(g,y);for(var w=0;w<d;w++)g+=c(g,C);f=g;var A="";A=t?A+p:A,A=n?A+v:A,A=r?A+y:A,A=a?A+C:A,0===i&&0===l&&0===s&&0===d&&(A=A+p+v+y+C);var P=new Set(f.split("")),V=!1;m>0&&P.size<m&&(f=Array.from(P).join(""),V=!0);for(var N=e-f.length,j=0;j<N;j++)f+=V?u(f,A):c(f,A);return f},c=function(e,t){for(var n=t.charAt(i(t.length));n===e.charAt(e.length-1);)n=t.charAt(i(t.length));return n},u=function(e,t){for(var n=t.charAt(i(t.length));e.includes(n);)n=t.charAt(i(t.length));return n},s=function(e){var t=null==e?void 0:e.filter((function(e){return"password"===e.field}));if(!(void 0===t||t.length<1)){var n=t[0],r=null==n?void 0:n.rules;if(!((null==r?void 0:r.length)<1))return{consecutiveCharacterValidatorEnabled:null!==d(r,"RepeatedCharacterValidator","max.consecutive.character"),field:"password",maxConsecutiveCharacters:d(r,"RepeatedCharacterValidator","max.consecutive.character")?d(r,"RepeatedCharacterValidator","max.consecutive.character"):"0",maxLength:d(r,"LengthValidator","max.length")?d(r,"LengthValidator","max.length"):"30",minLength:d(r,"LengthValidator","min.length")?d(r,"LengthValidator","min.length"):"8",minLowerCaseCharacters:d(r,"LowerCaseValidator","min.length")?d(r,"LowerCaseValidator","min.length"):"0",minNumbers:d(r,"NumeralValidator","min.length")?d(r,"NumeralValidator","min.length"):"0",minSpecialCharacters:d(r,"SpecialCharacterValidator","min.length")?d(r,"SpecialCharacterValidator","min.length"):"0",minUniqueCharacters:d(r,"UniqueCharacterValidator","min.unique.character")?d(r,"UniqueCharacterValidator","min.unique.character"):"0",minUpperCaseCharacters:d(r,"UpperCaseValidator","min.length")?d(r,"UpperCaseValidator","min.length"):"0",type:"rules",uniqueCharacterValidatorEnabled:null!==d(r,"UniqueCharacterValidator","min.unique.character")}}},d=function(e,t,n){var r=null==e?void 0:e.filter((function(e){return e.validator===t}));if((null==r?void 0:r.length)>0){var a=r.flatMap((function(e){var t;return null!==(t=e.properties)&&void 0!==t?t:[]}));if((a=a.filter((function(e){return e.key===n}))).length>0)return a[0].value}return null}}}]);