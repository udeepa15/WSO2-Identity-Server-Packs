"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[8161],{88161:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var n=r(13550),o=r(40838),a=r(6833),i=r(82406),s=r(20494),u=r(44194),c=r(10479),l=r(47245),d=r(43151),p=r(79271),f=r(95241),g=r(38722),m=r(40578);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,s=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var E=function(e){var t=e["data-componentid"],r=(0,c.$)().t,A=(0,l.I0)(),E=(0,l.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),b=(0,g.Z)(),y=b.resourceEditPageTitle,R=b.resourceEditBackButtonText,h=b.resourceEditBackButtonLink,I=v((0,u.useState)(!1),2),O=I[0],S=I[1],k=v((0,u.useState)(null),2),P=k[0],T=k[1],x=(0,l.v9)((function(e){return e.config.ui.features})),w=o.m.location.pathname.split("/"),M=w[w.length-2],N=(0,d.Eb)(P),B=N.data,C=N.isLoading,$=N.error,_=N.mutate;(0,u.useEffect)((function(){G()}),[]),(0,u.useEffect)((function(){if(B){var e=!m.H.isAPIResourceUpdateAllowed(x,E),t=m.H.isSystemAPI(null==B?void 0:B.type);(e||t)&&S(!0)}}),[B]),(0,u.useEffect)((function(){$&&A((0,i.V_)({description:r("extensions:develop.apiResource.notifications.getAPIResource.genericError.description"),level:a.QU.ERROR,message:r("extensions:develop.apiResource.notifications.getAPIResource.genericError.message")}))}),[$]);var G=function(){var e=o.m.location.pathname.split("/"),t=e[e.length-1];T(t)};return!C&&!B||$?u.createElement(s.$J,{subtitle:[r("extensions:develop.apiResource.tabs.apiResourceError.subtitles.0"),r("extensions:develop.apiResource.tabs.apiResourceError.subtitles.1")],title:r("extensions:develop.apiResource.tabs.apiResourceError.title"),image:(0,n.jF)().emptySearch,imageSize:"tiny"}):u.createElement(s.O9,{isLoading:C,title:null==B?void 0:B.name,pageTitle:y,loadingStateOptions:{count:5,imageType:"circular"},backButton:{"data-testid":"".concat(t,"-back-button"),onClick:function(){M===f.$d.MANAGEMENT||M===f.$d.ORGANIZATION?o.m.push(f.KG.getPaths().get("API_RESOURCES_CATEGORY").replace(":categoryId",M)):o.m.push(h)},text:M===f.$d.MANAGEMENT?r("pages:rolesEdit.backButton",{type:"Management APIs"}):M===f.$d.ORGANIZATION?r("pages:rolesEdit.backButton",{type:"Organization APIs"}):R},titleTextAlign:"left",bottomMargin:!1,pageHeaderMaxWidth:!0},u.createElement(p.Z,{apiResourceData:B,isAPIResourceDataLoading:C,featureConfig:x,isReadOnly:O,mutateAPIResource:_}))};E.defaultProps={"data-componentid":"api-resource-edit"};const b=E}}]);