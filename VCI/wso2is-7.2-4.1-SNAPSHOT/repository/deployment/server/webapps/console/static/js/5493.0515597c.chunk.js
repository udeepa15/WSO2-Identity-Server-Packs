"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[5493,6512],{27044:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(25340),o=n(55467),r=n(44194),a=n(14517),l=n(87883),s=n(62808),u=n(49706),c=n(99769),d=n(90757);function m(e){return(0,d.ZP)("MuiTableContainer",e)}(0,c.Z)("MuiTableContainer",["root"]);var v=n(31549);const f=["className","component"],p=(0,u.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),g=r.forwardRef((function(e,t){const n=(0,s.Z)({props:e,name:"MuiTableContainer"}),{className:r,component:u="div"}=n,c=(0,o.Z)(n,f),d=(0,i.Z)({},n,{component:u}),g=(e=>{const{classes:t}=e;return(0,l.Z)({root:["root"]},m,t)})(d);return(0,v.jsx)(p,(0,i.Z)({ref:t,as:u,className:(0,a.Z)(g.root,r),ownerState:d},c))}))},21942:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ae});var i=n(17901),o=n(55007),r=n(6567),a=n(25134),l=n(90302),s=n(40838),u=n(76271),c=n(43974),d=n(46666),m=n(75120),v=n(8955),f=n(9183),p=n(7231),g=n(36558),E=n(61339),h=n(78965),R=n(92e3),A=n(81908),S=n(82555),T=n(66796),y=n(6643),C=n(10319),b=n(58613),I=n(6833),N=n(82406),U=n(20494),P=n(47513),L=n(50699),_=n(44194),O=n(10479),D=n(47245),w=n(89141),k=n(26154),x=n(10909),M=n(47625),Z=n(81389),X=n(5939),j=n(64961),F=n(41355),V=n(86105),Q=n(12638),G=n(37077),B=n(11063);function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],s=!0,u=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var H=function(e){var t,n,i=e.adminType,r=e.adminRoleId,a=e.advancedSearch,u=e.defaultListItemLimit,c=e.onUserDelete,d=e.isLoading,v=e.readOnlyUserStores,p=e.featureConfig,g=e.onColumnSelectionChange,E=e.onListItemClick,h=e.onSearchQueryClear,A=e.realmConfigs,T=e.searchQuery,C=e.selection,b=e.showListItemActions,P=e.onboardedGuestUsersList,L=e.associationType,w=e["data-componentid"],x=(0,O.$)().t,M=(0,D.I0)(),Z=(0,o.EV)(null==p||null===(t=p.users)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),X=(0,o.EV)(null==p||null===(n=p.users)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.delete),z=$((0,_.useState)(!1),2),H=z[0],W=z[1],q=$((0,_.useState)(void 0),2),Y=q[0],K=q[1],J=$((0,U.ZK)(),3),ee=J[0],te=J[1],ne=J[2],ie=$((0,_.useState)({}),2),oe=ie[0],re=ie[1],ae=$((0,_.useState)(!1),2),le=ae[0],se=ae[1],ue=(0,D.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.username})),ce=(0,D.v9)((function(e){return e.auth.isPrivilegedUser})),de=(0,D.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.primaryUserStoreDomainName})),me=(0,o.Ac)(m.Z.SAAS_FEATURES_IDENTIFIER),ve=(0,D.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t||null===(t=t.userRolesV3)||void 0===t?void 0:t.enabled})),fe=ve?f.q$:f.dB;(0,_.useEffect)((function(){re(P||{})}),[P]);var pe=function(e){"id"in e&&s.m.push(B.k.getPaths().get("COLLABORATOR_USER_EDIT_PATH").replace(":id",e.id)),"value"in e&&s.m.push(B.k.getPaths().get("COLLABORATOR_USER_EDIT_PATH").replace(":id",e.value))},ge=function(e){var t;return i===S.lu.EXTERNAL&&(null===(t=e[F.k.scim.systemSchema])||void 0===t?void 0:t.userAccountType)===S.sk.OWNER?_.createElement(G.Z,{size:"small"},"Owner"):null},Ee=function(e){return i===S.lu.INTERNAL||(null==ue?void 0:ue.split("@").length)<3?null:(null==ue?void 0:ue.split("@").slice(0,2).join("@"))===(0,V.WX)(null==e?void 0:e.userName)?_.createElement(G.Z,{size:"small"},"Me"):null},he=function(){return T&&0===(null==oe?void 0:oe.totalResults)?_.createElement(U.$J,{action:_.createElement(U.Qj,{onClick:h},x("users:usersList.search.emptyResultPlaceholder.clearButton")),image:(0,j.jF)().emptySearch,imageSize:"tiny",title:x("users:usersList.search.emptyResultPlaceholder.title"),subtitle:[x("users:usersList.search.emptyResultPlaceholder.subTitle.0",{query:T}),x("users:usersList.search.emptyResultPlaceholder.subTitle.1")]}):0===(null==oe?void 0:oe.totalResults)?_.createElement(U.$J,{"data-componentid":"".concat(w,"-empty-placeholder"),image:(0,j.jF)().newList,imageSize:"tiny",subtitle:["There are no administrator users associated with your organization at the moment."]}):null};return _.createElement(_.Fragment,null,_.createElement(U.wQ,{className:"users-table",externalSearch:a,isLoading:d,loadingStateOptions:{count:null!=u?u:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"},actions:function(){if(b){var e=[{"data-componentid":"administrators-list-item-edit-button",hidden:function(){return!(0,V.cr)(null==p?void 0:p.users,S._F.FEATURE_DICTIONARY.get("USER_READ"))},icon:function(e){var t,n,o=(null==e||null===(t=e.userName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.userName)||void 0===n?void 0:n.split("/")[0]:de;return!Z||!(0,V.cr)(null==p?void 0:p.users,S._F.FEATURE_DICTIONARY.get("USER_UPDATE"))||null!=v&&v.includes(o.toString())||i===S.lu.EXTERNAL?"eye":"pencil alternate"},onClick:function(e,t){return pe(t)},popupText:function(e){var t,n,o=(null==e||null===(t=e.userName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.userName)||void 0===n?void 0:n.split("/")[0]:de;return!Z||!(0,V.cr)(null==p?void 0:p.users,S._F.FEATURE_DICTIONARY.get("USER_UPDATE"))||null!=v&&v.includes(o.toString())||i===S.lu.EXTERNAL?x("common:view"):x("common:edit")},renderer:"semantic-icon"}];return e.push({"data-componentid":"administrators-list-item-delete-button",hidden:function(e){var t,n,o=(null==e||null===(t=e.userName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.userName)||void 0===n?void 0:n.split("/")[0]:de;return!(0,V.cr)(null==p?void 0:p.users,S._F.FEATURE_DICTIONARY.get("USER_DELETE"))||ce||!X||(null==v?void 0:v.includes(o.toString()))||i===S.lu.EXTERNAL&&((0,V.WX)(null==e?void 0:e.userName)===(null==A?void 0:A.adminUser)||(null==ue?void 0:ue.includes((0,V.WX)(null==e?void 0:e.userName))))||L===S._F.GUEST_ADMIN_ASSOCIATION_TYPE},icon:function(){return"trash alternate"},onClick:function(e,t){W(!0),K(t)},popupText:function(){return x("users:usersList.list.iconPopups.delete")},renderer:"semantic-icon"}),e}}(),columns:function(){var e=[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){var t,n,i,o=(0,V.WX)(null==e?void 0:e.userName),r=y.QH.resolveUserListSubheader(e),a=void 0!==(null===(t=e.name)||void 0===t?void 0:t.familyName)||void 0!==(null===(n=e.name)||void 0===n?void 0:n.givenName);return _.createElement(Q.Z,{image:!0,as:"h6",className:"header-with-icon","data-componentid":"".concat(w,"-item-heading")},_.createElement(U.Yt,{"data-componentid":"users-list-item-image",name:(null===(i=e.userName.split("/"))||void 0===i?void 0:i.length)>1?e.userName.split("/")[1]:e.userName.split("/")[0],size:"mini",image:e.profileUrl,spaced:"right","data-hj-suppress":""}),_.createElement(Q.Z.Content,null,o,ge(e),Ee(e),a&&_.createElement(Q.Z.Subheader,{"data-componentid":"".concat(w,"-item-sub-heading")},r)))},title:"User"}];if(me===o.iK.ENABLED){var t={allowToggleVisibility:!1,dataIndex:"idpType",id:"idpType",key:"idpType",render:function(e){var t,n,i,o;return null!==(t=e[F.k.scim.systemSchema])&&void 0!==t&&t.idpType?(null===(n=e[F.k.scim.systemSchema])||void 0===n?void 0:n.idpType.split("/").length)>1?null===(o=e[F.k.scim.systemSchema])||void 0===o?void 0:o.idpType.split("/")[1]:null===(i=e[F.k.scim.systemSchema])||void 0===i?void 0:i.idpType:"N/A"},title:_.createElement(_.Fragment,null,_.createElement("div",{className:"header-with-popup"},_.createElement("span",null,x("extensions:manage.users.list.columns.idpType")),_.createElement(U.GI,{trigger:_.createElement("div",{className:"inline"},_.createElement(k.Z,{disabled:!0,name:"info circle",className:"link pointing pl-1"})),content:x("extensions:manage.users.list.popups.content.idpTypeContent"),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0})))};e.push(t)}e.push({allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:""});var n=[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){var t,n=(null===(t=e.display.split("/"))||void 0===t?void 0:t.length)>1?e.display.split("/")[1]:e.display.split("/")[0];return _.createElement(Q.Z,{image:!0,as:"h6",className:"header-with-icon","data-componentid":"".concat(w,"-item-heading")},_.createElement(U.Yt,{"data-componentid":"users-list-item-image",name:n,size:"mini",spaced:"right","data-hj-suppress":""}),_.createElement(Q.Z.Content,null,n))},title:"User"},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:""}];return i===S.lu.INTERNAL?n:e}(),data:oe.Resources,onColumnSelectionChange:g,onRowClick:function(e,t){pe(t),E&&E(e,t)},placeholders:he(),selectable:C,showHeader:me===o.iK.ENABLED,transparent:!d&&null!==he(),"data-componentid":w}),Y&&_.createElement(U.cV,{primaryActionLoading:le,"data-componentid":"".concat(w,"-confirmation-modal"),onClose:function(){return W(!1)},type:"negative",open:H,assertionHint:x("user:deleteUser.confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:"Confirm",secondaryAction:"Cancel",onSecondaryActionClick:function(){W(!1),te(null)},onPrimaryActionClick:function(){se(!0),function(e){var t,n,i=null!==(t=e[F.k.scim.systemSchema])&&void 0!==t&&t.userAccountType?null===(n=e[F.k.scim.systemSchema])||void 0===n?void 0:n.userAccountType:S.sk.CUSTOMER;if(i===S.sk.COLLABORATOR&&"id"in e)return(0,R.e8)(e.id).then((function(){M((0,N.V_)({description:x("invite:notifications.deleteInvite.success.description"),level:I.QU.SUCCESS,message:x("users:notifications.deleteUser.success.message")})),c()})).catch((function(e){e.response&&e.response.data&&e.response.data.description?M((0,N.V_)({description:e.response.data.description,level:I.QU.ERROR,message:x("users:notifications.deleteUser.error.message")})):M((0,N.V_)({description:x("users:notifications.deleteUser.genericError.description"),level:I.QU.ERROR,message:x("users:notifications.deleteUser.genericError.message")}))})).finally((function(){se(!1),W(!1),K(void 0)}));if(i===S.sk.CUSTOMER){var o="value"in e?null==e?void 0:e.value:"id"in e?null==e?void 0:e.id:void 0,a=ve?"value eq ".concat(o):"users[value eq ".concat(o,"]");fe(r,{Operations:[{op:"remove",path:a,value:{}}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]}).then((function(){M((0,N.V_)({description:x("users:notifications.revokeAdmin.success.description"),level:I.QU.SUCCESS,message:x("users:notifications.revokeAdmin.success.message")})),c()})).catch((function(e){var t,n;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?M((0,N.V_)({description:null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.description,level:I.QU.ERROR,message:x("users:notifications.revokeAdmin.error.message")})):M((0,N.V_)({description:x("users:notifications.revokeAdmin.genericError.description"),level:I.QU.ERROR,message:x("users:notifications.revokeAdmin.genericError.message")}))})).finally((function(){se(!1),W(!1),K(void 0)}))}}(Y)},closeOnDimmerClick:!1},_.createElement(U.cV.Header,{"data-componentid":"".concat(w,"-confirmation-modal-header")},x("user:deleteUser.confirmationModal.header")),_.createElement(U.cV.Message,{"data-componentid":"".concat(w,"-confirmation-modal-message"),attached:!0,negative:!0},x("extensions:manage.guest.deleteUser.confirmationModal.message")),_.createElement(U.cV.Content,{"data-componentid":"".concat(w,"-confirmation-modal-content")},_.createElement("div",{className:"modal-alert-wrapper"}," ",ee&&ne),x("extensions:manage.guest.deleteUser.confirmationModal.content"))))};H.defaultProps={selection:!0,showListItemActions:!0,showMetaContent:!0};var W=n(83053),q=n(59133);function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},K.apply(null,arguments)}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Y(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Y(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],s=!0,u=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var oe=function(e){return e[e.EXTERNAL_ADMINS=0]="EXTERNAL_ADMINS",e[e.INTERNAL_ADMINS=1]="INTERNAL_ADMINS",e}(oe||{}),re=function(e){var t,n,j=e.location,F=e["data-componentid"],V=new URLSearchParams(j.search),Q=(0,O.$)().t,G=(0,D.I0)(),$=(0,U.fQ)().getLink,z=(0,o.Ac)(m.Z.SAAS_FEATURES_IDENTIFIER),Y=Z.c,J=(0,b.Z)(),te=J.isLoading,ie=J.userStoresList,re=(0,D.v9)((function(e){return e.config.ui.features})),ae=(0,D.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t?void 0:t.clientHost})),le=(0,D.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.username})),se=(0,D.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t?void 0:t.tenant})),ue=(0,D.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.tenants})),ce=(0,D.v9)((function(e){return e.config.ui.features.guestUser})),de=(0,D.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.primaryUserStoreDomainName})),me=(0,o.EV)(null==ce||null===(t=ce.scopes)||void 0===t?void 0:t.create),ve=ne((0,_.useState)(void 0),2),fe=ve[0],pe=ve[1],ge=ne((0,_.useState)(""),2),Ee=ge[0],he=ge[1],Re=ne((0,_.useState)(""),2),Ae=Re[0],Se=Re[1],Te=ne((0,_.useState)(0),2),ye=Te[0],Ce=Te[1],be=ne((0,_.useState)(l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),Ie=be[0],Ne=be[1],Ue=ne((0,_.useState)(l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT+1),2),Pe=Ue[0],Le=Ue[1],_e=ne((0,_.useState)(0),2),Oe=_e[0],De=_e[1],we=ne((0,_.useState)(0),2),ke=we[0],xe=we[1],Me=ne((0,_.useState)(!1),2),Ze=Me[0],Xe=Me[1],je=ne((0,_.useState)(!1),2),Fe=je[0],Ve=je[1],Qe=ne((0,_.useState)(T.XC.ACCEPTED),2),Ge=Qe[0],Be=Qe[1],$e=ne((0,_.useState)(!1),2),ze=$e[0],He=$e[1],We=ne((0,_.useState)([]),2),qe=We[0],Ye=We[1],Ke=ne((0,_.useState)([]),2),Je=Ke[0],et=Ke[1],tt=ne((0,_.useState)([]),2),nt=tt[0],it=tt[1],ot=ne((0,_.useState)([]),2),rt=ot[0],at=ot[1],lt=ne((0,_.useState)(!1),2),st=lt[0],ut=lt[1],ct=ne((0,_.useState)(!0),2),dt=ct[0],mt=ct[1],vt=ne((0,_.useState)(S.lu.INTERNAL),2),ft=vt[0],pt=vt[1],gt=ne((0,_.useState)(C.XS),2),Et=gt[0],ht=gt[1],Rt=ne((0,_.useState)(null),2),At=Rt[0],St=Rt[1],Tt=ne((0,_.useState)(!1),2),yt=Tt[0],Ct=Tt[1],bt=ne((0,_.useState)(!1),2),It=bt[0],Nt=bt[1],Ut=ne((0,_.useState)(!1),2),Pt=Ut[0],Lt=Ut[1],_t=ne((0,_.useState)(!1),2),Ot=_t[0],Dt=_t[1],wt=ne((0,_.useState)(!1),2),kt=wt[0],xt=wt[1],Mt=ne((0,_.useState)(!1),2),Zt=Mt[0],Xt=Mt[1],jt=ne((0,_.useState)(!1),2),Ft=jt[0],Vt=jt[1],Qt=ne((0,_.useState)(oe.EXTERNAL_ADMINS),2),Gt=Qt[0],Bt=Qt[1],$t=ne((0,_.useState)([]),2),zt=$t[0],Ht=$t[1],Wt=ne((0,_.useState)(""),2),qt=Wt[0],Yt=Wt[1],Kt=ne((0,_.useState)(""),2),Jt=Kt[0],en=Kt[1],tn=ne((0,_.useState)({}),2),nn=tn[0],on=tn[1],rn=ne((0,_.useState)({Resources:[],itemsPerPage:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,startIndex:0,totalResults:0}),2),an=rn[0],ln=rn[1],sn=ne((0,_.useState)({Resources:[],itemsPerPage:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,startIndex:0,totalResults:0}),2),un=sn[0],cn=sn[1],dn=(0,D.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t||null===(t=t.userRolesV3)||void 0===t?void 0:t.enabled})),mn=(0,g.b)(dn?qt:null),vn=mn.data,fn=mn.error,pn=mn.mutate,gn=(0,_.useCallback)((function(e){return dn?new Promise((function(e,t){vn?e({data:vn}):fn?t(fn):pn().then((function(t){e({data:t})})).catch(t)})):(0,f.xQ)(e)}),[dn,vn,fn,pn]),En=u.h.getState().auth.tenantDomain,hn=c.l.getInstance(),Rn=S._F.GROUPS_ATTRIBUTE,An=Y(En,{revalidateIfStale:!0},z===o.iK.ENABLED),Sn=An.data,Tn=An.isLoading,yn=An.isValidating,Cn=An.error,bn=(0,R.WW)(Pe,ye+1,""===Ee?null:Ee,null,de,Rn,!d.$.enableAdminInvite||Ge===T.XC.ACCEPTED),In=bn.data,Nn=bn.isLoading,Un=bn.error,Pn=bn.mutate,Ln=(0,R.J7)(d.$.enableAdminInvite),_n=Ln.data,On=Ln.isLoading,Dn=Ln.error,wn=Ln.mutate,kn=(0,r.Ok)(null,null,null,"name eq Console").data,xn=(0,_.useMemo)((function(){var e;return null==kn||null===(e=kn.applications[0])||void 0===e?void 0:e.id}),[kn]),Mn=(0,E.y)(),Zn=Mn.data,Xn=Mn.error;(0,_.useEffect)((function(){var e=[],t=null==ie?void 0:ie.filter((function(e){return e.enabled})).map((function(t,n){return t.typeName===B.k.READONLY_USERSTORE_TYPE_NAME&&(e.push(t.name.toUpperCase()),St(t.id)),{key:n,text:t.name.toUpperCase(),value:t.name.toUpperCase()}}));Ht(t),at(e),Lt(t.length<=1)}),[te,ie]),(0,_.useEffect)((function(){return qn(),jn(),en((0,h.q)(ue,se)),T.XC.ACCEPTED.toUpperCase()===Ge.toUpperCase()&&(Qn&&0!=Qn.totalResults||((null==_n?void 0:_n.filter((function(e){return e.status===T.XC.PENDING.toUpperCase()})).length)>0?(Be(T.XC.PENDING),He(!0)):(null==_n?void 0:_n.filter((function(e){return e.status===T.XC.EXPIRED.toUpperCase()})).length)>0&&(Be(T.XC.EXPIRED),He(!0)))),function(){Be(T.XC.ACCEPTED),He(!0)}}),[xn]),(0,_.useEffect)((function(){Nt(null==Sn?void 0:Sn.isEnterpriseLoginEnabled)}),[Tn,yn]),(0,_.useEffect)((function(){var e,t,n,i,o,r,a;Un&&(null!=Un&&null!==(e=Un.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?G((0,N.V_)({description:null!==(t=null!==(n=null==Un||null===(i=Un.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description)&&void 0!==n?n:null==Un||null===(o=Un.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.detail)&&void 0!==t?t:Q("users:notifications.fetchUsers.error.description"),level:I.QU.ERROR,message:null!==(r=null==Un||null===(a=Un.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)&&void 0!==r?r:Q("users:notifications.fetchUsers.error.message")})):G((0,N.V_)({description:Q("users:notifications.fetchUsers.genericError.description"),level:I.QU.ERROR,message:Q("users:notifications.fetchUsers.genericError.message")})))}),[Un]),(0,_.useEffect)((function(){var e,t,n,i,o,r,a;Dn&&(null!=Dn&&null!==(e=Dn.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?G((0,N.V_)({description:null!==(t=null!==(n=null==Dn||null===(i=Dn.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description)&&void 0!==n?n:null==Dn||null===(o=Dn.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.detail)&&void 0!==t?t:Q("users:notifications.fetchUsers.error.description"),level:I.QU.ERROR,message:null!==(r=null==Dn||null===(a=Dn.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)&&void 0!==r?r:Q("users:notifications.fetchUsers.error.message")})):G((0,N.V_)({description:Q("users:notifications.fetchUsers.genericError.description"),level:I.QU.ERROR,message:Q("users:notifications.fetchUsers.genericError.message")})))}),[Dn]),(0,_.useEffect)((function(){var e,t,n,i,o,r,a;Xn&&(null!=Xn&&null!==(e=Xn.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?G((0,N.V_)({description:null!==(t=null!==(n=null==Xn||null===(i=Xn.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description)&&void 0!==n?n:null==Xn||null===(o=Xn.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.detail)&&void 0!==t?t:Q("users:notifications.fetchUsers.error.description"),level:I.QU.ERROR,message:null!==(r=null==Xn||null===(a=Xn.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)&&void 0!==r?r:Q("users:notifications.fetchUsers.error.message")})):G((0,N.V_)({description:Q("users:notifications.fetchUsers.genericError.description"),level:I.QU.ERROR,message:Q("users:notifications.fetchUsers.genericError.message")})))}),[Xn]),(0,_.useEffect)((function(){var e,t,n,i,o,r,a;Cn&&(null!=Cn&&null!==(e=Cn.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?G((0,N.V_)({description:null!==(t=null!==(n=null==Cn||null===(i=Cn.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description)&&void 0!==n?n:null==Cn||null===(o=Cn.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.detail)&&void 0!==t?t:Q("extensions:manage.users.administratorSettings.error.description"),level:I.QU.ERROR,message:null!==(r=null==Cn||null===(a=Cn.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)&&void 0!==r?r:Q("extensions:manage.users.administratorSettings.error.message")})):G((0,N.V_)({description:Q("extensions:manage.users.administratorSettings.genericError.description"),level:I.QU.ERROR,message:Q("extensions:manage.users.administratorSettings.genericError.message")})))}),[Cn]),(0,_.useEffect)((function(){if(Ge!==T.XC.ACCEPTED){if(Ce(0),"email co "===Ee||""===Ee||null===Ee)return Ye(_n),void it([]);if(Ee){var e=_n;if(nt.length>0&&(e=nt),Ee.includes("email sw ")){var t=Ee.split("sw ")[1];e=e.filter((function(e){return e.email.startsWith(t)}))}else if(Ee.includes("email ew ")){var n=Ee.split("ew ")[1];e=e.filter((function(e){return e.email.endsWith(n)}))}else if(Ee.includes("email eq ")){var i=Ee.split("eq ")[1];e=e.filter((function(e){return e.email===i}))}else if(Ee.includes("email co ")){var o=Ee.split("co ")[1];e=e.filter((function(e){return e.email.includes(o)}))}Ye(e),it(e)}}}),[Ee]),(0,_.useEffect)((function(){if(Ge!==T.XC.ACCEPTED){var e=null==qe?void 0:qe.filter((function(e){return e.status===Ge.toUpperCase()}));e.length>Ie?(e=e.slice(ye,ye+Ie),et(e),ut(e.length===Ie)):(et(e),ut(!1))}}),[qe,ye,Ie,ze]),(0,_.useEffect)((function(){Ye(_n)}),[_n]),(0,_.useEffect)((function(){ze&&(Ce(0),Ne(l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),zn(),He(!1))}),[ze]),(0,_.useEffect)((function(){V.get(B.k.USER_CREATE_WIZARD_TRIGGER_URL_SEARCH_PARAM_KEY)&&(hn.publish("manage-users-click-create-new",{type:"collaborator"}),Ve(!0))}),[V.get(B.k.USER_CREATE_WIZARD_TRIGGER_URL_SEARCH_PARAM_KEY)]),(0,_.useEffect)((function(){Gt===oe.INTERNAL_ADMINS&&Yn()}),[Gt,qt,yt]),(0,_.useEffect)((function(){Fn()}),[At]),(0,_.useEffect)((function(){var e,t,n,i,o=ee({},nn);(Et!==C.XS&&(o=ee({},an)),(0,L.Z)(Ae))||(o.Resources=null===(i=o)||void 0===i?void 0:i.Resources.filter((function(e){var t;return-1!==(null==e||null===(t=e.display)||void 0===t?void 0:t.split("/")[1]).indexOf(Ae)})));var r=null===(e=o)||void 0===e||null===(e=e.Resources)||void 0===e?void 0:e.slice(ye,ye+Ie);Gt!==oe.EXTERNAL_ADMINS&&(0,L.Z)(r)&&Ce(0),Vt((null===(t=o)||void 0===t||null===(t=t.Resources)||void 0===t?void 0:t.length)>ye+Ie),cn({Resources:r,itemsPerPage:Ie,startIndex:ye,totalResults:null===(n=o)||void 0===n||null===(n=n.Resources)||void 0===n?void 0:n.length}),xt(!1)}),[nn,an,ye,Ie,Et,Ae]);var jn=function(){if(xn){var e={filter:"displayName eq "+d.$.adminRoleName+" and audience.value eq "+xn,schemas:["urn:ietf:params:scim:api:messages:2.0:SearchRequest"],startIndex:0};(0,f.QW)(e).then((function(e){var t;if((null==e||null===(t=e.data)||void 0===t?void 0:t.Resources.length)>0){var n,i,o=null==e||null===(n=e.data)||void 0===n||null===(n=n.Resources[0])||void 0===n?void 0:n.id;if((null==e||null===(i=e.data)||void 0===i||null===(i=i.Resources)||void 0===i?void 0:i.length)>1){var r,a,l=null==e||null===(r=e.data)||void 0===r||null===(r=r.Resources)||void 0===r?void 0:r.filter((function(e){var t;return(null==e||null===(t=e.audience)||void 0===t?void 0:t.type)===p.cv.APPLICATION}));if((null==l?void 0:l.length)>0)o=null===(a=l[0])||void 0===a?void 0:a.id}Yt(o)}})).catch((function(e){e.response&&e.response.data&&e.response.data.description?G((0,N.V_)({description:e.response.data.description,level:I.QU.ERROR,message:Q("users:notifications.getAdminRole.error.message")})):G((0,N.V_)({description:Q("users:notifications.getAdminRole.genericError.description"),level:I.QU.ERROR,message:Q("users:notifications.getAdminRole.genericError.message")}))}))}},Fn=function(){(0,L.Z)(At)||(0,v.$X)(At).then((function(e){e.forEach((function(e){e.connected&&Ct(!0)}))})).catch((function(e){G((0,N.V_)({description:(null==e?void 0:e.description)||Q("userstores:notifications.fetchUserstores.genericError.description"),level:I.QU.ERROR,message:(null==e?void 0:e.message)||Q("userstores:notifications.fetchUserstores.genericError.message")}))}))},Vn=function(e,t){ht(t.value),Dt(null==rt?void 0:rt.includes(t.value.toString().toUpperCase())),Ce(0),Ne(l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),xt(!0),De(0)},Qn=(0,_.useMemo)((function(){return function(e){var t,n,i;if(e){var o=(0,P.Z)(e),r=[];o.Resources=null==o||null===(t=o.Resources)||void 0===t?void 0:t.map((function(e){if(!(0,W.VN)(e))return null;if((0,W.mF)(e)&&y.QH.isAuthenticatedUser(le,null==e?void 0:e.userName))return r[0]=e,null;if(y.QH.isAuthenticatedUser(le,null==e?void 0:e.userName))return r[0]=e,null;if((0,W.mF)(e))return r[1]=e,null;var t=null;if((null==e?void 0:e.emails)instanceof Array){var n=null==e?void 0:e.emails[0];t="string"==typeof n?n:null==n?void 0:n.value}return e.emails=[t],e}));var a=function(e,t){var n,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=(0,P.Z)(e);return(null===(n=r.Resources)||void 0===n?void 0:n.length)>Ie?(null===(i=r.Resources)||void 0===i||i.splice(-1,o),pe(!0)):pe(!1),r};o.Resources=r.concat(o.Resources).filter((function(e){return null!=e}));var l,s,u=(null==e||null===(n=e.Resources)||void 0===n?void 0:n.length)-(null===(i=o.Resources)||void 0===i?void 0:i.length)-Oe,c={};return u>0&&(null==e?void 0:e.itemsPerPage)>=Pe&&(null==e?void 0:e.totalResults)>=Pe?(Le(Pe+u),De((null==e||null===(l=e.Resources)||void 0===l?void 0:l.length)-(null===(s=o.Resources)||void 0===s?void 0:s.length)),c=a(o,Pe-u,1)):c=a(o,Pe,1),c}}(In)}),[In]),Gn=function(e,t){var n=t.activePage;ke>n?(Ce((n-1)*Ie),Le(Ie+1)):Ce((n-1)*Ie+Oe),xe(n),De(0)},Bn=function(e,t){De(0),Ne(t.value)},$n=[{key:1,text:"Accepted",value:"Accepted"},{key:2,text:"Pending",value:"Pending"},{key:3,text:"Expired",value:"Expired"}],zn=function(){Xe(!Ze),he(""),Se("")},Hn=function(e){if(Gt!==oe.INTERNAL_ADMINS){if(he(e),Ge===T.XC.ACCEPTED){if("userName sw "===e)return void he(null);he(e)}}else Se(null==e?void 0:e.trim())},Wn=function(e,t){Be(t.value),He(!0)},qn=function(){var e=re.users.disabledFeatures;mt(null==e?void 0:e.includes(B.k.FEATURE_DICTIONARY.get("ADVANCED_USER_MGT")))},Yn=function(){var e=[],t=[];Xt(!0),(0,L.Z)(qt)||(on({Resources:[],itemsPerPage:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,startIndex:0,totalResults:0}),ln({Resources:[],itemsPerPage:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,startIndex:0,totalResults:0}),gn(qt).then((function(n){var i;(null==n||null===(i=n.data)||void 0===i?void 0:i.users).forEach((function(n){var i=n.display.split("/");i.length>1&&(i[0]===C.XS?e.push(n):t.push(n))})),on({Resources:e,itemsPerPage:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,startIndex:0,totalResults:e.length}),yt&&ln({Resources:t,itemsPerPage:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,startIndex:0,totalResults:t.length}),Xt(!0)})).catch((function(e){var t,n,i,o,r,a,l;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?G((0,N.V_)({description:null!==(n=null!==(i=null==e||null===(o=e.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.description)&&void 0!==i?i:null==e||null===(r=e.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.detail)&&void 0!==n?n:Q("users:notifications.fetchUsers.error.description"),level:I.QU.ERROR,message:null!==(a=null==e||null===(l=e.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.message)&&void 0!==a?a:Q("users:notifications.fetchUsers.error.message")})):G((0,N.V_)({description:Q("users:notifications.fetchUsers.genericError.description"),level:I.QU.ERROR,message:Q("users:notifications.fetchUsers.genericError.message")}))})).finally((function(){Xt(!1)})))},Kn=_.createElement(_.Fragment,null,_.createElement(U.KM,{"data-componentid":"".concat(F,"-add-admin-button"),onClick:function(){hn.publish("admins-click-add-new-button")},className:"tablet or lower hidden"},_.createElement(k.Z,{name:"add"}),Q("extensions:manage.users.buttons.addCollaboratorBtn"),_.createElement(k.Z,{name:"dropdown",className:"ml-3 mr-0"})),_.createElement(x.Z,{"data-componentid":"".concat(F,"-add-admin-button"),icon:"add",onClick:function(){hn.publish("admins-click-add-new-button")},className:"mobile only tablet only",primary:!0})),Jn=[{"data-componentid":"admins-add-external-admin",key:1,text:"Invite admins to Asgardeo",value:S.lu.EXTERNAL},{"data-componentid":"admins-add-internal-admin",key:2,text:"Assign admins from users",value:S.lu.INTERNAL}];me&&Jn.push();var ei,ti=function(e,t){Be(T.XC.ACCEPTED),Bt(t.activeIndex),zn()},ni=function(){var e;return _.createElement(U.PS,{className:"mt-5",advancedSearch:_.createElement(a.n,{onFilter:Hn,filterAttributeOptions:Ge===T.XC.ACCEPTED?[{key:0,text:Q("users:advancedSearch.form.dropdown.filterAttributeOptions.username"),value:"userName"},{key:1,text:Q("users:advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"emails"},{key:2,text:"First Name",value:"name.givenName"},{key:3,text:"Last Name",value:"name.familyName"}]:[{key:0,text:Q("users:advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"email"}],filterAttributePlaceholder:Q("users:advancedSearch.form.inputs.filterAttribute. placeholder"),filterConditionsPlaceholder:Q("users:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:Q("users:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:Q("users:advancedSearch.placeholder"),defaultSearchAttribute:Ge===T.XC.ACCEPTED?"userName":"email",defaultSearchOperator:"co",triggerClearQuery:Ze}),currentListSize:Ge===T.XC.ACCEPTED?null==Qn||null===(e=Qn.Resources)||void 0===e?void 0:e.length:null==Je?void 0:Je.length,listItemLimit:Ie,onItemsPerPageDropdownChange:Bn,"data-componentid":"".concat(F,"-list-layout"),onPageChange:Gn,showPagination:!0,showTopActionPanel:!0,showPaginationPageLimit:!Ot,totalPages:Ge===T.XC.ACCEPTED?Math.ceil((null==Qn?void 0:Qn.totalResults)/Ie):Math.ceil((null==qe?void 0:qe.length)/Ie),totalListSize:Ge===T.XC.ACCEPTED?null==Qn?void 0:Qn.totalResults:null==qe?void 0:qe.length,isLoading:Ge===T.XC.ACCEPTED&&Nn||d.$.enableAdminInvite&&On,onSearchQueryClear:zn,resetPagination:ze,paginationOptions:{disableNextButton:Ge===T.XC.ACCEPTED?!fe:!st},disableRightActionPanel:!0,leftActionPanel:d.$.enableAdminInvite&&_.createElement(M.Z,{"data-componentid":"".concat(F,"-list-userstore-dropdown"),selection:!0,options:$n&&$n,onChange:Wn,text:"Filter by: ".concat(Ge),disabled:Ge===T.XC.ACCEPTED&&Nn||d.$.enableAdminInvite&&On})},Ge===T.XC.ACCEPTED&&_.createElement(H,{advancedSearch:_.createElement(a.n,{onFilter:Hn,filterAttributeOptions:[{key:0,text:Q("users:advancedSearch.form.dropdown.filterAttributeOptions.username"),value:"userName"},{key:1,text:Q("users:advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"emails"}],filterAttributePlaceholder:Q("users:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:Q("users:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:Q("users:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:Q("users:advancedSearch.placeholder"),defaultSearchAttribute:"userName",defaultSearchOperator:"co",triggerClearQuery:Ze}),onboardedGuestUsersList:Qn,userMetaListContent:null,realmConfigs:null==Zn?void 0:Zn.realmConfig,onEmptyListPlaceholderActionClick:function(){return Ve(!0)},onSearchQueryClear:zn,searchQuery:Ee,"data-componentid":"".concat(F,"-list"),readOnlyUserStores:null,featureConfig:re,onUserDelete:function(){Pn()},adminType:S.lu.EXTERNAL,adminRoleId:qt}),Ge===T.XC.PENDING&&_.createElement(X.F,{invitationStatusOption:Ge,onEmptyListPlaceholderActionClick:function(){return Ve(!0)},onboardedGuestUserList:Qn,onSearchQueryClear:zn,guestUsersList:Je,getGuestUsersList:function(){return wn()},searchQuery:Ee}),Ge===T.XC.EXPIRED&&_.createElement(X.F,{invitationStatusOption:Ge,onEmptyListPlaceholderActionClick:function(){return Ve(!0)},onboardedGuestUserList:Qn,onSearchQueryClear:zn,guestUsersList:null==Je?void 0:Je.filter((function(e){return e.status===T.XC.EXPIRED.toUpperCase()})),getGuestUsersList:function(){return wn()},searchQuery:Ee}))},ii=function(){var e;return _.createElement(U.PS,{className:"mt-5",advancedSearch:_.createElement(a.n,{disableSearchFilterDropdown:!0,onFilter:Hn,filterAttributeOptions:[{key:0,text:Q("users:advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"emails"}],placeholder:Q("users:advancedSearch.placeholder"),defaultSearchAttribute:"",defaultSearchOperator:"",triggerClearQuery:Ze}),currentListSize:null==un||null===(e=un.Resources)||void 0===e?void 0:e.length,listItemLimit:Ie,onItemsPerPageDropdownChange:Bn,"data-componentid":"".concat(F,"-list-layout"),onPageChange:Gn,showPagination:!0,showTopActionPanel:!0,showPaginationPageLimit:!Ot,totalPages:Math.ceil((null==un?void 0:un.totalResults)/Ie),totalListSize:null==un?void 0:un.totalResults,isLoading:Zt,onSearchQueryClear:zn,resetPagination:kt,paginationOptions:{disableNextButton:!Ft},leftActionPanel:Pt?null:_.createElement(M.Z,{"data-componentid":"".concat(F,"-userstore-dropdown"),selection:!0,options:zt,onChange:Vn,text:Et,loading:te})},_.createElement(H,{onboardedGuestUsersList:un,userMetaListContent:null,realmConfigs:null==Zn?void 0:Zn.realmConfig,onEmptyListPlaceholderActionClick:function(){return Ve(!0)},onSearchQueryClear:zn,searchQuery:Ae,"data-componentid":"".concat(F,"-list"),readOnlyUserStores:null,featureConfig:re,onUserDelete:function(){Yn()},adminType:S.lu.INTERNAL,adminRoleId:qt,associationType:Jt}))},oi=function(){return d.$.enableAdminInvite&&On||z===o.iK.ENABLED&&(yn||Tn)};return _.createElement(U.Xg,{pageTitle:"Administrators",action:z===o.iK.ENABLED&&Tn?_.createElement("div",null):_.createElement(o.di,{when:null==re||null===(n=re.users)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.create},z===o.iK.ENABLED&&!dt&&_.createElement(x.Z,{"data-componentid":"".concat(F,"-admin-settings-button"),icon:i.UG,onClick:function(){s.m.push(B.k.getPaths().get("COLLABORATOR_SETTINGS_EDIT_PATH"))}}),It&&!dt?_.createElement(M.Z,{loading:oi(),disabled:oi(),"data-componentid":"".concat(F,"-add-admin-dropdown"),direction:"left",floating:!0,icon:null,trigger:Kn},_.createElement(M.Z.Menu,null,Jn.map((function(e){return _.createElement(M.Z.Item,K({key:e.value,onClick:function(){return t=e.value,void(dt||t!==S.lu.INTERNAL?t===S.lu.EXTERNAL&&(hn.publish("admins-click-create-new",{type:"external admin"}),pt(S.lu.EXTERNAL),Ve(!0)):(hn.publish("admins-click-create-new",{type:"internal admin"}),pt(S.lu.INTERNAL),Ve(!0)));var t}},e,{disabled:!It}))})))):_.createElement(_.Fragment,null,_.createElement(U.KM,{loading:oi(),disabled:oi(),"data-componentid":"".concat(F,"-add-admin-button"),onClick:function(){hn.publish("admins-click-add-new-button"),pt(S.lu.EXTERNAL),Ve(!0)},className:"tablet or lower hidden"},_.createElement(k.Z,{name:"add"}),Q("extensions:manage.users.buttons.addCollaboratorBtn")),_.createElement(x.Z,{loading:oi(),disabled:oi(),"data-componentid":"".concat(F,"-add-admin-button"),icon:"add",onClick:function(){hn.publish("admins-click-add-new-button"),pt(S.lu.EXTERNAL),Ve(!0)},className:"mobile only tablet only",primary:!0}))),title:Q("extensions:manage.users.collaboratorsTitle"),description:_.createElement(_.Fragment,null,Q("extensions:manage.users.collaboratorsSubTitle"),_.createElement(U.eb,{link:$("manage.users.collaboratorAccounts.learnMore")},Q("common:learnMore"))),contentTopMargin:!1,"data-componentid":"".concat(F,"-page-layout"),actionColumnWidth:8,headingColumnWidth:8},_.createElement(U.pJ,{className:"mt-0 mb-5"},_.createElement(w.Z,{verticalAlign:"middle"},_.createElement(w.Z.Column,{floated:"left",width:9},_.createElement(U.xv,{className:"message-info-text"},_.createElement("p",null," ",Q("extensions:manage.users.collaboratorAccounts.consoleInfo")," "))),_.createElement(w.Z.Column,{floated:"right",width:6},_.createElement(U.OR,{value:ae,"data-componentid":"".concat(F,"-tenanted-console-link")})))),It&&!dt?_.createElement(U.M$,{activeIndex:Gt,"data-testid":"".concat(F,"-administrator-tabs"),defaultActiveIndex:0,onTabChange:ti,panes:(ei=[],ei.push({componentId:"external-admins",menuItem:{content:"Asgardeo"},render:ni}),ei.push({componentId:"internal-admins",menuItem:{content:se+" organization"},render:ii}),ei)}):ni(),Fe?d.$.enableAdminInvite?_.createElement(q.S,{"data-componentid":"".concat(F,"-add-admin-wizard-modal"),closeWizard:function(){Ve(!1)},onInvitationSendSuccessful:function(){wn(),hn.publish("manage-users-finish-creating-collaborator-user"),ft===S.lu.EXTERNAL&&(Be(T.XC.PENDING),Bt(oe.EXTERNAL_ADMINS)),ft===S.lu.INTERNAL&&(Be(T.XC.ACCEPTED),Bt(oe.INTERNAL_ADMINS)),He(!0)},adminTypeSelection:ft,onUserUpdate:function(){ft===S.lu.EXTERNAL&&(Bt(oe.EXTERNAL_ADMINS),Pn()),ft===S.lu.INTERNAL&&(Be(T.XC.ACCEPTED),Bt(oe.INTERNAL_ADMINS),Yn())}}):_.createElement(A.G,{"data-componentid":"".concat(F,"-add-admin-wizard-modal"),closeWizard:function(){Ve(!1)},listOffset:ye,listItemLimit:Ie,updateList:function(){return wn()},rolesList:[],emailVerificationEnabled:!1,isAdminUser:!0,defaultUserTypeSelection:S.sk.ADMINISTRATOR,onSuccessfulUserAddition:function(){return null}}):null)};re.defaultProps={"data-componentid":"asgardeo-administrators"};const ae=re},8955:(e,t,n)=>{n.d(t,{$X:()=>u,RA:()=>d,ef:()=>m,uv:()=>c});var i=n(2292),o=n(76271),r=n(10319),a=n(6833),l="Resource not found.",s=i.AsgardeoSPAClient.getInstance().httpRequest.bind(i.AsgardeoSPAClient.getInstance()),u=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.f2.GET,url:"".concat(o.h.getState().config.endpoints.onPremUserStoreAgentConnection,"/").concat(e)};return s(t).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==l)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))},c=function(e,t,n){var i=n===r.uD.RemoteUserStoreManager?"".concat(o.h.getState().config.endpoints.remoteUserStoreAgentConnection,"/").concat(e,"/agent/").concat(t):"".concat(o.h.getState().config.endpoints.onPremUserStoreAgentConnection,"/").concat(e,"/agent/").concat(t),u={headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.f2.DELETE,url:i};return s(u).then((function(e){return 204!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==l)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))},d=function(e,t){var n=t===r.uD.RemoteUserStoreManager?"".concat(o.h.getState().config.endpoints.remoteUserStoreAgentToken,"/").concat(e):o.h.getState().config.endpoints.onPremUserStoreAgentToken,i={data:t===r.uD.RemoteUserStoreManager?{}:{userStoreId:e},headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.f2.POST,url:n};return s(i).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==l)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))},m=function(e,t,n){var i=n===r.uD.RemoteUserStoreManager?"".concat(o.h.getState().config.endpoints.remoteUserStoreAgentToken,"/").concat(t,"/regenerate"):"".concat(o.h.getState().config.endpoints.onPremUserStoreAgentToken,"/regenerate"),u={data:n===r.uD.RemoteUserStoreManager?{existingTokenId:e}:{existingTokenId:e,userStoreId:t},headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.f2.POST,url:i};return s(u).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==l)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))}},36558:(e,t,n)=>{n.d(t,{b:()=>a});var i=n(96124),o=n(76271),r=n(6833),a=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={headers:{Accept:"application/json","Content-Type":"application/json"},method:r.f2.GET,url:"".concat(o.h.getState().config.endpoints.rolesV3,"/").concat(e)},a=(0,i.Z)(e&&t?n:null);return{data:a.data,error:a.error,isLoading:a.isLoading,isValidating:a.isValidating,mutate:a.mutate,response:a.response}}},78965:(e,t,n)=>{n.d(t,{q:()=>i});var i=function(e,t){var n="";if((null==e?void 0:e.length)>0){var i=e.find((function(e){return e.domain===t}));i&&(n=i.associationType)}return n}},20839:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(92336),o=n(31549),r=n(87449),a=n(14517);const l=(0,n(44194).forwardRef)(((e,t)=>{var{className:n}=e,l=(0,i.__rest)(e,["className"]);return(0,o.jsx)(r.Z,Object.assign({ref:t,className:(0,a.Z)("oxygen-table","OxygenTable-root",n)},l))}))},24383:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(92336),o=n(31549),r=n(17652),a=n(14517);const l=(0,n(44194).forwardRef)(((e,t)=>{var{className:n}=e,l=(0,i.__rest)(e,["className"]);return(0,o.jsx)(r.Z,Object.assign({ref:t,className:(0,a.Z)("oxygen-table-body","OxygenTableBody-root",n)},l))}))},1227:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(92336),o=n(31549),r=n(38480),a=n(14517);const l=(0,n(44194).forwardRef)(((e,t)=>{var{className:n}=e,l=(0,i.__rest)(e,["className"]);return(0,o.jsx)(r.Z,Object.assign({ref:t,className:(0,a.Z)("oxygen-table-cell","OxygenTableCell-root",n)},l))}))},4358:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(92336),o=n(31549),r=n(49706),a=n(53080),l=n(14517),s=n(44194);const u=(0,r.ZP)(a.Z)((()=>({"td, th":{border:0}}))),c=(0,s.forwardRef)(((e,t)=>{var{className:n,hideBorder:r}=e,s=(0,i.__rest)(e,["className","hideBorder"]);return r?(0,o.jsx)(u,Object.assign({ref:t,className:(0,l.Z)("oxygen-table-row","OxygenTableRow-root",n)},s)):(0,o.jsx)(a.Z,Object.assign({ref:t,className:(0,l.Z)("oxygen-table-row","OxygenTableRow-root",n)},s))}))},1651:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(22084),o=n(38419),r=n(78880),a=n(99424);const l=(0,r.Z)((function(e){var t=(0,i.Z)(e,a.Z);return t.length&&t[0]===e[0]?(0,o.Z)(t):[]}))}}]);