"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[1411],{68088:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(96124),a=n(76271),i=n(6833);const o=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={headers:{Accept:"application/json","Content-Type":"application/json"},method:i.f2.GET,url:"".concat(a.h.getState().config.endpoints.actions,"/").concat(e)},o=(0,r.Z)(t?n:null,{shouldRetryOnError:!1});return{data:o.data,error:o.error,isLoading:o.isLoading,isValidating:o.isValidating,mutate:o.mutate}}},67723:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(97109),a=n(53615),i=n(44194),o=n(10479);const c=function(e){var t=e.versionInfo,n=e.size,c=void 0===n?"medium":n,l=e["data-componentid"],s=void 0===l?"action-version-chips":l,u=(0,o.$)().t;return i.createElement(r.Z,{sx:{alignItems:"center",display:"flex",gap:1},"data-componentid":s},t.displayVersion&&i.createElement(a.Z,{label:u("actions:versioning.versionLabel",{version:t.displayVersion}),size:c,sx:{"> span":{padding:".5833em .833em"},backgroundColor:"#dcf0fa",borderRadius:"var(--oxygen-shape-borderRadius)",color:"#0082c3",fontSize:"12px",fontWeight:"500",height:"24px"},"data-componentid":"".concat(s,"-version")}),t.isOutdated&&i.createElement(a.Z,{label:u("actions:versioning.outdatedLabel"),size:c,sx:{"> span":{padding:".5833em .833em"},backgroundColor:"#faebcd",borderRadius:"var(--oxygen-shape-borderRadius)",color:"#e68e00",fontSize:"12px",fontWeight:"500",height:"24px"},"data-componentid":"".concat(s,"-outdated")}))}},81559:(e,t,n)=>{n.d(t,{n:()=>i});var r=n(47245),a=n(89326),i=function(e,t){var n,i=(0,r.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.actions})),o=function(e){return e?e.replace(/^v(\d+)$/,"$1.x"):e},c=a.k.ACTIONS_CONFIG_PATHS[e],l=null==i||null===(n=i.types)||void 0===n||null===(n=n[c])||void 0===n||null===(n=n.version)||void 0===n?void 0:n.latest,s=t||l,u=function(e,t){if(!e||!t)return!1;var n=e.replace(/^v/,""),r=t.replace(/^v/,"");return parseInt(n,10)<parseInt(r,10)}(s,l);return{currentVersion:s,displayVersion:o(s),isOutdated:u,latestDisplayVersion:o(l),latestVersion:l}}},71411:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ln});var r=n(97109),a=n(55007),i=n(60486),o=n(40838),c=n(6833),l=n(82406),s=n(20494),u=n(50699),d=n(44194),m=n(10479),p=n(47245),f=n(39114),h=n(89141),g=n(2292),y=n(76271),v=n(43939),b=n(89326),E=g.AsgardeoSPAClient.getInstance().httpRequest.bind(g.AsgardeoSPAClient.getInstance());const S=function(e,t,n){var r={headers:{Accept:"application/json","Content-Type":"application/json"},method:c.f2.POST,url:"".concat(y.h.getState().config.endpoints.actions,"/").concat(e,"/").concat(t,"/").concat(n)};return E(r).then((function(e){if(200!==e.status)throw new v.u(b.k.ERROR_MESSAGES.UPDATE_ACTION_INVALID_STATUS_CODE_ERROR.getErrorMessage(),null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){var t;throw new v.u(e.message,e.stack,null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code,e.request,e.response,e.config)}))};var w=g.AsgardeoSPAClient.getInstance().httpRequest.bind(g.AsgardeoSPAClient.getInstance());const A=function(e,t){var n={headers:{Accept:"application/json","Content-Type":"application/json"},method:c.f2.DELETE,url:"".concat(y.h.getState().config.endpoints.actions,"/").concat(e,"/").concat(t)};return w(n).then((function(e){if(204!==e.status)throw new v.u(b.k.ERROR_MESSAGES.DELETE_ACTION_INVALID_STATUS_CODE_ERROR.getErrorMessage(),null,e.status,e.request,e,e.config);return Promise.resolve(null==e?void 0:e.data)})).catch((function(e){var t;throw new v.u(e.message,e.stack,null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code,e.request,e.response,e.config)}))};var P=g.AsgardeoSPAClient.getInstance().httpRequest.bind(g.AsgardeoSPAClient.getInstance());const T=function(e,t,n){var r={data:n,headers:{Accept:"application/json","Content-Type":"application/json"},method:c.f2.PATCH,url:"".concat(y.h.getState().config.endpoints.actions,"/").concat(e,"/").concat(t)};return P(r).then((function(e){if(200!==e.status)throw new v.u(b.k.ERROR_MESSAGES.UPDATE_ACTION_INVALID_STATUS_CODE_ERROR.getErrorMessage(),null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){var t;throw new v.u(e.message,e.stack,null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code,e.request,e.response,e.config)}))};var O=n(96124);const x=function(e,t){var n={headers:{Accept:"application/json","Content-Type":"application/json"},method:c.f2.GET,url:"".concat(y.h.getState().config.endpoints.actions,"/").concat(e,"/").concat(t)},r=!(0,u.Z)(t),a=(0,O.Z)(r?n:null,{shouldRetryOnError:!1});return{data:a.data,error:a.error,isLoading:a.isLoading,isValidating:a.isValidating,mutate:a.mutate}};var I=n(68088),R=n(67723),_=n(36990),C=n(1771),k=n(26595),N=n(44777),D=n(41472),Z=n(23828),j=n(78340),U=n(37105),L=n(6970),V=n(17901),M=n(59673);function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Y=function(e){var t,n=e.versionInfo,i=e.onUpdate,o=e.onDismiss,c=e.showDismissButton,l=void 0===c||c,u=e.showDetails,f=void 0===u||u,h=e.isUpdateLoading,g=void 0!==h&&h,y=e["data-componentid"],v=void 0===y?"action-version-warning-banner":y,b=(0,m.$)().t,E=(0,s.fQ)().getLink,S=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.actions})),w=(0,a.EV)(null==S||null===(t=S.scopes)||void 0===t?void 0:t.update),A=F((0,d.useState)(!0),2),P=A[0],T=A[1],O=F((0,d.useState)(!1),2),x=O[0],I=O[1],R=F((0,d.useState)(!1),2),H=R[0],Y=R[1];if(!n.isOutdated||!w)return null;return P?d.createElement(_.Z,{severity:"warning",sx:{marginBottom:2},action:d.createElement(r.Z,{sx:{alignItems:"center",display:"flex",marginRight:"var(--oxygen-spacing)"}},f&&d.createElement(k.Z,{className:"banner-view-hide-details","data-componentid":"".concat(v,"-view-details-button"),onClick:function(){return I(!x)}},b(x?"actions:versioning.outdated.warning.hideDetailsButton":"actions:versioning.outdated.warning.viewDetailsButton")),l&&d.createElement(D.Z,{size:"small",onClick:function(){T(!1),o&&o()},className:"ignore-once-button","data-componentid":"".concat(v,"-dismiss-button")},d.createElement(V.DX,null))),"data-componentid":v},d.createElement(C.Z,{className:"alert-title"},d.createElement(M.c,{components:{strong:d.createElement("strong",null)}},b("actions:versioning.outdated.warning.title"))),d.createElement(M.c,{i18nKey:"actions:versioning.outdated.warning.message",tOptions:{latestVersion:n.latestDisplayVersion}},"A new",d.createElement(N.Z,{filled:!1,sx:{fontWeight:600}},"version ",n.latestDisplayVersion),"of this action is available now. Please update to the latest version."),x&&d.createElement(r.Z,null,d.createElement(r.Z,{sx:{paddingLeft:"30px"}},d.createElement(Z.Z,{dense:!0},d.createElement(j.Z,{sx:{display:"list-item",listStyleType:"disc"}},d.createElement(U.Z,null,d.createElement(L.Z,{variant:"body2"},d.createElement(M.c,{i18nKey:"actions:versioning.outdated.warning.details.title",tOptions:{currentVersion:n.displayVersion,latestVersion:n.latestDisplayVersion}},"You are currently using",d.createElement(N.Z,{filled:!1,sx:{fontWeight:600}},"version ",n.displayVersion),"of this action which will be deprecated soon. Please update to the latest",d.createElement(N.Z,{filled:!1,sx:{fontWeight:600}},"version ",n.latestDisplayVersion),"to continue receiving support and updates.")))))),d.createElement(L.Z,{variant:"body2"},d.createElement(M.c,{i18nKey:"actions:versioning.outdated.warning.details.preRequisite"},"Before updating, please ensure that you have read the",d.createElement(s.eb,{link:E("develop.actions.versioning.learnMore"),showEmptyLinkText:!0,showEmptyLink:!1},"documentation"),"for any breaking changes.")),i&&d.createElement(k.Z,{sx:{marginTop:"var(--oxygen-spacing-2)"},variant:"contained",onClick:function(){return Y(!0)},"data-componentid":"".concat(v,"-upgrade-button")},b("actions:versioning.outdated.warning.updateButton"))),H&&d.createElement(s.cV,{primaryActionLoading:g,"data-componentid":"".concat(v,"-update-confirmation-modal"),onClose:function(){return Y(!1)},type:"negative",open:H,assertionHint:b("actions:versioning.outdated.warning.confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:b("common:confirm"),secondaryAction:b("common:cancel"),onSecondaryActionClick:function(){Y(!1)},onPrimaryActionClick:function(){Y(!1),i&&i()},closeOnDimmerClick:!1},d.createElement(s.cV.Header,{"data-componentid":"".concat(v,"-update-confirmation-modal-header")},b("actions:versioning.outdated.warning.confirmationModal.header")),d.createElement(s.cV.Message,{"data-componentid":"".concat(v,"-update-confirmation-modal-message"),attached:!0,negative:!0},b("actions:versioning.outdated.warning.confirmationModal.message")),d.createElement(s.cV.Content,{"data-componentid":"".concat(v,"-update-confirmation-modal-content")},b("actions:versioning.outdated.warning.confirmationModal.content")))):null};var W=n(4865),z=n(50281),K=n(921),G=n(86105),B=n(79438),$=n(82457),q=n(51835),Q=n.n(q),J=n(27975),X=n.n(J),ee=n(55900),te=n.n(ee),ne=n(21555),re=n.n(ne),ae=n(3621),ie=n.n(ae),oe=n(5062),ce=n.n(oe),le=n(22431),se={};se.styleTagTransform=ce(),se.setAttributes=re(),se.insert=te().bind(null,"head"),se.domAPI=X(),se.insertStyleElement=ie();Q()(le.Z,se);le.Z&&le.Z.locals&&le.Z.locals;const ue=function(e){var t=e.initialValues,n=e.isCreateFormState,r=e.isReadOnly,a=e.showHeadersAndParams,i=e.onAuthenticationTypeChange,o=e["data-componentid"],c=void 0===o?"common-action-config-form":o,l=(0,m.$)().t;return d.createElement("div",{className:"common-action-config-form"},d.createElement("div",{className:"form-field-wrapper"},d.createElement(B.SE,{key:"name",className:"text-field-container",width:16,FormControlProps:{margin:"dense"},ariaLabel:"actionName",required:!0,"data-componentid":"".concat(c,"-action-name"),name:"name",type:"text",label:l("actions:fields.name.label"),placeholder:l("actions:fields.name.placeholder"),helperText:d.createElement(s.kW,{className:"hint",compact:!0},l("actions:fields.name.hint")),component:B.xh,maxLength:100,minLength:0,disabled:r})),d.createElement($.Z,{initialValues:t,isCreateFormState:n,onAuthenticationTypeChange:i,isReadOnly:r,showHeadersAndParams:a}))};var de=n(81536),me=n(39715),pe=n(44597),fe=n(28676);const he=function(e){var t=e.readonly,n=e.rule,r=e.ruleActionType,a=e.isHasRule,i=e.setIsHasRule,o=e.setRule,c=e["data-componentid"],l=void 0===c?"action-rule-config-form":c,u=(0,pe.Z)(),p=u.addNewRule,f=u.ruleInstance,h=(0,m.$)().t;return(0,d.useEffect)((function(){f||(i(!1),o(null)),f&&!(0,fe.Z)(f,n)&&o(f)}),[f]),(0,d.useEffect)((function(){a&&!f&&p()}),[a]),d.createElement(d.Fragment,null,d.createElement(de.Z,{className:"divider-container"}),d.createElement(s.X6,{className:"heading-container",as:"h5"},d.createElement(M.c,{i18nKey:"actions:fields.rules.label"},"Execution Rule")),a?d.createElement(me.Z,{disableLastRuleDelete:!1,readonly:t,"data-componentid":l}):d.createElement(_.Z,{className:"alert-nutral",icon:!1,"data-componentid":"".concat(l,"-no-rule-info-box")},d.createElement(C.Z,{className:"alert-title","data-componentid":"".concat(l,"-rule-info-box-title")},d.createElement(M.c,{i18nKey:"actions:fields.rules.info.title"},"No execution rule is configured.")),d.createElement(M.c,{i18nKey:"actions:fields.rules.info.message."+r,defaults:"This action will be executed without any conditions.",components:[d.createElement(s.EK,{key:"authorization_code"},"authorization_code"),d.createElement(s.EK,{key:"client_credentials"},"client_credentials"),d.createElement(s.EK,{key:"password"},"password"),d.createElement(s.EK,{key:"refresh_token"},"refresh_token")]}),d.createElement("div",null,d.createElement(k.Z,{onClick:function(){return i(!0)},variant:"outlined",size:"small",className:"secondary-button","data-componentid":"".concat(l,"-configure-rule-button"),disabled:t},h("actions:fields.rules.button")))))};var ge=g.AsgardeoSPAClient.getInstance().httpRequest.bind(g.AsgardeoSPAClient.getInstance());const ye=function(e,t){var n={data:t,method:c.f2.POST,url:"".concat(y.h.getState().config.endpoints.actions,"/").concat(e)};return ge(n).then((function(e){if(201!==e.status)throw new v.u(b.k.ERROR_MESSAGES.CREATE_ACTION_INVALID_STATUS_CODE_ERROR.getErrorMessage(),null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){var t;throw new v.u(e.message,e.stack,null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code,e.request,e.response,e.config)}))};var ve=n(75173),be=function(){var e=(0,p.I0)(),t=(0,m.$)().t;return function(n){e((0,l.V_)({description:t("actions:notification.success."+n+".description"),level:c.QU.SUCCESS,message:t("actions:notification.success."+n+".message")}))}},Ee=function(){var e=(0,p.I0)(),t=(0,m.$)().t;return function(n,r){var a;null!==(a=n.response)&&void 0!==a&&null!==(a=a.data)&&void 0!==a&&a.description?e((0,l.V_)({description:t("actions:notification.error."+r+".description",{description:n.response.data.description}),level:c.QU.ERROR,message:t("actions:notification.error."+r+".message")})):e((0,l.V_)({description:t("actions:notification.genericError."+r+".description"),level:c.QU.ERROR,message:t("actions:notification.genericError."+r+".message")}))}},Se=n(63875),we=n(73593),Ae={};Ae.styleTagTransform=ce(),Ae.setAttributes=re(),Ae.insert=te().bind(null,"head"),Ae.domAPI=X(),Ae.insertStyleElement=ie();Q()(we.Z,Ae);we.Z&&we.Z.locals&&we.Z.locals;function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Pe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Re(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const _e=function(e){var t=e.initialValues,n=e.isLoading,a=e.isReadOnly,i=e.actionTypeApiPath,o=e.isCreateFormState,c=e["data-componentid"],l=void 0===c?"action-config-form":c,u=(0,p.v9)((function(e){return e.config.ui.features.actions})),f=Ie((0,d.useState)(!1),2),h=f[0],g=f[1],y=Ie((0,d.useState)(null),2),v=y[0],E=y[1],S=Ie((0,d.useState)(!1),2),w=S[0],A=S[1],P=Ie((0,d.useState)(!1),2),O=P[0],R=P[1],_=Ie((0,d.useState)(null),2),C=_[0],N=_[1],D=(0,m.$)().t,Z=be(),j=Ee(),U=(0,I.Z)(i).mutate,L=x(i,null==t?void 0:t.id),V=L.data,M=L.isLoading,F=L.mutate,H=L.error,Y=(0,z.Z)(i).data,$=(0,G.cr)(u,b.k.FEATURE_DICTIONARY.get("PRE_ISSUE_ACCESS_TOKEN_RULE")),q=(0,G.cr)(u,b.k.FEATURE_DICTIONARY.get("PRE_ISSUE_ACCESS_TOKEN_HEADERS_AND_PARAMS"));(0,d.useEffect)((function(){null!=t&&t.id?(E(t.authenticationType),g(!1)):g(!0)}),[t]),(0,d.useEffect)((function(){null!=V&&V.rule&&R(!0)}),[V]);var Q=function(){return n?d.createElement(r.Z,{className:"placeholder-box"},d.createElement(W.Z,{variant:"rectangular",height:7,width:"30%"}),d.createElement(W.Z,{variant:"rectangular",height:28}),d.createElement(W.Z,{variant:"rectangular",height:7,width:"90%"}),d.createElement(W.Z,{variant:"rectangular",height:7})):d.createElement(d.Fragment,null,d.createElement(ue,{initialValues:t,isCreateFormState:o,isReadOnly:a,onAuthenticationTypeChange:function(e,t){E(e),g(t)},showHeadersAndParams:q}),Y&&$&&d.createElement(he,{readonly:a,rule:C,ruleActionType:i,setRule:N,isHasRule:O,setIsHasRule:R,"data-componentid":"".concat(l,"-rule")}))};return d.createElement(d.Fragment,null,(o||!M&&!H&&V)&&d.createElement(K.h,{conditionExpressionsMetaData:Y,initialData:null==V?void 0:V.rule},d.createElement(B.vy,{onSubmit:function(e,n){!function(e,n){var r;O?r=C:o||C||(r={});var a={};if(h||o)switch(e.authenticationType){case ve.am.BASIC:a.username=e.usernameAuthProperty,a.password=e.passwordAuthProperty;break;case ve.am.BEARER:a.accessToken=e.accessTokenAuthProperty;break;case ve.am.API_KEY:a.header=e.headerAuthProperty,a.value=e.valueAuthProperty;case ve.am.NONE:}if(o){var c=Oe({endpoint:{allowedHeaders:null==e?void 0:e.allowedHeaders,allowedParameters:null==e?void 0:e.allowedParameters,authentication:{properties:a,type:e.authenticationType},uri:e.endpointUri},name:e.name},null!==r&&{rule:r});A(!0),ye(i,c).then((function(){Z(b.k.CREATE),U()})).catch((function(e){j(e,b.k.CREATE)})).finally((function(){A(!1)}))}else{var l=Oe({endpoint:h||null!=n&&n.endpointUri||null!=n&&n.allowedHeaders||null!=n&&n.allowedParameters?{allowedHeaders:null!=n&&n.allowedHeaders?e.allowedHeaders:void 0,allowedParameters:null!=n&&n.allowedParameters?e.allowedParameters:void 0,authentication:h?{properties:a,type:e.authenticationType}:void 0,uri:null!=n&&n.endpointUri?e.endpointUri:void 0}:void 0,name:null!=n&&n.name?e.name:void 0},null!==r&&{rule:r});A(!0),T(i,t.id,l).then((function(){Z(b.k.UPDATE),g(!1),F()})).catch((function(e){j(e,b.k.UPDATE)})).finally((function(){A(!1)}))}}(e,n.getState().dirtyFields)},validate:function(e){return(0,Se.W)(e,{authenticationType:v,isAuthenticationUpdateFormState:h,isCreateFormState:o})},initialValues:t,render:function(e){var t=e.handleSubmit;return d.createElement(s.pJ,{className:"form-wrapper",padded:"very","data-componentid":"".concat(l,"-section")},d.createElement("div",{className:"form-container with-max-width"},Q(),!n&&d.createElement(k.Z,{size:"medium",variant:"contained",onClick:t,className:"button-container","data-componentid":"".concat(l,"-primary-button"),loading:w,disabled:a},D(o?"actions:buttons.create":"actions:buttons.update"))))}})))};var Ce=n(80343),ke={};ke.styleTagTransform=ce(),ke.setAttributes=re(),ke.insert=te().bind(null,"head"),ke.domAPI=X(),ke.insertStyleElement=ie();Q()(Ce.Z,ke);Ce.Z&&Ce.Z.locals&&Ce.Z.locals;function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ne(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ne(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Le(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Ve=function(e){var t=e.initialValues,n=e.isLoading,a=e.isReadOnly,i=e.actionTypeApiPath,o=e.isCreateFormState,c=e["data-componentid"],l=void 0===c?"action-config-form":c,u=(0,p.v9)((function(e){return e.config.ui.features.actions})),f=Ue((0,d.useState)(!1),2),h=f[0],g=f[1],y=Ue((0,d.useState)(null),2),v=y[0],E=y[1],S=Ue((0,d.useState)(!1),2),w=S[0],A=S[1],P=Ue((0,d.useState)(!1),2),O=P[0],R=P[1],_=Ue((0,d.useState)(null),2),C=_[0],N=_[1],D=(0,m.$)().t,Z=be(),j=Ee(),U=(0,I.Z)(i).mutate,L=x(i,null==t?void 0:t.id),V=L.data,M=L.isLoading,F=L.mutate,H=L.error,Y=(0,z.Z)(i).data,$=(0,G.cr)(u,b.k.FEATURE_DICTIONARY.get("PRE_ISSUE_ID_TOKEN_RULE")),q=(0,G.cr)(u,b.k.FEATURE_DICTIONARY.get("PRE_ISSUE_ID_TOKEN_HEADERS_AND_PARAMS"));(0,d.useEffect)((function(){null!=t&&t.id?(E(t.authenticationType),g(!1)):g(!0)}),[t]),(0,d.useEffect)((function(){null!=V&&V.rule&&R(!0)}),[V]);var Q=function(){return n?d.createElement(r.Z,{className:"placeholder-box"},d.createElement(W.Z,{variant:"rectangular",height:7,width:"30%"}),d.createElement(W.Z,{variant:"rectangular",height:28}),d.createElement(W.Z,{variant:"rectangular",height:7,width:"90%"}),d.createElement(W.Z,{variant:"rectangular",height:7})):d.createElement(d.Fragment,null,d.createElement(ue,{initialValues:t,isCreateFormState:o,isReadOnly:a,onAuthenticationTypeChange:function(e,t){E(e),g(t)},showHeadersAndParams:q}),Y&&$&&d.createElement(he,{readonly:a,rule:C,ruleActionType:i,setRule:N,isHasRule:O,setIsHasRule:R,"data-componentid":"".concat(l,"-rule")}))};return d.createElement(d.Fragment,null,(o||!M&&!H&&V)&&d.createElement(K.h,{conditionExpressionsMetaData:Y,initialData:null==V?void 0:V.rule},d.createElement(B.vy,{onSubmit:function(e,n){!function(e,n){var r;O?r=C:o||C||(r={});var a={};if(h||o)switch(e.authenticationType){case ve.am.BASIC:a.username=e.usernameAuthProperty,a.password=e.passwordAuthProperty;break;case ve.am.BEARER:a.accessToken=e.accessTokenAuthProperty;break;case ve.am.API_KEY:a.header=e.headerAuthProperty,a.value=e.valueAuthProperty;case ve.am.NONE:}if(o){var c=Ze({endpoint:{allowedHeaders:null==e?void 0:e.allowedHeaders,allowedParameters:null==e?void 0:e.allowedParameters,authentication:{properties:a,type:e.authenticationType},uri:e.endpointUri},name:e.name},null!==r&&{rule:r});A(!0),ye(i,c).then((function(){Z(b.k.CREATE),U()})).catch((function(e){j(e,b.k.CREATE)})).finally((function(){A(!1)}))}else{var l=Ze({endpoint:h||null!=n&&n.endpointUri||null!=n&&n.allowedHeaders||null!=n&&n.allowedParameters?{allowedHeaders:null!=n&&n.allowedHeaders?e.allowedHeaders:void 0,allowedParameters:null!=n&&n.allowedParameters?e.allowedParameters:void 0,authentication:h?{properties:a,type:e.authenticationType}:void 0,uri:null!=n&&n.endpointUri?e.endpointUri:void 0}:void 0,name:null!=n&&n.name?e.name:void 0},null!==r&&{rule:r});A(!0),T(i,t.id,l).then((function(){Z(b.k.UPDATE),g(!1),F()})).catch((function(e){j(e,b.k.UPDATE)})).finally((function(){A(!1)}))}}(e,n.getState().dirtyFields)},validate:function(e){return(0,Se.W)(e,{authenticationType:v,isAuthenticationUpdateFormState:h,isCreateFormState:o})},initialValues:t,render:function(e){var t=e.handleSubmit;return d.createElement(s.pJ,{className:"form-wrapper",padded:"very","data-componentid":"".concat(l,"-section")},d.createElement("div",{className:"form-container with-max-width"},Q(),!n&&d.createElement(k.Z,{size:"medium",variant:"contained",onClick:t,className:"button-container","data-componentid":"".concat(l,"-primary-button"),loading:w,disabled:a},D(o?"actions:buttons.create":"actions:buttons.update"))))}})))};var Me=n(13597),Fe=n(36940),He=n(16590),Ye=n(19980),We=n(47018),ze=n(64961),Ke=["certificate","data-componentid"];function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(null,arguments)}var Be=function(e){var t=e.certificate,n=e["data-componentid"],r=void 0===n?"certificate-form-field-modal":n,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Ke),i=(0,m.$)().t,o=d.createElement(Ye.Z,{className:"certificate","data-componentid":r},d.createElement("p",{className:"certificate-field"},i("certificates:keystore.certificateViewValidation",{algorithms:Fe.lu.SUPPORTED_KEY_ALGORITHMS.map((function(e,t){return d.createElement("span",{key:"".concat(e,"+").concat(t)},d.createElement(s.EK,null,e),"\xa0")}))})));return d.createElement(We.Z,Ge({closeOnDimmerClick:!0,className:"certificate-display",dimmer:"blurring",size:"tiny","data-testid":"".concat(r,"-view-certificate-modal")},a),d.createElement(We.Z.Header,null,d.createElement("div",{className:"certificate-ribbon"},d.createElement(s.dn,{inline:!0,transparent:!0,size:"auto",icon:(0,ze._5)().ribbon}),d.createElement("div",{className:"certificate-alias"},"View Certificate - ",null!=t&&t.alias?null==t?void 0:t.alias:(null==t?void 0:t.issuerDN)&&He.CertificateManagementUtils.searchIssuerDNAlias(null==t?void 0:t.issuerDN)),d.createElement("br",null),d.createElement("div",{className:"certificate-serial"}," ",i("certificates:keystore.serial"),null==t?void 0:t.serialNumber))),d.createElement(We.Z.Content,{className:"certificate-content"},null!=t&&t.infoUnavailable?o:d.createElement(s.KB,{certificate:t,labels:{issuerDN:i("certificates:keystore.summary.issuerDN"),subjectDN:i("certificates:keystore.summary.subjectDN"),validFrom:i("certificates:keystore.summary.validFrom"),validTill:i("certificates:keystore.summary.validTill"),version:i("certificates:keystore.summary.version")}})))};var $e=n(90302),qe=n(45634),Qe=n.n(qe),Je=n(26154),Xe=n(93545),et=n(96334);function tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rt=function(e){var t=e.closeWizard,n=e.updatePEMValue,r=e.updateSubmit,a=e.currentPEMValue,i=e.isCreateFormState,o=e.actionTypeApiPath,c=e.actionId,l=e["data-componentid"],u=void 0===l?"action-certificate-wizard":l,p=(0,m.$)().t,f=be(),g=Ee(),y=tt((0,et.cC)(),2),v=y[0],E=y[1],S=tt((0,et.cC)(),2),w=S[0],A=S[1],P=tt((0,d.useState)(!1),2),O=P[0],x=P[1],I=tt((0,s.IK)(),3),R=I[0],_=I[2];return d.createElement(We.Z,{open:!0,className:"wizard action-create-wizard",dimmer:"blurring",size:"small",onClose:t,"data-componentid":u,closeOnDimmerClick:!1,closeOnEscape:!0},d.createElement(We.Z.Header,{className:"wizard-header"},p(i?"actions:certificateWizard.add.heading":a?"actions:certificateWizard.change.heading":"actions:certificateWizard.add.heading"),d.createElement(s.X6,{as:"h6"},p(i?"actions:certificateWizard.add.subHeading":a?"actions:certificateWizard.change.subHeading":"actions:certificateWizard.add.subHeading"))),d.createElement(We.Z.Content,{className:"content-container",scrolling:!0},R&&_,d.createElement(Xe.J,{triggerCertificateUpload:w,triggerSubmit:v,onSubmit:function(e){if(!i){var l={passwordSharing:{certificate:e}};r(!0),T(o,c,l).then((function(){f(a?b.k.CHANGE_CERTIFICATE:b.k.ADD_CERTIFICATE)})).catch((function(e){g(e,a?b.k.CHANGE_CERTIFICATE:b.k.ADD_CERTIFICATE)})).finally((function(){r(!1)}))}n(e),t()},setShowFinishButton:x,"data-componentid":"".concat(u,"-add-certificate-form")})),d.createElement(We.Z.Actions,null,d.createElement(h.Z,null,d.createElement(h.Z.Row,{column:1},d.createElement(h.Z.Column,{mobile:8,tablet:8,computer:8},d.createElement(s.Qj,{floated:"left",onClick:function(){return t()},"data-componentid":"".concat(u,"-cancel-button")},p("common:cancel"))),d.createElement(h.Z.Column,{mobile:8,tablet:8,computer:8},d.createElement(s.KM,{disabled:!O,floated:"right",onClick:function(){A(),E()},"data-componentid":"".concat(u,"-finish-button")},p("common:finish")))))))};var at=n(76633),it={};it.styleTagTransform=ce(),it.setAttributes=re(),it.insert=te().bind(null,"head"),it.domAPI=X(),it.insertStyleElement=ie();Q()(at.Z,it);at.Z&&at.Z.locals&&at.Z.locals;function ot(e){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot(e)}function ct(){ct=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,o=Object.create(i.prototype),c=new _(r||[]);return a(o,"_invoke",{value:O(e,n,c)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",p="suspendedYield",f="executing",h="completed",g={};function y(){}function v(){}function b(){}var E={};s(E,o,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(C([])));w&&w!==n&&r.call(w,o)&&(E=w);var A=b.prototype=y.prototype=Object.create(E);function P(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(a,i,o,c){var l=d(e[a],e,i);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==ot(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,c)}),(function(e){n("throw",e,o,c)})):t.resolve(u).then((function(e){s.value=e,o(s)}),(function(e){return n("throw",e,o,c)}))}c(l.arg)}var i;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function O(t,n,r){var a=m;return function(i,o){if(a===f)throw Error("Generator is already running");if(a===h){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var c=r.delegate;if(c){var l=x(c,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=f;var s=d(t,n,r);if("normal"===s.type){if(a=r.done?h:p,s.arg===g)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function x(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=d(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(ot(t)+" is not iterable")}return v.prototype=b,a(A,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:v,configurable:!0}),v.displayName=s(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},P(T.prototype),s(T.prototype,c,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new T(u(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},P(A),s(A,l,"Generator"),s(A,o,(function(){return this})),s(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return c.type="throw",c.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;R(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function lt(e,t,n,r,a,i,o){try{var c=e[i](o),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function st(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ut(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var dt=function(e){var t=e.certificate,n=e.updatePEMValue,r=e.updateSubmit,a=e.isCreateFormState,i=e.actionTypeApiPath,o=e.actionId,l=e.readOnly,u=e["data-componentid"],p=void 0===u?"action-certificate":u,f=(0,m.$)().t,g=be(),y=Ee(),v=st((0,d.useState)(!1),2),E=v[0],S=v[1],w=st((0,d.useState)(void 0),2),A=w[0],P=w[1],O=st((0,d.useState)(!1),2),x=O[0],I=O[1],R=st((0,d.useState)(!1),2),N=R[0],D=R[1],Z=st((0,d.useState)(!1),2),j=Z[0],U=Z[1];(0,d.useEffect)((function(){t&&(He.CertificateManagementUtils.canSafelyParseCertificate(t)?P(He.CertificateManagementUtils.displayCertificate(null,t)):P(Fe.lu.DUMMY_DISPLAY_CERTIFICATE))}),[t]);var L=function(){S(!0)},V=function(){var e,t=(e=ct().mark((function e(){var t;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={passwordSharing:{certificate:""}},D(!0),T(i,o,t).then((function(){g(b.k.DELETE_CERTIFICATE),P(void 0),U(!1)})).catch((function(e){y(e,b.k.DELETE_CERTIFICATE)})).finally((function(){D(!1),n("")}));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){lt(i,r,a,o,c,"next",e)}function c(e){lt(i,r,a,o,c,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),F=d.createElement(s.cV,{onClose:function(){return U(!1)},onSecondaryActionClick:function(){return U(!1)},onPrimaryActionClick:V,open:j,type:"negative",primaryAction:f("actions:certificateDeleteConfirmationModal.primaryAction"),secondaryAction:f("actions:certificateDeleteConfirmationModal.secondaryAction"),"data-componentid":"".concat(p,"-delete-confirmation-modal"),closeOnDimmerClick:!1,primaryActionLoading:N},d.createElement(s.cV.Header,{"data-componentid":"".concat(p,"-delete-confirmation-modal-header")},f("actions:certificateDeleteConfirmationModal.header")),d.createElement(s.cV.Message,{attached:!0,negative:!0,"data-componentid":"".concat(p,"-delete-confirmation-modal-message")},f("actions:certificateDeleteConfirmationModal.message")));return d.createElement("div",{className:"action-certificate"},A?d.createElement(h.Z,null,d.createElement(h.Z.Row,null,d.createElement(h.Z.Column,{width:16},d.createElement(s.Db,{fill:!0,relaxed:!1,className:"action-list",loadingStateOptions:{count:$e.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"},"data-componentid":p},d.createElement(s.zA,{key:0,actionsColumnWidth:3,descriptionColumnWidth:9,actions:[{"data-componentid":"".concat(p,"-edit-cert-button"),disabled:l,icon:"pencil",onClick:function(){return I(!0)},popupText:f("actions:fields.passwordSharing.certificate.icon.changecertificate"),type:"button"},{"data-componentid":"".concat(p,"-view-cert-button"),disabled:null==A?void 0:A.infoUnavailable,hidden:null==A?void 0:A.infoUnavailable,icon:"eye",onClick:L,popupText:f("actions:fields.passwordSharing.certificate.icon.viewcertificate"),type:"button"},{"data-componentid":"".concat(p,"-delete-cert-button"),disabled:l,icon:"trash alternate",onClick:function(){a?(P(void 0),n("")):U(!0)},popupText:f("actions:fields.passwordSharing.certificate.icon.deletecertificate"),type:"button"}],actionsFloated:"right",avatar:function(e){return d.createElement(s.Yt,{name:null!=e&&e.infoUnavailable?Fe.lu.QUESTION_MARK:He.CertificateManagementUtils.searchIssuerDNAlias(null==e?void 0:e.issuerDN),size:"mini",floated:"left"})}(A),itemHeader:null!=A&&A.infoUnavailable?d.createElement("span",{className:"with-muted-list-item-header"},"Unable to visualize the certificate details\xa0",d.createElement(s.GI,{trigger:d.createElement(Je.Z,{onClick:L,name:"info circle",color:"grey"}),content:"Click for more info",inverted:!0,position:"top left",size:"mini"})):function(e,t,n){var r,a,i=Qe()(t);switch(He.CertificateManagementUtils.determineCertificateValidityState({from:e,to:t})){case c.WE.VALID:r="check circle",a="green";break;case c.WE.WILL_EXPIRE_SOON:r="exclamation circle",a="yellow";break;default:r="times circle",a="red"}return d.createElement(d.Fragment,null,n+Fe.lu.SPACE_CHARACTER,d.createElement(s.GI,{trigger:d.createElement(Je.Z,{name:r,color:a}),content:"Expiry date: "+i.format("DD/MM/YYYY"),inverted:!0,position:"top left",size:"mini"}))}(A.validFrom,A.validTill,He.CertificateManagementUtils.searchIssuerDNAlias(null==A?void 0:A.issuerDN)),itemDescription:null!=A&&A.infoUnavailable?null:He.CertificateManagementUtils.getValidityPeriodInHumanReadableFormat(A.validFrom,A.validTill)}))))):d.createElement(_.Z,{severity:"warning","data-componentid":"".concat(p,"-no-certificate-alert")},d.createElement(C.Z,{className:"alert-title"},d.createElement(M.c,null,f("actions:fields.passwordSharing.certificate.info.header"))),d.createElement(M.c,null,f("actions:fields.passwordSharing.certificate.info.description")),d.createElement("div",null,d.createElement(k.Z,{onClick:function(){I(!0)},variant:"outlined",size:"small",className:"secondary-button",disabled:l,"data-componentid":"".concat(p,"-add-certificate-button")},f("actions:buttons.addCertificate")))),x&&d.createElement(rt,{closeWizard:function(){return I(!1)},updatePEMValue:n,updateSubmit:r,currentPEMValue:t,isCreateFormState:a,actionTypeApiPath:i,actionId:o,"data-componentid":"".concat(p,"-add-certificate-wizard")}),F,E&&d.createElement(Be,{open:E,certificate:A,onClose:function(){return S(!1)}}))};var mt=n(26833),pt=n(94634),ft=n(64724),ht=n(6894),gt=n(12638),yt=n(62508),vt=n(14245),bt={};bt.styleTagTransform=ce(),bt.setAttributes=re(),bt.insert=te().bind(null,"head"),bt.domAPI=X(),bt.insertStyleElement=ie();Q()(vt.Z,bt);vt.Z&&vt.Z.locals&&vt.Z.locals;function Et(e){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Et(e)}function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){At(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function At(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Et(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Et(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pt(){return Pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pt.apply(null,arguments)}function Tt(e){return function(e){if(Array.isArray(e))return It(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return c}}(e,t)||xt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){if(e){if("string"==typeof e)return It(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?It(e,t):void 0}}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Rt=function(e){var t=e.initialValues,n=e.onAttributesChange,a=e.isReadOnly,i=e["data-componentid"],o=void 0===i?"autocomplete-search-list":i,u=Ot((0,d.useState)([]),2),f=u[0],h=u[1],g=Ot((0,d.useState)([]),2),y=g[0],v=g[1],E=Ot((0,d.useState)(!1),2),S=E[0],w=E[1],A=Ot((0,d.useState)(!1),2),P=A[0],T=A[1],O=Ot((0,d.useState)(""),2),x=O[0],I=O[1],R=(0,m.$)().t,_=(0,p.I0)();(0,d.useEffect)((function(){w(!0),(0,ht.WN)({"exclude-hidden-claims":!0,filter:null,limit:null,offset:null,sort:null}).then((function(e){var t=null==e?void 0:e.sort((function(e,t){return e.displayName>t.displayName?1:-1})),n=Z(t);h(n),w(!1)})).catch((function(e){var t,n;_((0,l.V_)({description:(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.description)||R("actions:notifications.genericError.userAttributes.getAttributes.description"),level:c.QU.ERROR,message:(null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message)||R("actions:notifications.genericError.userAttributes.getAttributes.message")})),w(!1)}))}),[]),(0,d.useEffect)((function(){if(null!=t&&t.length&&null!=f&&f.length){var e=Tt(new Set([].concat(Tt(t),Tt(null==y?void 0:y.map((function(e){return null==e?void 0:e.claimURI}))))));v(null==f?void 0:f.filter((function(t){return null==e?void 0:e.includes(null==t?void 0:t.claimURI)})))}}),[t,f]),(0,d.useEffect)((function(){N()?n(!0,null==y?void 0:y.map((function(e){return null==e?void 0:e.claimURI}))):n(!1,[])}),[y]);var C=function(e){var t,n=null==e||null===(t=e.claimURI)||void 0===t?void 0:t.split("/");return n[(null==n?void 0:n.length)-1]},N=function(){var e=(null==y?void 0:y.map((function(e){return null==e?void 0:e.claimURI}))).sort(),n=null==t?void 0:t.sort();return(null==n?void 0:n.length)!==(null==e?void 0:e.length)||!e.every((function(e,t){return e===n[t]}))},D=function(e){return(null==e?void 0:e.length)===b.k.MAX_ALLOWED_ATTRIBUTES_PRE_UPDATE_PROFILE?(T(!0),!0):(T(!1),!1)},Z=function(e){var t=new Set(["http://wso2.org/claims/roles","http://wso2.org/claims/applicationRoles"]);return null==e?void 0:e.filter((function(e){return!t.has(null==e?void 0:e.claimURI)}))},j=function(e){var t;(I(b.k.EMPTY_STRING),t=e,(null==y?void 0:y.some((function(e){return(null==e?void 0:e.claimURI)===(null==t?void 0:t.claimURI)})))||D(y))||v([].concat(Tt(y),[e]))};return d.createElement(d.Fragment,null,d.createElement(s.kW,null,R("actions:fields.userAttributes.hint")),d.createElement(mt.Z,{loading:S,fullWidth:!0,"aria-label":"Attribute selection",className:"pt-2",defaultValue:null,componentsProps:{paper:{elevation:2},popper:{modifiers:[{enabled:!1,name:"flip"},{enabled:!1,name:"preventOverflow"}]}},inputValue:x,value:null,onInputChange:function(e,t,n){I("reset"!==n?t:b.k.EMPTY_STRING)},onChange:function(e,t){return j(t)},options:f,getOptionLabel:function(e){return null==e?void 0:e.displayName},isOptionEqualToValue:function(e,t){return(null==e?void 0:e.id)===(null==t?void 0:t.id)},renderOption:function(e,t){return d.createElement("li",Pt({},e,{key:t.id}),d.createElement("div",{className:"multiline"},d.createElement("div",null,null==t?void 0:t.displayName),d.createElement("div",null,d.createElement(s.EK,{className:"description",compact:!0,withBackground:!1},null==t?void 0:t.claimURI))))},renderInput:function(e){return d.createElement(ft.Z,Pt({},e,{placeholder:R("actions:fields.userAttributes.search.placeholder"),size:"small",variant:"outlined",error:P,helperText:P&&R("actions:fields.userAttributes.error.limitReached"),FormHelperTextProps:{sx:{marginLeft:"2px"}},InputProps:wt(wt({},e.InputProps),{},{startAdornment:d.createElement(pt.Z,{position:"start",className:"user-attribute-list-search-icon icon"},d.createElement(V._V,null))})}))},disabled:a,key:"autocompleteSearchWithList","data-componentid":"".concat(o,"-select-attributes")}),d.createElement(yt.Z,{hidden:!0}),S?d.createElement(r.Z,{className:"placeholder-box"},d.createElement(W.Z,{variant:"rectangular",height:10}),d.createElement(W.Z,{variant:"rectangular",height:25}),d.createElement(W.Z,{variant:"rectangular",height:10}),d.createElement(W.Z,{variant:"rectangular",height:10})):(null==y?void 0:y.length)>0&&d.createElement("div",{className:"user-attribute-list"},d.createElement("div",{className:"clear-all-button-container"},d.createElement(k.Z,{onClick:function(){return v([]),void T(!1)},variant:"outlined",size:"small",className:"secondary-button clear-all-button","data-componentid":"".concat(o,"-clear-all-button"),disabled:!1},R("actions:fields.userAttributes.search.clearButton"))),d.createElement("div",{className:"selected-attributes-list"},d.createElement(s.wQ,{className:"selected-attributes-list-data-table",actions:[{disabled:a,icon:function(){return"trash alternate"},onClick:function(e,t){return n=t,r=null==y?void 0:y.filter((function(e){return(null==e?void 0:e.claimURI)!==(null==n?void 0:n.claimURI)})),v(r),void D(r);var n,r},popupText:function(){return R("common:delete")},renderer:"semantic-icon"}],columns:[{allowToggleVisibility:!1,dataIndex:"displayName",id:"displayName",key:"displayName",render:function(e){return d.createElement(gt.Z,{as:"h6",image:!0},d.createElement(s.JT,{image:d.createElement(s.Xo,{name:C(e),size:"mini","data-componentid":"".concat(o,"-selected-attribute-initial-letter-image")}),size:"mini",spaced:"right","data-componentid":"".concat(o,"-selected-attribute-initial-letter")}),d.createElement(gt.Z.Content,null,null==e?void 0:e.displayName,d.createElement(gt.Z.Subheader,null,d.createElement("code",{className:"inline-code compact transparent"},null==e?void 0:e.claimURI))))},title:b.k.EMPTY_STRING},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:b.k.EMPTY_STRING}],data:y,onRowClick:function(){return null},showHeader:!1,"data-componentid":"".concat(o,"-selected-attributes-list")}))))};var _t=n(2463),Ct={};Ct.styleTagTransform=ce(),Ct.setAttributes=re(),Ct.insert=te().bind(null,"head"),Ct.domAPI=X(),Ct.insertStyleElement=ie();Q()(_t.Z,Ct);_t.Z&&_t.Z.locals&&_t.Z.locals;function kt(e){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(e)}function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){Zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=kt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e){return function(e){if(Array.isArray(e))return Vt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Lt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return c}}(e,t)||Lt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(e,t){if(e){if("string"==typeof e)return Vt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vt(e,t):void 0}}function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Mt=function(e){var t,n=e.initialValues,a=e.isLoading,i=e.isReadOnly,o=e.actionTypeApiPath,c=e.isCreateFormState,l=e.versionInfo,u=e["data-componentid"],f=void 0===u?"pre-update-password-action-config-form":u,h=(0,p.v9)((function(e){return e.config.ui.features.actions})),g=Ut((0,d.useState)(!1),2),y=g[0],v=g[1],E=Ut((0,d.useState)(null),2),S=E[0],w=E[1],A=Ut((0,d.useState)(!1),2),P=A[0],O=A[1],R=Ut((0,d.useState)([]),2),_=R[0],C=R[1],N=Ut((0,d.useState)(!1),2),D=N[0],Z=N[1],j=Ut((0,d.useState)(void 0),2),U=j[0],V=j[1],M=Ut((0,d.useState)(!1),2),F=M[0],H=M[1],Y=Ut((0,d.useState)(null),2),$=Y[0],q=Y[1],Q=(0,m.$)().t,J=be(),X=Ee(),ee=(0,I.Z)(o).mutate,te=x(o,null==n?void 0:n.id),ne=te.data,re=te.mutate,ae=(0,z.Z)(o).data,ie=(0,G.cr)(h,b.k.FEATURE_DICTIONARY.get("PRE_UPDATE_PASSWORD_RULE")),oe=(0,G.cr)(h,b.k.FEATURE_DICTIONARY.get("PRE_UPDATE_PASSWORD_HEADERS_AND_PARAMS"));(0,d.useEffect)((function(){null!=n&&n.id?(w(n.authenticationType),v(!1)):v(!0),null!=n&&n.rule&&H(!0)}),[n]),(0,d.useEffect)((function(){null!=n&&n.certificate?V(n.certificate):V(null)}),[n]);var ce=function(e,t){e?(O(!0),C(jt(t))):O(!1)},le=function(){return a?d.createElement(r.Z,{className:"placeholder-box"},d.createElement(W.Z,{variant:"rectangular",height:7,width:"30%"}),d.createElement(W.Z,{variant:"rectangular",height:28}),d.createElement(W.Z,{variant:"rectangular",height:7,width:"90%"}),d.createElement(W.Z,{variant:"rectangular",height:7})):d.createElement(d.Fragment,null,d.createElement(ue,{initialValues:n,isCreateFormState:c,isReadOnly:i,onAuthenticationTypeChange:function(e,t){w(e),v(t)},showHeadersAndParams:oe}),d.createElement(de.Z,{className:"divider-container"}),d.createElement(L.Z,{variant:"h6",className:"password-sharing-label"},Q("actions:fields.passwordSharing.label")),d.createElement(B.SE,{key:"passwordSharing",className:"select-field-container",width:16,FormControlProps:{margin:"dense"},ariaLabel:"passwordsharing",required:!0,"data-componentid":"".concat(f,"-password-sharing-type-dropdown"),name:"passwordSharing",type:"dropdown",displayEmpty:!0,label:Q("actions:fields.passwordSharing.format.label"),placeholder:Q("actions:fields.passwordSharing.format.placeholder"),component:B.ZY,maxLength:100,minLength:0,options:jt(b.k.PASSWORD_SHARING_TYPES.map((function(e){return{text:e.text,value:e.value}}))),clearable:!0,disabled:i}),d.createElement(Me.Z,{className:"certificate-label"},Q("actions:fields.passwordSharing.certificate.label")),d.createElement(dt,{updatePEMValue:function(e){V(e)},updateSubmit:function(e){Z(e)},isCreateFormState:c,certificate:U,actionTypeApiPath:o,actionId:null==n?void 0:n.id,readOnly:i,"data-componentid":"".concat(f,"-certificate")}),d.createElement(de.Z,{className:"divider-container"}),d.createElement(L.Z,{variant:"h6",className:"heading-container"},Q("actions:fields.userAttributes.heading")),d.createElement(Rt,{initialValues:null==n?void 0:n.attributes,onAttributesChange:ce,isReadOnly:i,"data-componentid":"".concat(f,"-user-attributes")}),ae&&ie&&d.createElement(he,{readonly:i,rule:$,ruleActionType:o,setRule:q,isHasRule:F,setIsHasRule:H,"data-componentid":"".concat(f,"-rule")}))};return d.createElement(d.Fragment,null,(c||n)&&d.createElement(K.h,{conditionExpressionsMetaData:ae,initialData:null==n?void 0:n.rule,hidden:{values:null===(t=b.k.__TEMPORARY__DISALLOWED_RULES[b.k.PRE_UPDATE_PASSWORD_URL_PATH])||void 0===t?void 0:t[(null==ne?void 0:ne.version)||(null==l?void 0:l.latestVersion)]}},d.createElement(B.vy,{onSubmit:function(e,t){!function(e,t){var r;F?r=$:c||$||(r={});var a={};if(y||c)switch(e.authenticationType){case ve.am.BASIC:a.username=e.usernameAuthProperty,a.password=e.passwordAuthProperty;break;case ve.am.BEARER:a.accessToken=e.accessTokenAuthProperty;break;case ve.am.API_KEY:a.header=e.headerAuthProperty,a.value=e.valueAuthProperty;case ve.am.NONE:}if(c){var i={attributes:_,endpoint:{authentication:{properties:a,type:e.authenticationType},uri:e.endpointUri},name:e.name,passwordSharing:Dt(Dt({},U?{certificate:U}:{}),{},{format:e.passwordSharing}),rule:null!=r?r:void 0};Z(!0),ye(o,i).then((function(){J(b.k.CREATE),ee()})).catch((function(e){X(e,b.k.CREATE)})).finally((function(){Z(!1)}))}else{var l={attributes:P?_:void 0,endpoint:y||null!=t&&t.endpointUri?{authentication:y?{properties:a,type:e.authenticationType}:void 0,uri:null!=t&&t.endpointUri?e.endpointUri:void 0}:void 0,name:null!=t&&t.name?e.name:void 0,passwordSharing:null!=t&&t.passwordSharing?{format:e.passwordSharing}:void 0,rule:null!=r?r:void 0};Z(!0),T(o,n.id,l).then((function(){J(b.k.UPDATE),v(!1),re()})).catch((function(e){X(e,b.k.UPDATE)})).finally((function(){Z(!1)}))}}(e,t.getState().dirtyFields)},validate:function(e){var t={},n=(0,Se.W)(e,{authenticationType:S,isAuthenticationUpdateFormState:y,isCreateFormState:c});return null!=e&&e.passwordSharing||(t.passwordSharing=Q("actions:fields.passwordSharing.format.validations")),Dt(Dt({},n),t)},initialValues:n,render:function(e){var t=e.handleSubmit;return d.createElement(s.pJ,{className:"form-wrapper",padded:"very","data-componentid":"".concat(f,"-section")},d.createElement("div",{className:"form-container with-max-width"},le(),!a&&d.createElement(k.Z,{size:"medium",variant:"contained",onClick:t,className:"button-container","data-componentid":"".concat(f,"-primary-button"),loading:D,disabled:i},Q(c?"actions:buttons.create":"actions:buttons.update"))))}})))};var Ft=n(38203),Ht=n(41664),Yt={};Yt.styleTagTransform=ce(),Yt.setAttributes=re(),Yt.insert=te().bind(null,"head"),Yt.domAPI=X(),Yt.insertStyleElement=ie();Q()(Ht.Z,Yt);Ht.Z&&Ht.Z.locals&&Ht.Z.locals;function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Wt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e){return function(e){if(Array.isArray(e))return qt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return c}}(e,t)||$t(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(e,t){if(e){if("string"==typeof e)return qt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qt(e,t):void 0}}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Qt=function(e){var t=e.initialValues,n=e.isLoading,a=e.isReadOnly,i=e.actionTypeApiPath,o=e.isCreateFormState,c=e["data-componentid"],l=void 0===c?"pre-update-profile-action-config-form":c,u=(0,p.v9)((function(e){return e.config.ui.features.actions})),f=Bt((0,d.useState)(!1),2),h=f[0],g=f[1],y=Bt((0,d.useState)(!1),2),v=y[0],E=y[1],S=Bt((0,d.useState)([]),2),w=S[0],A=S[1],P=Bt((0,d.useState)(null),2),O=P[0],R=P[1],_=Bt((0,d.useState)(!1),2),C=_[0],N=_[1],D=Bt((0,d.useState)(!1),2),Z=D[0],j=D[1],U=Bt((0,d.useState)(null),2),V=U[0],M=U[1],F=(0,m.$)().t,H=be(),Y=Ee(),$=(0,G.cr)(u,b.k.FEATURE_DICTIONARY.get("PRE_UPDATE_PROFILE_RULE")),q=(0,I.Z)(i).mutate,Q=x(i,null==t?void 0:t.id).mutate,J=(0,z.Z)(i,$).data,X=(0,G.cr)(u,b.k.FEATURE_DICTIONARY.get("PRE_UPDATE_PASSWORD_HEADERS_AND_PARAMS"));(0,d.useEffect)((function(){null!=t&&t.id?(R(t.authenticationType),g(!1)):g(!0),null!=t&&t.rule&&j(!0)}),[t]);var ee=function(e,t){e?(E(!0),A(Gt(t))):E(!1)},te=function(){return n?d.createElement(r.Z,{className:"placeholder-box"},d.createElement(W.Z,{variant:"rectangular",height:7,width:"30%"}),d.createElement(W.Z,{variant:"rectangular",height:28}),d.createElement(W.Z,{variant:"rectangular",height:7,width:"90%"}),d.createElement(W.Z,{variant:"rectangular",height:7})):d.createElement(d.Fragment,null,d.createElement(ue,{initialValues:t,isCreateFormState:o,isReadOnly:a,onAuthenticationTypeChange:function(e,t){R(e),g(t)},showHeadersAndParams:X}),d.createElement(de.Z,{className:"divider-container"}),d.createElement(L.Z,{variant:"h6",className:"heading-container"},F("actions:fields.userAttributes.heading")),d.createElement(Rt,{initialValues:null==t?void 0:t.attributes,onAttributesChange:ee,isReadOnly:a,"data-componentid":"".concat(l,"-user-attributes")}),J&&$&&d.createElement(he,{readonly:a,rule:V,ruleActionType:i,setRule:M,isHasRule:Z,setIsHasRule:j,"data-componentid":"".concat(l,"-rule")}))};return d.createElement(d.Fragment,null,(o||t)&&d.createElement(K.h,{conditionExpressionsMetaData:J,initialData:null==t?void 0:t.rule},d.createElement(B.vy,{onSubmit:function(e,n){!function(e,n){var r;Z?r=V:o||V||(r={});var a={};if(h||o)switch(e.authenticationType){case ve.am.BASIC:a.username=e.usernameAuthProperty,a.password=e.passwordAuthProperty;break;case ve.am.BEARER:a.accessToken=e.accessTokenAuthProperty;break;case ve.am.API_KEY:a.header=e.headerAuthProperty,a.value=e.valueAuthProperty;case ve.am.NONE:}if(o){var c={attributes:w,endpoint:{authentication:{properties:a,type:e.authenticationType},uri:e.endpointUri},name:e.name,rule:null!=r?r:void 0};N(!0),ye(i,c).then((function(){H(b.k.CREATE),q()})).catch((function(e){Y(e,b.k.CREATE)})).finally((function(){N(!1)}))}else{var l=(0,Ft.Z)({attributes:v?w:void 0,endpoint:h||null!=n&&n.endpointUri?{authentication:h?{properties:a,type:e.authenticationType}:void 0,uri:null!=n&&n.endpointUri?e.endpointUri:void 0}:void 0,name:null!=n&&n.name?e.name:void 0,rule:r});N(!0),T(i,t.id,l).then((function(){H(b.k.UPDATE),g(!1),Q()})).catch((function(e){Y(e,b.k.UPDATE)})).finally((function(){N(!1)}))}}(e,n.getState().dirtyFields)},validate:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){Kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},(0,Se.W)(e,{authenticationType:O,isAuthenticationUpdateFormState:h,isCreateFormState:o}))},initialValues:t,render:function(e){var t=e.handleSubmit;return d.createElement(s.pJ,{className:"form-wrapper",padded:"very","data-componentid":"".concat(l,"-section")},d.createElement("div",{className:"form-container with-max-width"},te(),!n&&d.createElement(k.Z,{size:"medium",variant:"contained",onClick:t,className:"button-container","data-componentid":"".concat(l,"-primary-button"),loading:C,disabled:a},F(o?"actions:buttons.create":"actions:buttons.update"))))}})))};var Jt=n(81559),Xt=n(26571),en={};en.styleTagTransform=ce(),en.setAttributes=re(),en.insert=te().bind(null,"head"),en.domAPI=X(),en.insertStyleElement=ie();Q()(Xt.Z,en);Xt.Z&&Xt.Z.locals&&Xt.Z.locals;function tn(e){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tn(e)}function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){an(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function an(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=tn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function on(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const ln=function(e){var t,n,g,y=e["data-componentid"],v=void 0===y?"action-configuration-page":y,E=(0,p.v9)((function(e){return e.config.ui.features.actions})),w=on((0,d.useState)(!1),2),P=w[0],O=w[1],_=on((0,d.useState)(!1),2),C=_[0],k=_[1],N=on((0,d.useState)(!1),2),D=N[0],Z=N[1],j=on((0,d.useState)(!1),2),U=j[0],L=j[1],V=(0,p.I0)(),M=(0,m.$)().t,F=(0,s.fQ)().getLink,H=be(),W=Ee(),z=(0,a.EV)(null==E||null===(t=E.scopes)||void 0===t?void 0:t.update),K=(0,a.EV)(null==E||null===(n=E.scopes)||void 0===n?void 0:n.create),G=(0,d.useMemo)((function(){var e=o.m.location.pathname.split("/");return e[e.length-1]}),[o.m.location.pathname]),B=(0,d.useMemo)((function(){switch(G){case b.k.ACTION_TYPES.PRE_ISSUE_ACCESS_TOKEN.getUrlPath():return b.k.ACTION_TYPES.PRE_ISSUE_ACCESS_TOKEN.getApiPath();case b.k.ACTION_TYPES.PRE_ISSUE_ID_TOKEN.getUrlPath():return b.k.ACTION_TYPES.PRE_ISSUE_ID_TOKEN.getApiPath();case b.k.ACTION_TYPES.PRE_UPDATE_PASSWORD.getUrlPath():return b.k.ACTION_TYPES.PRE_UPDATE_PASSWORD.getApiPath();case b.k.ACTION_TYPES.PRE_UPDATE_PROFILE.getUrlPath():return b.k.ACTION_TYPES.PRE_UPDATE_PROFILE.getApiPath();case b.k.ACTION_TYPES.PRE_REGISTRATION.getUrlPath():return b.k.ACTION_TYPES.PRE_REGISTRATION.getApiPath();default:return null}}),[o.m.location.pathname]),$=(0,I.Z)(B),q=$.data,Q=$.error,J=$.isLoading,X=$.mutate;(0,d.useEffect)((function(){var e;(null==q?void 0:q.length)>=1?(L(!1),Z((null===(e=q[0])||void 0===e?void 0:e.status.toString())===b.k.ACTIVE_STATUS)):L(!0)}),[q]);var ee=(0,d.useMemo)((function(){var e;return(null==q||null===(e=q[0])||void 0===e?void 0:e.id)||null}),[q]),te=x(B,ee),ne=te.data,re=te.error,ae=te.isLoading,ie=te.mutate,oe=J||!q||!Array.isArray(q)||ae,ce=(0,Jt.n)(G,null==ne?void 0:ne.version),le=(0,d.useMemo)((function(){var e,t,n,r;return ne?{allowedHeaders:null==ne||null===(e=ne.endpoint)||void 0===e?void 0:e.allowedHeaders,allowedParameters:null==ne||null===(t=ne.endpoint)||void 0===t?void 0:t.allowedParameters,authenticationType:null==ne||null===(n=ne.endpoint)||void 0===n||null===(n=n.authentication)||void 0===n||null===(n=n.type)||void 0===n?void 0:n.toString(),endpointUri:null==ne||null===(r=ne.endpoint)||void 0===r?void 0:r.uri,id:null==ne?void 0:ne.id,name:null==ne?void 0:ne.name,rule:null==ne?void 0:ne.rule}:null}),[ne]),se=(0,d.useMemo)((function(){return ne&&B===b.k.PRE_UPDATE_PASSWORD_API_PATH?rn(rn({},le),{},{attributes:null==ne?void 0:ne.attributes,certificate:(null==ne?void 0:ne.passwordSharing.certificate)||"",passwordSharing:null==ne?void 0:ne.passwordSharing.format}):null}),[ne]),ue=(0,d.useMemo)((function(){return ne&&B===b.k.PRE_UPDATE_PROFILE_API_PATH?rn(rn({},le),{},{attributes:null==ne?void 0:ne.attributes}):null}),[ne]);(0,d.useEffect)((function(){var e;!J&&Q&&(null!==(e=Q.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?V((0,l.V_)({description:M("actions:notification.error.fetchByType.description",{description:Q.response.data.description}),level:c.QU.ERROR,message:M("actions:notification.error.fetchByType.message")})):V((0,l.V_)({description:M("actions:notification.genericError.fetchByType.description"),level:c.QU.ERROR,message:M("actions:notification.genericError.fetchByType.message")})))}),[J,Q]),(0,d.useEffect)((function(){var e;!ae&&re&&(null!==(e=re.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?V((0,l.V_)({description:M("actions:notification.error.fetchById.description",{description:re.response.data.description}),level:c.QU.ERROR,message:M("actions:notification.error.fetchById.message")})):V((0,l.V_)({description:M("actions:notification.genericError.fetchById.description"),level:c.QU.ERROR,message:M("actions:notification.genericError.fetchById.message")})))}),[ae,re]);var de=function(){return U?!K:!z};return d.createElement(s.Xg,{title:d.createElement(r.Z,{sx:{alignItems:"center",display:"flex",flexDirection:"row",gap:"8px"}},d.createElement("div",null,function(e){switch(e){case b.k.ACTION_TYPES.PRE_ISSUE_ACCESS_TOKEN.getApiPath():return M("actions:types.preIssueAccessToken.heading");case b.k.ACTION_TYPES.PRE_ISSUE_ID_TOKEN.getApiPath():return M("actions:types.preIssueIdToken.heading");case b.k.ACTION_TYPES.PRE_UPDATE_PASSWORD.getApiPath():return M("actions:types.preUpdatePassword.heading");case b.k.ACTION_TYPES.PRE_UPDATE_PROFILE.getApiPath():return M("actions:types.preUpdateProfile.heading");case b.k.ACTION_TYPES.PRE_REGISTRATION.getApiPath():return M("actions:types.preRegistration.heading")}}(B)),d.createElement(R.Z,{versionInfo:ce,"data-componentid":"".concat(v,"-version-chips")})),description:function(e){switch(e){case b.k.ACTION_TYPES.PRE_ISSUE_ACCESS_TOKEN.getApiPath():return d.createElement(d.Fragment,null,M("actions:types.preIssueAccessToken.description.expanded"),d.createElement(s.eb,{link:F("develop.actions.types.preIssueAccessToken.learnMore"),showEmptyLink:!1},M("common:learnMore")));case b.k.ACTION_TYPES.PRE_ISSUE_ID_TOKEN.getApiPath():return d.createElement(d.Fragment,null,M("actions:types.preIssueIdToken.description.expanded"),d.createElement(s.eb,{link:F("develop.actions.types.preIssueIdToken.learnMore"),showEmptyLink:!1},M("common:learnMore")));case b.k.ACTION_TYPES.PRE_UPDATE_PASSWORD.getApiPath():return d.createElement(d.Fragment,null,M("actions:types.preUpdatePassword.description.expanded"),d.createElement(s.eb,{link:F("develop.actions.types.preUpdatePassword.learnMore"),showEmptyLink:!1},M("common:learnMore")));case b.k.ACTION_TYPES.PRE_UPDATE_PROFILE.getApiPath():return d.createElement(d.Fragment,null,M("actions:types.preUpdateProfile.description.expanded"),d.createElement(s.eb,{link:F("develop.actions.types.preUpdateProfile.learnMore"),showEmptyLink:!1},M("common:learnMore")));case b.k.ACTION_TYPES.PRE_REGISTRATION.getApiPath():return d.createElement(d.Fragment,null,M("actions:types.preRegistration.description.expanded"),d.createElement(s.eb,{link:F("develop.actions.types.preRegistration.learnMore"),showEmptyLink:!1},M("common:learnMore")));default:return""}}(B),backButton:{"data-componentid":"".concat(v,"-").concat(B,"-page-back-button"),onClick:function(){o.m.push(i.$.getPaths().get("ACTIONS"))},text:M("actions:goBackActions")},alertBanner:!U&&d.createElement(Y,{versionInfo:ce,onUpdate:function(){T(B,ee,{version:ce.latestVersion}).then((function(){V((0,l.V_)({description:M("actions:versioning.notifications.updateVersion.success.description"),level:c.QU.SUCCESS,message:M("actions:versioning.notifications.updateVersion.success.message")})),ie()})).catch((function(){V((0,l.V_)({description:M("actions:versioning.notifications.updateVersion.genericError.description"),level:c.QU.ERROR,message:M("actions:versioning.notifications.updateVersion.genericError.message")}))}))},"data-componentid":"".concat(v,"-version-warning")}),bottomMargin:!1,contentTopMargin:!0,pageHeaderMaxWidth:!1,"data-componentid":"".concat(v,"-").concat(B,"-page-layout")},!oe&&!U&&!(0,u.Z)(q)&&d.createElement(f.Z,{label:M(D?"actions:status.active":"actions:status.inactive"),toggle:!0,onChange:function(e,t){var n=t.checked?b.k.ACTIVATE:b.k.DEACTIVATE;k(!0),S(B,le.id,n).then((function(){H(n)})).catch((function(e){W(e,n)})).finally((function(){Z(t.checked),ie(),k(!1)}))},checked:D,readOnly:!z||C,"data-componentId":"".concat(v,"-").concat(B,"-enable-toggle"),disabled:!z||C}),d.createElement(h.Z,{className:"grid-form"},d.createElement(h.Z.Row,{columns:1},d.createElement(h.Z.Column,{width:16},B===b.k.PRE_ISSUE_ACCESS_TOKEN_API_PATH&&d.createElement(_e,{initialValues:le,isLoading:oe,isReadOnly:de(),actionTypeApiPath:B,isCreateFormState:U,versionInfo:ce}),B===b.k.PRE_ISSUE_ID_TOKEN_API_PATH&&d.createElement(Ve,{initialValues:le,isLoading:oe,isReadOnly:de(),actionTypeApiPath:B,isCreateFormState:U,versionInfo:ce}),B===b.k.PRE_UPDATE_PASSWORD_API_PATH&&d.createElement(Mt,{initialValues:se,isLoading:oe,isReadOnly:de(),actionTypeApiPath:B,isCreateFormState:U,versionInfo:ce}),B===b.k.PRE_UPDATE_PROFILE_API_PATH&&d.createElement(Qt,{initialValues:ue,isLoading:oe,isReadOnly:de(),actionTypeApiPath:B,isCreateFormState:U,versionInfo:ce})))),!oe&&!U&&!(0,u.Z)(q)&&d.createElement(a.di,{when:null==E||null===(g=E.scopes)||void 0===g?void 0:g.delete},d.createElement(s.v9,{sectionHeader:M("actions:dangerZoneGroup.header")},d.createElement(s.cN,{"data-componentid":"".concat(v,"-danger-zone"),actionTitle:M("actions:dangerZoneGroup.revertConfig.actionTitle"),header:M("actions:dangerZoneGroup.revertConfig.heading"),subheader:M("actions:dangerZoneGroup.revertConfig.subHeading"),onActionClick:function(){O(!0)}})),d.createElement(s.cV,{primaryActionLoading:C,"data-componentid":"".concat(v,"-revert-confirmation-modal"),onClose:function(){return O(!1)},type:"negative",open:P,assertionHint:M("actions:confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:M("common:confirm"),secondaryAction:M("common:cancel"),onSecondaryActionClick:function(){return O(!1)},onPrimaryActionClick:function(){return k(!0),void A(B,le.id).then((function(){H(b.k.DELETE),X(),o.m.push(i.$.getPaths().get("ACTIONS"))})).catch((function(e){W(e,b.k.DELETE)})).finally((function(){O(!1),k(!1)}))},closeOnDimmerClick:!1},d.createElement(s.cV.Header,{"data-componentid":"".concat(v,"-revert-confirmation-modal-header")},M("actions:confirmationModal.header")),d.createElement(s.cV.Message,{"data-componentid":"".concat(v,"revert-confirmation-modal-message"),attached:!0,negative:!0},M("actions:confirmationModal.message")),d.createElement(s.cV.Content,null,M("actions:confirmationModal.content")))))}},93545:(e,t,n)=>{n.d(t,{J:()=>u});var r=n(16590),a=n(96334),i=n(44194),o=n(89141),c=n(10742);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){var t=e.triggerCertificateUpload,n=e.onSubmit,s=e.setShowFinishButton,u=e["data-componentid"],d=void 0===u?"add-certificate-form":u,m=l((0,i.useState)(""),2),p=m[0],f=m[1],h=l((0,i.useState)(""),2),g=h[0],y=h[1],v=l((0,i.useState)(""),2),b=v[0],E=v[1],S=l((0,i.useState)(null),2),w=S[0],A=S[1],P=l((0,i.useState)(null),2),T=P[0],O=P[1],x=l((0,i.useState)(""),2),I=x[0],R=x[1];(0,i.useEffect)((function(){""!==I&&n(I)}),[I]);var _=function(e,t,n,a,i,o){f(t),E(n),y(a),A(i),O(o),R(btoa(r.CertificateManagementUtils.enclosePem(e.certificate)))};return i.createElement(i.Fragment,null,i.createElement(a.Es,{"data-testid":"".concat(d,"-form")},i.createElement(o.Z,null,i.createElement(o.Z.Row,{columns:1},i.createElement(o.Z.Column,{mobile:16,tablet:16,computer:16},i.createElement(c.e,{submit:_,triggerSubmit:t,pemData:b,nameData:p,fileDecodedData:g,fileData:w,forgeCertificateData:T,"data-testid":"".concat(d,"-upload"),hideAliasInput:!0,setShowFinishButton:s}))))))}},76633:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(81611),a=n.n(r),i=n(83948),o=n.n(i)()(a());o.push([e.id,".action-certificate{margin-top:15px}",""]);const c=o},22431:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(81611),a=n.n(r),i=n(83948),o=n.n(i)()(a());o.push([e.id,".common-action-config-form .form-field-wrapper{padding:14px 0}.common-action-config-form .form-field-wrapper:first-child{padding-top:0}.common-action-config-form .form-field-wrapper:last-child{padding-bottom:0}",""]);const c=o},73593:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(81611),a=n.n(r),i=n(83948),o=n.n(i)()(a());o.push([e.id,".form-wrapper .form-container{margin-top:0px;margin-bottom:0px}.form-wrapper .box-container{background-color:#f9fafb;border-radius:8px;padding:30px}.form-wrapper .box-container .box-field{margin-top:20px;margin-left:10px;margin-right:10px}.form-wrapper .text-field-container{margin-top:8px;margin-bottom:8px}.form-wrapper .select-field-container{margin-bottom:8px}.form-wrapper .hint-text{margin-top:0px;margin-bottom:8px}.form-wrapper .divider-container{margin-top:20px;margin-bottom:20px}.form-wrapper .heading-container{margin-top:20px;margin-bottom:20px}.form-wrapper .button-container{margin-top:30px}.form-wrapper .alert-title{font-weight:100}.form-wrapper .secondary-button{margin-top:10px}.form-wrapper .placeholder{border-radius:8px;margin-bottom:8px}.form-wrapper .placeholder.label{height:20px;max-width:100px}.form-wrapper .placeholder.text-field{height:40px}.form-wrapper .placeholder-box>*{margin-bottom:8px}",""]);const c=o},80343:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(81611),a=n.n(r),i=n(83948),o=n.n(i)()(a());o.push([e.id,".form-wrapper .form-container{margin-top:0px;margin-bottom:0px}.form-wrapper .box-container{background-color:#f9fafb;border-radius:8px;padding:30px}.form-wrapper .box-container .box-field{margin-top:20px;margin-left:10px;margin-right:10px}.form-wrapper .text-field-container{margin-top:8px;margin-bottom:8px}.form-wrapper .select-field-container{margin-bottom:8px}.form-wrapper .hint-text{margin-top:0px;margin-bottom:8px}.form-wrapper .divider-container{margin-top:20px;margin-bottom:20px}.form-wrapper .heading-container{margin-top:20px;margin-bottom:20px}.form-wrapper .button-container{margin-top:30px}.form-wrapper .alert-title{font-weight:100}.form-wrapper .secondary-button{margin-top:10px}.form-wrapper .placeholder{border-radius:8px;margin-bottom:8px}.form-wrapper .placeholder.label{height:20px;max-width:100px}.form-wrapper .placeholder.text-field{height:40px}.form-wrapper .placeholder-box>*{margin-bottom:8px}",""]);const c=o},2463:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(81611),a=n.n(r),i=n(83948),o=n.n(i)()(a());o.push([e.id,".form-wrapper .form-container{margin-top:0px;margin-bottom:0px}.form-wrapper .box-container{background-color:#f9fafb;border-radius:8px;padding:30px}.form-wrapper .box-container .box-field{margin-top:20px;margin-left:10px;margin-right:10px}.form-wrapper .text-field-container{margin-top:8px;margin-bottom:8px}.form-wrapper .select-field-container{margin-bottom:8px}.form-wrapper .hint-text{margin-top:0px;margin-bottom:8px}.form-wrapper .divider-container{margin-top:20px;margin-bottom:20px}.form-wrapper .heading-container{margin-top:20px;margin-bottom:20px;font-weight:normal}.form-wrapper .password-sharing-label{margin-bottom:30px;font-weight:normal}.form-wrapper .certificate-label{font-weight:normal}.form-wrapper .button-container{margin-top:30px}.form-wrapper .alert-title{font-weight:100}.form-wrapper .secondary-button{margin-top:10px}.form-wrapper .placeholder{border-radius:8px;margin-bottom:8px}.form-wrapper .placeholder.label{height:20px;max-width:100px}.form-wrapper .placeholder.text-field{height:40px}.form-wrapper .placeholder-box>*{margin-bottom:8px}",""]);const c=o},41664:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(81611),a=n.n(r),i=n(83948),o=n.n(i)()(a());o.push([e.id,".form-wrapper .form-container{margin-top:0px;margin-bottom:0px}.form-wrapper .box-container{background-color:#f9fafb;border-radius:8px;padding:30px}.form-wrapper .box-container .box-field{margin-top:20px;margin-left:10px;margin-right:10px}.form-wrapper .text-field-container{margin-top:8px;margin-bottom:8px}.form-wrapper .select-field-container{margin-bottom:8px}.form-wrapper .hint-text{margin-top:0px;margin-bottom:8px}.form-wrapper .divider-container{margin-top:20px;margin-bottom:20px}.form-wrapper .heading-container{margin-top:20px;margin-bottom:20px;font-weight:normal}.form-wrapper .password-sharing-label{margin-bottom:30px;font-weight:normal}.form-wrapper .certificate-label{font-weight:normal}.form-wrapper .button-container{margin-top:30px}.form-wrapper .alert-title{font-weight:100}.form-wrapper .secondary-button{margin-top:10px}.form-wrapper .placeholder{border-radius:8px;margin-bottom:8px}.form-wrapper .placeholder.label{height:20px;max-width:100px}.form-wrapper .placeholder.text-field{height:40px}.form-wrapper .placeholder-box>*{margin-bottom:8px}",""]);const c=o},14245:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(81611),a=n.n(r),i=n(83948),o=n.n(i)()(a());o.push([e.id,".user-attribute-list{padding-top:3px}.user-attribute-list .clear-all-button-container{text-align:right;margin-top:1px;background-color:#f9fafb;box-shadow:0 2px 2px rgba(203,206,219,.2);border-radius:8px}.user-attribute-list .clear-all-button{height:35px;vertical-align:middle;margin-top:0;margin:10px}.user-attribute-list .selected-attributes-list{margin-top:1px;max-height:300px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:#adb2b6 #f1f1f1}.user-attribute-list-search-icon{margin-left:8px;opacity:.5;margin-right:1px;transition:opacity .3s ease}.MuiOutlinedInput-root.Mui-focused .user-attribute-list-search-icon{opacity:1}",""]);const c=o},26571:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(81611),a=n.n(r),i=n(83948),o=n.n(i)()(a());o.push([e.id,".grid-form{margin-top:20px !important;margin-bottom:20px !important}",""]);const c=o}}]);