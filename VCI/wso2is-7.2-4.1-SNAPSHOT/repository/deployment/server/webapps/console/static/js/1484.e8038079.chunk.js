"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[1484],{31484:(e,n,o)=>{o.r(n),o.d(n,{AccountDisablePage:()=>p,default:()=>E});var t=o(65612),a=o(60486),c=o(40838),r=o(6833),i=o(82406),s=o(20494),l=o(44194),u=o(10479),g=o(47245),d=o(39114),C=o(4717),f=o(47149);function m(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var t,a,c,r,i=[],s=!0,l=!1;try{if(c=(o=o.call(e)).next,0===n){if(Object(o)!==o)return;s=!1}else for(;!(s=(t=c.call(o)).done)&&(i.push(t.value),i.length!==n);s=!0);}catch(e){l=!0,a=e}finally{try{if(!s&&null!=o.return&&(r=o.return(),Object(r)!==r))return}finally{if(l)throw a}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return v(e,n);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?v(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var o=0,t=Array(n);o<n;o++)t[o]=e[o];return t}var p=function(e){var n=e["data-componentid"],o=void 0===n?"account-disable":n,v=(0,u.$)().t,p=(0,g.I0)(),E=(0,s.fQ)().getLink,b=(0,C.P5)(f.v.ACCOUNT_MANAGEMENT_CATEGORY_ID,f.v.ACCOUNT_DISABLE_CONNECTOR_ID),A=b.data,_=b.isLoading,D=b.error,N=b.mutate,O=m((0,l.useState)(!1),2),h=O[0],M=O[1];(0,l.useEffect)((function(){var e,n=null==A||null===(e=A.properties)||void 0===e?void 0:e.find((function(e){return e.name===f.v.ACCOUNT_DISABLING_ENABLE}));n&&M("true"===(null==n?void 0:n.value))}),[A]),(0,l.useEffect)((function(){D&&p((0,i.V_)({description:v("governanceConnectors:notifications.getConnector.error.description",{description:D}),level:r.QU.ERROR,message:v("governanceConnectors:notifications.getConnector.error.message")}))}),[D]);var T=function(e){!function(e){var n={operation:"UPDATE",properties:[{name:f.v.ACCOUNT_DISABLING_ENABLE,value:e}]};(0,C.u9)(n,f.v.ACCOUNT_MANAGEMENT_CATEGORY_ID,f.v.ACCOUNT_DISABLE_CONNECTOR_ID).then((function(){p((0,i.V_)({description:v("governanceConnectors:connectorCategories.accountManagement.connectors.accountDisableHandler.notifications.configurationUpdate.success.description"),level:r.QU.SUCCESS,message:v("governanceConnectors:connectorCategories.accountManagement.connectors.accountDisableHandler.notifications.configurationUpdate.success.message")})),M(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.detail?p((0,i.V_)({description:v("governanceConnectors:connectorCategories.accountManagement.connectors.accountDisableHandler.notifications.configurationUpdate.error.description"),level:r.QU.ERROR,message:v("governanceConnectors:connectorCategories.accountManagement.connectors.accountDisableHandler.notifications.configurationUpdate.error.message")})):p((0,i.V_)({description:v("governanceConnectors:notifications.updateConnector.genericError.description"),level:r.QU.ERROR,message:v("governanceConnectors:notifications.updateConnector.genericError.message")}))})).finally((function(){N()}))}(null==e?void 0:e.checked)};return l.createElement(s.Xg,{title:v("governanceConnectors:connectorCategories.accountManagement.connectors.accountDisableHandler.friendlyName"),pageTitle:v("governanceConnectors:connectorCategories.accountManagement.connectors.accountDisableHandler.friendlyName"),description:l.createElement(l.Fragment,null,v("governanceConnectors:connectorCategories.accountManagement.connectors.accountDisableHandler.description"),l.createElement(s.eb,{link:E("manage.accountDisable.learnMore")},v("common:learnMore"))),"data-componentid":"".concat(o,"-page-layout"),backButton:{"data-testid":"".concat(o,"-page-back-button"),onClick:function(){c.m.push(a.$.getPaths().get("LOGIN_AND_REGISTRATION"))},text:v("governanceConnectors:goBackLoginAndRegistration")},bottomMargin:!1,contentTopMargin:!0,pageHeaderMaxWidth:!0,isLoading:_},l.createElement(t.Z,{container:!0,spacing:2,direction:"column"},l.createElement(t.Z,{xs:12},l.createElement(s.pJ,{className:"form-wrapper",padded:"very"},_?l.createElement(s.pO,null):l.createElement(l.Fragment,null,l.createElement(d.Z,{ariaLabel:v("governanceConnectors:connectorCategories.accountManagement.connectors.accountDisableHandler.properties.accountDisableHandlerEnable.label"),name:"accountDisable",label:v("governanceConnectors:connectorCategories.accountManagement.connectors.accountDisableHandler.properties.accountDisableHandlerEnable.label"),width:16,"data-componentid":"".concat(o,"-toggle"),toggle:!0,onChange:function(e,n){T(n)},checked:h}),l.createElement(s.kW,null,v("governanceConnectors:connectorCategories.accountManagement.connectors.accountDisableHandler.properties.accountDisableHandlerEnable.hint"))))),l.createElement(t.Z,{xs:12},l.createElement(s.v9,{sectionHeader:v("common:dangerZone")},l.createElement(s.cN,{actionTitle:v("governanceConnectors:dangerZone.actionTitle"),header:v("governanceConnectors:dangerZone.heading"),subheader:v("governanceConnectors:dangerZone.subHeading"),onActionClick:function(){return e={properties:[f.v.ACCOUNT_DISABLING_ENABLE]},void(0,C.Mo)(f.v.ACCOUNT_MANAGEMENT_CATEGORY_ID,f.v.ACCOUNT_DISABLE_CONNECTOR_ID,e).then((function(){p((0,i.V_)({description:v("governanceConnectors:connectorCategories.accountManagement.connectors.accountDisableHandler.notifications.revertConfiguration.success.description"),level:r.QU.SUCCESS,message:v("governanceConnectors:connectorCategories.accountManagement.connectors.accountDisableHandler.notifications.revertConfiguration.success.message")})),M(!1)})).catch((function(){p((0,i.V_)({description:v("governanceConnectors:connectorCategories.accountManagement.connectors.accountDisableHandler.notifications.revertConfiguration.error.description"),level:r.QU.ERROR,message:v("governanceConnectors:connectorCategories.accountManagement.connectors.accountDisableHandler.notifications.revertConfiguration.error.message")}))})).finally((function(){N()}));var e},"data-testid":"".concat(o,"-danger-zone")})))))};const E=p}}]);