"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[6822],{86822:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Wr});var r=n(89740),o=n(33213),i=n(38818),a=n(44194),c=n(10479),l=n(41410),s=n(87908),u=n(51151),p=n(55294),d=n(66899),f=n(42227),y=n(80342),g=n(73405),m=n(72506),h=n(24676),v=n(99245),E=n(874),b=n(6833),O=n(82406),w=n(66240),I=n(6251),T=n(47513),_=n(50699),P=n(28676),S=n(5798),x=n(75053),A=n(47245),N=n(78768),C=n(92688),R=n(33901),L=n(34502),D=n(80115),F=n(33608),U=n(66466),j=n(35516),k=n(68319),M=n(96124),Z=n(76271),G=n(46033);const V=function(){var e=(0,a.useContext)(G.Z);if(void 0===e)throw new Error("useAIGeneratedRegistrationFlow must be used within a AIGeneratedFlowProvider.");return e};function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const H=function(){var e=X((0,a.useState)(!0),2),t=e[0],n=e[1],r=V(),o=r.setFlowGenerationCompleted,i=r.operationId,c={headers:{Accept:"application/json","Content-Type":"application/json"},method:b.f2.GET,url:"".concat(Z.h.getState().config.endpoints.registrationFlowAI,"/status/").concat(i)},l=(0,M.Z)(c,{shouldRetryOnError:!1}),s=l.data,u=l.error,p=l.isValidating,d=l.mutate;return(0,a.useEffect)((function(){var e=setInterval((function(){p||null!=s&&s.completed||d()}),1e3);return null!=s&&s.completed?(n(!1),clearInterval(e),o(!0)):n(!0),function(){return clearInterval(e)}}),[s,p]),{data:s,error:u,isLoading:t,isValidating:p,mutate:d}};var Y={completed:100,fetchingSamples:50,generatingFlow:75,optimizingQuery:0};function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const q=function(){var e=(0,c.$)().t,t=(0,A.I0)(),n=function(){var e=(0,c.$)().t;return{completed:e("ai:aiFlow.states.3"),fetchingSamples:e("ai:aiFlow.states.1"),generatingFlow:e("ai:aiFlow.states.2"),optimizingQuery:e("ai:aiFlow.states.0")}}(),r=V(),o=r.setIsFlowGenerating,i=r.setFlowGenerationCompleted,l=H(),s=l.data,u=l.error,p=function(){var e=(0,c.$)().t,t=(0,A.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.productName}));return[e("ai:aiFlow.screens.loading.facts.0",{productName:t}),e("ai:aiFlow.screens.loading.facts.1",{productName:t}),e("ai:aiFlow.screens.loading.facts.2",{productName:t})]}(),d=B((0,a.useState)(0),2),f=d[0],y=d[1],g=B((0,a.useState)(0),2),m=g[0],h=g[1],v=B((0,a.useState)(!0),2),E=v[0],w=v[1],I=Y;(0,a.useEffect)((function(){var e=T(),t=setInterval((function(){y((function(n){return n>=e?(clearInterval(t),e):n+1}))}),100);return function(){return clearInterval(t)}}),[s]),(0,a.useEffect)((function(){var e=setInterval((function(){h((m+1)%p.length)}),8e3);return function(){return clearInterval(e)}}),[m]),(0,a.useEffect)((function(){u&&t((0,O.V_)({description:e("ai:aiFlow.notifications.generateStatusError.description"),level:b.QU.ERROR,message:e("ai:aiFlow.notifications.generateStatusError.message")}))}),[u]);var T=function(){if(!s)return 0;var e=0;return Object.entries(s).forEach((function(t){var n=B(t,2),r=n[0];n[1]&&I[r]>e&&(e=I[r])})),e};return a.createElement(R.Z,{open:E,fullWidth:!0,maxWidth:"xs"},a.createElement(L.Z,{sx:{pb:0,pr:2}},a.createElement(D.Z,{edge:"end",size:"small",sx:{float:"right"},onClick:function(){o(!1),i(!1),w(!1)}},a.createElement(C.Z,null))),a.createElement(F.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",px:2,pb:3}},a.createElement("img",{src:k.Z,alt:"AI Bot",style:{width:"200px",height:"auto",marginBottom:"1rem"}}),a.createElement(U.Z,{variant:"body1",mb:2,textAlign:"center"},function(){if(!s)return e("ai:aiFlow.states.0");var t="ai:aiFlow.states.0";return Object.entries(s).forEach((function(e){var r=B(e,2),o=r[0];r[1]&&n[o]&&(t=n[o])})),e(t)}()),a.createElement(j.Z,{variant:"buffer",value:f,valueBuffer:f+(1+10*Math.random()),sx:{width:"100%",margin:"0 auto",height:"5px"}})))};var Q=n(27285),z=n(86989),$=n(18365),J=n(53937),ee=n(50342),te=n(17901),ne=function(e){return e.EMAIL_CONFIRMATION="EmailConfirmation",e.USER_ACCOUNT_UNLOCK="UserAccountUnlock",e}({}),re=(0,a.memo)((function(e){var t=e["data-componentid"],n=void 0===t?"email-confirmation":t,r=(0,J.Fg)(),o=(0,c.$)().t;return a.createElement($.Z,{"data-componentid":n,sx:{backgroundColor:r.colorSchemes.dark.palette.background.default,color:r.colorSchemes.dark.palette.text.primary}},a.createElement(w.HH,{type:"target",id:ne.EMAIL_CONFIRMATION+u.Z.FLOW_BUILDER_PREVIOUS_HANDLE_SUFFIX,position:I.Ly.Left}),a.createElement(z.Z,{display:"flex",gap:1,justifyContent:"center","data-componentid":n},a.createElement(te.m$,{size:25}),a.createElement(ee.Z,{variant:"body1"},o("flows:registrationFlow.steps.emailConfirmation"))),a.createElement(w.HH,{type:"source",id:ne.EMAIL_CONFIRMATION+u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX,position:I.Ly.Right}))}),(function(){return!0}));const oe=re;var ie=n(46435),ae=n(51835),ce=n.n(ae),le=n(27975),se=n.n(le),ue=n(55900),pe=n.n(ue),de=n(21555),fe=n.n(de),ye=n(3621),ge=n.n(ye),me=n(5062),he=n.n(me),ve=n(73529),Ee={};Ee.styleTagTransform=he(),Ee.setAttributes=fe(),Ee.insert=pe().bind(null,"head"),Ee.domAPI=se(),Ee.insertStyleElement=ge();ce()(ve.Z,Ee);ve.Z&&ve.Z.locals&&ve.Z.locals;var be=function(e){var t=e.height,n=void 0===t?"24":t,r=e.width,o=void 0===r?"24":r,i=e["data-componentid"],c=void 0===i?"user-unlock-icon":i;return a.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",height:n,width:o,"data-componentid":c},a.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),a.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("g",{id:"SVGRepo_iconCarrier"},a.createElement("path",{d:"M16.584 6C15.8124 4.2341 14.0503 3 12 3C9.23858 3 7 5.23858 7 8V10.0288M12 14.5V16.5M7 10.0288C7.47142 10 8.05259 10 8.8 10H15.2C16.8802 10 17.7202 10 18.362 10.327C18.9265 10.6146 19.3854 11.0735 19.673 11.638C20 12.2798 20 13.1198 20 14.8V16.2C20 17.8802 20 18.7202 19.673 19.362C19.3854 19.9265 18.9265 20.3854 18.362 20.673C17.7202 21 16.8802 21 15.2 21H8.8C7.11984 21 6.27976 21 5.63803 20.673C5.07354 20.3854 4.6146 19.9265 4.32698 19.362C4 18.7202 4 17.8802 4 16.2V14.8C4 13.1198 4 12.2798 4.32698 11.638C4.6146 11.0735 5.07354 10.6146 5.63803 10.327C5.99429 10.1455 6.41168 10.0647 7 10.0288Z",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))};const Oe=(0,a.memo)((function(e){var t=e["data-componentid"],n=void 0===t?"user-account-unlock":t;return a.createElement("div",{"data-componentid":n},a.createElement(ie.Z,{"aria-label":"user-account-unlock",className:"user-account-unlock",variant:"circular","data-componentid":n},a.createElement(be,{height:"30",width:"30","data-componentid":"".concat(n,"-icon")})),a.createElement(w.HH,{type:"target",position:I.Ly.Left}))}),(function(){return!0}));var we=["type","data-componentid"];function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie.apply(null,arguments)}const Te=function(e){var t=e.type,n=e["data-componentid"],r=void 0===n?"static-node-factory":n,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,we);return t===ne.EMAIL_CONFIRMATION?a.createElement(oe,null):t===ne.USER_ACCOUNT_UNLOCK?a.createElement(Oe,null):a.createElement(Q.Z,Ie({type:t,"data-componentid":r},o))};var _e=n(10435),Pe=["resources","resourceId"];function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(null,arguments)}const xe=function(e){var t=e.resources,n=e.resourceId,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Pe);return a.createElement(_e.Z,Se({resources:t,resourceId:n},r))};const Ae=function(e,t){var n={headers:{Accept:"application/json","Content-Type":"application/json"},method:b.f2.GET,url:"".concat(Z.h.getState().config.endpoints.registrationFlowAI,"/result/").concat(e)},r=(0,M.Z)(t?n:null,{shouldRetryOnError:!1}),o=r.data,i=r.error,c=r.isLoading,l=r.isValidating,s=r.mutate;return(0,a.useEffect)((function(){t&&s()}),[t]),{data:o,error:i,isLoading:c,isValidating:l,mutate:s}};function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Le(r.key),r)}}function Re(e,t,n){return t&&Ce(e.prototype,t),n&&Ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Le(e){var t=function(e,t){if("object"!=Ne(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ne(t)?t:t+""}var De,Fe,Ue,je=Re((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));De=je,Ue="REGISTRATION",(Fe=Le(Fe="REGISTRATION_FLOW_TYPE"))in De?Object.defineProperty(De,Fe,{value:Ue,enumerable:!0,configurable:!0,writable:!0}):De[Fe]=Ue;const ke=je,Me=JSON.parse('{"id":"END","type":"END","size":{"width":280,"height":220},"position":{"x":790,"y":330},"config":{"isAccountLockOnCreationEnabled":"false","isAutoLoginEnabled":"false","isEmailVerificationEnabled":"true","isFlowCompletionNotificationEnabled":"false"},"data":{"action":{"type":"EXECUTOR","executor":{"name":"UserProvisioningExecutor"}},"components":[{"category":"DISPLAY","type":"TYPOGRAPHY","id":"typography_u2oz","variant":"H3","config":{"text":"Registration Successful!"}},{"category":"DISPLAY","type":"RICH_TEXT","config":{"text":"<p class=\\"rich-text-paragraph rich-text-align-center\\"><span class=\\"rich-text-pre-wrap\\">You can now sign in with your new account.</span></p>"},"id":"display_hgvm"}]}}');function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ze(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ze(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We=function(e){return e.map((function(e){var t=Ve({},e);return e.action&&e.action.next===f.wQ.UserOnboard&&(t=Ve(Ve({},t),{},{action:Ve(Ve({},e.action),{},{next:f.Dm.End})})),e.components&&Array.isArray(e.components)&&(t=Ve(Ve({},t),{},{components:We(e.components)})),t}))};const He=function(e){if(!e||!e.steps||!Array.isArray(e.steps))return e;if(!e.steps.some((function(e){return e.type===f.wQ.UserOnboard})))return e;var t=e.steps.map((function(e){if(e.type===f.wQ.UserOnboard)return Ve(Ve({},Me),{},{position:e.position||Me.position,size:e.size||Me.size});if(e.data&&e.data.components){var t=We(e.data.components);return Ve(Ve({},e),{},{data:Ve(Ve({},e.data),{},{components:t})})}return e}));return Ve(Ve({},e),{},{steps:t})};const Ye=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={headers:{Accept:"application/json","Content-Type":"application/json"},method:b.f2.GET,url:"".concat(Z.h.getState().config.endpoints.registrationFlow,"?flowType=").concat(ke.REGISTRATION_FLOW_TYPE)},n=(0,M.Z)(e?t:null),r=n.data,o=n.error,i=n.isLoading,c=n.isValidating,l=n.mutate;return{data:(0,a.useMemo)((function(){if(!r)return r;try{return He(r)}catch(e){return r}}),[r]),error:o,isLoading:i,isValidating:c,mutate:l}};var Be=n(90375),Ke=n(53989);const qe=JSON.parse('[{"resourceType":"STEP","category":"INTERFACE","type":"VIEW","version":"0.1.0","deprecated":false,"display":{"label":"Username + Password View","image":"assets/images/icons/password.svg","showOnResourcePanel":true},"config":{},"data":{"components":[{"category":"BLOCK","type":"FORM","config":{},"id":"{{ID}}","components":[{"id":"{{ID}}","category":"FIELD","type":"INPUT","variant":"TEXT","config":{"type":"text","hint":"","label":"Username","required":true,"placeholder":"Enter your username","identifier":"http://wso2.org/claims/username"}},{"id":"{{ID}}","category":"FIELD","type":"INPUT","variant":"PASSWORD","config":{"identifier":"password","type":"password","hint":"","label":"Password","required":true,"placeholder":"Enter your password"}},{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"PRIMARY","config":{"type":"submit","text":"Continue"},"action":{"type":"EXECUTOR","executor":{"name":"PasswordProvisioningExecutor"}}}]}]}},{"resourceType":"STEP","category":"WORKFLOW","type":"EXECUTION","version":"0.1.0","deprecated":false,"display":{"label":"Passkey View","image":"assets/images/icons/fingerprint.svg","showOnResourcePanel":true},"data":{"action":{"type":"EXECUTOR","executor":{"name":"FIDO2Executor"},"next":""}}}]'),Qe=JSON.parse('[{"resourceType":"TEMPLATE","category":"STARTER","type":"GENERATE_WITH_AI","version":"0.1.0","deprecated":false,"display":{"label":"Generate with AI","description":"Describe your registration flow and generate with AI.","image":"assets/images/icons/robot.svg","showOnResourcePanel":false},"config":{}},{"resourceType":"TEMPLATE","category":"STARTER","type":"BLANK","version":"0.1.0","deprecated":false,"display":{"label":"Blank","description":"Start a new flow from scratch","image":"assets/images/icons/refresh-ccw.svg","showOnResourcePanel":true},"config":{"data":{"steps":[{"id":"{{ID}}","type":"VIEW","size":{"width":350,"height":291},"position":{"x":300,"y":200},"data":{"components":[{"id":"{{ID}}","category":"DISPLAY","type":"TYPOGRAPHY","variant":"H3","config":{"text":"Heading"}},{"category":"BLOCK","type":"FORM","config":{},"id":"{{ID}}","components":[{"category":"ACTION","type":"BUTTON","id":"{{ID}}","variant":"PRIMARY","config":{"type":"submit","text":"Continue"},"action":{"next":"END","type":"NEXT"}}]}]}},{"id":"END","type":"END","size":{"width":280,"height":220},"position":{"x":790,"y":330},"config":{"isAccountLockOnCreationEnabled":"false","isAutoLoginEnabled":"false","isEmailVerificationEnabled":"true","isFlowCompletionNotificationEnabled":"false"},"data":{"action":{"type":"EXECUTOR","executor":{"name":"UserProvisioningExecutor"}},"components":[{"category":"DISPLAY","type":"TYPOGRAPHY","id":"typography_u2oz","variant":"H3","config":{"text":"Registration Successful!"}},{"category":"DISPLAY","type":"RICH_TEXT","config":{"text":"<p class=\\"rich-text-paragraph rich-text-align-center\\"><span class=\\"rich-text-pre-wrap\\">You can now sign in with your new account.</span></p>"},"id":"display_hgvm"}]}}]}}},{"resourceType":"TEMPLATE","category":"STARTER","type":"BASIC","version":"0.1.0","deprecated":false,"display":{"label":"Basic Details","description":"Basic registration experience with minimal data collection","image":"assets/images/icons/password.svg","showOnResourcePanel":true},"config":{"data":{"__generationMeta__":{"defaultPropertySelectorId":"{{NEXT_STEP_ID}}","replacers":[{"key":"NEXT_STEP_ID","type":"ID"}]},"steps":[{"id":"{{ID}}","type":"VIEW","size":{"width":350,"height":291},"position":{"x":300,"y":200},"data":{"components":[{"id":"{{ID}}","category":"DISPLAY","type":"TYPOGRAPHY","variant":"H3","config":{"text":"Sign Up"}},{"category":"BLOCK","type":"FORM","config":{},"id":"{{ID}}","components":[{"id":"{{ID}}","category":"FIELD","type":"INPUT","variant":"TEXT","config":{"type":"text","hint":"","label":"Username","required":true,"placeholder":"Enter your username","identifier":"http://wso2.org/claims/username"}},{"id":"{{ID}}","category":"FIELD","type":"INPUT","variant":"EMAIL","config":{"type":"email","hint":"","label":"Email","required":true,"placeholder":"Enter your email","identifier":"http://wso2.org/claims/emailaddress"}},{"id":"{{ID}}","category":"FIELD","type":"INPUT","variant":"PASSWORD","config":{"identifier":"password","type":"password","hint":"","label":"Password","required":true,"placeholder":"Enter your password"}},{"category":"DISPLAY","config":{"text":"<p class=\\"rich-text-paragraph\\"><br></p><p class=\\"rich-text-paragraph\\"><span class=\\"rich-text-pre-wrap\\">When you click Sign Up, you are agreeing to our </span><a href=\\"{{branding.termsOfUseUrl}}\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\" class=\\"rich-text-link\\"><span class=\\"rich-text-pre-wrap\\">Terms of Service</span></a><span class=\\"rich-text-pre-wrap\\"> and </span><a href=\\"{{branding.privacyPolicyUrl}}\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\" class=\\"rich-text-link\\"><span class=\\"rich-text-pre-wrap\\">Privacy Policy</span></a></p>"},"id":"{{ID}}","type":"RICH_TEXT"},{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"PRIMARY","config":{"type":"submit","text":"Sign Up"},"action":{"type":"EXECUTOR","executor":{"name":"PasswordProvisioningExecutor"},"next":"{{NEXT_STEP_ID}}"}},{"category":"DISPLAY","config":{"text":"<p class=\\"rich-text-paragraph\\"><br></p><p class=\\"rich-text-paragraph\\"><span class=\\"rich-text-pre-wrap\\">Already have an account? </span><a href=\\"{{application.callbackOrAccessUrl}}\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\" class=\\"rich-text-link\\"><span class=\\"rich-text-pre-wrap\\">Sign in</span></a></p>"},"id":"{{ID}}","type":"RICH_TEXT"}]}]}},{"id":"{{NEXT_STEP_ID}}","type":"VIEW","size":{"width":350,"height":453},"position":{"x":735,"y":301},"data":{"components":[{"id":"{{ID}}","category":"DISPLAY","type":"TYPOGRAPHY","variant":"H3","config":{"text":"OTP Verification"}},{"id":"{{ID}}","category":"BLOCK","type":"FORM","config":{},"components":[{"id":"{{ID}}","category":"FIELD","type":"INPUT","variant":"OTP","config":{"type":"text","hint":"","label":"Enter the code sent to your email","required":false,"placeholder":"","identifier":"otp"}},{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"PRIMARY","config":{"type":"submit","text":"Continue"},"action":{"type":"EXECUTOR","executor":{"name":"EmailOTPExecutor"},"next":"END"}},{"id":"{{ID}}","category":"ACTION","type":"RESEND","config":{"type":"submit","text":"Resend OTP"}}]}]}},{"id":"END","type":"END","size":{"width":280,"height":220},"position":{"x":1200,"y":408},"config":{"isAccountLockOnCreationEnabled":"false","isAutoLoginEnabled":"false","isEmailVerificationEnabled":"true","isFlowCompletionNotificationEnabled":"false"},"data":{"action":{"type":"EXECUTOR","executor":{"name":"UserProvisioningExecutor"}},"components":[{"category":"DISPLAY","type":"TYPOGRAPHY","id":"typography_u2oz","variant":"H3","config":{"text":"Registration Successful!"}},{"category":"DISPLAY","type":"RICH_TEXT","config":{"text":"<p class=\\"rich-text-paragraph rich-text-align-center\\"><span class=\\"rich-text-pre-wrap\\">You can now sign in with your new account.</span></p>"},"id":"display_hgvm"}]}}]}}},{"resourceType":"TEMPLATE","category":"STARTER","type":"DEFAULT","version":"0.1.0","deprecated":false,"display":{"label":"Default Self Registration","description":"Self-registration flow that collects basic profile information","image":"assets/images/icons/password.svg","showOnResourcePanel":false},"config":{"data":{"steps":[{"id":"{{ID}}","type":"VIEW","size":{"width":350,"height":291},"position":{"x":300,"y":200},"data":{"components":[{"id":"{{ID}}","category":"DISPLAY","type":"TYPOGRAPHY","variant":"H3","config":{"text":"Sign Up"}},{"category":"BLOCK","type":"FORM","config":{},"id":"{{ID}}","components":[{"id":"{{ID}}","category":"FIELD","type":"INPUT","variant":"PASSWORD","config":{"identifier":"password","type":"password","hint":"","label":"Password","required":true,"placeholder":"Enter your password"}},{"category":"DISPLAY","config":{"text":"<p class=\\"rich-text-paragraph\\"><br></p><p class=\\"rich-text-paragraph\\"><span class=\\"rich-text-pre-wrap\\">When you click Sign Up, you are agreeing to our </span><a href=\\"{{branding.termsOfUseUrl}}\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\" class=\\"rich-text-link\\"><span class=\\"rich-text-pre-wrap\\">Terms of Service</span></a><span class=\\"rich-text-pre-wrap\\"> and </span><a href=\\"{{branding.privacyPolicyUrl}}\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\" class=\\"rich-text-link\\"><span class=\\"rich-text-pre-wrap\\">Privacy Policy</span></a></p>"},"id":"{{ID}}","type":"RICH_TEXT"},{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"PRIMARY","config":{"type":"submit","text":"Sign Up"},"action":{"type":"EXECUTOR","executor":{"name":"PasswordProvisioningExecutor"},"next":"END"}},{"category":"DISPLAY","config":{"text":"<p class=\\"rich-text-paragraph\\"><br></p><p class=\\"rich-text-paragraph\\"><span class=\\"rich-text-pre-wrap\\">Already have an account? </span><a href=\\"{{application.callbackOrAccessUrl}}\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\" class=\\"rich-text-link\\"><span class=\\"rich-text-pre-wrap\\">Sign in</span></a></p>"},"id":"{{ID}}","type":"RICH_TEXT"}]}]}},{"id":"END","type":"END","size":{"width":280,"height":220},"position":{"x":1200,"y":408},"config":{"isAccountLockOnCreationEnabled":"false","isAutoLoginEnabled":"false","isEmailVerificationEnabled":"true","isFlowCompletionNotificationEnabled":"false"},"data":{"action":{"type":"EXECUTOR","executor":{"name":"UserProvisioningExecutor"}},"components":[{"category":"DISPLAY","type":"TYPOGRAPHY","id":"typography_u2oz","variant":"H3","config":{"text":"Registration Successful!"}},{"category":"DISPLAY","type":"RICH_TEXT","config":{"text":"<p class=\\"rich-text-paragraph rich-text-align-center\\"><span class=\\"rich-text-pre-wrap\\">You can now sign in with your new account.</span></p>"},"id":"display_hgvm"}]}}]}}},{"resourceType":"TEMPLATE","category":"STARTER","type":"BASIC_FEDERATED","version":"0.1.0","deprecated":false,"display":{"label":"Basic + Google","description":"Basic registration experience with Google as an addition","image":"assets/images/icons/google-generic.svg","showOnResourcePanel":true},"config":{"data":{"__generationMeta__":{"defaultPropertySelectorId":"{{GOOGLE_EXECUTION_STEP_ID}}","replacers":[{"key":"GOOGLE_EXECUTION_STEP_ID","type":"ID"}]},"steps":[{"id":"{{ID}}","type":"VIEW","size":{"width":350,"height":291},"position":{"x":0,"y":330},"data":{"components":[{"id":"{{ID}}","category":"DISPLAY","type":"TYPOGRAPHY","variant":"H3","config":{"text":"Register Account"}},{"category":"BLOCK","type":"FORM","config":{},"id":"{{ID}}","components":[{"id":"{{ID}}","category":"FIELD","type":"INPUT","variant":"TEXT","config":{"type":"text","hint":"","label":"Username","required":true,"placeholder":"Enter your username","identifier":"http://wso2.org/claims/username"}},{"id":"{{ID}}","category":"FIELD","type":"INPUT","variant":"PASSWORD","config":{"identifier":"password","type":"password","hint":"","label":"Password","required":true,"placeholder":"Enter your password"}},{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"PRIMARY","config":{"type":"submit","text":"Continue"},"action":{"type":"EXECUTOR","executor":{"name":"PasswordProvisioningExecutor"},"next":"END"}}]},{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"SOCIAL","config":{"type":"button","text":"Continue with Google","image":"assets/images/icons/google.svg"},"action":{"type":"NEXT","next":"{{GOOGLE_EXECUTION_STEP_ID}}"}}]}},{"id":"{{GOOGLE_EXECUTION_STEP_ID}}","type":"EXECUTION","size":{"width":350,"height":291},"position":{"x":580,"y":730},"data":{"action":{"type":"EXECUTOR","executor":{"name":"GoogleExecutor","meta":{"idpName":"{{IDP_NAME}}"}},"next":"END"}}},{"id":"END","type":"END","size":{"width":280,"height":220},"position":{"x":900,"y":408},"config":{"isAccountLockOnCreationEnabled":"false","isAutoLoginEnabled":"false","isEmailVerificationEnabled":"true","isFlowCompletionNotificationEnabled":"false"},"data":{"action":{"type":"EXECUTOR","executor":{"name":"UserProvisioningExecutor"}},"components":[{"category":"DISPLAY","type":"TYPOGRAPHY","id":"typography_u2oz","variant":"H3","config":{"text":"Registration Successful!"}},{"category":"DISPLAY","type":"RICH_TEXT","config":{"text":"<p class=\\"rich-text-paragraph rich-text-align-center\\"><span class=\\"rich-text-pre-wrap\\">You can now sign in with your new account.</span></p>"},"id":"display_hgvm"}]}}]}}},{"resourceType":"TEMPLATE","category":"STARTER","type":"BASIC_PASSKEY","version":"0.1.0","deprecated":false,"display":{"label":"Basic + Passkey","description":"Basic registration experience with passkey enrollment","image":"assets/images/icons/fingerprint.svg","showOnResourcePanel":true},"config":{"data":{"__generationMeta__":{"defaultPropertySelectorId":"{{PASSKEY_ENROLLMENT_STEP_ID}}","replacers":[{"key":"PASSKEY_ENROLLMENT_STEP_ID","type":"ID"}]},"steps":[{"id":"{{ID}}","type":"VIEW","size":{"width":350,"height":291},"position":{"x":0,"y":330},"data":{"components":[{"id":"{{ID}}","category":"DISPLAY","type":"TYPOGRAPHY","variant":"H3","config":{"text":"Register Account"}},{"category":"BLOCK","type":"FORM","config":{},"id":"{{ID}}","components":[{"id":"{{ID}}","category":"FIELD","type":"INPUT","variant":"EMAIL","config":{"type":"email","hint":"","label":"Email","required":true,"placeholder":"Enter your email","identifier":"http://wso2.org/claims/emailaddress"}},{"id":"{{ID}}","category":"FIELD","type":"INPUT","variant":"TEXT","config":{"type":"text","hint":"","label":"First Name","required":false,"placeholder":"Enter your first name","identifier":"http://wso2.org/claims/givenname"}},{"id":"{{ID}}","category":"FIELD","type":"INPUT","variant":"TEXT","config":{"type":"text","hint":"","label":"Last Name","required":false,"placeholder":"Enter your last name","identifier":"http://wso2.org/claims/lastname"}},{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"PRIMARY","config":{"type":"submit","text":"Continue"},"action":{"type":"NEXT","next":"{{PASSKEY_ENROLLMENT_STEP_ID}}"}}]}]}},{"id":"{{PASSKEY_ENROLLMENT_STEP_ID}}","type":"EXECUTION","size":{"width":350,"height":291},"position":{"x":500,"y":900},"data":{"action":{"type":"EXECUTOR","executor":{"name":"FIDO2Executor"},"next":"END"}}},{"id":"END","type":"END","size":{"width":280,"height":220},"position":{"x":880,"y":800},"config":{"isAccountLockOnCreationEnabled":"false","isAutoLoginEnabled":"false","isEmailVerificationEnabled":"true","isFlowCompletionNotificationEnabled":"false"},"data":{"action":{"type":"EXECUTOR","executor":{"name":"UserProvisioningExecutor"}},"components":[{"category":"DISPLAY","type":"TYPOGRAPHY","id":"typography_u2oz","variant":"H3","config":{"text":"You\'re almost there!"}},{"category":"DISPLAY","type":"RICH_TEXT","config":{"text":"<p class=\\"rich-text-paragraph rich-text-align-center\\"><span class=\\"rich-text-pre-wrap\\">Check your inbox for instructions to activate your account.</span></p>"},"id":"display_hgvm"}]}}]}}}]'),ze=JSON.parse('[{"resourceType":"WIDGET","category":"FLOW","type":"GOOGLE_FEDERATION","version":"0.1.0","deprecated":false,"display":{"label":"Continue with Google","description":"Registration experience with Google","image":"assets/images/icons/google-generic.svg","showOnResourcePanel":true},"config":{"data":{"__generationMeta__":{"defaultPropertySelectorId":"{{GOOGLE_EXECUTION_STEP_ID}}","replacers":[{"key":"GOOGLE_EXECUTION_STEP_ID","type":"ID"}]},"steps":[{"__generationMeta__":{"strategy":"MERGE_WITH_DROP_POINT"},"type":"VIEW","data":{"components":[{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"SOCIAL","config":{"type":"button","text":"Continue with Google","image":"assets/images/icons/google.svg"},"action":{"type":"NEXT","next":"{{GOOGLE_EXECUTION_STEP_ID}}"}}]}},{"id":"{{GOOGLE_EXECUTION_STEP_ID}}","type":"EXECUTION","size":{"width":350,"height":291},"position":{"x":690,"y":500},"data":{"action":{"type":"EXECUTOR","executor":{"name":"GoogleExecutor","meta":{"idpName":"{{IDP_NAME}}"}},"next":"END"}}}]}}},{"resourceType":"WIDGET","category":"FLOW","type":"APPLE_FEDERATION","version":"0.1.0","deprecated":false,"display":{"label":"Continue with Apple","description":"Registration experience with Apple","image":"assets/images/icons/apple.svg","showOnResourcePanel":true},"config":{"data":{"__generationMeta__":{"defaultPropertySelectorId":"{{APPLE_EXECUTION_STEP_ID}}","replacers":[{"key":"APPLE_EXECUTION_STEP_ID","type":"ID"}]},"steps":[{"__generationMeta__":{"strategy":"MERGE_WITH_DROP_POINT"},"type":"VIEW","data":{"components":[{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"SOCIAL","config":{"type":"button","text":"Continue with Apple","image":"assets/images/icons/apple.svg"},"action":{"type":"NEXT","next":"{{APPLE_EXECUTION_STEP_ID}}"}}]}},{"id":"{{APPLE_EXECUTION_STEP_ID}}","type":"EXECUTION","size":{"width":350,"height":291},"position":{"x":690,"y":500},"data":{"action":{"type":"EXECUTOR","executor":{"name":"AppleExecutor","meta":{"idpName":"{{IDP_NAME}}"}},"next":"END"}}}]}}},{"resourceType":"WIDGET","category":"FLOW","type":"FACEBOOK_FEDERATION","version":"0.1.0","deprecated":false,"display":{"label":"Continue with Facebook","description":"Registration experience with Facebook","image":"assets/images/icons/facebook-black.svg","showOnResourcePanel":true},"config":{"data":{"__generationMeta__":{"defaultPropertySelectorId":"{{FACEBOOK_EXECUTION_STEP_ID}}","replacers":[{"key":"FACEBOOK_EXECUTION_STEP_ID","type":"ID"}]},"steps":[{"__generationMeta__":{"strategy":"MERGE_WITH_DROP_POINT"},"type":"VIEW","data":{"components":[{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"SOCIAL","config":{"type":"button","text":"Continue with Facebook","image":"assets/images/icons/facebook.svg"},"action":{"type":"NEXT","next":"{{FACEBOOK_EXECUTION_STEP_ID}}"}}]}},{"id":"{{FACEBOOK_EXECUTION_STEP_ID}}","type":"EXECUTION","size":{"width":350,"height":291},"position":{"x":690,"y":500},"data":{"action":{"type":"EXECUTOR","executor":{"name":"FacebookExecutor","meta":{"idpName":"{{IDP_NAME}}"}},"next":"END"}}}]}}},{"resourceType":"WIDGET","category":"FLOW","type":"MICROSOFT_FEDERATION","version":"0.1.0","deprecated":false,"display":{"label":"Continue with Microsoft","description":"Registration experience with Microsoft","image":"assets/images/icons/microsoft-black.svg","showOnResourcePanel":true},"config":{"data":{"__generationMeta__":{"defaultPropertySelectorId":"{{MICROSOFT_EXECUTION_STEP_ID}}","replacers":[{"key":"MICROSOFT_EXECUTION_STEP_ID","type":"ID"}]},"steps":[{"__generationMeta__":{"strategy":"MERGE_WITH_DROP_POINT"},"type":"VIEW","data":{"components":[{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"SOCIAL","config":{"type":"button","text":"Continue with Microsoft","image":"assets/images/icons/microsoft.svg"},"action":{"type":"NEXT","next":"{{MICROSOFT_EXECUTION_STEP_ID}}"}}]}},{"id":"{{MICROSOFT_EXECUTION_STEP_ID}}","type":"EXECUTION","size":{"width":350,"height":291},"position":{"x":690,"y":500},"data":{"action":{"type":"EXECUTOR","executor":{"name":"Office365Executor","meta":{"idpName":"{{IDP_NAME}}"}},"next":"END"}}}]}}},{"resourceType":"WIDGET","category":"FLOW","type":"GITHUB_FEDERATION","version":"0.1.0","deprecated":false,"display":{"label":"Continue with GitHub","description":"Registration experience with GitHub","image":"assets/images/icons/github.svg","showOnResourcePanel":true},"config":{"data":{"__generationMeta__":{"defaultPropertySelectorId":"{{GITHUB_EXECUTION_STEP_ID}}","replacers":[{"key":"GITHUB_EXECUTION_STEP_ID","type":"ID"}]},"steps":[{"__generationMeta__":{"strategy":"MERGE_WITH_DROP_POINT"},"type":"VIEW","data":{"components":[{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"SOCIAL","config":{"type":"button","text":"Continue with GitHub","image":"assets/images/icons/github.svg"},"action":{"type":"NEXT","next":"{{GITHUB_EXECUTION_STEP_ID}}"}}]}},{"id":"{{GITHUB_EXECUTION_STEP_ID}}","type":"EXECUTION","size":{"width":350,"height":291},"position":{"x":690,"y":500},"data":{"action":{"type":"EXECUTOR","executor":{"name":"GithubExecutor","meta":{"idpName":"{{IDP_NAME}}"}},"next":"END"}}}]}}},{"resourceType":"WIDGET","category":"COMPOSITE","type":"IDENTIFIER_PASSWORD","version":"0.1.0","deprecated":false,"display":{"label":"Username + Password","description":"Basic registration experience with simple username & password","image":"assets/images/icons/password.svg","showOnResourcePanel":true},"config":{"data":{"__generationMeta__":{},"steps":[{"__generationMeta__":{"strategy":"MERGE_WITH_DROP_POINT"},"type":"VIEW","data":{"components":[{"category":"BLOCK","type":"FORM","config":{},"id":"{{ID}}","components":[{"id":"{{ID}}","category":"FIELD","type":"INPUT","variant":"TEXT","config":{"type":"text","hint":"","label":"Username","required":true,"placeholder":"Enter your username","identifier":"http://wso2.org/claims/username"}},{"id":"{{ID}}","category":"FIELD","type":"INPUT","variant":"PASSWORD","config":{"identifier":"password","type":"password","hint":"","label":"Password","required":true,"placeholder":"Enter your password"}},{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"PRIMARY","config":{"type":"submit","text":"Continue"},"action":{"type":"EXECUTOR","executor":{"name":"PasswordProvisioningExecutor"}}}]}]}}]}}},{"resourceType":"WIDGET","category":"FLOW","type":"EMAIL_OTP","version":"0.1.0","deprecated":false,"display":{"label":"Continue with Email OTP","description":"Registration experience with Email OTP","image":"assets/images/icons/email-down.svg","showOnResourcePanel":true},"config":{"data":{"__generationMeta__":{"replacers":[{"key":"EMAIL_OTP_VERIFICATION_STEP_ID","type":"ID"}]},"steps":[{"__generationMeta__":{"strategy":"MERGE_WITH_DROP_POINT"},"type":"VIEW","data":{"components":[{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"PRIMARY","config":{"type":"button","text":"Continue with Email OTP"},"action":{"next":"{{EMAIL_OTP_VERIFICATION_STEP_ID}}","type":"NEXT"}}]}},{"id":"{{EMAIL_OTP_VERIFICATION_STEP_ID}}","type":"VIEW","size":{"width":350,"height":343},"position":{"x":690,"y":20},"data":{"components":[{"id":"{{ID}}","category":"DISPLAY","type":"TYPOGRAPHY","variant":"H3","config":{"text":"Verify OTP"}},{"id":"{{ID}}","category":"BLOCK","type":"FORM","config":{},"components":[{"id":"{{ID}}","category":"FIELD","type":"INPUT","variant":"OTP","config":{"type":"text","hint":"","identifier":"otp","label":"Enter the OTP code","placeholder":""}},{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"PRIMARY","config":{"type":"submit","text":"Verify"},"action":{"type":"EXECUTOR","executor":{"name":"EmailOTPExecutor"},"next":"END"}},{"id":"{{ID}}","category":"ACTION","type":"RESEND","config":{"type":"submit","text":"Resend OTP"}}]}]}}]}}},{"resourceType":"WIDGET","category":"FLOW","type":"SMS_OTP","version":"0.1.0","deprecated":false,"display":{"label":"Continue with SMS OTP","description":"Registration experience with SMS OTP","image":"assets/images/icons/mobile-message.svg","showOnResourcePanel":true},"config":{"data":{"__generationMeta__":{"replacers":[{"key":"SMS_OTP_VERIFICATION_STEP_ID","type":"ID"}]},"steps":[{"__generationMeta__":{"strategy":"MERGE_WITH_DROP_POINT"},"type":"VIEW","data":{"components":[{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"PRIMARY","config":{"type":"button","text":"Continue with SMS OTP"},"action":{"next":"{{SMS_OTP_VERIFICATION_STEP_ID}}","type":"NEXT"}}]}},{"id":"{{SMS_OTP_VERIFICATION_STEP_ID}}","type":"VIEW","size":{"width":350,"height":343},"position":{"x":690,"y":20},"data":{"components":[{"id":"{{ID}}","category":"DISPLAY","type":"TYPOGRAPHY","variant":"H3","config":{"text":"Verify OTP"}},{"id":"{{ID}}","category":"BLOCK","type":"FORM","config":{},"components":[{"id":"{{ID}}","category":"FIELD","type":"INPUT","variant":"OTP","config":{"type":"text","hint":"","identifier":"otp","label":"Enter the OTP code","required":true,"placeholder":""}},{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"PRIMARY","config":{"type":"submit","text":"Verify"},"action":{"type":"EXECUTOR","executor":{"name":"SMSOTPExecutor"},"next":"END"}},{"id":"{{ID}}","category":"ACTION","type":"RESEND","config":{"type":"submit","text":"Resend OTP"}}]}]}}]}}},{"resourceType":"WIDGET","category":"FLOW","type":"PASSKEY_ENROLLMENT","version":"0.1.0","deprecated":false,"display":{"label":"Continue with Passkey","description":"Registration experience with Passkeys","image":"assets/images/icons/fingerprint.svg","showOnResourcePanel":true},"config":{"data":{"__generationMeta__":{"defaultPropertySelectorId":"{{PASSKEY_EXECUTION_STEP_ID}}","replacers":[{"key":"PASSKEY_EXECUTION_STEP_ID","type":"ID"}]},"steps":[{"__generationMeta__":{"strategy":"MERGE_WITH_DROP_POINT"},"type":"VIEW","data":{"components":[{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"SOCIAL","config":{"type":"button","text":"Continue with Passkey","image":"assets/images/icons/fingerprint.svg"},"action":{"type":"NEXT","next":"{{PASSKEY_EXECUTION_STEP_ID}}"}}]}},{"id":"{{PASSKEY_EXECUTION_STEP_ID}}","type":"EXECUTION","size":{"width":350,"height":291},"position":{"x":690,"y":500},"data":{"action":{"type":"EXECUTOR","executor":{"name":"FIDO2Executor"},"next":"END"}}}]}}},{"resourceType":"WIDGET","category":"FLOW","type":"MAGIC_LINK","version":"0.1.0","deprecated":false,"display":{"label":"Continue with Magic Link","description":"Registration experience with Magic Link","image":"assets/images/icons/link.svg","showOnResourcePanel":true},"config":{"data":{"__generationMeta__":{"defaultPropertySelectorId":"{{MAGIC_LINK_EXECUTION_STEP_ID}}","replacers":[{"key":"MAGIC_LINK_EXECUTION_STEP_ID","type":"ID"}]},"steps":[{"__generationMeta__":{"strategy":"MERGE_WITH_DROP_POINT"},"type":"VIEW","data":{"components":[{"id":"{{ID}}","category":"ACTION","type":"BUTTON","variant":"SOCIAL","config":{"type":"button","text":"Continue with Magic Link","image":"assets/images/icons/link.svg"},"action":{"type":"NEXT","next":"{{MAGIC_LINK_EXECUTION_STEP_ID}}"}}]}},{"id":"{{MAGIC_LINK_EXECUTION_STEP_ID}}","type":"EXECUTION","size":{"width":350,"height":291},"position":{"x":690,"y":500},"data":{"action":{"type":"EXECUTOR","executor":{"name":"MagicLinkExecutor"},"next":"END"},"components":[{"id":"{{ID}}","category":"DISPLAY","type":"RICH_TEXT","config":{"text":"<h3 class=\\"rich-text-heading-h3 rich-text-align-center\\"><span class=\\"rich-text-pre-wrap\\">Check Your Email</span></h3><h5 class=\\"rich-text-heading-h5 rich-text-align-center\\"><br><span class=\\"rich-text-pre-wrap\\">An email containing further instructions has been sent to your email address. Please check your inbox to continue.</span></h5>"}}]}}]}}}]');function $e(e){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(e)}function Je(e){return function(e){if(Array.isArray(e))return et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return et(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=$e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ot=function(){var e=(0,Ke.Z)().data,t=(0,A.v9)((function(e){var t;return null===(t=e.config.ui.features)||void 0===t?void 0:t.ai}));return{data:(0,a.useMemo)((function(){var n,r=!(null!=t&&t.enabled)||(null==t||null===(n=t.disabledFeatures)||void 0===n?void 0:n.includes(Be.Z.FEATURE_FLAG_KEY_MAP.AI_FLOWS_TYPES_REGISTRATION)),o=Qe.filter((function(e){return!r||(null==e?void 0:e.type)!==y.E.GeneratedWithAI}));return nt(nt({},e),{},{steps:[].concat(Je(null==e?void 0:e.steps),Je(qe)),templates:[].concat(Je(null==e?void 0:e.templates),Je(o)),widgets:[].concat(Je(null==e?void 0:e.widgets),Je(ze))})}),[e,t]),error:null,isLoading:!1,isValidating:!1,mutate:function(){return null}}};var it=n(52645),at=n(33170),ct=n(92211),lt=n(42416),st=n(3116),ut=(0,a.createContext)({isPublishing:!1,onPublish:function(){return Promise.resolve(!1)},selectedAttributes:{},setSelectedAttributes:function(){},supportedAttributes:null});ut.displayName="RegistrationFlowBuilderContext";const pt=ut;const dt=function(){var e=(0,a.useContext)(pt);if(void 0===e)throw new Error("useRegistrationFlowBuilder must be used within a RegistrationFlowBuilderProvider");return e};var ft="http://wso2.org/claims/emailaddress",yt="http://wso2.org/claims/givenname",gt="http://wso2.org/claims/lastname",mt="http://wso2.org/claims/username",ht=[ft,yt,gt,"http://wso2.org/claims/challengeQuestionUris","http://wso2.org/claims/challengeQuestion1","http://wso2.org/claims/challengeQuestion2","http://wso2.org/claims/groups","http://wso2.org/claims/roles","http://wso2.org/claims/url","http://wso2.org/claims/emailAddresses","http://wso2.org/claims/verifiedEmailAddresses","http://wso2.org/claims/mobileNumbers","http://wso2.org/claims/verifiedMobileNumbers","http://wso2.org/claims/username"],vt={category:"FIELD",config:{hint:"",identifier:"",label:"",placeholder:"",required:!1,type:""},id:"{{ID}}",type:"INPUT",variant:""};const Et=function(){var e,t,n=(0,p.Z)().metadata,r=dt().supportedAttributes,o=(0,st.Wf)().data,i=(0,a.useMemo)((function(){var e;return!!o&&void 0!==((null===(e=o.find((function(e){return"username"===e.field})))||void 0===e?void 0:e.rules)||[]).find((function(e){return"AlphanumericValidator"===e.validator}))}),[o]),c=function(e){var t,n=(0,T.Z)(vt);return n.id=(0,lt.Z)("input"),n.config.label=e.displayName,n.config.placeholder=(t=e.displayName)?"Enter your ".concat(t.toLowerCase()):"Enter value",n.config.required=e.required,n.config.type=e.claimURI===ft?"email":"text",n.config.identifier=e.claimURI,n.variant=function(e){return e===ft?d.hx.Email:d.hx.Text}(e.claimURI),n},l=(0,a.useCallback)((function(e){if(e.type===y.E.Default){var t=e.config.data.steps[0].data.components[1].components,n=null==r?void 0:r.find((function(e){return e.claimURI===ft})),o=null==r?void 0:r.find((function(e){return e.claimURI===yt})),a=null==r?void 0:r.find((function(e){return e.claimURI===gt}));if(i){var l=c({claimURI:mt,displayName:"Username",readOnly:!1,required:!0});t.splice(0,0,l)}if(n){var s=c(n);t.splice(i?1:0,0,s)}var u=[];o&&u.push(c(o)),a&&u.push(c(a)),null==r||r.forEach((function(e){ht.includes(e.claimURI)||e.readOnly||u.push(c(e))})),t.splice.apply(t,[t.length-3,0].concat(u))}if(e.type===y.E.BasicPasskey){var p=e.config.data.steps[0].data.components[1].components;if(i){var d=c({claimURI:mt,displayName:"Username",readOnly:!1,required:!0});p.splice(0,0,d)}}return!0}),[r,i]);(0,a.useEffect)((function(){return l[u.Z.FLOW_BUILDER_PLUGIN_FUNCTION_IDENTIFIER]="generateProfileAttributes",ct.Z.getInstance().registerSync(at.G.ON_TEMPLATE_LOAD,l),function(){ct.Z.getInstance().unregister(at.G.ON_TEMPLATE_LOAD,l[u.Z.FLOW_BUILDER_PLUGIN_FUNCTION_IDENTIFIER])}}),[l]);var s=(0,a.useCallback)((function(e){var t;if(null!=n&&null!==(t=n.connectorConfigs)&&void 0!==t&&t.accountVerificationEnabled){var r,o=!1;if(e.forEach((function(e){e.type===ne.EMAIL_CONFIRMATION?o=!0:e.type===f.wQ.UserOnboard&&(r=e)})),!o&&r){r.data.end=!1,r.data.sourceHandle=r.id+u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX;var i={data:{displayOnly:!0},deletable:!1,id:ne.EMAIL_CONFIRMATION.toString(),position:{x:r.position.x+300,y:r.position.y},type:ne.EMAIL_CONFIRMATION},a={data:{displayOnly:!0},deletable:!1,id:ne.USER_ACCOUNT_UNLOCK.toString(),position:{x:r.position.x+800,y:r.position.y},type:ne.USER_ACCOUNT_UNLOCK};e.push(i),e.push(a)}}}),[null==n||null===(e=n.connectorConfigs)||void 0===e?void 0:e.accountVerificationEnabled]);return{addEmailVerificationEdges:(0,a.useCallback)((function(e){var t;if(null!=n&&null!==(t=n.connectorConfigs)&&void 0!==t&&t.accountVerificationEnabled){var r,o=!1;if(e.forEach((function(e){e.target===ne.EMAIL_CONFIRMATION?o=!0:e.target===f.wQ.UserOnboard&&(r=e)})),!o&&r){var i={animated:!1,deletable:!1,id:"".concat(r.target,"-").concat(ne.EMAIL_CONFIRMATION),markerEnd:{type:I.QZ.Arrow},source:r.target,sourceHandle:"".concat(r.target).concat(u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX),target:ne.EMAIL_CONFIRMATION.toString(),type:"base-edge"},a={animated:!1,deletable:!1,id:"".concat(ne.EMAIL_CONFIRMATION,"-")+ne.USER_ACCOUNT_UNLOCK,markerEnd:{type:I.QZ.Arrow},source:ne.EMAIL_CONFIRMATION.toString(),sourceHandle:ne.EMAIL_CONFIRMATION+u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX,style:{strokeDasharray:"5, 5"},target:ne.USER_ACCOUNT_UNLOCK.toString(),type:"base-edge"};e.push(i),e.push(a)}}}),[null==n||null===(t=n.connectorConfigs)||void 0===t?void 0:t.accountVerificationEnabled]),addEmailVerificationNodes:s,generateProfileAttributes:l}};var bt=n(2292),Ot=n(43939),wt=bt.AsgardeoSPAClient.getInstance().httpRequest.bind(bt.AsgardeoSPAClient.getInstance());const It=function(e,t){var n={data:{flow_type:ke.REGISTRATION_FLOW_TYPE,user_query:e},headers:{Accept:"application/json","Content-Type":"application/json","Trace-Id":t},method:b.f2.POST,url:"".concat(Z.h.getState().config.endpoints.registrationFlowAI,"/generate")};return wt(n).then((function(e){if(200!==e.status&&202!==e.status)throw new Error("Failed to generate login flow: ".concat(e.statusText));return e.data})).catch((function(e){var t,n,r=(null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||"Unknown error occurred";throw new Ot.u(r,e.stack,null===(n=e.response)||void 0===n?void 0:n.status,e.request,e.response,e.config)}))};function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function _t(){_t=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new N(r||[]);return o(a,"_invoke",{value:P(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",y="executing",g="completed",m={};function h(){}function v(){}function E(){}var b={};s(b,a,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(C([])));w&&w!==n&&r.call(w,a)&&(b=w);var I=E.prototype=h.prototype=Object.create(b);function T(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(o,i,a,c){var l=p(e[o],e,i);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Tt(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=d;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var l=S(c,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var s=p(t,n,r);if("normal"===s.type){if(o=r.done?g:f,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=g,r.method="throw",r.arg=s.arg)}}}function S(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Tt(t)+" is not iterable")}return v.prototype=E,o(I,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:v,configurable:!0}),v.displayName=s(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},T(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(I),s(I,l,"Generator"),s(I,a,(function(){return this})),s(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Pt(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}const St=function(){var e=(0,A.I0)(),t=(0,c.$)().t,n=V(),r=n.setIsFlowGenerating,o=n.setOperationId,i=function(){var n,i=(n=_t().mark((function n(i,a){return _t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",It(i,a).then((function(e){o(e.operation_id),r(!0)})).catch((function(n){422!==(null==n?void 0:n.code)?429!==(null==n?void 0:n.code)?e((0,O.V_)({description:t("ai:aiFlow.notifications.generateError.description"),level:b.QU.ERROR,message:n.message||t("ai:aiFlow.notifications.generateError.message")})):e((0,O.V_)({description:t("ai:aiFlow.notifications.generateLimitError.description"),level:b.QU.ERROR,message:t("ai:aiFlow.notifications.generateLimitError.message")})):e((0,O.V_)({description:t("ai:aiFlow.notifications.generateInputError.description"),level:b.QU.ERROR,message:t("ai:aiFlow.notifications.generateInputError.message")}))})));case 1:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){Pt(i,r,o,a,c,"next",e)}function c(e){Pt(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e,t){return i.apply(this,arguments)}}();return i};function xt(e){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(e)}var At=["data-componentid"];function Nt(){return Nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nt.apply(null,arguments)}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){Lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=xt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dt(e){return function(e){if(Array.isArray(e))return Mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||kt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(){Ft=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new N(r||[]);return o(a,"_invoke",{value:P(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",y="executing",g="completed",m={};function h(){}function v(){}function E(){}var b={};s(b,a,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(C([])));w&&w!==n&&r.call(w,a)&&(b=w);var I=E.prototype=h.prototype=Object.create(b);function T(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(o,i,a,c){var l=p(e[o],e,i);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==xt(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=d;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var l=S(c,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var s=p(t,n,r);if("normal"===s.type){if(o=r.done?g:f,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=g,r.method="throw",r.arg=s.arg)}}}function S(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(xt(t)+" is not iterable")}return v.prototype=E,o(I,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:v,configurable:!0}),v.displayName=s(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},T(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(I),s(I,l,"Generator"),s(I,a,(function(){return this})),s(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Ut(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||kt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){if(e){if("string"==typeof e)return Mt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(e,t):void 0}}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Zt=function(e){var t=e["data-componentid"],n=void 0===t?"registration-flow-builder-core":t,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,At),o=Et(),i=o.addEmailVerificationEdges,l=o.addEmailVerificationNodes,C=(0,w.Bn)(),R=(0,a.useRef)(!1),L=(0,a.useRef)(!1),D=jt((0,a.useState)(!1),2),F=D[0],U=D[1],j=(0,c.$)().t,k=(0,A.I0)(),M=(0,p.Z)(),Z=M.setFlowCompletionConfigs,G=M.refetchFlow,X=M.setRefetchFlow,W=V(),H=W.flowGenerationCompleted,Y=W.isFlowGenerating,B=W.operationId,K=W.setUserPrompt,Q=W.setIsFlowGenerating,z=W.setFlowGenerationCompleted,$=W.userPrompt,J=W.setAIGeneratedFlow,ee=W.aiGeneratedFlow,te=Ae(B,H),re=te.data,oe=te.error,ie=St(),ae=Ye(),ce=ae.data,le=ae.mutate,se=ae.error,ue=ae.isLoading,pe=ae.isValidating,de=ot().data,fe=de.steps,ye=de.templates,ge=f.wQ.Start.toLowerCase(),me=f.wQ.UserOnboard;(0,a.useEffect)((function(){G&&(le(),X(!1))}),[G]),(0,a.useEffect)((function(){if(oe)return Q(!1),z(!1),void k((0,O.V_)({description:j("ai:aiFlow.notifications.generateResultError.description"),level:b.QU.ERROR,message:j("ai:aiFlow.notifications.generateResultError.message")}));if("FAILED"!==(null==re?void 0:re.status))"COMPLETED"===(null==re?void 0:re.status)&&re.data&&ve(re.data);else{Q(!1),z(!1);var e="error"in re.data?re.data.error:j("ai:aiFlow.notifications.generateResultFailed.message");k((0,O.V_)({description:e,level:b.QU.ERROR,message:j("ai:aiFlow.notifications.generateResultFailed.message")}))}}),[re,H]),(0,a.useEffect)((function(){se&&k((0,O.V_)({description:"An error occurred while fetching the registration flow.",level:b.QU.ERROR,message:"Couldn't retrieve  the registration flow."}))}),[se]);var he=function(){var e,t=(e=Ft().mark((function e(){var t;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,N.Z)(),e.next=3,ie($,t);case 3:U(!1);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ut(i,r,o,a,c,"next",e)}function c(e){Ut(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),ve=function(e){if(null==e||!e.steps)return[[],[]];J({category:"STARTER",config:{data:e},deprecated:!1,display:{description:"Start a new flow from scratch",image:"",label:"Blank",showOnResourcePanel:!1},resourceType:"TEMPLATE",type:"AI",version:"0.1.0"}),U(!1),Q(!1),k((0,O.V_)({description:j("ai:aiFlow.notifications.generateSuccess.description"),level:b.QU.SUCCESS,message:j("ai:aiFlow.notifications.generateSuccess.message")}))},Ee=(0,a.useCallback)((function(e){var t={data:{displayOnly:!0},deletable:!1,id:ge,position:{x:-300,y:330},type:f.wQ.Start},n=(0,h.Z)(de,(0,g.Z)([t].concat(Dt(e.map((function(e){var t;return{data:(null===(t=e.data)||void 0===t?void 0:t.components)&&Rt(Rt({},e.data),{},{components:(0,m.Z)(de,e.data.components)})||e.data,deletable:!0,id:e.id,position:e.position,type:e.type}}))))));return l(n),n}),[de,l]),be=function(e,t){var n=new Set(t.map((function(e){return e.id})));return e.filter((function(e){return!(!n.has(e.source)||!n.has(e.target))}))},Oe=function(e){var t=[],n=e.map((function(e){return e.id})),r=e.find((function(e){return e.type===f.wQ.UserOnboard})),o=(null==r?void 0:r.id)||me;if(e.length>0){var a=e[0];a.id===ge&&(a=e[1]),a&&t.push({animated:!1,id:"".concat(ge,"-").concat(a.id),markerEnd:{type:I.QZ.Arrow},source:ge,sourceHandle:"".concat(ge).concat(u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX),target:a.id,type:"base-edge"})}var c=!1,l=function(e,t){var r,i,a=[];return null!==(r=t.action)&&void 0!==r&&r.next?n.includes(t.action.next)?(a.push({animated:!1,id:t.id,markerEnd:{type:I.QZ.Arrow},source:e.id,sourceHandle:"".concat(t.id).concat(u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX),target:t.action.next,type:"base-edge"}),t.action.next===o&&(c=!0)):t.action.next===f.wQ.UserOnboard&&(a.push({animated:!1,id:t.id,markerEnd:{type:I.QZ.Arrow},source:e.id,sourceHandle:"".concat(t.id).concat(u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX),target:o,type:"base-edge"}),c=!0):(null===(i=t.action)||void 0===i||null===(i=i.executor)||void 0===i?void 0:i.name)===it.Z.PASSWORD_PROVISIONING_EXECUTOR&&(a.push({animated:!1,id:t.id,markerEnd:{type:I.QZ.Arrow},source:e.id,sourceHandle:"".concat(t.id).concat(u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX),target:o,type:"base-edge"}),c=!0),a};if(e.forEach((function(e){var r,i;e.type!==f.wQ.UserOnboard&&(null!==(r=e.data)&&void 0!==r&&r.components&&e.data.components.forEach((function(n){if(n.type===d.P7.Form){var r,o=null===(r=n.components)||void 0===r?void 0:r.filter((function(e){return e.type===d.iN.Button}));null==o||o.forEach((function(n){t=[].concat(Dt(t),Dt(l(e,n)))}))}n.type===d.iN.Button&&(t=[].concat(Dt(t),Dt(l(e,n))))})),null!==(i=e.data)&&void 0!==i&&i.action&&(n.includes(e.data.action.next)?(t.push({animated:!1,id:"".concat(e.id,"-to-").concat(e.data.action.next),markerEnd:{type:I.QZ.Arrow},source:e.id,sourceHandle:"".concat(e.id).concat(u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX),target:e.data.action.next,type:"base-edge"}),e.data.action.next===o&&(c=!0)):e.data.action.next===f.wQ.UserOnboard&&(t.push({animated:!1,id:"".concat(e.id,"-to-").concat(o),markerEnd:{type:I.QZ.Arrow},source:e.id,sourceHandle:"".concat(e.id).concat(u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX),target:o,type:"base-edge"}),c=!0)))})),!c&&e.length>0){var s=e.filter((function(e){return e.type===f.Dm.View}));if(s.length>0){var p,y=s[s.length-1],g=null;if(null!==(p=y.data)&&void 0!==p&&p.components){var m,h=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=kt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(y.data.components);try{for(h.s();!(m=h.n()).done;){var v=m.value;if(v.type===d.P7.Form){var E,b=null===(E=v.components)||void 0===E?void 0:E.find((function(e){return e.type===d.iN.Button}));if(b){g=b.id;break}}}}catch(w){h.e(w)}finally{h.f()}}var O=g||"".concat(y.id,"-to-").concat(o);t.push(Rt(Rt({animated:!1,id:O,markerEnd:{type:I.QZ.Arrow},source:y.id},g?{sourceHandle:"".concat(g).concat(u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX)}:{sourceHandle:"".concat(y.id).concat(u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX)}),{},{target:o,type:"base-edge"}))}}return i(t),t},we=(0,a.useCallback)((function(){var e,t,n=(0,T.Z)(ye.find((function(e){return e.type===y.E.Basic}))),r=null!==(e=null==n||null===(t=n.config)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.steps)&&void 0!==e?e:[];if(0===r.length)return[];var o=r.slice(0,-1),i=(0,g.Z)(o).map((function(e){var t;return null!=e&&null!==(t=e.data)&&void 0!==t&&t.components?Rt(Rt({},e),{},{data:Rt(Rt({},e.data),{},{components:(0,m.Z)(de,e.data.components)})}):e}));return(0,h.Z)(de,i)}),[ye,de]),Ie=(0,a.useMemo)((function(){var e=we();if(e.length>0){var t=[].concat(Dt(e),[Rt(Rt({},Me),{},{deletable:!1,position:{x:1200,y:408}})]);return Ee(t)}}),[we,Ee]),_e=jt((0,w.Rr)([]),3),Pe=_e[0],Se=_e[1],Ne=_e[2],Ce=jt((0,w.ll)([]),3),Re=Ce[0],Le=Ce[1],De=Ce[2];(0,a.useEffect)((function(){var e=function(e){var t=e.detail,n=t.nodes,r=t.edges;n&&r&&(Se(n),Le(r))};return window.addEventListener("restoreFromHistory",e),function(){window.removeEventListener("restoreFromHistory",e)}}),[Se,Le]);var Fe=function(e){if(!R.current){R.current=!0,L.current=!1,Se((function(){return L.current=!0,e}));var t=function(){L.current?(!function(e){e.forEach((function(e){var t;C(e.id),null!==(t=e.data)&&void 0!==t&&t.components&&e.data.components.forEach((function(e){C(e.id),null!=e&&e.components&&e.components.forEach((function(e){C(e.id)}))}))}))}(e),requestAnimationFrame((function(){var t=Oe(e),n=be(t,e);Le((function(){return n})),R.current=!1}))):requestAnimationFrame(t)};requestAnimationFrame(t)}};(0,a.useLayoutEffect)((function(){if(!ue&&!pe)if((0,_.Z)(null==ce?void 0:ce.steps))Fe(Ie);else{var e=Ee(ce.steps);Fe(e)}}),[null==ce?void 0:ce.steps,ue,pe,Ie]);return ue||pe?null:a.createElement(a.Fragment,null,a.createElement(s.Z,Nt({aiGeneratedFlow:ee,resources:de,"data-componentid":n,nodeTypes:function(){if(!fe)return{};var e=fe.reduce((function(e,t){return e[t.type]||(e[t.type]=[]),e[t.type].push(t),e}),{}),t=fe.reduce((function(t,n){return t[n.type]=function(t){return a.createElement(xe,Nt({resources:e[n.type]},t))},t}),{}),n=Object.values(f.wQ).reduce((function(e,t){return e[t]=function(e){return a.createElement(Te,Nt({type:t},e))},e}),{}),r=Object.values(ne).reduce((function(e,t){return e[t]=function(e){return a.createElement(Te,Nt({type:t},e))},e}),{});return Rt(Rt(Rt({},n),t),r)}(),mutateComponents:function(e){var t=(0,T.Z)(e);if(t.filter((function(e){return e.type===d.P7.Form})).length>1){var n=!1;t=t.filter((function(e){return e.type!==d.P7.Form||!n&&(n=!0,!0)}))}return t=t.map((function(e){if(e.type===d.P7.Form){var t,n,r,o;e.components=null==e||null===(t=e.components)||void 0===t?void 0:t.map((function(e){return e.type===d.iN.Button&&e.variant===d.cT.Primary?Rt(Rt({},e),{},{config:Rt(Rt({},e.config),{},{type:d.qh.Submit})}):e}));var i=null===(n=e.components)||void 0===n?void 0:n.some((function(e){return e.type===d.iN.Input&&e.variant===d.hx.Password})),a=null===(r=e.components)||void 0===r?void 0:r.some((function(e){return e.type===d.iN.Input&&e.variant===d.hx.OTP})),c=null===(o=e.components)||void 0===o?void 0:o.filter((function(e){var t;return e.type===d.iN.Button&&(null===(t=e.config)||void 0===t?void 0:t.type)===d.qh.Submit}));return 1===(null==c?void 0:c.length)&&(e.components=e.components.map((function(e){var t;if(i){if(e.type===d.iN.Button)return Rt(Rt({},e),{},{action:Rt(Rt({},null!==(t=null==e?void 0:e.action)&&void 0!==t?t:{}),{},{executor:{name:it.Z.PASSWORD_PROVISIONING_EXECUTOR},type:"EXECUTOR"})})}else if(a){var n;if(e.type===d.iN.Button)return Rt(Rt({},e),{},{action:Rt(Rt({},null!==(n=null==e?void 0:e.action)&&void 0!==n?n:{}),{},{executor:{name:it.Z.EMAIL_OTP_EXECUTOR},type:"EXECUTOR"})})}return e}))),e}return e}))},onTemplateLoad:function(e){var t,n;if("GENERATE_WITH_AI"===(null==e?void 0:e.type))return U(!0),[[],[],null,null];if(null==e||null===(t=e.config)||void 0===t||null===(t=t.data)||void 0===t||!t.steps)return[[],[],null,null];var r=null==e||null===(n=e.config)||void 0===n||null===(n=n.data)||void 0===n||null===(n=n.__generationMeta__)||void 0===n?void 0:n.replacers;e.config.data.steps.forEach((function(e){e.type===f.Dm.End&&null!=e&&e.config&&Z(e.config)}));var o=jt((0,v.Z)(Ee(e.config.data.steps),r),1)[0],i=be(Oe(o),o);if(e.type===y.E.BasicFederated){var a=o.find((function(e){return e.type===f.Dm.Execution}));if(a)return[o,i,a,a.id]}return[o,i,null,null]},onWidgetLoad:function(e,t,n,r){var o,i,a=e.config.data;if(!a||!a.steps)return[n,r,null,null];var c=(0,T.Z)(n),l=(0,T.Z)(r),s=function(e,t,n){if("components"===n&&Array.isArray(e)&&Array.isArray(t))return(0,x.Z)(e,t,P.Z)};a.steps.filter((function(e){e.__generationMeta__?"MERGE_WITH_DROP_POINT"===e.__generationMeta__.strategy&&(c=c.map((function(n){return n.id===t.id?(0,S.Z)(n,e,s):n}))):c=[].concat(Dt(c),[e])}));var u=a.__generationMeta__.replacers,p=a.__generationMeta__.defaultPropertySelectorId,d=null,f=null;(c=(0,h.Z)(de,(0,g.Z)(c.map((function(e){var t;return{data:(null===(t=e.data)||void 0===t?void 0:t.components)&&Rt(Rt({},e.data),{},{components:(0,m.Z)(de,e.data.components)})||e.data,deletable:!0,id:e.id,position:e.position,type:e.type}}))))).forEach((function(e){var t;if(e.id===p)return d=e.id,void(f=e);(0,_.Z)(null==e||null===(t=e.data)||void 0===t?void 0:t.components)||e.data.components.forEach((function(t){return t.id===p?(d=e.id,void(f=t)):(0,_.Z)(null==t?void 0:t.components)||t.id!==p?void 0:(d=e.id,void(f=t))}))}));var y=jt((0,v.Z)((0,g.Z)(c),u),2),E=y[0],b=y[1];return l=[].concat(Dt(l),Dt(function(e,t){var n=new Set(t.map((function(e){return e.id}))),r=[],o=function(t,o,i){if(null!=i&&i.next){var a=o,c=i.next;if(!n.has(c))return;var l=e.find((function(e){return e.source===t&&e.sourceHandle==="".concat(a,"_NEXT")}));l&&l.target===c||r.push({animated:!1,id:"".concat(a,"_MISSING_EDGE"),markerEnd:{type:I.QZ.Arrow},source:t,sourceHandle:"".concat(a,"_NEXT"),target:c,type:"base-edge"})}};return t.forEach((function(e){var t,n,r;e.data&&(null!==(t=e.data)&&void 0!==t&&t.components&&(null===(r=e.data)||void 0===r?void 0:r.components).forEach((function(t){o(e.id,t.id,t.action),null!=t&&t.components&&t.components.forEach((function(t){return o(null==e?void 0:e.id,t.id,t.action)}))})),null!==(n=e.data)&&void 0!==n&&n.action&&o(e.id,e.id,e.data.action))})),r}(l,E))),b.has(null===(o=f)||void 0===o||null===(o=o.id)||void 0===o?void 0:o.replace(/[{}]/g,""))&&(f.id=b.get(f.id.replace(/[{}]/g,""))),b.has(null===(i=d)||void 0===i?void 0:i.replace(/[{}]/g,""))&&(d=b.get(d.replace(/[{}]/g,""))),[E,l,f,d]},onStepLoad:function(e){var t,n,r,o,i;if(e.type===f.Dm.View&&(0,_.Z)(null==e||null===(n=e.data)||void 0===n?void 0:n.components))return Rt(Rt({},e),{},{data:Rt(Rt({},e.data),{},{components:(i=(0,T.Z)(ye.find((function(e){return e.type===y.E.Blank}))),(null==i||null===(r=i.config)||void 0===r||null===(r=r.data)||void 0===r||null===(r=r.steps)||void 0===r?void 0:r.length)>0&&(i.config.data.steps[0].id=ge),(0,m.Z)(de,null===(o=(0,g.Z)(i))||void 0===o||null===(o=o.config)||void 0===o||null===(o=o.data)||void 0===o||null===(o=o.steps[0])||void 0===o||null===(o=o.data)||void 0===o?void 0:o.components))})});var a=(0,g.Z)(e);return null!=a&&null!==(t=a.data)&&void 0!==t&&t.components&&(a.data.components=(0,m.Z)(de,a.data.components)),(0,h.Z)(de,[a])[0]},onResourceAdd:function(e){e.type!==y.E.GeneratedWithAI||U(!0)},nodes:Pe,edges:Re,setNodes:Se,setEdges:Le,onNodesChange:Ne,onEdgesChange:De},r)),F&&a.createElement(E.Z,{onUserPromptSubmit:he,setUserPrompt:K,open:F,handleModalClose:function(){return U(!1)},samplePrompts:["Ask the user to supply an email address and choose a strong password to begin the sign-up.","Prompt for a unique username and password, ensuring the password meets basic complexity rules.","In the first step provide option to Sign up with Password or Sign up with Email","Gather basic personal details (e.g., first name, last name) plus an email and password up front.","Offer the option to Sign up with password or Sign up with Google. If the password option is selected, ask for first name, last name, password. Then verify the email of the user."],userPrompt:$,showHistory:!0,promptHistoryPreferenceKey:"registrationFlowAIPrompts"}),Y&&a.createElement(q,null))};var Gt=["data-componentid"];const Vt=function(e){e["data-componentid"];var t=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Gt);return a.createElement(l.Z,null,a.createElement(Zt,t))};var Xt=n(55253),Wt=n(82745),Ht=n(60826);function Yt(e){return Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yt(e)}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qt(r.key),r)}}function Kt(e,t,n){return t&&Bt(e.prototype,t),n&&Bt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qt(e,t,n){return(t=Qt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qt(e){var t=function(e,t){if("object"!=Yt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Yt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yt(t)?t:t+""}var zt=Kt((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));qt(zt,"FLOW_CONFIG_INVALID_STATUS_ERROR","An invalid status code was received while configuring the registration flow."),qt(zt,"FLOW_CONFIG_UPDATE_ERROR","An error occurred while configuring the registration flow."),qt(zt,"FEDERATION_CONFIG_SKIPPED_EXECUTORS",[f._t.PasskeyEnrollment,f._t.ConfirmationCode,f._t.MagicLinkExecutor]);const $t=zt;var Jt=bt.AsgardeoSPAClient.getInstance().httpRequest.bind(bt.AsgardeoSPAClient.getInstance());const en=function(e){var t={data:e,method:b.f2.PUT,url:Z.h.getState().config.endpoints.registrationFlow};return Jt(t).then((function(e){if(200!==e.status)throw new Ot.u($t.FLOW_CONFIG_INVALID_STATUS_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new Ot.u($t.FLOW_CONFIG_UPDATE_ERROR,e.stack,e.code,e.request,e.response,e.config)}))};var tn=n(12380),nn=n(46997),rn={"exclude-hidden-claims":!0,"exclude-identity-claims":!0,filter:null,limit:null,offset:null,sort:null};const on=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,p.Z)().metadata,n=e&&!(null==t||!t.attributeProfile),r=(0,tn.Z)(rn,n),o=r.data,i=r.error,c=r.isLoading,l=r.isValidating,s=r.mutate;return{data:(0,a.useMemo)((function(){return(0,nn.v)(o)}),[o]),error:i,isLoading:c,isValidating:l,mutate:s}};var an=n(74822),cn=n(7603),ln=n(79227),sn=n(45002),un=n(21073),pn=n(82444),dn=n(65612),fn=n(82460),yn=n(70326),gn=n(19189),mn=n(22557),hn=n.n(mn),vn=n(4438),En=n(62666);const bn=JSON.parse('[{"types":[{"action":{"type":"EXECUTOR","executor":{"name":"PasswordProvisioningExecutor"}},"display":{"label":"Provision Password","image":"assets/images/icons/password.svg","defaultVariant":"PRIMARY"}}]}]');function On(e){return function(e){if(Array.isArray(e))return wn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return wn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const In=function(){var e=(0,En.Z)().data;return{data:[].concat(On(e),On(bn)),error:null,isLoading:!1,isValidating:!1,mutate:function(){return null}}};var Tn=n(55544),_n={};_n.styleTagTransform=he(),_n.setAttributes=fe(),_n.insert=pe().bind(null,"head"),_n.domAPI=se(),_n.insertStyleElement=ge();ce()(Tn.Z,_n);Tn.Z&&Tn.Z.locals&&Tn.Z.locals;function Pn(e){return Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pn(e)}function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){An(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function An(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Pn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Nn=function(e){var t=e["data-componentid"],n=void 0===t?"button-extended-properties":t,r=e.resource,o=e.onChange,i=In().data,c=(0,p.Z)(),l=c.lastInteractedResource,s=c.setLastInteractedResource,u=(0,gn.Z)().selectedNotification,d=(0,a.useMemo)((function(){var e="".concat(null==r?void 0:r.id,"_action");return null!=u&&u.hasResourceFieldNotification(e)?null==u?void 0:u.getResourceFieldNotification(e):""}),[r,u]);return a.createElement(fn.Z,{className:"button-extended-properties",gap:2,"data-componentid":n},a.createElement("div",null,a.createElement(ee.Z,{className:"button-extended-properties-heading"},"Type"),null==i?void 0:i.map((function(e,t){var n,i;return a.createElement(z.Z,{key:t},a.createElement(ee.Z,{className:"button-extended-properties-sub-heading",variant:"body1"},null==e||null===(n=e.display)||void 0===n?void 0:n.label),a.createElement(dn.Z,{container:!0,spacing:1},null===(i=e.types)||void 0===i?void 0:i.map((function(e,t){var n,i;return a.createElement(dn.Z,{key:t,xs:6,onClick:function(){var t,n;o("action",xn(xn({},e.action),null!=r&&null!==(t=r.action)&&void 0!==t&&t.next?{next:null==r||null===(n=r.action)||void 0===n?void 0:n.next}:{}),r),s(xn(xn({},l),{},{action:e.action}))}},a.createElement($.Z,{className:hn()("extended-property action-type",{error:!!d,selected:(0,P.Z)((0,vn.Z)(null==l?void 0:l.action,"next"),e.action)}),variant:"outlined"},a.createElement(sn.Z,null,a.createElement(z.Z,{display:"flex",flexDirection:"row",gap:1,alignItems:"center"},a.createElement(ln.Z,{className:"action-type-icon",src:(0,yn.Z)(null==e||null===(n=e.display)||void 0===n?void 0:n.image),variant:"rounded"}),a.createElement(ee.Z,{variant:"body2",className:"action-type-name"},null==e||null===(i=e.display)||void 0===i?void 0:i.label)))))}))))})),d&&a.createElement(pn.Z,{error:!0},d)),a.createElement(un.Z,null))};function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cn.apply(null,arguments)}const Rn=function(e){var t=e["data-componentid"],n=void 0===t?"field-extended-properties":t,r=e.resource,o=e.onChange,i=dt().supportedAttributes,c=(0,gn.Z)().selectedNotification,l=(0,a.useMemo)((function(){return(null==i?void 0:i.find((function(e){return(null==e?void 0:e.claimURI)===r.config.identifier})))||null}),[r.config.identifier,i]),s=(0,a.useMemo)((function(){var e="".concat(null==r?void 0:r.id,"_identifier");return null!=c&&c.hasResourceFieldNotification(e)?null==c?void 0:c.getResourceFieldNotification(e):""}),[r,c]);return r.variant===d.hx.Password?null:a.createElement(fn.Z,{"data-componentid":n},a.createElement(an.Z,{disablePortal:!0,key:r.id,options:i||[],getOptionLabel:function(e){return null==e?void 0:e.displayName},sx:{width:"100%"},renderInput:function(e){return a.createElement(cn.Z,Cn({},e,{label:"Attribute",placeholder:"Select an attribute",error:!!s}))},value:l,onChange:function(e,t){o("config.identifier",null===t?"":null==t?void 0:t.claimURI,r)}}),s&&a.createElement(pn.Z,{error:!0},s))};var Ln=n(82160),Dn=n(50281),Fn=n(34450),Un=n(28121),jn=n(921),kn=n(53280),Mn={};Mn.styleTagTransform=he(),Mn.setAttributes=fe(),Mn.insert=pe().bind(null,"head"),Mn.domAPI=se(),Mn.insertStyleElement=ge();ce()(kn.Z,Mn);kn.Z&&kn.Z.locals&&kn.Z.locals;const Zn=function(e){var t=e["data-componentid"],n=void 0===t?"rules-properties-component":t,r=(0,Dn.Z)("preIssueAccessToken").data;return a.createElement(fn.Z,{gap:2,"data-componentid":n},a.createElement(ee.Z,{variant:"body2"},"Define a rule to how conditionally proceed to next steps in the flow"),r&&a.createElement(Fn.Z,{initialData:Un.mO,conditionExpressionsMetaData:Un.hm,isMultipleRules:!0,ruleExecutionMetaData:Un.po}),a.createElement(z.Z,{sx:{mt:3}},a.createElement(Ln.Z,{size:"small",variant:"contained",color:"primary",onClick:function(){var e=(0,jn.u)();console.log(e)}},"Print Data")))};var Gn=n(88458),Vn=n(95239),Xn=["resource","propertyKey","propertyValue","onChange"];function Wn(){return Wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wn.apply(null,arguments)}const Hn=function(e){var t=e.resource,n=e.propertyKey,r=e.propertyValue,o=e.onChange,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Xn);return a.createElement(Vn.Z,Wn({resource:t,propertyKey:n,propertyValue:r,onChange:o},i))};var Yn=n(79606),Bn=["resource","propertyKey","propertyValue","onChange"];function Kn(){return Kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kn.apply(null,arguments)}const qn=function(e){var t=e.resource,n=e.propertyKey,r=e.propertyValue,o=e.onChange,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Bn);return t.type===f.Dm.Rule?a.createElement(Zn,null):a.createElement(Yn.Z,Kn({resource:t,propertyKey:n,propertyValue:r,onChange:o},i))};var Qn=n(8053),zn=["resource","propertyKey","propertyValue","onChange"];function $n(){return $n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$n.apply(null,arguments)}const Jn=function(e){var t=e.resource,n=e.propertyKey,r=e.propertyValue,o=e.onChange,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,zn);return t.type,a.createElement(Qn.Z,$n({resource:t,propertyKey:n,propertyValue:r,onChange:o},i))};var er=["data-componentid","resource","propertyKey","propertyValue","onChange"];function tr(){return tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tr.apply(null,arguments)}const nr=function(e){var t=e["data-componentid"],n=void 0===t?"resource-property-factory":t,r=e.resource,o=e.propertyKey,i=e.propertyValue,c=e.onChange,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,er);switch(r.resourceType){case Gn.P.Element:return a.createElement(Hn,tr({resource:r,propertyKey:o,propertyValue:i,"data-componentid":n,onChange:c},l));case Gn.P.Step:return a.createElement(qn,tr({resource:r,propertyKey:o,propertyValue:i,"data-componentid":n,onChange:c},l));case Gn.P.Widget:return a.createElement(Jn,tr({resource:r,propertyKey:o,propertyValue:i,"data-componentid":n,onChange:c},l));default:return null}};var rr=n(91970),or=n(5466),ir=n(94709),ar=n(68509),cr=n(55007),lr=n(60486),sr=n(40838),ur=n(77742),pr=n(59673);function dr(e){return dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dr(e)}function fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(n),!0).forEach((function(t){gr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=dr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const mr=function(e){var t,n,r,o,l,s=e["data-componentid"],u=void 0===s?"flow-completion-properties-component":s,d=(0,c.$)().t,f=(0,p.Z)(),y=f.flowCompletionConfigs,g=f.setFlowCompletionConfigs,m=f.metadata,h=(0,ur.Z)(i.Z.REGISTRATION).data,v=(0,A.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.approvalWorkflows})),E=(0,cr.EV)(null==v||null===(t=v.scopes)||void 0===t?void 0:t.read),b=(0,_.Z)(y)?null==h?void 0:h.flowCompletionConfigs:y;return a.createElement(fn.Z,{gap:2,"data-componentid":u},a.createElement(ee.Z,null,a.createElement(pr.c,{i18nKey:"flows:registrationFlow.steps.end.description"},"The ",a.createElement("strong",null,"End Screen")," defines what happens once the flow is completed. It allows you to control the user's final experience by selecting one of the following outcomes:")),(null==m?void 0:m.workflowEnabled)&&a.createElement(rr.Z,{severity:"warning"},a.createElement(ee.Z,{variant:"h6"},d("flows:core.workflowAlert.title")),a.createElement(ee.Z,null,a.createElement(pr.c,{i18nKey:"flows:core.workflowAlert.description"},"A workflow is engaged for this flow. The following settings will not take effect until the workflow is disabled.")),E&&a.createElement(ee.Z,{sx:{marginTop:1}},a.createElement(pr.c,{i18nKey:"flows:core.workflowAlert.navigation"},"Click",a.createElement(ar.Z,{sx:{cursor:"pointer"},onClick:function(){sr.m.push(lr.$.getPaths().get("APPROVAL_WORKFLOWS"))}},"here"),"to have a look at the currently engaged workflows."))),a.createElement(z.Z,{sx:{display:"flex",flexDirection:"column",gap:1}},(null==m||null===(n=m.supportedFlowCompletionConfigs)||void 0===n?void 0:n.includes("isEmailVerificationEnabled"))&&a.createElement(z.Z,null,a.createElement(ir.Z,{label:d("flows:registrationFlow.steps.end.accountVerification.label"),control:a.createElement(or.Z,{checked:"true"===(null==b?void 0:b.isEmailVerificationEnabled),disabled:null==m?void 0:m.workflowEnabled,onChange:function(e){var t=yr(yr({},b),{},{isEmailVerificationEnabled:e.target.checked?"true":"false"});e.target.checked||(t.isAutoLoginEnabled="false",t.isAccountLockOnCreationEnabled="true"),g(t)}})}),a.createElement(pn.Z,null,d("flows:registrationFlow.steps.end.accountVerification.hint")),!(null!=m&&m.workflowEnabled)&&a.createElement(rr.Z,{severity:"warning"},d("flows:registrationFlow.steps.end.accountVerification.warning"))),(null==m||null===(r=m.supportedFlowCompletionConfigs)||void 0===r?void 0:r.includes("isAccountLockOnCreationEnabled"))&&a.createElement(z.Z,{sx:{display:"flex",flexDirection:"column",ml:3}},a.createElement(ir.Z,{label:d("flows:registrationFlow.steps.end.accountActivation.activateImmediately.label"),control:a.createElement(or.Z,{checked:"false"===(null==b?void 0:b.isAccountLockOnCreationEnabled),disabled:(null==m?void 0:m.workflowEnabled)||"true"!==(null==b?void 0:b.isEmailVerificationEnabled),onChange:function(e){var t=yr(yr({},b),{},{isAccountLockOnCreationEnabled:e.target.checked?"false":"true"});e.target.checked||(t.isAutoLoginEnabled="false"),g(t)}})}),a.createElement(pn.Z,null,d("flows:registrationFlow.steps.end.accountActivation.activateImmediately.hint"))),(null==m||null===(o=m.supportedFlowCompletionConfigs)||void 0===o?void 0:o.includes("isAutoLoginEnabled"))&&a.createElement(z.Z,null,a.createElement(ir.Z,{label:d("flows:registrationFlow.steps.end.autoLogin.label"),control:a.createElement(or.Z,{checked:"true"===(null==b?void 0:b.isAutoLoginEnabled)&&!("true"===(null==b?void 0:b.isEmailVerificationEnabled)&&"true"===(null==b?void 0:b.isAccountLockOnCreationEnabled)),disabled:(null==m?void 0:m.workflowEnabled)||"true"===(null==b?void 0:b.isEmailVerificationEnabled)&&"true"===(null==b?void 0:b.isAccountLockOnCreationEnabled),onChange:function(e){g(yr(yr({},b),{},{isAutoLoginEnabled:e.target.checked?"true":"false"}))}})}),a.createElement(pn.Z,null,d("flows:registrationFlow.steps.end.autoLogin.hint"))),(null==m||null===(l=m.supportedFlowCompletionConfigs)||void 0===l?void 0:l.includes("isFlowCompletionNotificationEnabled"))&&a.createElement(z.Z,null,a.createElement(ir.Z,{label:d("flows:registrationFlow.steps.end.accountFlowCompletion.label"),control:a.createElement(or.Z,{checked:"true"===(null==b?void 0:b.isFlowCompletionNotificationEnabled),disabled:null==m?void 0:m.workflowEnabled,onChange:function(e){g(yr(yr({},b),{},{isFlowCompletionNotificationEnabled:e.target.checked?"true":"false"}))}})}),a.createElement(pn.Z,null,d("flows:registrationFlow.steps.end.accountFlowCompletion.hint")))))};var hr=n(34856),vr=n(70653),Er={};Er.styleTagTransform=he(),Er.setAttributes=fe(),Er.insert=pe().bind(null,"head"),Er.domAPI=se(),Er.insertStyleElement=ge();ce()(vr.Z,Er);vr.Z&&vr.Z.locals&&vr.Z.locals;function br(){return br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},br.apply(null,arguments)}const Or=function(e){var t,n,r=e.resource,o=e["data-componentid"],i=void 0===o?"federation-properties-component":o,c=e.onChange,l=(0,p.Z)().metadata,s=(0,gn.Z)().selectedNotification,u=(0,a.useMemo)((function(){var e="".concat(null==r?void 0:r.id,"_data.action.executor.meta.idpName");return null!=s&&s.hasResourceFieldNotification(e)?null==s?void 0:s.getResourceFieldNotification(e):""}),[r,s]),d=(0,a.useMemo)((function(){var e=l.executorConnections.find((function(e){var t;return e.executorName===(null==r||null===(t=r.data)||void 0===t||null===(t=t.action)||void 0===t||null===(t=t.executor)||void 0===t?void 0:t.name)}));return(null==e?void 0:e.connections)||[]}),[l,null==r||null===(t=r.data)||void 0===t||null===(t=t.action)||void 0===t||null===(t=t.executor)||void 0===t?void 0:t.name]),f=(0,a.useMemo)((function(){var e,t;return null!=r&&null!==(e=r.data)&&void 0!==e&&null!==(e=e.action)&&void 0!==e&&null!==(e=e.executor)&&void 0!==e&&null!==(e=e.meta)&&void 0!==e&&e.idpName&&"{{IDP_NAME}}"!==(null==r||null===(t=r.data)||void 0===t||null===(t=t.action)||void 0===t||null===(t=t.executor)||void 0===t||null===(t=t.meta)||void 0===t?void 0:t.idpName)&&d.find((function(e){var t;return e===(null==r||null===(t=r.data)||void 0===t||null===(t=t.action)||void 0===t||null===(t=t.executor)||void 0===t||null===(t=t.meta)||void 0===t?void 0:t.idpName)}))||null}),[d,null==r||null===(n=r.data)||void 0===n||null===(n=n.action)||void 0===n||null===(n=n.executor)||void 0===n||null===(n=n.meta)||void 0===n?void 0:n.idpName]);return a.createElement(fn.Z,{gap:2,"data-componentid":i,className:"flow-builder-execution-federation-properties"},a.createElement(ee.Z,{variant:"body2"},"Select a connection from the following list to link it with the registration flow."),a.createElement(an.Z,{disablePortal:!0,key:r.id,options:d||[],getOptionLabel:function(e){return e},sx:{width:"100%"},renderInput:function(e){return a.createElement(cn.Z,br({},e,{label:"Connection",placeholder:"Select a connection",error:!!u}))},placeholder:"Select a connection",value:f,onChange:function(e,t){c("action.executor.meta.idpName",null===t?"":t,r)}}),u&&a.createElement(hr.Z,{error:!0},u),!(null!=d&&d.length)&&a.createElement(rr.Z,{severity:"warning","data-componentid":"".concat(i,"-no-connections-warning")},"No connections available. Please create a",a.createElement("a",{style:{cursor:"pointer"},onClick:function(){sr.m.push(lr.$.getPaths().get("CONNECTION_TEMPLATES"))}}," connection "),"to link with the registration flow."))};function wr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ir(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ir(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Tr(){return Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tr.apply(null,arguments)}const _r=function(e){var t,n=e.properties,r=e.resource,o=e.onChange,i=e.onVariantChange,c=(0,a.useMemo)((function(){var e;return null==r||null===(e=r.variants)||void 0===e?void 0:e.find((function(e){return e.variant===r.variant}))}),[r.variants,r.variant]),l=function(){return a.createElement(nr,{InputProps:{readOnly:!0},key:"".concat(r.id,"-$id"),resource:r,propertyKey:"id",propertyValue:r.id,"data-componentid":"".concat(r.id,"-id"),onChange:function(e,t,n){o("id",t,n)}})},s=function(){var e,t=!(0,_.Z)(null==r?void 0:r.variants);return a.createElement(a.Fragment,null,t&&a.createElement(an.Z,{disablePortal:!0,options:null==r?void 0:r.variants,sx:{width:300},getOptionLabel:function(e){return e.variant},renderInput:function(e){return a.createElement(cn.Z,Tr({},e,{label:"Variant"}))},value:c,onChange:function(e,t){i(null==t?void 0:t.variant)}}),n&&(null===(e=Object.entries(n))||void 0===e?void 0:e.map((function(e){var t=wr(e,2),n=t[0],i=t[1];return a.createElement(nr,{key:"".concat(r.id,"-").concat(n),resource:r,propertyKey:n,propertyValue:i,"data-componentid":"".concat(r.id,"-").concat(n),onChange:o})}))))};switch(r.category){case f.qb.Interface:if(r.type===f.Dm.End)return a.createElement(a.Fragment,null,l(),a.createElement(mr,{resource:r,"data-componentid":"field-extended-properties",onChange:o}));break;case d.hW.Field:return a.createElement(a.Fragment,null,l(),a.createElement(Rn,{resource:r,"data-componentid":"field-extended-properties",onChange:o}),s());case d.hW.Action:return a.createElement(a.Fragment,null,l(),r.type===d.iN.Button&&a.createElement(Nn,{resource:r,"data-componentid":"button-extended-properties",onChange:o,onVariantChange:i}),s());case f.qb.Decision:if(r.type===f.Dm.Rule)return a.createElement(a.Fragment,null,l(),a.createElement(Zn,null));break;case f.qb.Workflow:return a.createElement(a.Fragment,null,l(),!$t.FEDERATION_CONFIG_SKIPPED_EXECUTORS.includes(null==r||null===(t=r.data)||void 0===t||null===(t=t.action)||void 0===t||null===(t=t.executor)||void 0===t?void 0:t.name)&&a.createElement(Or,{resource:r,"data-componentid":"federation-properties",onChange:o}),s());default:return a.createElement(a.Fragment,null,l(),s())}};var Pr=n(21386);const Sr=function(e){var t=e.resource,n=e.stepId;return a.createElement(Pr.Z,{resource:t,stepId:n})};var xr=n(3650);function Ar(e){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(e)}function Nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(n),!0).forEach((function(t){Rr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ar(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ar(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lr=["display","version","variants","deprecated","meta","resourceType"],Dr=function(e,t,n){if(n[t]){if(null!=e&&e.action)return Cr(Cr({},e),{},{action:Cr(Cr({},e.action),{},{next:n[t]})});if((null==e?void 0:e.category)===d.hW.Action)return Cr(Cr({},e),{},{action:{next:n[t],type:xr.M.Next}})}else if(null!=e&&e.action&&e.action.next)return Cr(Cr({},e),{},{action:Cr(Cr({},e.action),{},{next:void 0})});return e};const Fr=function(e){var t=(0,T.Z)(e),n=t.nodes,r=t.edges,o={steps:[]},i={};r.forEach((function(e){var t;i[null===(t=e.sourceHandle)||void 0===t||null===(t=t.replace(u.Z.FLOW_BUILDER_NEXT_HANDLE_SUFFIX,""))||void 0===t?void 0:t.replace(u.Z.FLOW_BUILDER_PREVIOUS_HANDLE_SUFFIX,"")]=e.target})),n.filter((function(e){return!0!==e.data.displayOnly})).forEach((function(e){var t,n=e.data,r=e.id,a=e.position,c=e.measured,l=e.type,s=function(e){return null==e?void 0:e.map((function(e){return e.components&&(e.components=s(e.components)),Dr((0,vn.Z)(e,Lr),e.id,i)}))},u={id:r,type:l,size:c||{height:400,width:350},position:a,data:n};n.components&&(u.data=Cr(Cr({},u.data),{},{components:s(n.components)})),null!=u&&null!==(t=u.data)&&void 0!==t&&t.action&&(u.data=Dr(u.data,u.id,i)),o.steps.push(u)}));var a=o.steps.find((function(e){return e.type===f.wQ.UserOnboard}));return a&&(a.data={},o.steps=o.steps.filter((function(e){return e.type!==f.wQ.UserOnboard})),o.steps.push(a)),o};function Ur(e){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ur(e)}function jr(){jr=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new N(r||[]);return o(a,"_invoke",{value:P(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",y="executing",g="completed",m={};function h(){}function v(){}function E(){}var b={};s(b,a,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(C([])));w&&w!==n&&r.call(w,a)&&(b=w);var I=E.prototype=h.prototype=Object.create(b);function T(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(o,i,a,c){var l=p(e[o],e,i);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Ur(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=d;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var l=S(c,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var s=p(t,n,r);if("normal"===s.type){if(o=r.done?g:f,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=g,r.method="throw",r.arg=s.arg)}}}function S(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=p(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Ur(t)+" is not iterable")}return v.prototype=E,o(I,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:v,configurable:!0}),v.displayName=s(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,l,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},T(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(I),s(I,l,"Generator"),s(I,a,(function(){return this})),s(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function kr(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function Mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Gr=function(e){var t=e.children,n=(0,A.I0)(),r=(0,c.$)().t,o=(0,w._K)().toObject,l=on().data,s=(0,p.Z)().flowCompletionConfigs,u=Mr((0,a.useState)({}),2),d=u[0],f=u[1],y=Mr((0,a.useState)(!1),2),g=y[0],m=y[1],h=function(){var e,t=(e=jr().mark((function e(){var t,a;return jr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!0),t=o(),(0,_.Z)(s)){e.next=11;break}return e.prev=3,e.next=6,(0,Xt.Z)({flowCompletionConfigs:s,flowType:i.Z.REGISTRATION});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),n((0,O.V_)({description:r("flows:core.notifications.updateFlowConfig.genericError.description"),level:b.QU.ERROR,message:r("flows:core.notifications.updateFlowConfig.genericError.message")}));case 11:return e.prev=11,(a=Fr(t)).flowType=ke.REGISTRATION_FLOW_TYPE,e.next=16,en(a);case 16:return n((0,O.V_)({description:r("flows:registrationFlow.notifications.updateRegistrationFlow.success.description"),level:b.QU.SUCCESS,message:r("flows:registrationFlow.notifications.updateRegistrationFlow.success.message")})),e.abrupt("return",!0);case 20:return e.prev=20,e.t1=e.catch(11),n((0,O.V_)({description:r("flows:registrationFlow.notifications.updateRegistrationFlow.genericError.description"),level:b.QU.ERROR,message:r("flows:registrationFlow.notifications.updateRegistrationFlow.genericError.message")})),e.abrupt("return",!1);case 24:return e.prev=24,m(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[3,8],[11,20,24,27]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){kr(i,r,o,a,c,"next",e)}function c(e){kr(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return a.createElement(pt.Provider,{value:{isPublishing:g,onPublish:h,selectedAttributes:d,setSelectedAttributes:f,supportedAttributes:l}},t)};const Vr=function(e){var t=e.children,n=(0,a.useMemo)((function(){return[Ht.N$.SIGN_UP,Ht.N$.COMMON,Ht.N$.EMAIL_LINK_EXPIRY,Ht.N$.EMAIL_OTP,Ht.N$.SMS_OTP]}),[]);return a.createElement(Wt.Z,{ElementFactory:Sr,ResourceProperties:_r,flowType:i.Z.REGISTRATION,screenTypes:n,validationConfig:{isOTPValidationEnabled:!0,isPasswordExecutorValidationEnabled:!0}},a.createElement(Gr,null,t))};var Xr=function(e){var t=e["data-componentid"],n=e.children,l=(0,c.$)().t,s=dt(),u=s.isPublishing,p=s.onPublish,d=(0,o.M5)().setRefetchFlow;return a.createElement(r.Z,{"data-componentid":t,flowType:i.Z.REGISTRATION,flowTypeDisplayName:l("flows:registrationFlow.flowDisplayName"),isPublishing:u,onPublish:p,onRevert:function(){return d(!0)}},n)};const Wr=function(e){var t=e["data-componentid"],n=void 0===t?"registration-flow-builder-page":t;return a.createElement(Vr,null,a.createElement(Xr,{"data-componentid":n},a.createElement(Vt,null)))}},3116:(e,t,n)=>{n.d(t,{Tf:()=>g,Wf:()=>m,sM:()=>y});var r=n(2292),o=n(96124),i=n(76271),a=n(87029),c=n(21257),l=n(43939),s=n(6833),u=n(44485);function p(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=r.AsgardeoSPAClient.getInstance().httpRequest.bind(r.AsgardeoSPAClient.getInstance()).bind(r.AsgardeoSPAClient.getInstance()),y=function(e,t,n){var r={data:[t,n,h(e),v(e)].filter((function(e){return null!=e})),headers:{Accept:"application/json","Content-Type":"application/json"},method:s.f2.PUT,url:i.h.getState().config.endpoints.validationServiceMgt};return f(r).then((function(e){if(200!==e.status)throw new l.u(u.Q0.CONFIGURATION_UPDATE_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new l.u(u.Q0.CONFIGURATION_STATUS_UPDATE_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},g=function(e){var t={data:{fields:e},headers:{Accept:"application/json","Content-Type":"application/json"},method:s.f2.POST,url:i.h.getState().config.endpoints.validationServiceMgt+"/revert"};return f(t).then((function(e){if(200!==e.status)throw new l.u(u.Q0.CONFIGURATION_REVERT_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new l.u(u.Q0.CONFIGURATION_REVERT_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},m=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,c.z)().organizationType,n={headers:{Accept:"application/json","Content-Type":"application/json"},method:s.f2.GET,params:{},url:t===a.$B.SUBORGANIZATION?i.h.getState().config.endpoints.validationServiceMgtSubOrg:i.h.getState().config.endpoints.validationServiceMgt},r=(0,o.Z)(e?n:null,{shouldRetryOnError:!1}),l=r.data,u=r.error;return{data:l,error:u,isLoading:!l&&!u,isValidating:r.isValidating,mutate:r.mutate}},h=function(e){if("username"!==e.field){var t=[{properties:[{key:"min.length",value:e.minLength?e.minLength:"8"},{key:"max.length",value:e.maxLength?e.maxLength:"30"}],validator:"LengthValidator"},{properties:[{key:"min.length",value:e.minNumbers?e.minNumbers:"1"}],validator:"NumeralValidator"},{properties:[{key:"min.length",value:e.minUpperCaseCharacters?e.minUpperCaseCharacters:"1"}],validator:"UpperCaseValidator"},{properties:[{key:"min.length",value:e.minLowerCaseCharacters?e.minLowerCaseCharacters:"8"}],validator:"LowerCaseValidator"},{properties:[{key:"min.length",value:e.minSpecialCharacters?e.minSpecialCharacters:"8"}],validator:"SpecialCharacterValidator"}];return e.uniqueCharacterValidatorEnabled&&Number(e.minUniqueCharacters)>0&&(t=[].concat(p(t),[{properties:[{key:"min.unique.character",value:e.minUniqueCharacters?e.minUniqueCharacters:"1"}],validator:"UniqueCharacterValidator"}])),e.consecutiveCharacterValidatorEnabled&&Number(e.maxConsecutiveCharacters)>0&&(t=[].concat(p(t),[{properties:[{key:"max.consecutive.character",value:e.maxConsecutiveCharacters?e.maxConsecutiveCharacters:"1"}],validator:"RepeatedCharacterValidator"}])),{field:"password",rules:t}}},v=function(e){if(e&&"password"!==(null==e?void 0:e.field)){var t=[];return"false"===(null==e?void 0:e.enableValidator)?t.push({properties:[{key:"enable.validator",value:"true"}],validator:"EmailFormatValidator"}):t.push({properties:[{key:"enable.validator",value:"true"},{key:"enable.special.characters",value:"".concat(!e.isAlphanumericOnly)}],validator:"AlphanumericValidator"},{properties:[{key:"min.length",value:e.minLength?e.minLength:"3"},{key:"max.length",value:e.maxLength?e.maxLength:"50"}],validator:"LengthValidator"}),{field:"username",rules:t}}}},44485:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}n.d(t,{Ps:()=>s,Pv:()=>p,Q0:()=>u});var s=i((function e(){a(this,e)}));c(s,"VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS",{MIN_LENGTH:1,MIN_VALUE:0,PASSWORD_MIN_LENGTH:1,PASSWORD_MIN_VALUE:5}),c(s,"FEATURE_DICTIONARY",(new Map).set("RULE_BASED_PASSWORD_EXPIRY","validation.ruleBasedPasswordExpiry"));var u=i((function e(){a(this,e)}));c(u,"CONFIGURATION_STATUS_UPDATE_ERROR","An error occurred while updating validation configurations."),c(u,"CONFIGURATION_REVERT_ERROR","An error occurred while reverting validation configurations."),c(u,"CONFIGURATION_UPDATE_INVALID_STATUS_CODE_ERROR","Received an invalid status code while updating validation configurations."),c(u,"CONFIGURATION_REVERT_INVALID_STATUS_CODE_ERROR","Received an invalid status code while reverting validation configurations.");var p=function(e){return e.USERNAME="username",e.PASSWORD="password",e}({})},55544:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(81611),o=n.n(r),i=n(83948),a=n.n(i)()(o());a.push([e.id,".button-extended-properties{margin-bottom:var(--oxygen-spacing-1)}.button-extended-properties .extended-property.action-type{cursor:pointer}.button-extended-properties .extended-property.action-type.oxygen-card{padding:0}.button-extended-properties .extended-property.action-type.oxygen-card .oxygen-card-content:last-child{padding:var(--oxygen-spacing-1)}.button-extended-properties .extended-property.action-type.oxygen-card .oxygen-card-content:last-child:last-child{padding-bottom:var(--oxygen-spacing-1)}.button-extended-properties .extended-property.action-type .action-type-name{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;line-clamp:2;-webkit-line-clamp:2;-webkit-box-orient:vertical}.button-extended-properties .extended-property.action-type .action-type-icon{background-color:var(--oxygen-palette-grey-300);width:32px;height:32px}.button-extended-properties .extended-property.action-type .action-type-icon img{height:16px;width:16px}.button-extended-properties .extended-property.action-type.selected{border:1px solid var(--oxygen-palette-primary-main)}.button-extended-properties .extended-property.action-type.error{border:1px solid var(--oxygen-palette-error-main)}.button-extended-properties .button-extended-properties-heading{font-weight:500}.button-extended-properties .button-extended-properties-sub-heading{margin-top:var(--oxygen-spacing-2);margin-bottom:var(--oxygen-spacing-1)}.button-extended-properties .MuiFormHelperText-root{margin-top:var(--oxygen-spacing-1)}",""]);const c=a},53280:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(81611),o=n.n(r),i=n(83948),a=n.n(i)()(o());a.push([e.id,".add-button{margin-top:10px}",""]);const c=a},70653:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(81611),o=n.n(r),i=n(83948),a=n.n(i)()(o());a.push([e.id,".flow-builder-execution-federation-properties .MuiFormHelperText-root.Mui-error{margin-top:-16px}",""]);const c=a},73529:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(81611),o=n.n(r),i=n(83948),a=n.n(i)()(o());a.push([e.id,":root{--wso2is-flow-builder-end-step-icon-color: var(--oxygen-customComponents-Chip-properties-new-border-color)}.user-account-unlock.MuiFab-root{pointer-events:none;box-shadow:none;color:var(--oxygen-palette-common-white);background-color:rgba(0,0,0,0);display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:center;align-items:center;background:linear-gradient(131deg, rgba(117, 237, 161, 0.7) 28.46%, rgba(52, 146, 86, 0.6) 119.09%)}.user-account-unlock.MuiFab-root svg path{stroke:var(--wso2is-flow-builder-end-step-icon-color)}",""]);const c=a}}]);