"use strict";(self.webpackChunk_wso2is_myaccount=self.webpackChunk_wso2is_myaccount||[]).push([[994],{49994:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_n});var a=n(36940),i=n(86105),o=n(397),r=n(44194),l=n(10479),c=n(31126),m=n(60824),s=n(4278),d=n(61798),u=n(47513),f=n(50699);function p(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,o,r,l=[],c=!0,m=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){m=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(m)throw i}}return l}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var C=function(e,t,n,i,o){var r=function(e,t,n,i){var o=(0,u.Z)(e),r=a.Cb.SCIM2_SYSTEM_USER_SCHEMA;r in o||(o[r]={});for(var l=a.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS"),c=a.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAIL_ADDRESSES"),m=a.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_EMAIL_ADDRESSES"),s=a.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAIL_VERIFIED"),d=a.Cb.SCIM2_SCHEMA_DICTIONARY.get("PHONE_NUMBERS"),v=a.Cb.SCIM2_SCHEMA_DICTIONARY.get("MOBILE_NUMBERS"),b=a.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_MOBILE_NUMBERS"),C=a.Cb.SCIM2_SCHEMA_DICTIONARY.get("PHONE_VERIFIED"),g=0,y=Object.entries(e);g<y.length;g++){var h=E(y[g],2),S=h[0],I=h[1];if(S===l){var A;if((0,f.Z)(I)){o[l]=[];continue}var N,M=null===(A=o[r])||void 0===A?void 0:A[c],_=Array.isArray(M)?M:[],O=(Array.isArray(I)?I:[]).find((function(e){return"string"==typeof e}));if(t&&(0,f.Z)(_)&&O&&(o[r][c]=[O]),t&&n&&(null===(N=o[r])||void 0===N?void 0:N[s])){var R,Z=null===(R=o[r])||void 0===R?void 0:R[m],w=Array.isArray(Z)?Z:[];w.includes(O)||(o[r][m]=[].concat(p(w),[O]))}}else if(S===d&&!(0,f.Z)(I)){var L,U,T,D=null===(L=o[r])||void 0===L?void 0:L[v],k=Array.isArray(D)?D:[],P=null===(U=(Array.isArray(I)?I:[]).find((function(e){return"mobile"===e.type})))||void 0===U?void 0:U.value;if(t&&(0,f.Z)(k)&&P&&(o[r][v]=[P]),t&&i&&(null===(T=o[r])||void 0===T?void 0:T[C])){var x,V=null===(x=o[r])||void 0===x?void 0:x[b],H=Array.isArray(V)?V:[];H.includes(P)||(o[r][b]=[].concat(p(H),[P]))}}}return o}(e,n,i,o),l={};r.id&&(l.id=r.id);var c,m=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=v(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw o}}}}(t);try{var s=function(){var e=c.value,t=e.schemaId,n=null==t?void 0:t.replace(/\./g,"__DOT__");t===a.Cb.SCIM2_CORE_USER_SCHEMA||Object.hasOwn(l,n)||(l[n]={});var i,o=e.name.split(".");if(e.extended||o[0]!==a.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS")&&o[0]!==a.Cb.SCIM2_SCHEMA_DICTIONARY.get("PHONE_NUMBERS"))if(e.extended||o[0]!==a.Cb.SCIM2_SCHEMA_DICTIONARY.get("ADDRESSES"))if(!e.extended&&o[0].startsWith("".concat(a.Cb.SCIM2_SCHEMA_DICTIONARY.get("ADDRESSES"),"#"))){var m,s=o[0].split("#"),d=o[1];l[e.name]=null===(m=r[s[0]])||void 0===m||null===(m=m.find((function(e){return e.type===s[1]})))||void 0===m?void 0:m[d]}else if(o.length>1){var u=o[0].split("#");if(u.length>1){var f,p,E=void 0;if(e.extended)E=null===(p=r[n])||void 0===p?void 0:p[u[0]];else E=r[u[0]];var v=null===(f=E.find((function(e){return e.type===u[1]})))||void 0===f?void 0:f.value;e.extended?l[n][e.name]=v:l[e.name]=v}else{var b,C,g;if(e.extended)if(e.schemaId===a.Cb.SCIM2_CORE_SCHEMA)l[e.name]=null===(b=r[o[0]])||void 0===b?void 0:b[o[1]];else l[n][e.name]=null===(C=r[e.schemaId])||void 0===C||null===(C=C[o[0]])||void 0===C?void 0:C[o[1]];else l[e.name]=null===(g=r[o[0]])||void 0===g?void 0:g[o[1]]}}else{var y;if(e.extended)l[n][e.name]=null===(y=r[e.schemaId])||void 0===y?void 0:y[o[0]];else l[e.name]=r[o[0]]}else{var h;l[e.name]=null===(h=r[o[0]])||void 0===h||null===(h=h.find((function(e){return e.type===o[1]})))||void 0===h?void 0:h.formatted}else if(1===o.length){if(o[0]===a.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS")){var S,I=null===(S=r[o[0]])||void 0===S?void 0:S.find((function(e){return"string"==typeof e}));l[o[0]]=I}}else l[e.name]=null===(i=r[o[0]])||void 0===i||null===(i=i.find((function(e){return e.type===o[1]})))||void 0===i?void 0:i.value};for(m.s();!(c=m.n()).done;)s()}catch(C){m.e(C)}finally{m.f()}Object.hasOwn(l,a.Cb.SCIM2_SYSTEM_USER_SCHEMA)||(l[a.Cb.SCIM2_SYSTEM_USER_SCHEMA]={}),l[a.Cb.SCIM2_SYSTEM_USER_SCHEMA][a.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAIL_VERIFIED")]=r[a.Cb.SCIM2_SYSTEM_USER_SCHEMA][a.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAIL_VERIFIED")],l[a.Cb.SCIM2_SYSTEM_USER_SCHEMA][a.Cb.SCIM2_SCHEMA_DICTIONARY.get("PHONE_VERIFIED")]=r[a.Cb.SCIM2_SYSTEM_USER_SCHEMA][a.Cb.SCIM2_SCHEMA_DICTIONARY.get("PHONE_VERIFIED")];var d=a.Cb.SCIM2_SCHEMA_DICTIONARY.get("PENDING_EMAILS");l[a.Cb.SCIM2_SYSTEM_USER_SCHEMA][d]=r[a.Cb.SCIM2_SYSTEM_USER_SCHEMA][d];var b=a.Cb.SCIM2_SCHEMA_DICTIONARY.get("PENDING_MOBILE");return l[a.Cb.SCIM2_SYSTEM_USER_SCHEMA][b]=r[a.Cb.SCIM2_SYSTEM_USER_SCHEMA][b],l},g=function(e,t){var n;return t.extended?t.schemaId===a.Cb.SCIM2_CORE_SCHEMA?e[t.name]:null===(n=e[t.schemaId.replace(/\./g,"__DOT__")])||void 0===n?void 0:n[t.name]:e[t.name]},y=n(60502),h=n(16590),S=n(73432),I=n(53036),A=n(41193),N=n(2447);const M=function(e){var t=e.fieldSchema,n=e.initialValue,a=e.fieldLabel,i=e.isEditable,o=e.setIsProfileUpdating,l=e.handleSubmit,c=e.isUpdating,s=e["data-componentid"];return r.createElement(m.Z,{padded:!0},r.createElement(m.Z.Row,{columns:3},r.createElement(m.Z.Column,{mobile:6,computer:4,className:"first-column"},r.createElement(S.Z.Content,{className:"vertical-align-center"},a)),r.createElement(m.Z.Column,{mobile:8,computer:10},r.createElement(S.Z.Content,null,r.createElement(S.Z.Description,{className:"with-max-length"},r.createElement(N.vy,{onSubmit:function(e){var n;o(!0);var a=null!==(n=e[t.name])&&void 0!==n&&n;l(t.name,a)},render:function(e){var a=e.handleSubmit;return r.createElement("form",{onSubmit:a},r.createElement(N.SE,{component:N.ur,initialValue:null!=n&&n,name:t.name,readOnly:!i||c,disabled:!i||c,"data-testid":"".concat(s,"-").concat(t.name.replace(".","-"),"-checkbox-field"),"data-componentid":"".concat(s,"-").concat(t.name.replace(".","-"),"-checkbox-field")}),r.createElement(N.lP,{subscription:{dirty:!0,values:!0},onChange:function(e){var t=e.values;e.dirty&&a(t)}}))}}))))))};var _=n(94289),O=n(49151),R=n(551),Z=n(26154);const w=function(e){var t=e.schema,n=e.fieldLabel,a=e.placeholderText,i=e.onEditClicked,o=(0,l.$)().t;return r.createElement("a",{className:"placeholder-text",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&i()},onClick:i,"data-testid":"profile-schema-mobile-editing-section-".concat(t.name.replace(".","-"),"-placeholder")},a||o("myAccount:components.profile.forms.generic.inputs.placeholder",{fieldName:n.toLowerCase()}))};var L=n(62702);const U=function(e){var t,n,a=e.fieldSchema,i=e.initialValue,c=e.fieldLabel,s=e.isEditable,d=e.onEditClicked,u=e.onEditCancelClicked,p=e.isActive,E=e.isRequired,v=e.isUpdating,b=e.setIsProfileUpdating,C=e.handleSubmit,g=e["data-componentid"],y=void 0===g?"checkbox-group-field-form":g,h=(0,o.kH)().isMobileViewport,I=(0,l.$)().t,A=null!==(t=a.canonicalValues)&&void 0!==t?t:[],M=function(e){if((0,f.Z)(e)&&E)return I("myAccount:components.profile.forms.generic.inputs.validations.empty",{fieldName:c})};return p?r.createElement(L.H,{"data-testid":"profile-schema-editing-section"},r.createElement(m.Z,null,r.createElement(m.Z.Row,{columns:2,verticalAlign:"middle"},r.createElement(m.Z.Column,{width:4},c),r.createElement(m.Z.Column,{width:12},r.createElement(N.vy,{onSubmit:function(e){b(!0),C(a.name,e[a.name])},render:function(e){var t=e.handleSubmit;return r.createElement("form",{onSubmit:t,className:"checkbox-group-field-form","data-componentid":"".concat(y,"-editing-section-").concat(a.name.replace(".","-"),"-form"),"data-testid":"".concat(y,"-editing-section-").concat(a.name.replace(".","-"),"-form")},r.createElement(N.SE,{component:N.Eg,initialValue:i,ariaLabel:c,name:a.name,validate:M,readOnly:!s||v,disabled:!s||v,FormControlProps:{fullWidth:!0,margin:"dense"},options:A,"data-testid":"".concat(y,"-").concat(a.name.replace(".","-"),"-field"),"data-componentid":"".concat(y,"-").concat(a.name.replace(".","-"),"-field")}),r.createElement(m.Z.Row,{className:"form-actions-wrapper"},r.createElement(o.zx,{primary:!0,type:"submit","data-testid":"".concat(y,"-schema-mobile-editing-section-").concat(a.name.replace(".","-"),"-save-button")},I("common:save")),r.createElement(o.zx,{onClick:u,"data-testid":"".concat(y,"-schema-mobile-editing-section-").concat(a.name.replace(".","-"),"-cancel-button")},I("common:cancel"))))}}))))):r.createElement(m.Z,{padded:!0},r.createElement(m.Z.Row,{columns:3},r.createElement(m.Z.Column,{mobile:6,computer:4,className:"first-column"},r.createElement(S.Z.Content,{className:"vertical-align-center"},c)),r.createElement(m.Z.Column,{mobile:8,computer:10},r.createElement(S.Z.Content,null,r.createElement(S.Z.Description,{className:"with-max-length"},(0,f.Z)(i)?r.createElement(w,{schema:a,fieldLabel:c,placeholderText:I("myAccount:components.profile.forms.generic.dropdown.placeholder",{fieldName:c.toLowerCase()}),onEditClicked:d}):(n=A.filter((function(e){return i.includes(e.value)})),r.createElement(O.Z,{className:"multi-attribute-dropdown",value:n[0].value,disableUnderline:!0,variant:"standard","data-componentid":"".concat(y,"-").concat(a.name.replace(".","-"),"-readonly-dropdown")},n.map((function(e,t){var n=e.label,i=e.value;return r.createElement(_.Z,{key:t,value:i,className:"read-only-menu-item"},r.createElement("div",{className:"dropdown-row"},r.createElement(R.Z,{className:"dropdown-label","data-componentid":"".concat(y,"-readonly-section-").concat(a.name.replace(".","-"),"-value-").concat(t)},n)))}))))))),r.createElement(m.Z.Column,{mobile:2,className:"".concat(h?"":"last-column")},r.createElement(S.Z.Content,{floated:"right",className:"vertical-align-center"},s&&r.createElement(o.GI,{trigger:r.createElement(Z.Z,{link:!0,className:"list-icon",size:"small",color:"grey",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&d()},onClick:d,name:"pencil alternate","data-testid":"profile-schema-mobile-editing-section-".concat(a.name.replace(".","-"),"-edit-button")}),position:"top center",content:I("common:edit"),inverted:!0})))))};var T=n(63993),D=n(44990),k=n(45432),P=n(18266),x=n(51835),V=n.n(x),H=n(27975),Y=n.n(H),F=n(55900),j=n.n(F),q=n(21555),z=n.n(q),B=n(3621),G=n.n(B),$=n(5062),X=n.n($),W=n(68115),K={};K.styleTagTransform=X(),K.setAttributes=z(),K.insert=j().bind(null,"head"),K.domAPI=Y(),K.insertStyleElement=G();V()(W.Z,K);W.Z&&W.Z.locals&&W.Z.locals;const Q=function(e){var t=e.fieldSchema,n=e.initialValue,a=e.fieldLabel,i=e.isRequired,c=e.isActive,s=e.isEditable,d=e.onEditClicked,u=e.onEditCancelClicked,p=e.setIsProfileUpdating,E=e.handleSubmit,v=e.isUpdating,b=e["data-componentid"],C=void 0===b?"country-field-form":b,g=(0,l.$)().t,y=(0,o.kH)().isMobileViewport,I=(0,r.useMemo)((function(){return h.CommonUtils.getCountryList()}),[]),A=function(e){if((0,f.Z)(e)&&i)return g("myAccount:components.profile.forms.generic.inputs.validations.empty",{fieldName:a})};return c?r.createElement(L.H,{"data-testid":"profile-schema-editing-section"},r.createElement(m.Z,null,r.createElement(m.Z.Row,{columns:2,verticalAlign:"middle"},r.createElement(m.Z.Column,{className:"field-label",width:4},r.createElement("span",{className:i?"required":""},a)),r.createElement(m.Z.Column,{width:12},r.createElement(N.vy,{onSubmit:function(e){p(!0),E(t.name,e[t.name])},render:function(e){var l=e.handleSubmit;return r.createElement("form",{onSubmit:l,className:"dropdown-field-form","data-componentid":"".concat(C,"-editing-section-").concat(t.name.replace(".","-"),"-form"),"data-testid":"".concat(C,"-editing-section-").concat(t.name.replace(".","-"),"-form")},r.createElement(m.Z,{verticalAlign:"middle"},r.createElement(m.Z.Row,{columns:2},r.createElement(m.Z.Column,{width:10},r.createElement(N.SE,{component:N.ZY,initialValue:n,isClearable:!i,ariaLabel:a,name:t.name,validate:A,placeholder:g("myAccount:components.profile.forms.countryChangeForm.inputs.country.placeholder"),options:null==I?void 0:I.map((function(e){var t=e.key,n=e.flag,a=e.text,i=e.value;return{text:r.createElement(D.Z,{key:t,className:"p-0","data-componentid":"".concat(C,"-profile-form-country-dropdown-").concat(i)},r.createElement(k.Z,null,r.createElement(T.Z,{countryCode:n})),r.createElement(P.Z,null,a)),value:i}})),readOnly:!s||v,disableClearable:i,"data-testid":"".concat(C,"-").concat(t.name.replace(".","-"),"-select-field"),"data-componentid":"".concat(C,"-").concat(t.name.replace(".","-"),"-select-field")})),r.createElement(m.Z.Column,{width:6},r.createElement("div",{className:"form-actions-wrapper"},r.createElement(o.zx,{primary:!0,type:"submit","data-testid":"".concat(C,"-schema-mobile-editing-section-").concat(t.name.replace(".","-"),"-save-button")},g("common:save")),r.createElement(o.zx,{onClick:u,"data-testid":"".concat(C,"-schema-mobile-editing-section-").concat(t.name.replace(".","-"),"-cancel-button")},g("common:cancel")))))))}}))))):r.createElement(m.Z,{padded:!0},r.createElement(m.Z.Row,{columns:3},r.createElement(m.Z.Column,{mobile:6,computer:4,className:"first-column"},r.createElement(S.Z.Content,{className:"vertical-align-center field-label"},r.createElement("span",{className:i?"required":""},a))),r.createElement(m.Z.Column,{mobile:8,computer:10},r.createElement(S.Z.Content,null,r.createElement(S.Z.Description,{className:"with-max-length"},(0,f.Z)(n)?r.createElement(w,{schema:t,fieldLabel:a,placeholderText:g("myAccount:components.profile.forms.countryChangeForm.inputs.country.placeholder"),onEditClicked:d}):n))),r.createElement(m.Z.Column,{mobile:2,className:"".concat(y?"":"last-column")},r.createElement(S.Z.Content,{floated:"right",className:"vertical-align-center"},s&&r.createElement(o.GI,{trigger:r.createElement(Z.Z,{link:!0,className:"list-icon",size:"small",color:"grey",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&d()},onClick:d,name:"pencil alternate","data-testid":"profile-schema-mobile-editing-section-".concat(t.name.replace(".","-"),"-edit-button")}),position:"top center",content:g("common:edit"),inverted:!0})))))};var J=n(45634),ee=n.n(J);const te=function(e){var t=e.fieldSchema,n=e.initialValue,a=e.fieldLabel,i=e.isEditable,c=e.onEditClicked,s=e.onEditCancelClicked,d=e.isActive,u=e.isRequired,p=e.setIsProfileUpdating,E=e.handleSubmit,v=e.isUpdating,b=e.onValidate,C=e["data-componentid"],g=void 0===C?"date-picker-field-form":C,y=(0,o.kH)().isMobileViewport,h=(0,l.$)().t,I=ee()(n,"YYYY-MM-DD",!0),A=h("myAccount:components.profile.forms.generic.inputs.placeholder",{fieldName:a.toLowerCase()}),M=function(e){return b?b(e):(0,f.Z)(e)&&u?h("myAccount:components.profile.forms.generic.inputs.validations.empty",{fieldName:a}):RegExp(t.regEx).test(e)?void 0:h("myAccount:components.profile.forms.generic.inputs.validations.invalidFormat",{fieldName:a})};return d?r.createElement(L.H,{"data-testid":"profile-schema-editing-section"},r.createElement(m.Z,null,r.createElement(m.Z.Row,{columns:2,verticalAlign:"middle"},r.createElement(m.Z.Column,{width:4,className:"field-label"},r.createElement("span",{className:u?"required":""},a)),r.createElement(m.Z.Column,{width:12},r.createElement(N.vy,{onSubmit:function(e){p(!0),E(t.name,e[t.name])},render:function(e){var l=e.handleSubmit;return r.createElement("form",{onSubmit:l,className:"date-picker-field-form","data-componentid":"".concat(g,"-editing-section-").concat(t.name.replace(".","-"),"-form"),"data-testid":"".concat(g,"-editing-section-").concat(t.name.replace(".","-"),"-form")},r.createElement(m.Z,{verticalAlign:"middle"},r.createElement(m.Z.Row,{columns:2},r.createElement(m.Z.Column,{width:10},(0,f.Z)(n)||I.isValid()?r.createElement(N.SE,{component:N.sX,initialValue:n,isClearable:!u,ariaLabel:a,name:t.name,validate:M,placeholder:A,readOnly:!i||v,disableClearable:u,"data-componentid":"".concat(g,"-").concat(t.name.replace(".","-"),"-date-picker-field")}):r.createElement(N.SE,{component:N.xh,initialValue:n,isClearable:!u,ariaLabel:a,name:t.name,validate:M,placeholder:A,readOnly:!i||v,disableClearable:u,"data-testid":"".concat(g,"-").concat(t.name.replace(".","-"),"-text-field"),"data-componentid":"".concat(g,"-").concat(t.name.replace(".","-"),"-text-field")})),r.createElement(m.Z.Column,{width:6},r.createElement("div",{className:"form-actions-wrapper"},r.createElement(o.zx,{primary:!0,type:"submit","data-testid":"".concat(g,"-schema-mobile-editing-section-").concat(t.name.replace(".","-"),"-save-button")},h("common:save")),r.createElement(o.zx,{onClick:s,"data-testid":"".concat(g,"-schema-mobile-editing-section-").concat(t.name.replace(".","-"),"-cancel-button")},h("common:cancel")))))))}}))))):r.createElement(m.Z,{padded:!0},r.createElement(m.Z.Row,{columns:3},r.createElement(m.Z.Column,{mobile:6,computer:4,className:"first-column"},r.createElement(S.Z.Content,{className:"vertical-align-center field-label"},r.createElement("span",{className:u?"required":""},a))),r.createElement(m.Z.Column,{mobile:8,computer:10},r.createElement(S.Z.Content,null,r.createElement(S.Z.Description,{className:"with-max-length"},(0,f.Z)(n)?r.createElement(w,{schema:t,fieldLabel:a,placeholderText:A,onEditClicked:c}):I.isValid()?I.format("YYYY-MM-DD"):n))),r.createElement(m.Z.Column,{mobile:2,className:"".concat(y?"":"last-column")},r.createElement(S.Z.Content,{floated:"right",className:"vertical-align-center"},i&&r.createElement(o.GI,{trigger:r.createElement(Z.Z,{link:!0,className:"list-icon",size:"small",color:"grey",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&c()},onClick:c,name:"pencil alternate","data-testid":"profile-schema-mobile-editing-section-".concat(t.name.replace(".","-"),"-edit-button")}),position:"top center",content:h("common:edit"),inverted:!0})))))};var ne=n(96334),ae=n(50618),ie=["fieldSchema","initialValue","fieldLabel","isEditable","onEditClicked","onEditCancelClicked","isActive","isRequired","setIsProfileUpdating","handleSubmit","onValidate","placeholderText","data-componentid"];function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oe.apply(null,arguments)}function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}const le=function(e){var t=e.fieldSchema,n=e.initialValue,c=e.fieldLabel,s=e.isEditable,d=e.onEditClicked,u=e.onEditCancelClicked,p=e.isActive,E=e.isRequired,v=e.setIsProfileUpdating,b=e.handleSubmit,C=e.onValidate,g=e.placeholderText,y=e["data-componentid"],h=void 0===y?"text-field-form":y,I=function(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ie),A=(0,o.kH)().isMobileViewport,N=(0,l.$)().t,M=a.Cb.SCIM2_SCHEMA_DICTIONARY.get("USERNAME"),_=function(e){return e.name===M?(0,i.WX)(String(n)):"object"===re(n)?"":n};return p?r.createElement(L.H,{"data-testid":"profile-schema-editing-section"},r.createElement(m.Z,null,r.createElement(m.Z.Row,{columns:2},r.createElement(m.Z.Column,{className:"field-label",width:4},r.createElement("span",{className:E?"required":""},c)),r.createElement(m.Z.Column,{width:12},r.createElement(ne.Es,{onSubmit:function(e){v(!0);var n=t.name;if([ae.k.scimUserSchema.addressesHome,ae.k.scimUserSchema.addressesWork].some((function(e){return!(0,f.Z)(e)&&e===t.schemaUri}))){var a=t.name.split(".");n="".concat(a[0],"#").concat(a[1],".formatted")}else if([ae.k.scimUserSchema.emailsWork,ae.k.scimUserSchema.emailsOther].some((function(e){return!(0,f.Z)(e)&&e===t.schemaUri}))){var i=t.name.split(".");n="".concat(i[0],"#").concat(i[1],".value")}else if([ae.k.scimUserSchema.phoneNumbersMobile,ae.k.scimUserSchema.phoneNumbersWork,ae.k.scimUserSchema.phoneNumbersOther,ae.k.scimUserSchema.phoneNumbersHome,ae.k.scimUserSchema.phoneNumbersFax,ae.k.scimUserSchema.phoneNumbersPager].some((function(e){return!(0,f.Z)(e)&&e===t.schemaUri}))){var o=t.name.split(".");n="".concat(o[0],"#").concat(o[1],".value")}b(n,e.get(t.name))}},r.createElement(m.Z,{verticalAlign:"middle",textAlign:"right"},r.createElement(m.Z.Row,{columns:2,className:"p-0"},r.createElement(m.Z.Column,{width:10},r.createElement(ne.gN,oe({autoFocus:!0,label:"",name:t.name,"data-testid":"".concat(h,"-").concat(t.name.replace(".","-"),"-text-field"),"data-componentid":"".concat(h,"-").concat(t.name.replace(".","-"),"-text-field"),placeholder:g||N("myAccount:components.profile.forms.generic.inputs.placeholder",{fieldName:c.toLowerCase()}),required:E,requiredErrorMessage:N("myAccount:components.profile.forms.generic.inputs.validations.empty",{fieldName:c}),type:"text",validation:function(e,n){C?C(e,n):RegExp(t.regEx).test(e)||(n.isValid=!1,n.errorMessages.push(N("myAccount:components.profile.forms.generic.inputs.validations.invalidFormat",{fieldName:c})))},value:_(t),maxLength:t.maxLength?t.maxLength:a.Cb.CLAIM_VALUE_MAX_LENGTH},I))),r.createElement(m.Z.Column,{width:6},r.createElement("div",{className:"text-field-actions"},r.createElement(ne.gN,{size:"small",type:"submit",className:"m-0",value:N("common:save").toString(),"data-testid":"".concat(h,"-schema-mobile-editing-section-").concat(t.name.replace(".","-"),"-save-button")}),r.createElement(ne.gN,{className:"link-button",onClick:u,size:"small",type:"button",value:N("common:cancel").toString(),"data-testid":"".concat(h,"-schema-mobile-editing-section-").concat(t.name.replace(".","-"),"-cancel-button")})))))))))):r.createElement(m.Z,{padded:!0},r.createElement(m.Z.Row,{columns:3},r.createElement(m.Z.Column,{mobile:6,computer:4,className:"first-column"},r.createElement(S.Z.Content,{className:"vertical-align-center field-label"},r.createElement("span",{className:E?"required":""},c))),r.createElement(m.Z.Column,{mobile:8,computer:10},r.createElement(S.Z.Content,null,r.createElement(S.Z.Description,{className:"with-max-length"},!Number.isSafeInteger(n)&&(0,f.Z)(n)?r.createElement(w,{schema:t,fieldLabel:c,placeholderText:g,onEditClicked:d}):_(t)))),r.createElement(m.Z.Column,{mobile:2,className:"".concat(A?"":"last-column")},r.createElement(S.Z.Content,{floated:"right",className:"vertical-align-center"},s&&r.createElement(o.GI,{trigger:r.createElement(Z.Z,{link:!0,className:"list-icon",size:"small",color:"grey",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&d()},onClick:d,name:"pencil alternate","data-testid":"profile-schema-mobile-editing-section-".concat(t.name.replace(".","-"),"-edit-button")}),position:"top center",content:N("common:edit"),inverted:!0})))))};const ce=function(e){var t,n=e.fieldSchema,a=e.initialValue,i=e.fieldLabel,o=e.isEditable,c=e.onEditClicked,m=e.onEditCancelClicked,s=e.isActive,d=e.isRequired,u=e.setIsProfileUpdating,p=e.handleSubmit,E=e.isLoading,v=e.isUpdating,b=e["data-componentid"],C=(0,l.$)().t,g="".concat(C("myAccount:components.profile.forms.generic.inputs.placeholder",{fieldName:i.toLocaleLowerCase()})," in the format YYYY-MM-DD");if((null===(t=n.inputFormat)||void 0===t?void 0:t.inputType)===y.wG.DATE_PICKER){var h=ee()(a,"YYYY-MM-DD",!0);if((0,f.Z)(a)||h.isValid()){return r.createElement(te,{fieldSchema:n,initialValue:a,fieldLabel:i,isActive:s,isEditable:o,onEditClicked:c,onEditCancelClicked:m,isRequired:d,setIsProfileUpdating:u,isLoading:E,isUpdating:v,"data-componentid":b,handleSubmit:p,onValidate:function(e){return(0,f.Z)(e)&&d?C("myAccount:components.profile.forms.generic.inputs.validations.empty",{fieldName:i}):(0,f.Z)(e)?void 0:RegExp(n.regEx).test(e)?ee()().isBefore(e)?C("myAccount:components.profile.forms.dateChangeForm.inputs.date.validations.futureDateError",{field:i}):void 0:C("myAccount:components.profile.forms.dateChangeForm.inputs.date.validations.invalidFormat",{fieldName:i})}})}}return r.createElement(le,{fieldSchema:n,initialValue:a,fieldLabel:i,isActive:s,isEditable:o,onEditClicked:c,onEditCancelClicked:m,isRequired:d,setIsProfileUpdating:u,isLoading:E,isUpdating:v,"data-componentid":b,handleSubmit:p,onValidate:function(e,t){return RegExp(n.regEx).test(e)&&ee()(e,"YYYY-MM-DD",!0).isValid()?ee()().isBefore(e)?(t.isValid=!1,void t.errorMessages.push(C("myAccount:components.profile.forms.dateChangeForm.inputs.date.validations.futureDateError",{field:i}))):void 0:(t.isValid=!1,void t.errorMessages.push(C("myAccount:components.profile.forms.dateChangeForm.inputs.date.validations.invalidFormat",{fieldName:i})))},placeholderText:g})};const me=function(e){var t,n=e.fieldSchema,a=e.initialValue,i=e.fieldLabel,c=e.isEditable,s=e.onEditClicked,d=e.onEditCancelClicked,u=e.isActive,p=e.isRequired,E=e.isUpdating,v=e.setIsProfileUpdating,b=e.handleSubmit,C=e.isMultiSelect,g=void 0!==C&&C,y=e["data-componentid"],h=void 0===y?"dropdown-field-form":y,I=(0,o.kH)().isMobileViewport,A=(0,l.$)().t,M=null!==(t=n.canonicalValues)&&void 0!==t?t:[],U=function(e){if((0,f.Z)(e)&&p)return A("myAccount:components.profile.forms.generic.inputs.validations.empty",{fieldName:i})};return u?r.createElement(L.H,{"data-testid":"profile-schema-editing-section"},r.createElement(m.Z,null,r.createElement(m.Z.Row,{columns:2,verticalAlign:"middle"},r.createElement(m.Z.Column,{width:4,className:"field-label"},r.createElement("span",{className:p?"required":""},i)),r.createElement(m.Z.Column,{width:12},r.createElement(N.vy,{onSubmit:function(e){v(!0),b(n.name,e[n.name])},render:function(e){var t=e.handleSubmit;return r.createElement("form",{onSubmit:t,className:"dropdown-field-form","data-componentid":"".concat(h,"-editing-section-").concat(n.name.replace(".","-"),"-form"),"data-testid":"".concat(h,"-editing-section-").concat(n.name.replace(".","-"),"-form")},r.createElement(m.Z,{verticalAlign:"middle"},r.createElement(m.Z.Row,{columns:2},r.createElement(m.Z.Column,{width:10},r.createElement(N.SE,{component:N.ZY,initialValue:a,isClearable:!p,ariaLabel:i,name:n.name,validate:U,placeholder:A("myAccount:components.profile.forms.generic.dropdown.placeholder",{fieldName:i.toLowerCase()}),options:null==M?void 0:M.map((function(e){return{text:e.label,value:e.value}})),multiple:g,readOnly:!c||E,disableClearable:p,"data-testid":"".concat(h,"-").concat(n.name.replace(".","-"),"-select-field"),"data-componentid":"".concat(h,"-").concat(n.name.replace(".","-"),"-select-field")})),r.createElement(m.Z.Column,{width:6},r.createElement("div",{className:"form-actions-wrapper"},r.createElement(o.zx,{primary:!0,type:"submit","data-testid":"".concat(h,"-schema-mobile-editing-section-").concat(n.name.replace(".","-"),"-save-button")},A("common:save")),r.createElement(o.zx,{onClick:d,"data-testid":"".concat(h,"-schema-mobile-editing-section-").concat(n.name.replace(".","-"),"-cancel-button")},A("common:cancel")))))))}}))))):r.createElement(m.Z,{padded:!0},r.createElement(m.Z.Row,{columns:3},r.createElement(m.Z.Column,{mobile:6,computer:4,className:"first-column"},r.createElement(S.Z.Content,{className:"vertical-align-center field-label"},r.createElement("span",{className:p?"required":""},i))),r.createElement(m.Z.Column,{mobile:8,computer:10},r.createElement(S.Z.Content,null,r.createElement(S.Z.Description,{className:"with-max-length"},(0,f.Z)(a)?r.createElement(w,{schema:n,fieldLabel:i,placeholderText:A("myAccount:components.profile.forms.generic.dropdown.placeholder",{fieldName:i.toLowerCase()}),onEditClicked:s}):function(){if(!g){var e,t=M.find((function(e){return e.value===a}));return r.createElement(r.Fragment,null,null!==(e=null==t?void 0:t.label)&&void 0!==e?e:"")}var i=M.filter((function(e){return a.includes(e.value)}));return r.createElement(O.Z,{className:"multi-attribute-dropdown",value:i[0].value,disableUnderline:!0,variant:"standard","data-componentid":"".concat(h,"-").concat(n.name.replace(".","-"),"-readonly-dropdown")},i.map((function(e,t){var a=e.label,i=e.value;return r.createElement(_.Z,{key:t,value:i,className:"read-only-menu-item"},r.createElement("div",{className:"dropdown-row"},r.createElement(R.Z,{className:"dropdown-label","data-componentid":"".concat(h,"-readonly-section-").concat(n.name.replace(".","-"),"-value-").concat(t)},a)))})))}()))),r.createElement(m.Z.Column,{mobile:2,className:"".concat(I?"":"last-column")},r.createElement(S.Z.Content,{floated:"right",className:"vertical-align-center"},c&&r.createElement(o.GI,{trigger:r.createElement(Z.Z,{link:!0,className:"list-icon",size:"small",color:"grey",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&s()},onClick:s,name:"pencil alternate","data-testid":"profile-schema-mobile-editing-section-".concat(n.name.replace(".","-"),"-edit-button")}),position:"top center",content:A("common:edit"),inverted:!0})))))};var se=n(16507);function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,o,r,l=[],c=!0,m=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){m=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(m)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ue(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const fe=function(e){var t=e.fieldSchema,n=e.initialValue,a=e.fieldLabel,i=e.isRequired,s=e.isActive,d=e.isEditable,u=e.onEditClicked,p=e.onEditCancelClicked,E=e.setIsProfileUpdating,v=e.handleSubmit,b=e.isUpdating,C=e["data-componentid"],g=void 0===C?"locale-field-form":C,y=(0,l.$)().t,h=(0,o.kH)().isMobileViewport,I=(0,c.v9)((function(e){return e.global.supportedI18nLanguages})),A=function(e){if((0,f.Z)(e)&&i)return y("myAccount:components.profile.forms.generic.inputs.validations.empty",{fieldName:a})},M=(0,r.useMemo)((function(){return function(e,t,n){if(!e)return e;var a=e.search(/[-_]/),i=e;if(-1!==a){var o=e.substring(0,a).toLowerCase(),r=e.substring(a+1).toUpperCase();i="".concat(o).concat(t).concat(r)}return n&&!I[i]&&(I[i]={code:i,name:se.Cb.GLOBE,namespaces:[]}),i}(n,se.lJ.HYPHEN,!0)}),[n]);return s?r.createElement(L.H,{"data-testid":"profile-schema-editing-section"},r.createElement(m.Z,null,r.createElement(m.Z.Row,{columns:2,verticalAlign:"middle"},r.createElement(m.Z.Column,{width:4,className:"field-label"},r.createElement("span",{className:i?"required":""},a)),r.createElement(m.Z.Column,{width:12},r.createElement(N.vy,{onSubmit:function(e){E(!0),v(t.name,e[t.name])},render:function(e){var n=e.handleSubmit;return r.createElement("form",{onSubmit:n,className:"dropdown-field-form","data-componentid":"".concat(g,"-editing-section-").concat(t.name.replace(".","-"),"-form"),"data-testid":"".concat(g,"-editing-section-").concat(t.name.replace(".","-"),"-form")},r.createElement(m.Z,{verticalAlign:"middle"},r.createElement(m.Z.Row,{columns:2},r.createElement(m.Z.Column,{width:10},r.createElement(N.SE,{component:N.ZY,initialValue:M,isClearable:!i,ariaLabel:a,name:t.name,validate:A,placeholder:y("myAccount:components.profile.forms.generic.dropdown.placeholder",{fieldName:a.toLowerCase()}),options:Object.entries(null!=I?I:{}).map((function(e){var t,n=de(e,2),a=n[0],i=n[1],o=i.name===se.Cb.GLOBE?i.code:"".concat(i.name,", ").concat(i.code);return{text:r.createElement(D.Z,{key:a,className:"p-0","data-componentid":"".concat(g,"-profile-form-locale-dropdown-").concat(i.code)},r.createElement(k.Z,null,r.createElement(T.Z,{countryCode:null!==(t=i.flag)&&void 0!==t?t:se.Cb.GLOBE})),r.createElement(P.Z,null,o)),value:i.code}})),readOnly:!d||b,disableClearable:i,"data-testid":"".concat(g,"-").concat(t.name.replace(".","-"),"-select-field"),"data-componentid":"".concat(g,"-").concat(t.name.replace(".","-"),"-select-field")})),r.createElement(m.Z.Column,{width:6},r.createElement("div",{className:"form-actions-wrapper"},r.createElement(o.zx,{primary:!0,type:"submit","data-testid":"".concat(g,"-schema-mobile-editing-section-").concat(t.name.replace(".","-"),"-save-button")},y("common:save")),r.createElement(o.zx,{onClick:p,"data-testid":"".concat(g,"-schema-mobile-editing-section-").concat(t.name.replace(".","-"),"-cancel-button")},y("common:cancel")))))))}}))))):r.createElement(m.Z,{padded:!0},r.createElement(m.Z.Row,{columns:3},r.createElement(m.Z.Column,{mobile:6,computer:4,className:"first-column"},r.createElement(S.Z.Content,{className:"vertical-align-center field-label"},r.createElement("span",{className:i?"required":""},a))),r.createElement(m.Z.Column,{mobile:8,computer:10},r.createElement(S.Z.Content,null,r.createElement(S.Z.Description,{className:"with-max-length"},(0,f.Z)(n)?r.createElement(w,{schema:t,fieldLabel:a,placeholderText:y("myAccount:components.profile.forms.generic.dropdown.placeholder",{fieldName:a.toLowerCase()}),onEditClicked:u}):n))),r.createElement(m.Z.Column,{mobile:2,className:"".concat(h?"":"last-column")},r.createElement(S.Z.Content,{floated:"right",className:"vertical-align-center"},d&&r.createElement(o.GI,{trigger:r.createElement(Z.Z,{link:!0,className:"list-icon",size:"small",color:"grey",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&u()},onClick:u,name:"pencil alternate","data-testid":"profile-schema-mobile-editing-section-".concat(t.name.replace(".","-"),"-edit-button")}),position:"top center",content:y("common:edit"),inverted:!0})))))};var pe=n(87449),Ee=n(46710),ve=n(38480),be=n(27044),Ce=n(53080),ge=n(4759),ye=n(20450),he=n(63476),Se=n(83045),Ie=n(88506),Ae=n(80868),Ne=n(17901);const Me=function(e){var t,n,i=e.selectedAttributeInfo,c=e.onClose,m=e.onConfirm,s=e["data-componentid"],d=void 0===s?"delete-confirmation-modal":s,u=(0,l.$)().t,f="";return f=(null==i||null===(t=i.schema)||void 0===t?void 0:t.name)===a.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAIL_ADDRESSES")?"myAccount:components.profile.modals.emailAddressDeleteConfirmation.":(null==i||null===(n=i.schema)||void 0===n?void 0:n.name)===a.Cb.SCIM2_SCHEMA_DICTIONARY.get("MOBILE_NUMBERS")?"myAccount:components.profile.modals.mobileNumberDeleteConfirmation.":"myAccount:components.profile.modals.customMultiAttributeDeleteConfirmation.",r.createElement(o.cV,{"data-testid":"".concat(d,"-delete-confirmation-modal"),"data-componentid":"".concat(d,"-delete-confirmation-modal"),onClose:c,type:"negative",open:Boolean(null==i?void 0:i.value),assertionHint:u("".concat(f,"assertionHint")),assertionType:"checkbox",primaryAction:u("common:confirm"),secondaryAction:u("common:cancel"),onSecondaryActionClick:c,onPrimaryActionClick:m,closeOnDimmerClick:!1},r.createElement(o.cV.Header,{"data-testid":"".concat(d,"-confirmation-modal-header")},u("".concat(f,"heading"))),r.createElement(o.cV.Message,{"data-testid":"".concat(d,"-confirmation-modal-message"),attached:!0,negative:!0},u("".concat(f,"description"))),r.createElement(o.cV.Content,{"data-testid":"".concat(d,"-confirmation-modal-content")},u("".concat(f,"content"))))};function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function Oe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=_e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=_e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Le(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw o}}}}function Ze(e){return function(e){if(Array.isArray(e))return Ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,o,r,l=[],c=!0,m=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){m=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(m)throw i}}return l}}(e,t)||Le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){if(e){if("string"==typeof e)return Ue(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(e,t):void 0}}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const Te=function(e){var t,n,i,s=e.fieldSchema,d=e.fieldLabel,u=e.initialValue,p=e.primaryEmailAddress,E=e.verifiedEmailAddresses,v=e.pendingEmailAddress,b=e.isEditable,C=e.isActive,g=e.isRequired,y=e.isLoading,h=e.isUpdating,I=e.onEditClicked,A=e.onEditCancelClicked,M=e.isVerificationEnabled,U=e.triggerUpdate,T=e.setIsProfileUpdating,D=e["data-componentid"],k=void 0===D?"email-field-form":D,P=(0,l.$)().t,x=(0,o.kH)().isMobileViewport,V=(0,c.v9)((function(e){return e.authenticationInformation})),H=null!=u?u:[],Y=we((0,r.useState)(),2),F=Y[0],j=Y[1],q=(0,r.useMemo)((function(){var e;return null==V||null===(e=V.profileSchemas)||void 0===e?void 0:e.find((function(e){return e.name===a.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS")}))}),[null==V?void 0:V.profileSchemas]),z="true"===String(null==V||null===(t=V.profileInfo)||void 0===t||null===(t=t[null===ae.k||void 0===ae.k||null===(n=ae.k.scim)||void 0===n?void 0:n.systemSchema])||void 0===t?void 0:t[a.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAIL_VERIFIED")]),B=(0,r.useMemo)((function(){return(0,f.Z)(p)||null!=E&&E.includes(p)||!z?null!=E?E:[]:[].concat(Ze(null!=E?E:[]),[p])}),[p,E,z]),G=function(e){return v===e},$=function(e){return null==B?void 0:B.includes(e)},X=function(e){return p===e},W=(0,r.useMemo)((function(){var e=[],t=Ze(H);(0,f.Z)(p)||t.includes(p)||t.push(p);var n,a=Re(t);try{for(a.s();!(n=a.n()).done;){var i=n.value,o={isPrimary:X(i),isVerificationPending:!1,isVerified:!1,value:i};M&&(o.isVerified=$(i),o.isVerificationPending=G(i)),o.isPrimary?e.unshift(o):e.push(o)}}catch(r){a.e(r)}finally{a.f()}return e}),[H]),K=function(){return r.createElement(o.GI,{name:"pending-email-popup",size:"tiny",trigger:r.createElement(Z.Z,{name:"info circle",color:"yellow"}),header:P("myAccount:components.profile.messages.emailConfirmation.header"),inverted:!0})},Q=function(){return r.createElement(o.GI,{name:"verified-popup",size:"tiny",trigger:r.createElement(Z.Z,{name:"check",color:"green"}),header:P("common:verified"),inverted:!0})},J=(0,r.useCallback)((function(e){if(null!=W&&W.some((function(t){return t.value===e})))return P("myAccount:components.profile.forms.generic.inputs.validations.duplicate",{fieldName:d});var t=s.regEx;return s.extended&&s.multiValued&&(t=null==q?void 0:q.regEx),(0,f.Z)(t)||RegExp(t).test(e)?void 0:P("myAccount:components.profile.forms.emailChangeForm.inputs.email.validations.invalidFormat")}),[W]),ee=function(){return r.createElement(be.Z,{component:Ie.Z,elevation:0,"data-componentid":"".concat(k,"-editing-section-").concat(s.name.replace(".","-"),"-accordion")},r.createElement(pe.Z,{className:"multi-value-table",size:"small","aria-label":"multi-attribute-value-table"},r.createElement(Ee.Z,null,null==W?void 0:W.map((function(e,t){return r.createElement(Ce.Z,{key:t,className:"multi-value-table-data-row"},r.createElement(ve.Z,{align:"left"},r.createElement("div",{className:"table-c1"},r.createElement(R.Z,{className:"c1-value","data-componentid":"".concat(k,"-editing-section-").concat(s.name.replace(".","-"),"-value-").concat(t)},e.value),M&&e.isVerificationPending&&r.createElement("div",{className:"verified-icon","data-componentid":"".concat(k,"-editing-section-").concat(s.name.replace(".","-"),"-pending-email-").concat(t)},K()),M&&e.isVerified&&r.createElement("div",{className:"verified-icon","data-componentid":"".concat(k,"-editing-section-").concat(s.name.replace(".","-"),"-verified-icon-").concat(t)},Q()),e.isPrimary&&r.createElement("div",{className:"verified-icon","data-componentid":"".concat(k,"-editing-section-").concat(s.name.replace(".","-"),"-primary-icon-").concat(t)},r.createElement(ye.Z,{label:P("common:primary"),size:"small"})))),r.createElement(ve.Z,{align:"right"},r.createElement("div",{className:"table-c2"},r.createElement(ge.Z,{size:"small",variant:"text",className:"text-btn",hidden:!M||e.isVerified,onClick:function(){return function(e){T(!0);var t={Operations:[],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};t.Operations.push({op:"replace",value:Oe({},s.schemaId,Oe({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_EMAIL_ADDRESSES"),[].concat(Ze(B),[e])))}),U(t)}(e.value)},disabled:y,"data-componentid":"".concat(k,"-editing-section-").concat(s.name.replace(".","-"),"-verify-button-").concat(t)},P("common:verify")),r.createElement(ge.Z,{size:"small",variant:"text",className:"text-btn",hidden:e.isPrimary||M&&!e.isVerified,onClick:function(){return function(e){var t;T(!0);var n,i={Operations:[],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]},o=[],r=Re(null==V||null===(t=V.profileInfo)||void 0===t?void 0:t.emails);try{for(r.s();!(n=r.n()).done;){var l=n.value;"object"===_e(l)&&o.push(l)}}catch(c){r.e(c)}finally{r.f()}o.push(e),i.Operations.push({op:"replace",value:Oe({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS"),o)}),M&&i.Operations.push({op:"replace",value:Oe({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_EMAIL_ADDRESSES"),B)}),U(i)}(e.value)},disabled:y,"data-componentid":"".concat(k,"-editing-section-").concat(s.name.replace(".","-"),"-make-primary-button-").concat(t)},P("common:makePrimary")),r.createElement(he.Z,{size:"small",onClick:function(){j(e)},disabled:y||e.isPrimary&&(null==q?void 0:q.required)||g&&1===(null==W?void 0:W.length),"data-componentid":"".concat(k,"-editing-section-").concat(s.name.replace(".","-"),"-delete-button-").concat(t)},r.createElement(o.GI,{size:"tiny",trigger:r.createElement(Z.Z,{name:"trash alternate"}),header:P("common:delete"),inverted:!0})))))})))))};return C?r.createElement(L.H,{"data-testid":"profile-schema-editing-section"},r.createElement(m.Z,null,r.createElement(m.Z.Row,{columns:2},r.createElement(m.Z.Column,{width:4,className:"field-label"},r.createElement("span",{className:g?"required":""},d)),r.createElement(m.Z.Column,{width:12},r.createElement(N.vy,{onSubmit:function(e){T(!0);var t=e.emailAddresses,n={Operations:[],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};if(0===W.length){var i,o,r=[],l=Re(null==V||null===(i=V.profileInfo)||void 0===i?void 0:i.emails);try{for(l.s();!(o=l.n()).done;){var c=o.value;"object"===_e(c)&&r.push(c)}}catch(m){l.e(m)}finally{l.f()}r.push(t),n.Operations.push({op:"replace",value:Oe({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS"),r)})}s.extended&&s.multiValued&&n.Operations.push({op:"replace",value:Oe({},s.schemaId,Oe({},s.name,[].concat(Ze(W.map((function(e){return e.value}))),[t])))}),M&&!(0,f.Z)(B)&&n.Operations.push({op:"replace",value:Oe({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_EMAIL_ADDRESSES"),B)}),U(n)},render:function(e){var t,n=e.handleSubmit,i=e.hasValidationErrors;return r.createElement("form",{onSubmit:n,className:"multi-valued-field-form","data-componentid":"".concat(k,"-editing-section-").concat(s.name.replace(".","-"),"-form"),"data-testid":"".concat(k,"-editing-section-").concat(s.name.replace(".","-"),"-form")},r.createElement(N.SE,{component:N.xh,ariaLabel:d,name:"emailAddresses",type:"text",placeholder:P("myAccount:components.profile.forms.generic.inputs.placeholder",{fieldName:d.toLowerCase()}),validate:J,maxLength:null!==(t=null==q?void 0:q.maxLength)&&void 0!==t?t:a.Cb.CLAIM_VALUE_MAX_LENGTH,readOnly:!b||h||(null==W?void 0:W.length)===a.Cb.MAX_EMAIL_ADDRESSES_ALLOWED,endAdornment:r.createElement(Se.Z,{position:"end"},r.createElement(Ae.Z,{title:"Add"},r.createElement(he.Z,{"data-componentid":"".concat(k,"-multivalue-add-icon"),size:"large",disabled:h||i||W.length>=a.Cb.MAX_EMAIL_ADDRESSES_ALLOWED,onClick:n},r.createElement(Ne.pO,null)))),"data-componentid":"".concat(k,"-editing-section-").concat(s.name.replace(".","-"),"-field"),"data-testid":"".concat(k,"-editing-section-").concat(s.name.replace(".","-"),"-field")}),ee(),r.createElement(o.zx,{type:"button",onClick:A,"data-testid":"".concat(k,"-schema-mobile-editing-section-").concat(s.name.replace(".","-"),"-cancel-button")},P("common:cancel")))}})))),F&&r.createElement(Me,{selectedAttributeInfo:{schema:s,value:F.value},onClose:function(){return j(void 0)},onConfirm:function(){T(!0);var e={Operations:[],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]},t=W.filter((function(e){return e.value!==F.value})).map((function(e){return e.value}));if(e.Operations.push({op:"replace",value:Oe({},s.schemaId,Oe({},s.name,t))}),F.isPrimary){var n,i,o=[],r=Re(null==V||null===(n=V.profileInfo)||void 0===n?void 0:n.emails);try{for(r.s();!(i=r.n()).done;){var l=i.value;"string"==typeof l?o.push(""):o.push(l)}}catch(m){r.e(m)}finally{r.f()}e.Operations.push({op:"replace",value:Oe({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS"),o)})}if(M&&F.isVerified){var c=B.filter((function(e){return e!==F.value}));e.Operations.push({op:"replace",value:Oe({},s.schemaId,Oe({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_EMAIL_ADDRESSES"),c))})}U(e,!1)},"data-componentid":k})):r.createElement(m.Z,{padded:!0},r.createElement(m.Z.Row,{columns:3},r.createElement(m.Z.Column,{mobile:6,computer:4,className:"first-column"},r.createElement(S.Z.Content,{className:"vertical-align-center field-label"},r.createElement("span",{className:g?"required":""},d))),r.createElement(m.Z.Column,{mobile:8,computer:10},r.createElement(S.Z.Content,null,r.createElement(S.Z.Description,{className:"with-max-length"},(0,f.Z)(W)?r.createElement(w,{schema:s,fieldLabel:d,onEditClicked:I}):r.createElement(O.Z,{className:"multi-attribute-dropdown",value:null===(i=W[0])||void 0===i?void 0:i.value,disableUnderline:!0,variant:"standard","data-componentid":"".concat(k,"-").concat(s.name.replace(".","-"),"-readonly-dropdown")},function(){var e,t=[],n=Re(W.entries());try{for(n.s();!(e=n.n()).done;){var a=we(e.value,2),i=a[0],o=a[1];t.push(r.createElement(_.Z,{key:o.value,value:o.value,className:"read-only-menu-item"},r.createElement("div",{className:"dropdown-row"},r.createElement(R.Z,{className:"dropdown-label","data-componentid":"".concat(k,"-readonly-section-").concat(s.name.replace(".","-"),"-value-").concat(i)},o.value),M&&o.isVerificationPending&&r.createElement("div",{className:"verified-icon","data-componentid":"".concat(k,"-readonly-section-").concat(s.name.replace(".","-"))+"-pending-email-icon-".concat(i)},K()),M&&o.isVerified&&r.createElement("div",{className:"verified-icon","data-componentid":"".concat(k,"-readonly-section-").concat(s.name.replace(".","-"))+"-verified-icon-".concat(i)},Q()),o.isPrimary&&r.createElement("div",{className:"verified-icon","data-componentid":"".concat(k,"-readonly-section-").concat(s.name.replace(".","-"))+"-primary-icon-".concat(i)},r.createElement(ye.Z,{label:P("common:primary"),size:"small"})))))}}catch(l){n.e(l)}finally{n.f()}return t}())))),r.createElement(m.Z.Column,{mobile:2,className:"".concat(x?"":"last-column")},r.createElement(S.Z.Content,{floated:"right",className:"vertical-align-center"},b&&r.createElement(o.GI,{trigger:r.createElement(Z.Z,{link:!0,className:"list-icon",size:"small",color:"grey",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&I()},onClick:I,name:"pencil alternate","data-testid":"profile-schema-mobile-editing-section-".concat(s.name.replace(".","-"),"-edit-button")}),position:"top center",content:P("common:edit"),inverted:!0})))))};var De=n(73429),ke=n(15801),Pe=n(39085),xe=n(17600),Ve=n(82406),He=n(42369),Ye=n(34194),Fe=n(10909),je=function(e){var t=e["data-componentid"],n=void 0===t?"mobile-input-step-header":t,a=(0,l.$)().t;return r.createElement("div",{"data-componentid":n},a("myAccount:components.mobileUpdateWizard.verifySmsOtp.heading"))},qe=function(e){var t=e.initialValue,n=e.isRequired,a=e.fieldLabel,i=e.onUpdate,o=e.triggerUpdate,c=e["data-componentid"],m=void 0===c?"mobile-input-step-content":c,s=(0,l.$)().t;return r.createElement("div",{"data-componentid":m},r.createElement(ne.Es,{onSubmit:function(e){i(e.get("mobileNumber"))},submitState:o},r.createElement("div",{className:"modal-input"},r.createElement(ne.gN,{autoFocus:!0,name:"mobileNumber",label:s("myAccount:components.mobileUpdateWizard.submitMobile.heading"),required:n,requiredErrorMessage:s("myAccount:components.profile.forms.generic.inputs.validations.empty",{fieldName:a}),type:"text",validation:function(e,t){Ye.I.mobileNumber(e)||(t.errorMessages.push(s("myAccount:components.profile.forms.generic.inputs.validations.invalidFormat",{fieldName:a})),t.isValid=!1)},value:t}))))},ze=function(e){var t=e.onSubmit,n=e.onCancel,a=e.isLoading,i=e["data-componentid"],o=void 0===i?"mobile-input-step-actions":i,c=(0,l.$)().t;return r.createElement(r.Fragment,null,r.createElement(Fe.Z,{onClick:n,className:"link-button",disabled:a,"data-testid":"".concat(o,"-modal-actions-cancel-button")},c("common:cancel")),r.createElement(Fe.Z,{primary:!0,type:"submit",onClick:t,"data-testid":"".concat(o,"-modal-actions-primary-button"),loading:a},c("common:continue")))},Be=n(72857),Ge=function(e){var t=e["data-componentid"],n=void 0===t?"otp-verification-step-header":t,a=(0,l.$)().t;return r.createElement("div",{"data-componentid":n},a("myAccount:components.mobileUpdateWizard.verifySmsOtp.heading"))},$e=function(e){var t=e.onVerifyOTP,n=e.onResendOTP,a=e.triggerSubmit,i=e.isLoading,o=e.isVerificationError,c=e.isResendSuccess,m=e["data-componentid"],s=void 0===m?"otp-verification-step-content":m,d=(0,l.$)().t;return r.createElement("div",null,o&&r.createElement(r.Fragment,null,r.createElement(Be.Z,{error:!0},d("myAccount:components.mobileUpdateWizard.verifySmsOtp.error"))),c&&r.createElement(r.Fragment,null,r.createElement(Be.Z,{success:!0},d("myAccount:components.mobileUpdateWizard.notifications.resendSuccess.message"))),r.createElement(ne.Es,{onSubmit:function(e){t(e.get("code"))},submitState:a},r.createElement("div",{className:"modal-input"},r.createElement(ne.gN,{name:"code",label:d("myAccount:components.mobileUpdateWizard.verifySmsOtp.label"),type:"text",required:!0,requiredErrorMessage:d("myAccount:components.mobileUpdateWizard.verifySmsOtp.requiredError"),autoFocus:!0})),r.createElement("div",{className:"resend"},d("myAccount:components.mobileUpdateWizard.verifySmsOtp.didNotReceive"),r.createElement("p",{className:"link resend-button ".concat(i?"disabled":""),onClick:function(){i||n()},"data-testid":"".concat(s,"-resend-button")},d("myAccount:components.mobileUpdateWizard.verifySmsOtp.resend")))))},Xe=function(e){var t=e.onSubmit,n=e.onCancel,a=e.isLoading,i=e["data-componentid"],o=void 0===i?"otp-verification-step-actions":i,c=(0,l.$)().t;return r.createElement(r.Fragment,null,r.createElement(Fe.Z,{onClick:n,className:"link-button",disabled:a,"data-testid":"".concat(o,"-modal-actions-cancel-button")},c("common:cancel")),r.createElement(Fe.Z,{primary:!0,type:"submit",onClick:t,"data-testid":"".concat(o,"-modal-actions-primary-button"),loading:a},c("common:verify")))},We=n(19980),Ke=function(e){var t=e["data-componentid"],n=void 0===t?"verification-success-step-content":t,a=(0,l.$)().t;return r.createElement(We.Z,{basic:!0,textAlign:"center","data-componentid":n},r.createElement("div",{className:"modal-input"},r.createElement("div",{className:"svg-box"},r.createElement("svg",{className:"circular positive-stroke",viewBox:"0 0 150 150"},r.createElement("circle",{className:"path",cx:"75",cy:"75",r:"50",fill:"none",strokeWidth:"5",strokeMiterlimit:"10"})),r.createElement("svg",{className:"positive-icon positive-stroke"},r.createElement("g",{transform:"matrix(0.79961,8.65821e-32,8.39584e-32,0.79961,-489.57,-205.679)"},r.createElement("path",{className:"positive-icon__check",fill:"none",d:"M616.306,283.025L634.087,300.805L673.361,261.53"})))),r.createElement("p",null,a("myAccount:components.mobileUpdateWizard.done"))))},Qe=function(e){var t=e.onDone,n=e["data-componentid"],a=void 0===n?"verification-success-step-actions":n,i=(0,l.$)().t;return r.createElement(Fe.Z,{primary:!0,type:"submit",onClick:t,"data-testid":"".concat(a,"-modal-actions-primary-button")},i("common:done"))},Je=n(14314);function et(e){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(e)}function tt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=et(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=et(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==et(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,o,r,l=[],c=!0,m=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){m=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(m)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return at(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const it=function(e){var t=e.initialValue,n=void 0===t?"":t,i=e.isOpen,o=e.onClose,m=e.onCancel,s=e.isMobileRequired,d=e.initialStep,u=void 0===d?0:d,f=e.isMultiValued,p=void 0!==f&&f,E=e["data-componentid"],v=void 0===E?"component-id":E,b=(0,l.$)().t,C=(0,c.I0)(),g=nt((0,r.useState)(u),2),h=g[0],S=g[1],I=nt((0,r.useState)(!1),2),A=I[0],N=I[1],M=nt((0,r.useState)(!1),2),_=M[0],O=M[1],R=nt((0,r.useState)(!1),2),Z=R[0],w=R[1],L=nt((0,ne.cC)(),2),U=L[0],T=L[1],D=nt((0,ne.cC)(),2),k=D[0],P=D[1],x=[{actions:r.createElement(ze,{onSubmit:function(){return T()},onCancel:m,isLoading:A}),content:r.createElement(qe,{initialValue:n,isRequired:s,fieldLabel:"mobile",onUpdate:function(e){N(!0);var t={Operations:[],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};t.Operations.push({op:"add",value:tt({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("PHONE_NUMBERS"),[{type:"mobile",value:e}])}),t.Operations.push({op:"replace",value:tt({},a.Cb.SCIM2_SYSTEM_USER_SCHEMA,tt({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFY_MOBILE"),!0))}),(0,De.y3)(t).then((function(t){var n;200===t.status&&((null==t||null===(n=t.data)||void 0===n||null===(n=n[a.Cb.SCIM2_SYSTEM_USER_SCHEMA])||void 0===n?void 0:n.pendingMobileNumber)===e?S((function(e){return e+1})):o(!0))})).catch((function(e){var t,n,a;C((0,Ve.V_)({description:null!==(t=null==e||null===(n=e.response)||void 0===n?void 0:n.detail)&&void 0!==t?t:b("myAccount:components.profile.notifications.updateProfileInfo.genericError.description"),level:y.QU.ERROR,message:null!==(a=null==e?void 0:e.message)&&void 0!==a?a:b("myAccount:components.profile.notifications.updateProfileInfo.genericError.message")})),C((0,xe.XY)(null))})).finally((function(){N(!1)}))},triggerUpdate:U}),header:r.createElement(je,null)},{actions:r.createElement(Xe,{onSubmit:function(){return P()},onCancel:m,isLoading:A}),content:r.createElement($e,{triggerSubmit:k,onVerifyOTP:function(e){N(!0),(0,Je.z)(e).then((function(e){e?S((function(e){return e+1})):(O(!0),w(!1))})).catch((function(){w(!1),O(!0)})).finally((function(){N(!1)}))},onResendOTP:function(){N(!0);var e=p?"MOBILE_VERIFICATION_ON_VERIFIED_LIST_UPDATE":"MOBILE_VERIFICATION_ON_UPDATE";(0,Je.q)(e).then((function(){w(!0),O(!1)})).catch((function(e){C((0,Ve.V_)({description:b("myAccount:components.mobileUpdateWizard.notifications.resendError.error.description",{error:e}),level:y.QU.ERROR,message:b("myAccount:components.mobileUpdateWizard.notifications.resendError.error.message")}))})).finally((function(){N(!1)}))},isLoading:A,isVerificationError:_,isResendSuccess:Z}),header:r.createElement(Ge,null)},{actions:r.createElement(Qe,{onDone:function(){return o(!0)}}),content:r.createElement(Ke,null)}];return r.createElement(He.Z,{"data-testid":"".concat(v,"-modal"),dimmer:"blurring",size:"mini",open:i,className:"totp"},x[h].header&&r.createElement(He.Z.Header,{className:"wizard-header"},x[h].header),r.createElement(He.Z.Content,{"data-testid":"".concat(v,"-modal-content")},x[h].content),r.createElement(He.Z.Actions,{"data-testid":"".concat(v,"-modal-actions")},x[h].actions))};function ot(e){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot(e)}function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ct(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ot(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=ot(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ot(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ut(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw o}}}}function st(e){return function(e){if(Array.isArray(e))return ft(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ut(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,o,r,l=[],c=!0,m=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){m=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(m)throw i}}return l}}(e,t)||ut(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){if(e){if("string"==typeof e)return ft(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ft(e,t):void 0}}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const pt=function(e){var t,n,i,s=e.fieldSchema,d=e.flattenedProfileSchema,u=e.fieldLabel,p=e.initialValue,E=e.primaryMobileNumber,v=e.verifiedMobileNumbers,b=e.isEditable,C=e.isActive,g=e.isRequired,h=e.isLoading,I=e.isUpdating,A=e.onEditClicked,M=e.onEditCancelClicked,U=e.isVerificationEnabled,T=e.triggerUpdate,D=e.setIsProfileUpdating,k=e["data-componentid"],P=void 0===k?"mobile-field-form":k,x=(0,l.$)().t,V=(0,o.kH)().isMobileViewport,H=(0,c.I0)(),Y=(0,c.v9)((function(e){return e.authenticationInformation})),F=null!=p?p:[],j=dt((0,r.useState)(),2),q=j[0],z=j[1],B=dt((0,r.useState)(!1),2),G=B[0],$=B[1],X=(0,r.useMemo)((function(){return null==d?void 0:d.find((function(e){return e.name===a.Cb.SCIM2_SCHEMA_DICTIONARY.get("MOBILE")}))}),[d]),W="true"===String(null==Y||null===(t=Y.profileInfo)||void 0===t||null===(t=t[null===ae.k||void 0===ae.k||null===(n=ae.k.scim)||void 0===n?void 0:n.systemSchema])||void 0===t?void 0:t[a.Cb.SCIM2_SCHEMA_DICTIONARY.get("PHONE_VERIFIED")]),K=(0,r.useMemo)((function(){return(0,f.Z)(E)||null!=v&&v.includes(E)||!W?null!=v?v:[]:[].concat(st(null!=v?v:[]),[E])}),[E,v,W]),Q=function(e){return null==K?void 0:K.includes(e)},J=function(e){return E===e},ee=(0,r.useMemo)((function(){var e=[],t=st(F);(0,f.Z)(E)||t.includes(E)||t.push(E);var n,a=mt(t);try{for(a.s();!(n=a.n()).done;){var i=n.value,o={isPrimary:J(i),isVerified:!1,value:i};U&&(o.isVerified=Q(i)),o.isPrimary?e.unshift(o):e.push(o)}}catch(r){a.e(r)}finally{a.f()}return e}),[F]),te=function(){return r.createElement(o.GI,{name:"verified-popup",size:"tiny",trigger:r.createElement(Z.Z,{name:"check",color:"green"}),header:x("common:verified"),inverted:!0})},ne=(0,r.useCallback)((function(e){if(null!=ee&&ee.some((function(t){return t.value===e})))return x("myAccount:components.profile.forms.generic.inputs.validations.duplicate",{fieldName:u});var t,n=s.regEx;return s.extended&&s.multiValued&&(n=null==X?void 0:X.regEx),(0,f.Z)(n)||RegExp(n).test(e)?void 0:x(null===ke.V||void 0===ke.V||null===(t=ke.V.attributes)||void 0===t?void 0:t.getRegExpValidationError(a.Cb.SCIM2_SCHEMA_DICTIONARY.get("PHONE_NUMBERS")),{fieldName:u})}),[ee]),ie=function(){return r.createElement(be.Z,{component:Ie.Z,elevation:0,"data-componentid":"".concat(P,"-editing-section-").concat(s.name.replace(".","-"),"-accordion")},r.createElement(pe.Z,{className:"multi-value-table",size:"small","aria-label":"multi-attribute value table"},r.createElement(Ee.Z,null,null==ee?void 0:ee.map((function(e,t){return r.createElement(Ce.Z,{key:t,className:"multi-value-table-data-row"},r.createElement(ve.Z,{align:"left"},r.createElement("div",{className:"table-c1"},r.createElement(R.Z,{className:"c1-value","data-componentid":"".concat(P,"-editing-section-").concat(s.name.replace(".","-"),"-value-").concat(t)},e.value),U&&e.isVerified&&r.createElement("div",{className:"verified-icon","data-componentid":"".concat(P,"-editing-section-").concat(s.name.replace(".","-"),"-verified-icon-").concat(t)},te()),e.isPrimary&&r.createElement("div",{className:"verified-icon","data-componentid":"".concat(P,"-editing-section-").concat(s.name.replace(".","-"),"-primary-icon-").concat(t)},r.createElement(ye.Z,{label:x("common:primary"),size:"small"})))),r.createElement(ve.Z,{align:"right"},r.createElement("div",{className:"table-c2"},r.createElement(ge.Z,{size:"small",variant:"text",className:"text-btn",hidden:!U||e.isVerified,onClick:function(){return function(e){D(!0);var t={Operations:[],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};t.Operations.push({op:"replace",value:ct({},s.schemaId,ct({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_MOBILE_NUMBERS"),[].concat(st(K),[e])))}),(0,De.y3)(t).then((function(e){200===e.status&&(H((0,xe.V_)({description:x("myAccount:components.profile.notifications.verifyMobile.success.description"),level:y.QU.SUCCESS,message:x("myAccount:components.profile.notifications.verifyMobile.success.message")})),$(!0))})).catch((function(e){var t,n;H((0,xe.V_)({description:null!==(t=null==e?void 0:e.detail)&&void 0!==t?t:x("myAccount:components.profile.notifications.verifyMobile.genericError.description"),level:y.QU.ERROR,message:null!==(n=null==e?void 0:e.message)&&void 0!==n?n:x("myAccount:components.profile.notifications.verifyMobile.genericError.message")}))}))}(e.value)},disabled:h,"data-componentid":"".concat(P,"-editing-section-").concat(s.name.replace(".","-"),"-verify-button-").concat(t)},x("common:verify")),r.createElement(ge.Z,{size:"small",variant:"text",className:"text-btn",hidden:e.isPrimary||U&&!e.isVerified,onClick:function(){return function(e){D(!0);var t={Operations:[],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};t.Operations.push({op:"add",value:ct({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("PHONE_NUMBERS"),[{type:"mobile",value:e}])}),s.extended&&s.multiValued&&t.Operations.push({op:"replace",value:ct({},s.schemaId,ct({},s.name,st(ee.map((function(e){return e.value})))))}),U&&t.Operations.push({op:"replace",value:ct({},s.schemaId,ct({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_MOBILE_NUMBERS"),K))}),T(t)}(e.value)},disabled:h,"data-componentid":"".concat(P,"-editing-section-").concat(s.name.replace(".","-"),"-make-primary-button-").concat(t)},x("common:makePrimary")),r.createElement(he.Z,{size:"small",onClick:function(){z(e)},disabled:h||e.isPrimary&&(null==X?void 0:X.required)||g&&1===ee.length,"data-componentid":"".concat(P,"-editing-section-").concat(s.name.replace(".","-"),"-delete-button-").concat(t)},r.createElement(o.GI,{size:"tiny",trigger:r.createElement(Z.Z,{name:"trash alternate"}),header:x("common:delete"),inverted:!0})))))})))))};return C?r.createElement(L.H,{"data-testid":"profile-schema-editing-section"},r.createElement(m.Z,null,r.createElement(m.Z.Row,{columns:2},r.createElement(m.Z.Column,{width:4,className:"field-label"},r.createElement("span",{className:g?"required":""},u)),r.createElement(m.Z.Column,{width:12},r.createElement(N.vy,{onSubmit:function(e){D(!0);var t=e.mobileNumbers,n={Operations:[],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};0===ee.length&&n.Operations.push({op:"replace",value:ct({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("PHONE_NUMBERS"),[{type:"mobile",value:t}])}),s.extended&&s.multiValued&&n.Operations.push({op:"replace",value:ct({},s.schemaId,ct({},s.name,[].concat(st(ee.map((function(e){return e.value}))),[t])))}),U&&!(0,f.Z)(K)&&n.Operations.push({op:"replace",value:ct({},s.schemaId,ct({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_MOBILE_NUMBERS"),K))}),T(n)},render:function(e){var t,n=e.handleSubmit,i=e.hasValidationErrors;return r.createElement("form",{onSubmit:n,className:"multi-valued-field-form","data-componentid":"".concat(P,"-editing-section-").concat(s.name.replace(".","-"),"-form"),"data-testid":"".concat(P,"-editing-section-").concat(s.name.replace(".","-"),"-form")},r.createElement(N.SE,{component:N.xh,ariaLabel:u,name:"mobileNumbers",type:"text",placeholder:x("myAccount:components.profile.forms.generic.inputs.placeholder",{fieldName:u.toLowerCase()}),validate:ne,maxLength:null!==(t=null==X?void 0:X.maxLength)&&void 0!==t?t:a.Cb.CLAIM_VALUE_MAX_LENGTH,readOnly:!b||I||(null==ee?void 0:ee.length)===a.Cb.MAX_EMAIL_ADDRESSES_ALLOWED,endAdornment:r.createElement(Se.Z,{position:"end"},r.createElement(Ae.Z,{title:"Add"},r.createElement(he.Z,{"data-componentid":"".concat(P,"-multivalue-add-icon"),size:"large",disabled:I||i||ee.length>=a.Cb.MAX_EMAIL_ADDRESSES_ALLOWED,onClick:n},r.createElement(Ne.pO,null)))),"data-componentid":"".concat(P,"-editing-section-").concat(s.name.replace(".","-"),"-field"),"data-testid":"".concat(P,"-editing-section-").concat(s.name.replace(".","-"),"-field")}),ie(),r.createElement(o.zx,{type:"button",onClick:M,"data-testid":"".concat(P,"-schema-mobile-editing-section-").concat(s.name.replace(".","-"),"-cancel-button")},x("common:cancel")))}})))),r.createElement(it,{isOpen:G,onClose:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];$(!1),D(!1),e&&(H((0,Pe.G6)(!0)),H((0,xe.XY)(null)))},onCancel:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];$(!1),D(!1),M(),e&&H((0,Pe.G6)(!0))},"data-testid":"".concat(P,"-mobile-verification-wizard"),initialStep:1,isMobileRequired:g,isMultiValued:!0}),q&&r.createElement(Me,{selectedAttributeInfo:{schema:s,value:q.value},onClose:function(){return z(void 0)},onConfirm:function(){D(!0);var e={Operations:[],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]},t=ee.filter((function(e){return e.value!==q.value})).map((function(e){return e.value}));if(e.Operations.push({op:"replace",value:ct({},s.schemaId,ct({},s.name,t))}),q.isPrimary){var n,i,o=[],r=mt(null==Y||null===(n=Y.profileInfo)||void 0===n?void 0:n.phoneNumbers);try{for(r.s();!(i=r.n()).done;){var l=i.value;l.value===q.value?o.push(lt(lt({},l),{},{value:""})):o.push(l)}}catch(m){r.e(m)}finally{r.f()}e.Operations.push({op:"replace",value:ct({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("PHONE_NUMBERS"),o)})}if(U&&q.isVerified){var c=K.filter((function(e){return e!==q.value}));e.Operations.push({op:"replace",value:ct({},s.schemaId,ct({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_MOBILE_NUMBERS"),c))})}T(e,!1)},"data-componentid":P})):r.createElement(m.Z,{padded:!0},r.createElement(m.Z.Row,{columns:3},r.createElement(m.Z.Column,{mobile:6,computer:4,className:"first-column"},r.createElement(S.Z.Content,{className:"vertical-align-center field-label"},r.createElement("span",{className:g?"required":""},u))),r.createElement(m.Z.Column,{mobile:8,computer:10},r.createElement(S.Z.Content,null,r.createElement(S.Z.Description,{className:"with-max-length"},(0,f.Z)(ee)?r.createElement(w,{schema:s,fieldLabel:u,onEditClicked:A}):s.extended&&s.multiValued?r.createElement(O.Z,{className:"multi-attribute-dropdown",value:null===(i=ee[0])||void 0===i?void 0:i.value,disableUnderline:!0,variant:"standard","data-componentid":"".concat(P,"-").concat(s.name.replace(".","-"),"-readonly-dropdown")},function(){var e,t=[],n=mt(ee.entries());try{for(n.s();!(e=n.n()).done;){var a=dt(e.value,2),i=a[0],o=a[1];t.push(r.createElement(_.Z,{key:o.value,value:o.value,className:"read-only-menu-item"},r.createElement("div",{className:"dropdown-row"},r.createElement(R.Z,{className:"dropdown-label","data-componentid":"".concat(P,"-readonly-section-").concat(s.name.replace(".","-"),"-value-").concat(i)},o.value),U&&o.isVerified&&r.createElement("div",{className:"verified-icon","data-componentid":"".concat(P,"-readonly-section-").concat(s.name.replace(".","-"))+"-verified-icon-".concat(i)},te()),o.isPrimary&&r.createElement("div",{className:"verified-icon","data-componentid":"".concat(P,"-readonly-section-").concat(s.name.replace(".","-"))+"-primary-icon-".concat(i)},r.createElement(ye.Z,{label:x("common:primary"),size:"small"})))))}}catch(l){n.e(l)}finally{n.f()}return t}()):r.createElement(S.Z.Content,null,r.createElement(S.Z.Description,{className:"with-max-length"},p))))),r.createElement(m.Z.Column,{mobile:2,className:"".concat(V?"":"last-column")},r.createElement(S.Z.Content,{floated:"right",className:"vertical-align-center"},b&&r.createElement(o.GI,{trigger:r.createElement(Z.Z,{link:!0,className:"list-icon",size:"small",color:"grey",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&A()},onClick:A,name:"pencil alternate","data-testid":"profile-schema-mobile-editing-section-".concat(s.name.replace(".","-"),"-edit-button")}),position:"top center",content:x("common:edit"),inverted:!0})))))};var Et=n(81561),vt=n(97282),bt=n(59998),Ct=n(24214),gt=n(8723),yt=n(55922),ht=n(55495),St=n(22764),It=n(7747),At={};At.styleTagTransform=X(),At.setAttributes=z(),At.insert=j().bind(null,"head"),At.domAPI=Y(),At.insertStyleElement=G();V()(It.Z,At);It.Z&&It.Z.locals&&It.Z.locals;function Nt(e){return function(e){if(Array.isArray(e))return Ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,o,r,l=[],c=!0,m=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){m=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(m)throw i}}return l}}(e,t)||_t(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const Rt=function(e){var t=e.schema,n=e.fieldName,a=e.initialValue,i=e.isUpdating,o=e.isReadOnly,c=e.isRequired,m=e.fieldLabel,s=e.maxValueLimit,d=e.placeholder,u=e.type,p=void 0===u?"text":u,E=e.showLabel,v=void 0===E||E,b=e.margin,C=void 0===b?"dense":b,g=e["data-componentid"],y=void 0===g?"multi-valued-text-field":g,h=(0,l.$)().t,S=(0,St.cI)(),I=(0,r.useRef)(null),A="".concat(t.name,"-add-field"),M=(0,St.U$)(n,{subscription:{error:!0,touched:!0,value:!0}}),_=M.input.value,O=M.meta,R=O.error,Z=O.touched,w=Mt((0,r.useState)(),2),L=w[0],U=w[1];(0,r.useEffect)((function(){S.batch((function(){S.change(n,a),S.initialize(S.getState().values)}))}),[]),(0,r.useEffect)((function(){var e,t=null===(e=I.current)||void 0===e?void 0:e.form;if(t){var n=function(){var e,t=null==I||null===(e=I.current)||void 0===e?void 0:e.value,n=(null!=t?t:"").trim();n&&(D(n)||P(n))};return t.addEventListener("submit",n,!0),function(){t.removeEventListener("submit",n,!0)}}}),[n,_,A,S]);var T=(0,r.useMemo)((function(){return Array.isArray(_)?_:[]}),[_]),D=function(e){return null!=T&&T.includes(e)?h("commonUsers:forms.profile.generic.validation.duplicate",{field:m}):RegExp(null==t?void 0:t.regEx).test(e)?void 0:h("commonUsers:forms.profile.generic.validation.invalidFormat",{field:m})},k=(0,r.useCallback)((0,ht.Z)((function(e){U(D(e))}),500),[T]),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if((0,f.Z)(e)){var t;if(e=null==I||null===(t=I.current)||void 0===t?void 0:t.value,(0,f.Z)(e))return;var a=D(e);if(!(0,f.Z)(a))return}var i=null!=_?_:[];S.change(n,[].concat(Nt(i),[e])),I.current.value=""};return r.createElement(Et.Z,{container:!0},r.createElement(Et.Z,{xs:12},r.createElement(yt.Z,{inputRef:I,name:A,type:p,label:v&&m,margin:C,placeholder:null!=d?d:h("commonUsers:forms.profile.generic.placeholder",{fieldName:m}),InputProps:{endAdornment:r.createElement(Se.Z,{position:"end"},r.createElement(Ae.Z,{title:"Add"},r.createElement(he.Z,{"data-componentid":"".concat(y,"-multivalue-add-icon"),size:"large",disabled:i||!(0,f.Z)(L)||T.length>=s,onClick:function(){return P()}},r.createElement(Ne.pO,null)))),readOnly:o||i},error:!(0,f.Z)(L)||Z&&!(0,f.Z)(R),helperText:null!=L?L:Z&&R,onChange:function(e){k(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),P())},"data-componentid":"".concat(y,"-input"),"data-testid":"".concat(y,"-input"),fullWidth:!0}),r.createElement(N.SE,{name:n,component:"input",type:"hidden",validate:function(e){if((0,f.Z)(e)&&c)return h("commonUsers:forms.profile.generic.validation.required",{fieldName:m})}})),r.createElement(Et.Z,{xs:12},r.createElement(be.Z,{component:Ie.Z,elevation:0},r.createElement(vt.Z,{className:"multi-value-table",size:"small","aria-label":"multi-attribute value table"},r.createElement(bt.Z,null,T.map((function(e,t){return r.createElement(gt.Z,{key:t,className:"multi-value-table-data-row"},r.createElement(Ct.Z,{align:"left"},r.createElement(Et.Z,{direction:"row",gap:1,container:!0,justifyContent:"flex-start",alignItems:"center"},r.createElement("label",{"data-componentid":"".concat(y,"-value-").concat(t),"data-testid":"".concat(y,"-value-").concat(t),className:"multi-value-table-label"},e))),r.createElement(Ct.Z,{align:"right"},r.createElement(Et.Z,{direction:"row",gap:1,justifyContent:"flex-end",container:!0},r.createElement(Ae.Z,{title:h("common:delete")},r.createElement(he.Z,{size:"small",onClick:function(){return function(e){var t=null==_?void 0:_.filter((function(t){return t!==e}));S.change(n,t)}(e)},"data-componentid":"".concat(y,"-delete-button-").concat(t),disabled:i||o},r.createElement(Ne.XH,null))))))})))))))};const Zt=function(e){var t=e.fieldSchema,n=e.fieldLabel,i=e.initialValue,c=e.isEditable,s=e.isActive,d=e.isRequired,u=e.isLoading,p=e.onEditClicked,E=e.onEditCancelClicked,v=e.setIsProfileUpdating,b=e.type,C=void 0===b?"text":b,g=e.handleSubmit,y=e["data-componentid"],h=void 0===y?"multi-value-field-form":y,I=(0,l.$)().t,A=(0,o.kH)().isMobileViewport;return s?r.createElement(L.H,{"data-testid":"profile-schema-editing-section"},r.createElement(m.Z,{className:"multi-valued-field-form"},r.createElement(m.Z.Row,{columns:2},r.createElement(m.Z.Column,{width:4,className:"field-label"},r.createElement("span",{className:d?"required":""},n)),r.createElement(m.Z.Column,{width:12},r.createElement(N.vy,{onSubmit:function(e){var n;v(!0);var a=Array.from(null!==(n=e[t.name])&&void 0!==n?n:[]);g(t.name,a)},render:function(e){var l,c=e.handleSubmit,s=e.values,f=Array.from(null!==(l=s[t.name])&&void 0!==l?l:[]);return r.createElement("form",{id:"user-profile-form",onSubmit:c,className:"user-profile-form","data-componentid":"".concat(h,"-editing-section-").concat(t.name.replace(".","-"),"-form"),"data-testid":"".concat(h,"-editing-section-").concat(t.name.replace(".","-"),"-form")},r.createElement(Rt,{schema:t,fieldName:t.name,fieldLabel:n,showLabel:!1,margin:"none",type:C,initialValue:i,isReadOnly:u||(null==f?void 0:f.length)===a.Cb.MAX_EMAIL_ADDRESSES_ALLOWED,isRequired:d,isUpdating:!1,maxValueLimit:a.Cb.MAX_MULTI_VALUES_ALLOWED,placeholder:I("myAccount:components.profile.forms.generic.inputs.placeholder",{fieldName:n.toLowerCase()}),"data-componentid":"".concat(h,"-editing-section-").concat(t.name.replace(".","-"),"-field")}),r.createElement(m.Z.Row,{className:"form-actions-wrapper"},r.createElement(o.zx,{primary:!0,type:"submit","data-testid":"".concat(h,"-schema-mobile-editing-section-").concat(t.name.replace(".","-"),"-save-button")},I("common:save")),r.createElement(o.zx,{onClick:E,"data-testid":"".concat(h,"-schema-mobile-editing-section-").concat(t.name.replace(".","-"),"-cancel-button")},I("common:cancel"))))}}))))):r.createElement(m.Z,{padded:!0},r.createElement(m.Z.Row,{columns:3},r.createElement(m.Z.Column,{mobile:6,computer:4,className:"first-column"},r.createElement(S.Z.Content,{className:"vertical-align-center field-label"},r.createElement("span",{className:d?"required":""},n))),r.createElement(m.Z.Column,{mobile:8,computer:10},r.createElement(S.Z.Content,null,r.createElement(S.Z.Description,{className:"with-max-length"},(0,f.Z)(i)?r.createElement(w,{schema:t,fieldLabel:n,onEditClicked:p}):r.createElement(O.Z,{className:"multi-attribute-dropdown",value:i[0],disableUnderline:!0,variant:"standard","data-componentid":"".concat(h,"-").concat(t.name.replace(".","-"),"-readonly-dropdown")},i.map((function(e,n){return r.createElement(_.Z,{key:n,value:e,className:"read-only-menu-item"},r.createElement("div",{className:"dropdown-row"},r.createElement(R.Z,{className:"dropdown-label","data-componentid":"".concat(h,"-readonly-section-").concat(t.name.replace(".","-"),"-value-").concat(n)},String(e))))})))))),r.createElement(m.Z.Column,{mobile:2,className:"".concat(A?"":"last-column")},r.createElement(S.Z.Content,{floated:"right",className:"vertical-align-center"},c&&r.createElement(o.GI,{trigger:r.createElement(Z.Z,{link:!0,className:"list-icon",size:"small",color:"grey",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&p()},onClick:p,name:"pencil alternate","data-testid":"profile-schema-mobile-editing-section-".concat(t.name.replace(".","-"),"-edit-button")}),position:"top center",content:I("common:edit"),inverted:!0})))))};function wt(e){return function(e){if(Array.isArray(e))return Lt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Lt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const Ut=function(e){var t,n=e.fieldSchema,a=e.initialValue,i=e.fieldLabel,c=e.isEditable,s=e.onEditClicked,d=e.onEditCancelClicked,u=e.isActive,p=e.isRequired,E=e.isUpdating,v=e.setIsProfileUpdating,b=e.handleSubmit,C=e["data-componentid"],g=void 0===C?"radio-field-form":C,y=(0,o.kH)().isMobileViewport,h=(0,l.$)().t,I=null!==(t=n.canonicalValues)&&void 0!==t?t:[];p||(I=[{label:h("myAccount:components.profile.forms.generic.radioGroup.optionNone"),value:""}].concat(wt(I)));var A=I.find((function(e){return e.value===a})),M=function(e){if((0,f.Z)(e)&&p)return h("myAccount:components.profile.forms.generic.inputs.validations.empty",{fieldName:i})};return u?r.createElement(L.H,{"data-testid":"profile-schema-editing-section"},r.createElement(m.Z,null,r.createElement(m.Z.Row,{columns:2},r.createElement(m.Z.Column,{width:4,className:"field-label"},r.createElement("span",{className:p?"required":""},i)),r.createElement(m.Z.Column,{width:12},r.createElement(N.vy,{onSubmit:function(e){v(!0),b(n.name,e[n.name])},render:function(e){var t=e.handleSubmit;return r.createElement("form",{className:"radio-group-field-form",onSubmit:t,"data-componentid":"".concat(g,"-editing-section-").concat(n.name.replace(".","-"),"-form"),"data-testid":"".concat(g,"-editing-section-").concat(n.name.replace(".","-"),"-form")},r.createElement(N.SE,{component:N.hW,initialValue:a,ariaLabel:i,name:n.name,options:I,validate:M,readOnly:!c||E,disabled:!c||E,FormControlProps:{fullWidth:!0,margin:"dense"},"data-componentid":"".concat(g,"-editing-section-").concat(n.name.replace(".","-"),"-field"),"data-testid":"".concat(g,"-editing-section-").concat(n.name.replace(".","-"),"-field")}),r.createElement(m.Z.Row,{className:"form-actions-wrapper"},r.createElement(o.zx,{primary:!0,type:"submit","data-testid":"".concat(g,"-schema-mobile-editing-section-").concat(n.name.replace(".","-"),"-save-button")},h("common:save")),r.createElement(o.zx,{onClick:d,"data-testid":"".concat(g,"-schema-mobile-editing-section-").concat(n.name.replace(".","-"),"-cancel-button")},h("common:cancel"))))}}))))):r.createElement(m.Z,{padded:!0},r.createElement(m.Z.Row,{columns:3},r.createElement(m.Z.Column,{mobile:6,computer:4,className:"first-column"},r.createElement(S.Z.Content,{className:"vertical-align-center field-label"},r.createElement("span",{className:p?"required":""},i))),r.createElement(m.Z.Column,{mobile:8,computer:10},r.createElement(S.Z.Content,null,r.createElement(S.Z.Description,{className:"with-max-length"},(0,f.Z)(A)?r.createElement(w,{schema:n,fieldLabel:i,placeholderText:h("myAccount:components.profile.forms.generic.dropdown.placeholder",{fieldName:i.toLowerCase()}),onEditClicked:s}):null==A?void 0:A.label))),r.createElement(m.Z.Column,{mobile:2,className:"".concat(y?"":"last-column")},r.createElement(S.Z.Content,{floated:"right",className:"vertical-align-center"},c&&r.createElement(o.GI,{trigger:r.createElement(Z.Z,{link:!0,className:"list-icon",size:"small",color:"grey",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&s()},onClick:s,name:"pencil alternate","data-testid":"profile-schema-mobile-editing-section-".concat(n.name.replace(".","-"),"-edit-button")}),position:"top center",content:h("common:edit"),inverted:!0})))))};function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function Dt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Tt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Tt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Pt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw o}}}}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const xt=function(e){var t=e.fieldSchema,n=e.fieldLabel,i=e.initialValue,s=e.pendingEmailAddress,d=e.isEditable,u=e.isActive,p=e.isRequired,E=e.isLoading,v=e.isUpdating,b=e.onEditClicked,C=e.onEditCancelClicked,g=e.isVerificationEnabled,y=e.triggerUpdate,h=e.setIsProfileUpdating,I=e["data-componentid"],A=void 0===I?"single-email-field-form":I,N=(0,l.$)().t,M=(0,o.kH)().isMobileViewport,_=(0,c.v9)((function(e){return e.authenticationInformation})),O=i;g&&(O=null!=s?s:i);return u?r.createElement(le,{fieldSchema:t,initialValue:O,fieldLabel:n,isActive:u,isEditable:d,onEditClicked:b,onEditCancelClicked:C,isRequired:p,setIsProfileUpdating:h,isLoading:E,isUpdating:v,"data-componentid":A,handleSubmit:function(e,t){var n;h(!0);var i,o={Operations:[],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]},r=[],l=kt(null==_||null===(n=_.profileInfo)||void 0===n?void 0:n.emails);try{for(l.s();!(i=l.n()).done;){var c=i.value;"object"===Tt(c)&&r.push(c)}}catch(m){l.e(m)}finally{l.f()}r.push(t),o.Operations.push({op:"replace",value:Dt({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS"),r)}),o.Operations.push({op:"replace",value:Dt({},a.Cb.SCIM2_SYSTEM_USER_SCHEMA,Dt({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFY_EMAIL"),!0))}),y(o)}}):r.createElement(m.Z,{padded:!0},r.createElement(m.Z.Row,{columns:3},r.createElement(m.Z.Column,{mobile:6,computer:4,className:"first-column"},r.createElement(S.Z.Content,{className:"vertical-align-center field-label"},r.createElement("span",{className:p?"required":""},n))),r.createElement(m.Z.Column,{mobile:8,computer:10},r.createElement(S.Z.Content,null,r.createElement(S.Z.Description,{className:"with-max-length"},(0,f.Z)(O)?r.createElement(w,{schema:t,fieldLabel:n,onEditClicked:b}):r.createElement(S.Z.Content,null,r.createElement(S.Z.Description,{className:"with-max-length"},O,O===s&&r.createElement(o.GI,{name:"pending-email-popup",size:"tiny",trigger:r.createElement(Z.Z,{name:"info circle",color:"yellow"}),header:N("myAccount:components.profile.messages.emailConfirmation.header"),inverted:!0})))))),r.createElement(m.Z.Column,{mobile:2,className:"".concat(M?"":"last-column")},r.createElement(S.Z.Content,{floated:"right",className:"vertical-align-center"},d&&r.createElement(o.GI,{trigger:r.createElement(Z.Z,{link:!0,className:"list-icon",size:"small",color:"grey",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&b()},onClick:b,name:"pencil alternate","data-testid":"profile-schema-mobile-editing-section-".concat(t.name.replace(".","-"),"-edit-button")}),position:"top center",content:N("common:edit"),inverted:!0})))))};function Vt(e){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(e)}function Ht(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Vt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Vt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,o,r,l=[],c=!0,m=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){m=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(m)throw i}}return l}}(e,t)||Ft(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){if(e){if("string"==typeof e)return jt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jt(e,t):void 0}}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const qt=function(e){var t=e.fieldSchema,n=e.fieldLabel,i=e.initialValue,s=e.isEditable,d=e.isActive,u=e.isRequired,p=e.isLoading,E=e.isUpdating,v=e.onEditClicked,b=e.onEditCancelClicked,C=e.isVerificationEnabled,g=e.triggerUpdate,y=e.setIsProfileUpdating,h=e["data-componentid"],I=void 0===h?"single-mobile-field-form":h,A=(0,l.$)().t,N=(0,o.kH)().isMobileViewport,M=(0,c.I0)(),_=(0,c.v9)((function(e){return e.authenticationInformation})),O=Yt((0,r.useState)(!1),2),R=O[0],U=O[1];return d?C?r.createElement(L.H,{"data-testid":"".concat(I,"-schema-mobile-editing-section")},r.createElement("p",null,A("myAccount:components.profile.messages.mobileVerification.content")),r.createElement(m.Z,{padded:!0},r.createElement(m.Z.Row,{columns:2},r.createElement(m.Z.Column,{mobile:6,tablet:6,computer:4,className:"first-column"},r.createElement(S.Z.Content,null,n)),r.createElement(m.Z.Column,{mobile:8,tablet:8,computer:10},r.createElement(S.Z.Content,null,r.createElement(S.Z.Description,{className:"with-max-length"},(0,f.Z)(i)?r.createElement("a",{className:"placeholder-text",tabIndex:0,onClick:function(){return U(!0)},onKeyPress:function(e){"Enter"===e.key&&U(!0)},"data-testid":"".concat(I,"-schema-mobile-editing-section-").concat(t.name.replace(".","-"),"-placeholder")},A("myAccount:components.profile.forms.generic.inputs.placeholder",{fieldName:n.toLowerCase()})):i)))),r.createElement(m.Z.Row,{columns:2},r.createElement(m.Z.Column,{mobile:8,tablet:8,computer:2},r.createElement(ge.Z,{variant:"contained",onClick:function(){return U(!0)}},A("common:update").toString())),r.createElement(m.Z.Column,{mobile:8,tablet:8,computer:2},r.createElement(ge.Z,{onClick:b},A("common:cancel").toString())))),r.createElement(it,{initialValue:i,isOpen:R,onClose:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];U(!1),y(!1),e&&(M((0,Pe.G6)(!0)),M((0,xe.XY)(null)))},onCancel:function(){U(!1),y(!1),b()},isMultiValued:!1,isMobileRequired:u,"data-testid":"".concat(I,"-mobile-verification-wizard")})):r.createElement(le,{fieldSchema:t,initialValue:i,fieldLabel:n,isActive:d,isEditable:s,onEditClicked:v,onEditCancelClicked:b,isRequired:u,setIsProfileUpdating:y,isLoading:p,isUpdating:E,"data-componentid":I,handleSubmit:function(e,t){var n;y(!0);var i,o={Operations:[],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]},r=[],l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ft(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw o}}}}(null==_||null===(n=_.profileInfo)||void 0===n?void 0:n.phoneNumbers);try{for(l.s();!(i=l.n()).done;){var c=i.value;"mobile"!==c.type&&r.push(c)}}catch(m){l.e(m)}finally{l.f()}r.push({type:"mobile",value:t}),o.Operations.push({op:"replace",value:Ht({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("PHONE_NUMBERS"),r)}),o.Operations.push({op:"replace",value:Ht({},a.Cb.SCIM2_SYSTEM_USER_SCHEMA,Ht({},a.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFY_MOBILE"),!0))}),g(o)}}):r.createElement(m.Z,{padded:!0},r.createElement(m.Z.Row,{columns:3},r.createElement(m.Z.Column,{mobile:6,computer:4,className:"first-column"},r.createElement(S.Z.Content,{className:"vertical-align-center field-label"},r.createElement("span",{className:u?"required":""},n))),r.createElement(m.Z.Column,{mobile:8,computer:10},r.createElement(S.Z.Content,null,r.createElement(S.Z.Description,{className:"with-max-length"},(0,f.Z)(i)?r.createElement(w,{schema:t,fieldLabel:n,onEditClicked:v}):r.createElement(S.Z.Content,null,r.createElement(S.Z.Description,{className:"with-max-length"},i))))),r.createElement(m.Z.Column,{mobile:2,className:"".concat(N?"":"last-column")},r.createElement(S.Z.Content,{floated:"right",className:"vertical-align-center"},s&&r.createElement(o.GI,{trigger:r.createElement(Z.Z,{link:!0,className:"list-icon",size:"small",color:"grey",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&v()},onClick:v,name:"pencil alternate","data-testid":"profile-schema-mobile-editing-section-".concat(t.name.replace(".","-"),"-edit-button")}),position:"top center",content:A("common:edit"),inverted:!0})))))};const zt=function(e){var t=e.fieldSchema,n=e.initialValue,a=e.fieldLabel,i=e.isEditable,o=e.setIsProfileUpdating,l=e.handleSubmit,c=e.isUpdating,s=e["data-componentid"];return r.createElement(m.Z,{padded:!0},r.createElement(m.Z.Row,{columns:3},r.createElement(m.Z.Column,{mobile:6,computer:4,className:"first-column"},r.createElement(S.Z.Content,{className:"vertical-align-center"},a)),r.createElement(m.Z.Column,{mobile:8,computer:10},r.createElement(S.Z.Content,null,r.createElement(S.Z.Description,{className:"with-max-length"},r.createElement(N.vy,{onSubmit:function(e){var n;o(!0);var a=null!==(n=e[t.name])&&void 0!==n&&n;l(t.name,a)},render:function(e){var a=e.handleSubmit;return r.createElement("form",{onSubmit:a},r.createElement(N.SE,{component:N.qx,initialValue:null!=n&&n,name:t.name,readOnly:!i||c,disabled:!i||c,"data-testid":"".concat(s,"-").concat(t.name.replace(".","-"),"-switch-field"),"data-componentid":"".concat(s,"-").concat(t.name.replace(".","-"),"-switch-field")}),r.createElement(N.lP,{subscription:{dirty:!0,values:!0},onChange:function(e){var t=e.values;e.dirty&&a(t)}}))}}))))))};var Bt=n(22537);function Gt(e){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(e)}function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Gt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Gt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Qt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw o}}}}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const Jt=function(e){var t,n,i=e.fieldSchema,o=e.flattenedProfileSchema,l=e.fieldLabel,m=e.isActive,s=e.formId,d=e.initialValue,u=e.flattenedProfileData,f=e.isEditable,p=e.isRequired,E=e.setIsProfileUpdating,v=e.isLoading,b=e.isUpdating,C=e.triggerUpdate,g=e.isEmailVerificationEnabled,h=e.isMobileVerificationEnabled,S=e["data-componentid"],I=i.multiValued,A=i.extended,N=(0,c.I0)(),_=function(){N((0,Bt.XY)(s))},O=function(){N((0,Bt.XY)(null))},R=function(e,t){var n=e.split("."),a=n[0],o=a.split("#"),r=o.length>1,l=null;n.reverse();var c,m=Kt(n);try{for(m.s();!(c=m.n()).done;){var s,d=c.value;if(d===a&&r)l=Wt({},o[0],[Xt(Xt({},l),{},{type:o[1]})]);else l=Wt({},d,null!==(s=null!=l?l:t)&&void 0!==s?s:"")}}catch(u){m.e(u)}finally{m.f()}i.extended&&(l=Wt({},i.schemaId,l)),C({Operations:[{op:r?"add":"replace",value:l}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]})};if(i.schemaUri===ae.k.scimSystemSchema.country)return r.createElement(Q,{fieldSchema:i,initialValue:d,fieldLabel:l,isRequired:p,isEditable:f,isActive:m,setIsProfileUpdating:E,isLoading:v,isUpdating:b,handleSubmit:R,onEditClicked:_,onEditCancelClicked:O,"data-componentid":S});if("locale"===i.name)return r.createElement(fe,{fieldSchema:i,initialValue:d,fieldLabel:l,isRequired:p,isEditable:f,isActive:m,setIsProfileUpdating:E,isLoading:v,isUpdating:b,handleSubmit:R,onEditClicked:_,onEditCancelClicked:O,"data-componentid":S});if([ae.k.scimUserSchema.emails,ae.k.scimUserSchema.emailsHome].includes(i.schemaUri)){var Z,w=null===(Z=u[a.Cb.SCIM2_SYSTEM_USER_SCHEMA][a.Cb.SCIM2_SCHEMA_DICTIONARY.get("PENDING_EMAILS")])||void 0===Z||null===(Z=Z[0])||void 0===Z?void 0:Z.value;return r.createElement(xt,{fieldSchema:i,initialValue:d,pendingEmailAddress:w,fieldLabel:l,isActive:m,isEditable:f,onEditClicked:_,onEditCancelClicked:O,isRequired:p,setIsProfileUpdating:E,isLoading:v,isUpdating:b,"data-componentid":S,isVerificationEnabled:g,triggerUpdate:C})}if(i.schemaUri===ae.k.scimSystemSchema.emailAddresses){var L,T=u[a.Cb.SCIM2_SYSTEM_USER_SCHEMA][a.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_EMAIL_ADDRESSES")],D=u[a.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS")],k=null===(L=u[a.Cb.SCIM2_SYSTEM_USER_SCHEMA][a.Cb.SCIM2_SCHEMA_DICTIONARY.get("PENDING_EMAILS")])||void 0===L||null===(L=L[0])||void 0===L?void 0:L.value;return r.createElement(Te,{fieldSchema:i,initialValue:d,verifiedEmailAddresses:T,primaryEmailAddress:D,pendingEmailAddress:k,fieldLabel:l,isActive:m,isEditable:f,onEditClicked:_,onEditCancelClicked:O,isRequired:p,setIsProfileUpdating:E,isLoading:v,isUpdating:b,"data-componentid":S,isVerificationEnabled:g,triggerUpdate:C})}if(i.schemaUri===ae.k.scimUserSchema.phoneNumbersMobile)return r.createElement(qt,{fieldSchema:i,initialValue:d,fieldLabel:l,isActive:m,isEditable:f,onEditClicked:_,onEditCancelClicked:O,isRequired:p,setIsProfileUpdating:E,isLoading:v,isUpdating:b,"data-componentid":S,isVerificationEnabled:h,triggerUpdate:C});if(i.schemaUri===ae.k.scimSystemSchema.mobileNumbers){var P=u[a.Cb.SCIM2_SYSTEM_USER_SCHEMA][a.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_MOBILE_NUMBERS")],x=u[a.Cb.SCIM2_SCHEMA_DICTIONARY.get("MOBILE")];return r.createElement(pt,{fieldSchema:i,flattenedProfileSchema:o,initialValue:d,primaryMobileNumber:x,verifiedMobileNumbers:P,fieldLabel:l,isActive:m,isEditable:f,onEditClicked:_,onEditCancelClicked:O,isRequired:p,setIsProfileUpdating:E,isLoading:v,isUpdating:b,"data-componentid":S,isVerificationEnabled:h,triggerUpdate:C})}if(i.name===a.Cb.SCIM2_SCHEMA_DICTIONARY.get("DOB"))return r.createElement(ce,{fieldSchema:i,initialValue:d,fieldLabel:l,isActive:m,isEditable:f,onEditClicked:_,onEditCancelClicked:O,isRequired:p,setIsProfileUpdating:E,isLoading:v,isUpdating:b,"data-componentid":S,handleSubmit:R});var V=null!==(t=null===(n=i.inputFormat)||void 0===n?void 0:n.inputType)&&void 0!==t?t:y.wG.TEXT_INPUT;if(I&&A){var H=null!=d?d:[];switch(V){case y.wG.MULTI_SELECT_DROPDOWN:return r.createElement(me,{fieldSchema:i,initialValue:H,fieldLabel:l,isActive:m,isEditable:f,onEditClicked:_,onEditCancelClicked:O,isRequired:p,setIsProfileUpdating:E,isLoading:v,isUpdating:b,"data-componentid":S,handleSubmit:R,isMultiSelect:!0});case y.wG.CHECKBOX_GROUP:return r.createElement(U,{fieldSchema:i,initialValue:H,fieldLabel:l,isActive:m,isEditable:f,onEditClicked:_,onEditCancelClicked:O,isRequired:p,setIsProfileUpdating:E,isLoading:v,isUpdating:b,"data-componentid":S,handleSubmit:R});case y.wG.NUMBER_INPUT:var Y=H.map((function(e){return Number(e)}));return r.createElement(Zt,{fieldSchema:i,initialValue:Y,fieldLabel:l,isActive:m,isEditable:f,onEditClicked:_,onEditCancelClicked:O,isRequired:p,setIsProfileUpdating:E,isLoading:v,isUpdating:b,"data-componentid":S,handleSubmit:R,type:"number"});default:return r.createElement(Zt,{fieldSchema:i,initialValue:H,fieldLabel:l,isActive:m,isEditable:f,onEditClicked:_,onEditCancelClicked:O,isRequired:p,setIsProfileUpdating:E,isLoading:v,isUpdating:b,"data-componentid":S,handleSubmit:R})}}switch(V){case y.wG.CHECKBOX:return r.createElement(M,{fieldSchema:i,initialValue:d,fieldLabel:l,isEditable:f,setIsProfileUpdating:E,isLoading:v,isUpdating:b,"data-componentid":S,handleSubmit:R});case y.wG.TOGGLE:return r.createElement(zt,{fieldSchema:i,initialValue:d,fieldLabel:l,isEditable:f,setIsProfileUpdating:E,isLoading:v,isUpdating:b,"data-componentid":S,handleSubmit:R});case y.wG.DROPDOWN:return r.createElement(me,{fieldSchema:i,initialValue:d,fieldLabel:l,isActive:m,isEditable:f,onEditClicked:_,onEditCancelClicked:O,isRequired:p,setIsProfileUpdating:E,isLoading:v,isUpdating:b,"data-componentid":S,handleSubmit:R});case y.wG.RADIO_GROUP:return r.createElement(Ut,{fieldSchema:i,initialValue:d,fieldLabel:l,isActive:m,isEditable:f,onEditClicked:_,onEditCancelClicked:O,isRequired:p,setIsProfileUpdating:E,isLoading:v,isUpdating:b,"data-componentid":S,handleSubmit:R});case y.wG.NUMBER_INPUT:return r.createElement(le,{fieldSchema:i,initialValue:d,fieldLabel:l,isActive:m,isEditable:f,onEditClicked:_,onEditCancelClicked:O,isRequired:p,setIsProfileUpdating:E,isLoading:v,isUpdating:b,"data-componentid":S,handleSubmit:R,type:"number"});case y.wG.DATE_PICKER:return r.createElement(te,{fieldSchema:i,initialValue:d,fieldLabel:l,isActive:m,isEditable:f,onEditClicked:_,onEditCancelClicked:O,isRequired:p,setIsProfileUpdating:E,isLoading:v,isUpdating:b,"data-componentid":S,handleSubmit:R});case y.wG.TEXT_INPUT:default:return r.createElement(le,{fieldSchema:i,initialValue:d,fieldLabel:l,isActive:m,isEditable:f,onEditClicked:_,onEditCancelClicked:O,isRequired:p,setIsProfileUpdating:E,isLoading:v,isUpdating:b,"data-componentid":S,handleSubmit:R})}};var en=n(59673),tn=n(48946);function nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,o,r,l=[],c=!0,m=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){m=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(m)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return an(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}const on=function(e){var t=e.isReadOnly,n=e.isProfileUpdating,a=e.profileInfo,m=e.setIsUpdating,s=e["data-componentid"],d=void 0===s?"component-id":s,u=(0,l.$)().t,f=(0,c.I0)(),p=nn((0,r.useState)(!1),2),E=p[0],v=p[1];return r.createElement(r.Fragment,null,r.createElement(o.Yt,{"data-testid":"".concat(d,"-user-avatar"),editable:!t,showGravatarLabel:!0,size:"tiny",tabIndex:0,onKeyPress:function(e){"Enter"!==e.key||t||v(!0)},onClick:function(){return!t&&v(!0)},profileInfo:a,gravatarInfoPopoverText:r.createElement(en.c,{i18nKey:"myAccount:components.userAvatar.infoPopover"},"This image has been retrieved from",r.createElement("a",{href:tn.r.GRAVATAR_URL,target:"_blank",rel:"noopener noreferrer"},"Gravatar")," service.")}),E&&r.createElement(o.Oi,{"data-testid":"".concat(d,"-edit-avatar-modal"),open:E,name:(0,i.nk)(a),emails:(0,i.r1)(null==a?void 0:a.emails),onClose:function(){return v(!1)},onCancel:function(){return v(!1)},onSubmit:function(e,t){m(!0),(0,De.rv)(t).then((function(){f((0,Ve.V_)({description:u("myAccount:components.profile.notifications.updateProfileInfo.success.description"),level:y.QU.SUCCESS,message:u("myAccount:components.profile.notifications.updateProfileInfo.success.message")})),f((0,Pe.G6)(!0))})).catch((function(e){e.response&&e.response.data&&e.response.data.detail&&f((0,Ve.V_)({description:u("myAccount:components.profile.notifications.updateProfileInfo.error.description",{description:e.response.data.detail}),level:y.QU.ERROR,message:u("myAccount:components.profile.notifications.updateProfileInfo.error.message")})),f((0,Ve.V_)({description:u("myAccount:components.profile.notifications.updateProfileInfo.genericError.description"),level:y.QU.ERROR,message:u("myAccount:components.profile.notifications.updateProfileInfo.genericError.message")}))})).finally((function(){v(!1),m(!1)}))},imageUrl:null==a?void 0:a.profileUrl,heading:u("myAccount:modals.editAvatarModal.heading"),submitButtonText:u("myAccount:modals.editAvatarModal.primaryButton"),isSubmitting:n,cancelButtonText:u("myAccount:modals.editAvatarModal.secondaryButton"),translations:{gravatar:{errors:{noAssociation:{content:r.createElement(en.c,{i18nKey:"myAccount:modals.editAvatarModal.content.gravatar.errors.noAssociation.content"},"It seems like the selected email is not registered on Gravatar. Sign up for a Gravatar account by visiting\xa0",r.createElement("a",{href:"https://www.gravatar.com"},"Gravatar Official Website"),"\xa0or use one of the following."),header:u("myAccount:modals.editAvatarModal.content.gravatar.errors.noAssociation.header")}},heading:u("myAccount:modals.editAvatarModal.content.gravatar.heading")},hostedAvatar:{heading:u("myAccount:modals.editAvatarModal.content.hostedAvatar.heading"),input:{errors:{http:{content:u("myAccount:modals.editAvatarModal.content.hostedAvatar.input.errors.http.content"),header:u("myAccount:modals.editAvatarModal.content.hostedAvatar.input.errors.http.header")},invalid:{content:u("myAccount:modals.editAvatarModal.content.hostedAvatar.input.errors.invalid.content"),pointing:u("myAccount:modals.editAvatarModal.content.hostedAvatar.input.errors.invalid.pointing")}},hint:u("myAccount:modals.editAvatarModal.content.hostedAvatar.input.hint"),placeholder:u("myAccount:modals.editAvatarModal.content.hostedAvatar.input.placeholder"),warnings:{dataURL:{content:u("myAccount:modals.editAvatarModal.content.hostedAvatar.input.warnings.dataURL.content"),header:u("myAccount:modals.editAvatarModal.content.hostedAvatar.input.warnings.dataURL.header")}}}},systemGenAvatars:{heading:u("myAccount:modals.editAvatarModal.content.systemGenAvatars.heading"),types:{initials:u("myAccount:modals.editAvatarModal.content.systemGenAvatars.types.initials")}}}}))};var rn=n(72820),ln=n(9708),cn=n(27521);n(72858);function mn(e){return function(e){if(Array.isArray(e))return un(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,o,r,l=[],c=!0,m=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){m=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(m)throw i}}return l}}(e,t)||dn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dn(e,t){if(e){if("string"==typeof e)return un(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?un(e,t):void 0}}function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var fn=a.Cb.SCIM2_SCHEMA_DICTIONARY.get("USERNAME"),pn=a.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS"),En=a.Cb.SCIM2_SCHEMA_DICTIONARY.get("MOBILE"),vn=a.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAIL_ADDRESSES"),bn=a.Cb.SCIM2_SCHEMA_DICTIONARY.get("MOBILE_NUMBERS"),Cn=a.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_MOBILE_NUMBERS"),gn=a.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_EMAIL_ADDRESSES"),yn=[a.Cb.SCIM2_SCHEMA_DICTIONARY.get("ROLES_DEFAULT"),a.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACTIVE"),a.Cb.SCIM2_SCHEMA_DICTIONARY.get("GROUPS"),a.Cb.SCIM2_SCHEMA_DICTIONARY.get("PROFILE_URL"),a.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_LOCKED"),a.Cb.SCIM2_SCHEMA_DICTIONARY.get("ACCOUNT_DISABLED"),a.Cb.SCIM2_SCHEMA_DICTIONARY.get("ONETIME_PASSWORD"),a.Cb.SCIM2_SCHEMA_DICTIONARY.get("USER_SOURCE_ID"),a.Cb.SCIM2_SCHEMA_DICTIONARY.get("IDP_TYPE"),a.Cb.SCIM2_SCHEMA_DICTIONARY.get("LOCAL_CREDENTIAL_EXISTS"),a.Cb.SCIM2_SCHEMA_DICTIONARY.get("RESROUCE_TYPE"),a.Cb.SCIM2_SCHEMA_DICTIONARY.get("EXTERNAL_ID"),a.Cb.SCIM2_SCHEMA_DICTIONARY.get("META_DATA"),a.Cb.SCIM2_SCHEMA_DICTIONARY.get("META_VERSION"),a.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_MOBILE_NUMBERS"),a.Cb.SCIM2_SCHEMA_DICTIONARY.get("VERIFIED_EMAIL_ADDRESSES"),a.Cb.SCIM2_SCHEMA_DICTIONARY.get("META_LOCATION"),a.Cb.SCIM2_SCHEMA_DICTIONARY.get("META_CREATED"),a.Cb.SCIM2_SCHEMA_DICTIONARY.get("META_LAST_MODIFIED"),a.Cb.SCIM2_SCHEMA_DICTIONARY.get("META_RESOURCE_TYPE")],hn=function(e){var t,n=e.isNonLocalCredentialUser,m=e.onAlertFired,s=e.featureConfig,d=e["data-testid"],u=void 0===d?"profile":d,p=(0,l.$)().t,E=(0,c.I0)(),v=(0,c.v9)((function(e){return e.authenticationInformation})),b=(0,c.v9)((function(e){return e.profile.isSCIMEnabled})),N=(0,c.v9)((function(e){var t;return null==e||null===(t=e.authenticationInformation)||void 0===t?void 0:t.scope})),M="true"===(0,c.v9)((function(e){return e.authenticationInformation.profileInfo.isReadOnly})),_=(0,c.v9)((function(e){return e.authenticationInformation.hasLocalAccount})),O=(0,c.v9)((function(e){return e.loaders.isProfileInfoLoading})),R=(0,c.v9)((function(e){return e.loaders.isProfileSchemaLoading})),Z=(0,c.v9)((function(e){return e.global.activeForm})),w=(0,c.v9)((function(e){var t;return null===(t=e.config)||void 0===t?void 0:t.ui})),L=null==w?void 0:w.isMultipleEmailsAndMobileNumbersEnabled,U=null==w?void 0:w.primaryUserStoreDomainName,T=null==w?void 0:w.isProfileUsernameReadonly,D=sn((0,r.useState)(!1),2),k=D[0],P=D[1],x=sn((0,r.useState)(!0),2),V=x[0],H=x[1],Y=sn((0,r.useState)(!1),2),F=Y[0],j=Y[1],q=sn((0,r.useState)(!1),2),z=q[0],B=q[1],G=sn((0,r.useState)(!0),2),$=G[0],X=G[1],W=sn((0,r.useState)(),2),K=W[0],Q=W[1],J=O||R||V||$,ee=(0,r.useMemo)((function(){var e;return(0,i.Xr)(null==s?void 0:s.personalInfo,null==s||null===(e=s.personalInfo)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.update,N)}),[s,N]),te=M||!ee,ne=(0,i.cr)(null==s?void 0:s.personalInfo,se.Cb.DISTINCT_ATTRIBUTE_PROFILES_FEATURE_FLAG),ae=(0,i.cr)(null==s?void 0:s.personalInfo,se.$x.FEATURE_DICTIONARY.get("PROFILEINFO_MOBILE_VERIFICATION")),ie=(0,r.useMemo)((function(){var e=function(e){return e.name===fn?0:e.displayOrder&&"0"!=e.displayOrder?parseInt(e.displayOrder,10):e.name===vn?6:e.name===bn?7:Number.MAX_SAFE_INTEGER};return h.ProfileUtils.flattenSchemas(mn(v.profileSchemas)).sort((function(t,n){return e(t)-e(n)}))}),[v.profileSchemas]);(0,r.useEffect)((function(){(0,f.Z)(v.profileInfo)&&E((0,Pe.G6)())}),[]);(0,r.useEffect)((function(){!function(){H(!0);var e=[{"connector-name":a.Cb.USER_CLAIM_UPDATE_CONNECTOR,properties:[a.Cb.ENABLE_EMAIL_VERIFICATION,a.Cb.ENABLE_MOBILE_VERIFICATION]}];(0,rn.O)(e).then((function(e){e?(e[0].properties.forEach((function(e){e.name===a.Cb.ENABLE_EMAIL_VERIFICATION&&B("true"==e.value.toLowerCase()),ae&&e.name===a.Cb.ENABLE_MOBILE_VERIFICATION&&j("true"==e.value.toLowerCase())})),H(!1)):m({description:p("myAccount:sections.verificationOnUpdate.preference.notifications.genericError.description"),level:y.QU.ERROR,message:p("myAccount:sections.verificationOnUpdate.preference.notifications.genericError.message")})})).catch((function(e){var t;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.detail?m({description:p("myAccount:sections.verificationOnUpdate.preference.notifications.error.description",{description:e.response.data.detail}),level:y.QU.ERROR,message:p("myAccount:sections.verificationOnUpdate.preference.notifications..error.message")}):m({description:p("myAccount:sections.verificationOnUpdate.preference.notifications.genericError.description"),level:y.QU.ERROR,message:p("myAccount:sections.verificationOnUpdate.preference.notifications.genericError.message")})}))}(),X(!0),(0,ln.L_)().then((function(e){Q((0,ln.t$)(e)),X(!1)})).catch((function(e){var t,n;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.detail?m({description:p("myAccount:components.changePassword.forms.passwordResetForm.validations.validationConfig.error.description",{description:null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.detail}),level:y.QU.ERROR,message:p("myAccount:components.changePassword.forms.passwordResetForm.validations.validationConfig.error.message")}):m({description:p("myAccount:components.changePassword.forms.passwordResetForm.validations.validationConfig.genericError.description"),level:y.QU.ERROR,message:p("myAccount:components.changePassword.forms.passwordResetForm.validations.validationConfig.genericError.message")})}))}),[]);var oe=(0,r.useMemo)((function(){var e;if((0,f.Z)(v)||(0,f.Z)(ie)||!L)return!1;var t=[En,pn,vn,bn,gn,Cn],n=null==v?void 0:v.profileInfo.userName;if(!n)return!1;var a=null===(e=(0,i.tF)(n,U))||void 0===e?void 0:e.toUpperCase(),o=t.every((function(e){var t,n,i=ie.find((function(t){return(null==t?void 0:t.name)===e}));if(!i)return!1;if(!("true"===(null==i||null===(t=i.supportedByDefault)||void 0===t?void 0:t.toLowerCase())))return!1;var o=(null==i||null===(n=i.excludedUserStores)||void 0===n||null===(n=n.split(","))||void 0===n?void 0:n.map((function(e){return null==e?void 0:e.trim().toUpperCase()})))||[];return!o.includes(a)}));return o}),[v,ie]),re=(0,r.useMemo)((function(){return C(v.profileInfo,ie,oe,z,F)}),[v.profileInfo,ie,oe,z,F]),le=(0,r.useMemo)((function(){if(!(0,f.Z)(re)&&!(0,f.Z)(ie)){var e=[];return a.Cb.MIGRATED_ENTERPRISE_SCIM_ATTRIBUTES.forEach((function(t){var n,i,o,r,l=ie.find((function(e){return e.name===t&&(null==e?void 0:e.schemaId)===a.Cb.SCIM2_ENT_USER_SCHEMA})),c=ie.find((function(e){return e.name===t&&(null==e?void 0:e.schemaId)===a.Cb.SCIM2_SYSTEM_USER_SCHEMA}));l&&c&&((null!==(n=null===(i=re[a.Cb.SCIM2_ENT_USER_SCHEMA])||void 0===i?void 0:i[l.name])&&void 0!==n?n:null)===(null!==(o=null===(r=re[a.Cb.SCIM2_SYSTEM_USER_SCHEMA])||void 0===r?void 0:r[c.name])&&void 0!==o?o:null)&&e.push(l.name))})),e}}),[ie,re]),ce=!(0,f.Z)(re)&&("true"===(null==K?void 0:K.enableValidator)||re[a.Cb.SCIM2_SCHEMA_DICTIONARY.get("USERNAME")]&&(0,i.WX)(re[a.Cb.SCIM2_SCHEMA_DICTIONARY.get("USERNAME")])!==re[a.Cb.SCIM2_SCHEMA_DICTIONARY.get("EMAILS")]),me=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];P(!0),(0,De.y3)(e).then((function(e){200===e.status&&(m({description:p("myAccount:components.profile.notifications.updateProfileInfo.success.description"),level:y.QU.SUCCESS,message:p("myAccount:components.profile.notifications.updateProfileInfo.success.message")}),E((0,Pe.G6)(!0)))})).catch((function(e){"400"===(null==e?void 0:e.status)&&null!=e&&e.detail?m({description:p("myAccount:components.profile.notifications.updateProfileInfo.error.description",{description:e.detail}),level:y.QU.ERROR,message:p("myAccount:components.profile.notifications.updateProfileInfo.error.message")}):m({description:p("myAccount:components.profile.notifications.updateProfileInfo.genericError.description"),level:y.QU.ERROR,message:p("myAccount:components.profile.notifications.updateProfileInfo.genericError.message")})})).finally((function(){P(!1),t&&E((0,Bt.XY)(null))}))},de=function(){return!(!te&&null!=ie&&ie.some((function(e){var t,n,i=null!==(t=null==e||null===(n=e.profiles)||void 0===n||null===(n=n.endUser)||void 0===n?void 0:n.mutability)&&void 0!==t?t:e.mutability;return e.name===a.Cb.SCIM2_SCHEMA_DICTIONARY.get("PROFILE_URL")&&i!==a.Cb.READONLY_SCHEMA})))},ue=function(e){var t,n,i,o;if(yn.includes(e.name))return!1;var r=null!==(t=null==e||null===(n=e.profiles)||void 0===n||null===(n=n.endUser)||void 0===n?void 0:n.mutability)&&void 0!==t?t:e.mutability;if((null===(i=e.type)||void 0===i?void 0:i.toLowerCase())!==y.VL.BOOLEAN.toLowerCase()&&function(e){return(0,f.Z)(g(re,e))}(e)&&(te||r===a.Cb.READONLY_SCHEMA))return!1;if((e.name===pn||e.name===vn)&&!ce)return!1;if(oe){if(e.name===pn||e.name===En)return!1}else if(e.name===vn||e.name===bn)return!1;if(null!=le&&le.some((function(t){return t===e.name&&e.schemaId===a.Cb.SCIM2_ENT_USER_SCHEMA})))return!1;if(ne&&e.name!==fn){var l,c,m,s="true"===(null==e||null===(l=e.supportedByDefault)||void 0===l?void 0:l.toLowerCase());if(void 0!==(null==e||null===(c=e.profiles)||void 0===c||null===(c=c.endUser)||void 0===c?void 0:c.supportedByDefault))s=null==e||null===(m=e.profiles)||void 0===m||null===(m=m.endUser)||void 0===m?void 0:m.supportedByDefault;if(!s)return!1}return(null===(o=e.type)||void 0===o?void 0:o.toLowerCase())!==y.VL.COMPLEX.toLowerCase()||e.schemaUri===a.Cb.SCIM2_CORE_USER_SCHEMA_ATTRIBUTES.emails||e.schemaUri===a.Cb.SCIM2_CORE_USER_SCHEMA_ATTRIBUTES.mobile};return r.createElement(r.Fragment,null,r.createElement(cn.QQ,{"data-testid":"".concat(u,"-settings-section"),description:p("myAccount:sections.profile.description"),header:p("myAccount:sections.profile.heading"),icon:r.createElement(on,{isReadOnly:de(),profileInfo:null==v?void 0:v.profileInfo,isProfileUpdating:k,setIsUpdating:function(e){return P(e)}}),iconMini:r.createElement(on,{isReadOnly:de(),isProfileUpdating:k,profileInfo:null==v?void 0:v.profileInfo,setIsUpdating:function(e){return P(e)}}),placeholder:b?null:p("myAccount:components.profile.placeholders.SCIMDisabled.heading")},(J||!re)&&r.createElement(I.Z,{className:"p-4"},r.createElement(A.Z,null,r.createElement(A.Z.Line,null))),!J&&!_&&r.createElement(I.Z,{className:"pl-5 pr-5 pb-4"},r.createElement(o.v0,{type:"info",content:"Your profile cannot be managed from this portal. Please contact your administrator for more details.","data-testid":"".concat(u,"-read-only-profile-banner"),"data-componentid":"".concat(u,"-read-only-profile-banner")})),!J&&_&&re&&r.createElement(S.Z,{divided:!0,verticalAlign:"middle",className:"main-content-inner profile-form","data-testid":"".concat(u,"-schema-list")},null==ie||null===(t=ie.filter((function(e){return ue(e)})))||void 0===t?void 0:t.map((function(e){return function(e){var t,i,o,l,c,m,s;if(T){var d,f,E=fn.toLowerCase();(null===(d=e.name)||void 0===d?void 0:d.toLowerCase())!==E&&(null===(f=e.displayName)||void 0===f?void 0:f.toLowerCase())!==E||(e.mutability=a.Cb.READONLY_SCHEMA)}n&&(null===(s=e.name)||void 0===s?void 0:s.toLowerCase())===pn&&(e.mutability=a.Cb.READONLY_SCHEMA);var v=p("myAccount:components.profile.fields."+e.displayName,{defaultValue:e.displayName});e.name!==fn||ce||(v+=" (Email)");var b=null!==(t=null==e||null===(i=e.profiles)||void 0===i||null===(i=i.endUser)||void 0===i?void 0:i.mutability)&&void 0!==t?t:e.mutability,C=te||b===a.Cb.READONLY_SCHEMA||e.name===fn,y=null!==(o=null==e||null===(l=e.profiles)||void 0===l||null===(l=l.endUser)||void 0===l?void 0:l.required)&&void 0!==o?o:e.required,h=g(re,e),I="".concat(se.F$.PERSONAL_INFO,"-").concat(null!==(c=e.schemaUri)&&void 0!==c?c:"","-").concat(e.name);return r.createElement(S.Z.Item,{key:"".concat(null!==(m=e.schemaUri)&&void 0!==m?m:"","-").concat(e.name),className:"inner-list-item","data-testid":"".concat(u,"-schema-list-item")},r.createElement(Jt,{fieldLabel:v,initialValue:h,fieldSchema:e,flattenedProfileSchema:ie,flattenedProfileData:re,formId:I,isActive:Z===I,isEditable:!C,isRequired:y,setIsProfileUpdating:function(e){return P(e)},isLoading:J,isUpdating:k,"data-componentid":u,triggerUpdate:me,isEmailVerificationEnabled:z,isMobileVerificationEnabled:F}))}(e)})))))},Sn=n(3494),In=n(88403);function An(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,o,r,l=[],c=!0,m=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){m=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(m)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var Mn=function(e){var t,n,u,f,p=e.enableNonLocalCredentialUserView,E=(0,l.$)().t,v=(0,c.I0)(),b=(0,c.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),C=(0,c.v9)((function(e){var t;return null==e||null===(t=e.authenticationInformation)||void 0===t?void 0:t.scope})),g=An((0,r.useState)(!1),2),y=g[0],h=g[1],S=(0,c.v9)((function(e){return e.authenticationInformation})),I=(0,c.v9)((function(e){return e.authenticationInformation.profileInfo.isReadOnly})),A=(0,c.v9)((function(e){return e.authenticationInformation.hasLocalAccount})),N=(0,i.cr)(null==b?void 0:b.personalInfo,se.$x.FEATURE_DICTIONARY.get("PROFILEINFO_LEGACY_PROFILE")),M=An((0,r.useState)(""),2),_=M[0],O=M[1],R=function(e){v((0,Bt.V_)(e))};return(0,r.useEffect)((function(){var e,t;if(p){var n=null==S||null===(e=S.profileInfo)||void 0===e||null===(e=e[ae.k.scim.systemSchema])||void 0===e?void 0:e[null===a.Cb||void 0===a.Cb?void 0:a.Cb.SCIM2_SCHEMA_DICTIONARY.get("LOCAL_CREDENTIAL_EXISTS")];O(null==S||null===(t=S.profileInfo)||void 0===t||null===(t=t[ae.k.scim.systemSchema])||void 0===t?void 0:t[null===a.Cb||void 0===a.Cb?void 0:a.Cb.SCIM2_SCHEMA_DICTIONARY.get("IDP_TYPE")]),n&&"false"==n&&h(!0)}}),[null==S?void 0:S.profileInfo]),(0,r.useEffect)((function(){v((0,Bt.G6)(!0))}),[]),r.createElement(o.Xg,{pageTitle:"Personal Info",title:E("myAccount:pages.personalInfo.title"),description:(0,i.cr)(null==b?void 0:b.personalInfo,se.$x.FEATURE_DICTIONARY.get("PROFILEINFO_LINKED_ACCOUNTS"))?E("myAccount:pages.personalInfo.subTitle"):(0,i.cr)(null==b?void 0:b.personalInfo,se.$x.FEATURE_DICTIONARY.get("PROFILEINFO_EXPORT_PROFILE"))?E("myAccount:pages.personalInfoWithoutLinkedAccounts.subTitle"):E("myAccount:pages.personalInfoWithoutExportProfile.subTitle")},A&&In.DN.isProfileReadOnly(I)&&r.createElement(o.v0,{type:"info",content:E("myAccount:pages.readOnlyProfileBanner")}),r.createElement(m.Z,null,(0,i.Xr)(null==b?void 0:b.personalInfo,null==b||null===(t=b.personalInfo)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.read,C)&&(0,i.cr)(null==b?void 0:b.personalInfo,se.$x.FEATURE_DICTIONARY.get("PROFILEINFO_PROFILE"))&&r.createElement(m.Z.Row,{columns:1},r.createElement(m.Z.Column,{width:16},N?r.createElement(d.M,{isNonLocalCredentialUser:y,featureConfig:b,onAlertFired:R}):r.createElement(hn,{isNonLocalCredentialUser:y,featureConfig:b,onAlertFired:R}))),A&&(0,i.Xr)(null==b?void 0:b.personalInfo,null==b||null===(n=b.personalInfo)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.read,C)&&(0,i.cr)(null==b?void 0:b.personalInfo,se.$x.FEATURE_DICTIONARY.get("PROFILEINFO_LINKED_ACCOUNTS"))&&r.createElement(m.Z.Row,{columns:1},r.createElement(m.Z.Column,{width:16},r.createElement(s.sH,{onAlertFired:R}))),A&&(0,i.Xr)(null==b?void 0:b.personalInfo,null==b||null===(u=b.personalInfo)||void 0===u||null===(u=u.scopes)||void 0===u?void 0:u.read,C)&&(0,i.cr)(null==b?void 0:b.personalInfo,se.$x.FEATURE_DICTIONARY.get("PROFILEINFO_EXTERNAL_LOGINS"))&&r.createElement(m.Z.Row,{columns:1},r.createElement(m.Z.Column,{width:16},r.createElement(s.T8,{onAlertFired:R,sourceIdp:_}))),A&&(0,i.Xr)(null==b?void 0:b.personalInfo,null==b||null===(f=b.personalInfo)||void 0===f||null===(f=f.scopes)||void 0===f?void 0:f.read,C)&&(0,i.cr)(null==b?void 0:b.personalInfo,se.$x.FEATURE_DICTIONARY.get("PROFILEINFO_EXPORT_PROFILE"))&&r.createElement(m.Z.Row,{columns:1},r.createElement(m.Z.Column,{width:16},r.createElement(s.Dg,{onAlertFired:R})))))};Mn.defaultProps={enableNonLocalCredentialUserView:Sn.x.nonLocalCredentialUser.enableNonLocalCredentialUserView};const _n=Mn},68115:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(81611),i=n.n(a),o=n(83948),r=n.n(o)()(i());r.push([e.id,'.form-actions-wrapper{display:flex;flex-wrap:nowrap;align-items:center;justify-content:flex-end;gap:8px}.field-label span.required::after{content:"*";color:var(--oxygen-palette-error-main);margin-left:2px}.multi-valued-field-form .MuiTableContainer-root{margin:8px 0}.multi-valued-field-form .OxygenTextField-root{background-color:var(--asg-input-field-base-background-color, #fff)}.multi-valued-field-form .form-actions-wrapper{justify-content:flex-start !important}.radio-group-field-form .OxygenFormControl-root{margin-bottom:8px}.radio-group-field-form .OxygenFormControl-root .OxygenRadioGroup-root{padding-left:4px;background-color:var(--asg-input-field-base-background-color, #fff)}.radio-group-field-form .form-actions-wrapper{justify-content:flex-start !important}.checkbox-group-field-form .OxygenFormControl-root{margin-bottom:8px}.checkbox-group-field-form .OxygenFormControl-root .OxygenFormGroup-root{padding-left:4px;background-color:var(--asg-input-field-base-background-color, #fff)}.checkbox-group-field-form .form-actions-wrapper{justify-content:flex-start !important}.dropdown-field-form .OxygenSelect-root{background-color:var(--asg-input-field-base-background-color, #fff)}',""]);const l=r},7747:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(81611),i=n.n(a),o=n(83948),r=n.n(o)()(i());r.push([e.id,".multi-value-table-label{padding:5px}.text-btn{padding:0px 10px}",""]);const l=r}}]);