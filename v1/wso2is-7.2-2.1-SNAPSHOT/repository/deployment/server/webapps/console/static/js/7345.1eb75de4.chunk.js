"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[7345],{22230:(e,t,n)=>{n.d(t,{W:()=>h});var a=n(25134),r=n(13550),i=n(90302),o=n(20494),l=n(44194),c=n(10479),s=n(12638),u=n(37077),d=n(47625),p=n(7231);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var h=function(e){var t=e.totalRoleList,n=e.emptyRolesListPlaceholder,m=e["data-componentid"],h=(0,c.$)().t,v=f((0,l.useState)(i.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),g=v[0],y=v[1],A=f((0,l.useState)(!0),2),S=A[0],b=A[1],T=f((0,l.useState)(!1),2),I=T[0],O=T[1],C=f((0,l.useState)(void 0),2),R=C[0],E=C[1],N=f((0,l.useState)(void 0),2),_=N[0],w=N[1],P=f((0,l.useState)(0),2),L=P[0],U=P[1],V=f((0,l.useState)(void 0),2),k=V[0],D=V[1],x=f((0,l.useState)(void 0),2),F=x[0],j=x[1],M=[{key:void 0,text:h("roles:list.filterOptions.all"),value:void 0},{key:p.cv.APPLICATION,text:h("roles:list.filterOptions.applicationRoles"),value:p.cv.APPLICATION},{key:p.cv.ORGANIZATION,text:h("roles:list.filterOptions.organizationRoles"),value:p.cv.ORGANIZATION}];(0,l.useEffect)((function(){t&&(w(t),b(!1))}),[t]),(0,l.useEffect)((function(){var e=t;if(F&&(e=e.filter((function(e){return e.audienceType.toUpperCase()===F}))),k){var n=k.split("co")[1].trim().toLowerCase();e=e.filter((function(e){return e.display.toLowerCase().includes(n)}))}w(e)}),[k,F]),(0,l.useEffect)((function(){E(G(_))}),[L,g,_]);var G=function(e){return(null==e?void 0:e.length)>=0?e.slice(L,L+g):[]};return l.createElement(o.PS,{advancedSearch:l.createElement(a.n,{"data-componentid":"".concat(m,"-list-advanced-search"),onFilter:function(e){U(0),O(!0),D(e)},disableSearchFilterDropdown:!0,filterAttributeOptions:[{key:0,text:h("roles:list.filterAttirbutes.name"),value:"displayName"}],filterAttributePlaceholder:h("roles:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:h("roles:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:h("roles:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:h("roles:advancedSearch.placeholder"),defaultSearchAttribute:"displayName",defaultSearchOperator:"co"}),listItemLimit:g,onItemsPerPageDropdownChange:function(e,t){y(t.value)},onPageChange:function(e,t){var n,a=null!==(n=null==t?void 0:t.activePage)&&void 0!==n?n:1;U((a-1)*g)},showTopActionPanel:!0,rightActionPanel:l.createElement(d.Z,{"data-componentid":"".concat(m,"-list-filters-dropdown"),selection:!0,options:M,placeholder:h("roles:list.buttons.filterDropdown"),onChange:function(e,t){U(0),O(!0),j(t.value)}}),showPagination:(null==_?void 0:_.length)>0,totalPages:Math.ceil((null==_?void 0:_.length)/g),totalListSize:null==_?void 0:_.length,isLoading:S,resetPagination:I},l.createElement(o.wQ,{loadingStateOptions:{imageType:"square"},columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){return l.createElement(s.Z,{image:!0,as:"h6",className:"header-with-icon","data-componentid":"".concat(m,"-item-heading")},l.createElement(o.JT,{image:l.createElement(o.Xo,{name:e.display,size:"mini","data-componentid":"".concat(m,"-item-image-inner")}),size:"mini",spaced:"right","data-componentid":"".concat(m,"-item-image")}),l.createElement(s.Z.Content,null,null==e?void 0:e.display))},title:h("roles:list.columns.name")},{allowToggleVisibility:!1,dataIndex:"audience",id:"audience",key:"audience",render:function(e){return l.createElement(u.Z,{size:"mini"},e.audienceType,e.audienceType.toUpperCase()===p.cv.APPLICATION?" | ".concat(e.audienceDisplay," "):"")},title:l.createElement("div",{className:"pl-3"},h("roles:list.columns.audience"))},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:null}],data:R,onRowClick:function(){},placeholders:(k||F)&&0===(null==R?void 0:R.length)?l.createElement(o.$J,{"data-componentid":"".concat(m,"-search-empty-placeholder"),image:(0,r.jF)().emptySearch,imageSize:"tiny",title:h("roles:readOnlyList.emptyPlaceholders.searchAndFilter.title"),subtitle:[h("roles:readOnlyList.emptyPlaceholders.searchAndFilter.subtitles.0"),h("roles:readOnlyList.emptyPlaceholders.searchAndFilter.subtitles.1")]}):0===(null==R?void 0:R.length)?n:null,"data-componentid":m}))};h.defaultProps={"data-componentid":"read-only-roles-list"}},3116:(e,t,n)=>{n.d(t,{Tf:()=>h,Wf:()=>v,sM:()=>m});var a=n(2292),r=n(96124),i=n(76271),o=n(87029),l=n(21257),c=n(43939),s=n(6833),u=n(44485);function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var f=a.AsgardeoSPAClient.getInstance().httpRequest.bind(a.AsgardeoSPAClient.getInstance()).bind(a.AsgardeoSPAClient.getInstance()),m=function(e,t,n){var a={data:[t,n,g(e),y(e)].filter((function(e){return null!=e})),headers:{Accept:"application/json","Content-Type":"application/json"},method:s.f2.PUT,url:i.h.getState().config.endpoints.validationServiceMgt};return f(a).then((function(e){if(200!==e.status)throw new c.u(u.Q0.CONFIGURATION_UPDATE_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new c.u(u.Q0.CONFIGURATION_STATUS_UPDATE_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},h=function(e){var t={data:{fields:e},headers:{Accept:"application/json","Content-Type":"application/json"},method:s.f2.POST,url:i.h.getState().config.endpoints.validationServiceMgt+"/revert"};return f(t).then((function(e){if(200!==e.status)throw new c.u(u.Q0.CONFIGURATION_REVERT_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new c.u(u.Q0.CONFIGURATION_REVERT_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},v=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,l.z)().organizationType,n={headers:{Accept:"application/json","Content-Type":"application/json"},method:s.f2.GET,params:{},url:t===o.$B.SUBORGANIZATION?i.h.getState().config.endpoints.validationServiceMgtSubOrg:i.h.getState().config.endpoints.validationServiceMgt},a=(0,r.Z)(e?n:null,{shouldRetryOnError:!1}),c=a.data,u=a.error;return{data:c,error:u,isLoading:!c&&!u,isValidating:a.isValidating,mutate:a.mutate}},g=function(e){if("username"!==e.field){var t=[{properties:[{key:"min.length",value:e.minLength?e.minLength:"8"},{key:"max.length",value:e.maxLength?e.maxLength:"30"}],validator:"LengthValidator"},{properties:[{key:"min.length",value:e.minNumbers?e.minNumbers:"1"}],validator:"NumeralValidator"},{properties:[{key:"min.length",value:e.minUpperCaseCharacters?e.minUpperCaseCharacters:"1"}],validator:"UpperCaseValidator"},{properties:[{key:"min.length",value:e.minLowerCaseCharacters?e.minLowerCaseCharacters:"8"}],validator:"LowerCaseValidator"},{properties:[{key:"min.length",value:e.minSpecialCharacters?e.minSpecialCharacters:"8"}],validator:"SpecialCharacterValidator"}];return e.uniqueCharacterValidatorEnabled&&Number(e.minUniqueCharacters)>0&&(t=[].concat(d(t),[{properties:[{key:"min.unique.character",value:e.minUniqueCharacters?e.minUniqueCharacters:"1"}],validator:"UniqueCharacterValidator"}])),e.consecutiveCharacterValidatorEnabled&&Number(e.maxConsecutiveCharacters)>0&&(t=[].concat(d(t),[{properties:[{key:"max.consecutive.character",value:e.maxConsecutiveCharacters?e.maxConsecutiveCharacters:"1"}],validator:"RepeatedCharacterValidator"}])),{field:"password",rules:t}}},y=function(e){if(e&&"password"!==(null==e?void 0:e.field)){var t=[];return"false"===(null==e?void 0:e.enableValidator)?t.push({properties:[{key:"enable.validator",value:"true"}],validator:"EmailFormatValidator"}):t.push({properties:[{key:"enable.validator",value:"true"},{key:"enable.special.characters",value:"".concat(!e.isAlphanumericOnly)}],validator:"AlphanumericValidator"},{properties:[{key:"min.length",value:e.minLength?e.minLength:"3"},{key:"max.length",value:e.maxLength?e.maxLength:"50"}],validator:"LengthValidator"}),{field:"username",rules:t}}}},44485:(e,t,n)=>{function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,c(a.key),a)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}n.d(t,{Ps:()=>s,Pv:()=>d,Q0:()=>u});var s=i((function e(){o(this,e)}));l(s,"VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS",{MIN_LENGTH:1,MIN_VALUE:0,PASSWORD_MIN_LENGTH:1,PASSWORD_MIN_VALUE:5}),l(s,"FEATURE_DICTIONARY",(new Map).set("RULE_BASED_PASSWORD_EXPIRY","validation.ruleBasedPasswordExpiry"));var u=i((function e(){o(this,e)}));l(u,"CONFIGURATION_STATUS_UPDATE_ERROR","An error occurred while updating validation configurations."),l(u,"CONFIGURATION_REVERT_ERROR","An error occurred while reverting validation configurations."),l(u,"CONFIGURATION_UPDATE_INVALID_STATUS_CODE_ERROR","Received an invalid status code while updating validation configurations."),l(u,"CONFIGURATION_REVERT_INVALID_STATUS_CODE_ERROR","Received an invalid status code while reverting validation configurations.");var d=function(e){return e.USERNAME="username",e.PASSWORD="password",e}({})},85036:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(81611),r=n.n(a),i=n(83948),o=n.n(i)()(r());o.push([e.id,".list-user-roles-section .ui.table thead th{background:rgba(0,0,0,0)}",""]);const l=o},84702:(e,t,n)=>{var a=n(51835),r=n.n(a),i=n(27975),o=n.n(i),l=n(55900),c=n.n(l),s=n(21555),u=n.n(s),d=n(3621),p=n.n(d),f=n(5062),m=n.n(f),h=n(85036),v={};v.styleTagTransform=m(),v.setAttributes=u(),v.insert=c().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=p();r()(h.Z,v),h.Z&&h.Z.locals&&h.Z.locals}}]);