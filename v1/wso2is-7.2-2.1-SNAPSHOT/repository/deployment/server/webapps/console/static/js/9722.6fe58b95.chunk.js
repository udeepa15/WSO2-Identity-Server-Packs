"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[9722],{9722:(t,e,n)=>{n.r(e),n.d(e,{default:()=>$});var r=n(55007),a=n(20494),o=n(44194),i=n(10479),l=n(47245),c=n(1807),s=n(51835),d=n.n(s),u=n(27975),f=n.n(u),m=n(55900),p=n.n(m),h=n(21555),g=n.n(h),v=n(3621),y=n.n(v),b=n(5062),w=n.n(b),O=n(44523),E={};E.styleTagTransform=w(),E.setAttributes=g(),E.insert=p().bind(null,"head"),E.domAPI=f(),E.insertStyleElement=y();d()(O.Z,E);O.Z&&O.Z.locals&&O.Z.locals;var x=n(26170),z=n(82160),S=n(82070),L=n(73061),N=n(17901),k=n(6833),P=n(82406),_=n(16590),j=n(79438),T=n(45634),Z=n.n(T),C=n(2292),A=n(76271),I=n(43939),H=C.AsgardeoSPAClient.getInstance().httpRequest.bind(C.AsgardeoSPAClient.getInstance());const M=function(t){var e={data:t,headers:{Accept:"application/json","Content-Type":"application/json"},method:k.f2.PATCH,url:"".concat(A.h.getState().config.endpoints.organizations,"/organizations/self")};return H(e).then((function(t){return Promise.resolve(t.data)})).catch((function(t){var e,n,r,a,o;return Promise.reject(new I.u((null==t||null===(e=t.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.description)||(null==t||null===(n=t.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message)||(null==t?void 0:t.message)||"An error occurred while updating the organization.",t.stack,null==t||null===(r=t.response)||void 0===r?void 0:r.status,null==t||null===(a=t.response)||void 0===a?void 0:a.request,null==t?void 0:t.response,null==t||null===(o=t.response)||void 0===o?void 0:o.config))}))};var q=n(2314),G=n(45087),F={};F.styleTagTransform=w(),F.setAttributes=g(),F.insert=p().bind(null,"head"),F.domAPI=f(),F.insertStyleElement=y();d()(G.Z,F);G.Z&&G.Z.locals&&G.Z.locals;function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}var Y=["data-componentid","onSubmit","readOnly"];function U(){return U=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U.apply(null,arguments)}function D(){D=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),l=new _(r||[]);return a(i,"_invoke",{value:L(t,n,l)}),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var f="suspendedStart",m="suspendedYield",p="executing",h="completed",g={};function v(){}function y(){}function b(){}var w={};s(w,i,(function(){return this}));var O=Object.getPrototypeOf,E=O&&O(O(j([])));E&&E!==n&&r.call(E,i)&&(w=E);var x=b.prototype=v.prototype=Object.create(w);function z(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(a,o,i,l){var c=u(t[a],t,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==R(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,i,l)}),(function(t){n("throw",t,i,l)})):e.resolve(d).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(t,r){function a(){return new e((function(e,a){n(t,r,e,a)}))}return o=o?o.then(a,a):a()}})}function L(e,n,r){var a=f;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:t,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===f)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=u(e,n,r);if("normal"===s.type){if(a=r.done?h:m,s.arg===g)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function N(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,N(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=u(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function j(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(R(e)+" is not iterable")}return y.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=s(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},z(S.prototype),s(S.prototype,l,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new S(d(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},z(x),s(x,c,"Generator"),s(x,i,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=j,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return l.type="throw",l.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:j(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function V(t,e,n,r,a,o,i){try{var l=t[o](i),c=l.value}catch(t){return void n(t)}l.done?e(c):Promise.resolve(c).then(r,a)}function Q(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){V(o,r,a,i,l,"next",t)}function l(t){V(o,r,a,i,l,"throw",t)}i(void 0)}))}}const X=function(t){var e=t["data-componentid"],n=void 0===e?"edit-self-organization-form":e,r=t.onSubmit,a=t.readOnly,c=void 0===a||a,s=function(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}(t,Y),d=(0,l.I0)(),u=(0,i.$)().t,f=(0,q.Z)(),m=f.data,p=f.mutate,h=function(t){return t?Z()(t).format("YYYY-MM-DD HH:mm:ss"):""};return m?o.createElement(j.vy,U({initialValues:{created:h(null==m?void 0:m.created),id:null==m?void 0:m.id,lastModified:h(null==m?void 0:m.lastModified),name:null==m?void 0:m.name,orgHandle:(null==m?void 0:m.orgHandle)||""},keepDirtyOnReinitialize:!0,onSubmit:function(t){var e={operation:"REPLACE",path:"/name",value:t.name};M([e]).then((function(){d((0,P.V_)({description:u("tenants:editSelfOrganization.notifications.updateOrganization.success.description"),level:k.QU.SUCCESS,message:u("tenants:editSelfOrganization.notifications.updateOrganization.success.message")})),p();var e=new CustomEvent("organization-updated",{detail:{newName:t.name,success:!0}});window.dispatchEvent(e),r&&r()})).catch((function(){d((0,P.V_)({description:u("tenants:editSelfOrganization.notifications.updateOrganization.error.description"),level:k.QU.ERROR,message:u("tenants:editSelfOrganization.notifications.updateOrganization.error.message")}))}))},validate:function(t){var e={name:void 0};return t.name&&""!==t.name.trim()||(e.name=u("tenants:editSelfOrganization.form.fields.organizationName.validations.required")),e},render:function(t){var e=t.handleSubmit,r=t.dirty;return o.createElement("form",{onSubmit:e,className:"edit-self-organization-form"},o.createElement(j.SE,{key:"id",width:16,className:"text-field-container",ariaLabel:"id",required:!1,"data-componentid":"".concat(n,"-id"),name:"id",type:"text",label:u("tenants:editSelfOrganization.form.fields.organizationId.label"),component:j.xh,readOnly:!0,InputProps:{endAdornment:o.createElement(L.Z,{title:u("tenants:editSelfOrganization.form.fields.organizationId.hint")},o.createElement("div",null,o.createElement(S.Z,{"aria-label":"Copy ID",className:"copy-button-adornment",onClick:Q(D().mark((function t(){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.CommonUtils.copyTextToClipboard(m.id);case 2:case"end":return t.stop()}}),t)}))),edge:"end"},o.createElement(N.TI,{size:12})))),readOnly:!0}}),o.createElement(j.SE,{key:"name",width:16,className:"text-field-container",ariaLabel:"name",required:!c,"data-componentid":"".concat(n,"-name"),name:"name",type:"text",label:u("tenants:editSelfOrganization.form.fields.organizationName.label"),placeholder:u("tenants:editSelfOrganization.form.fields.organizationName.placeholder"),component:j.xh,maxLength:100,minLength:0,readOnly:c}),o.createElement(j.SE,{key:"orgHandle",width:16,className:"text-field-container",ariaLabel:"orgHandle",required:!1,"data-componentid":"".concat(n,"-org-handle"),name:"orgHandle",type:"text",label:u("tenants:editSelfOrganization.form.fields.organizationHandle.label"),component:j.xh,readOnly:!0,InputProps:{endAdornment:o.createElement(L.Z,{title:u("tenants:editSelfOrganization.form.fields.organizationHandle.hint")},o.createElement("div",null,o.createElement(S.Z,{"aria-label":"Copy Organization Handle",className:"copy-button-adornment",onClick:Q(D().mark((function t(){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.CommonUtils.copyTextToClipboard(m.orgHandle);case 2:case"end":return t.stop()}}),t)}))),edge:"end","data-componentid":"".concat(n,"-org-handle-copy-button")},o.createElement(N.TI,{size:12})))),readOnly:!0}}),o.createElement(j.SE,{key:"created",width:16,className:"text-field-container",ariaLabel:"created",required:!1,"data-componentid":"".concat(n,"-created"),name:"created",type:"text",label:u("tenants:editSelfOrganization.form.fields.created.label"),component:j.xh,readOnly:!0}),o.createElement(j.SE,{key:"lastModified",width:16,className:"text-field-container",ariaLabel:"lastModified",required:!1,"data-componentid":"".concat(n,"-last-modified"),name:"lastModified",type:"text",label:u("tenants:editSelfOrganization.form.fields.lastModified.label"),component:j.xh,readOnly:!0}),!c&&o.createElement(z.Z,{autoFocus:!0,className:"edit-self-organization-form-submit-button",variant:"contained",color:"primary",type:"submit",disabled:!r},u("tenants:editSelfOrganization.actions.save.label")))}},s)):o.createElement(x.Z,{size:30})};const $=function(t){var e,n=t["data-componentid"],s=void 0===n?"organization-edit-page":n,d=(0,i.$)().t,u=(0,l.v9)((function(t){var e;return null==t||null===(e=t.config)||void 0===e||null===(e=e.ui)||void 0===e||null===(e=e.features)||void 0===e?void 0:e.organizations}));return(0,r.EV)(null==u||null===(e=u.scopes)||void 0===e?void 0:e.update)?o.createElement(a.Xg,{pageTitle:d("tenants:editSelfOrganization.title"),title:d("tenants:editSelfOrganization.title"),description:d("tenants:editSelfOrganization.subtitle"),"data-componentid":"".concat(s,"-page-layout"),bottomMargin:!1,className:"edit-self-organization-page"},o.createElement(c.Z,{"data-componentid":s,className:"edit-self-organization-content"},o.createElement(X,{"data-componentid":"".concat(s,"-form"),readOnly:!1}))):o.createElement(a.Xg,{pageTitle:d("tenants:editSelfOrganization.readOnly.title"),title:d("tenants:editSelfOrganization.readOnly.title"),description:d("tenants:editSelfOrganization.readOnly.subtitle"),"data-componentid":"".concat(s,"-page-layout"),bottomMargin:!1,className:"edit-self-organization-page"},o.createElement(c.Z,{"data-componentid":s,className:"edit-self-organization-content"},o.createElement(X,{"data-componentid":"".concat(s,"-form")})))}},45087:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(81611),a=n.n(r),o=n(83948),i=n.n(o)()(a());i.push([t.id,".edit-self-organization-form{display:flex;flex-direction:column;gap:1.5rem;max-width:var(--wso2is-admin-form-max-width)}.edit-self-organization-form p{margin-top:-1.5rem}.edit-self-organization-form .edit-self-organization-form-submit-button{align-self:flex-start;margin-top:var(--oxygen-spacing-2)}",""]);const l=i},44523:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(81611),a=n.n(r),o=n(83948),i=n.n(o)()(a());i.push([t.id,".edit-self-organization-page .edit-self-organization-content{width:100%;padding:var(--oxygen-spacing-5) var(--oxygen-spacing-6)}",""]);const l=i}}]);