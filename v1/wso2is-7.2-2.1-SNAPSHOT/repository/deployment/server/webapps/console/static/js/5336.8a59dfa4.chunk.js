"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[5336],{27298:(e,t,n)=>{n.d(t,{l:()=>l});var i=n(20494),o=n(44194),r=n(89141),a=n(62415),l=function(e){var t=e.tabId,n=e.children,l=(e["data-componentid"],(0,a.Z)()),c=l.templateMetadata,s=l.isTemplateMetadataRequestLoading,u=(0,o.useMemo)((function(){var e,n=[];return null==c||null===(e=c.edit)||void 0===e||null===(e=e.tabs)||void 0===e||e.forEach((function(e){var i;(null==e?void 0:e.id)===t&&(null!=e&&e.hiddenComponents&&Array.isArray(null==e?void 0:e.hiddenComponents)&&(null==e||null===(i=e.hiddenComponents)||void 0===i?void 0:i.length)>0&&(n=null==e?void 0:e.hiddenComponents))})),n}),[c,t]);return s||!u?o.createElement(r.Z.Row,{columns:1},o.createElement(r.Z.Column,{mobile:16,tablet:16,computer:16},o.createElement(i.pO,{inline:"centered",active:!0}))):0===(null==u?void 0:u.length)?o.createElement(o.Fragment,null,n):o.createElement(o.Fragment,null,o.Children.map(n,(function(e){var t,n=null==e||null===(t=e.props)||void 0===t?void 0:t["data-componentid"];return n&&null!=u&&u.includes(n)?null:e})))}},8285:(e,t,n)=>{n.d(t,{Z:()=>o});var i=(0,n(44194).createContext)(null);i.displayName="ApplicationTemplateMetadataContext";const o=i},62415:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(44194),o=n(8285);const r=function(){var e=(0,i.useContext)(o.Z);if(void 0===e)throw new Error("useApplicationTemplateMetadata hook must be used within a ApplicationTemplateMetadataProvider");return e}},90236:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(96124),o=n(76271),r=n(6833);const a=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a={headers:{Accept:"application/json","Content-Type":"application/json"},method:r.f2.GET,url:"".concat(o.h.getState().config.endpoints.applications,"/").concat(e,"/inbound-protocols/").concat(t)},l=(0,i.Z)(n?a:null),c=l.data,s=l.error;return{data:c,error:s,isLoading:!s&&!c,isValidating:l.isValidating,mutate:l.mutate}}},30418:(e,t,n)=>{n.d(t,{E:()=>ei});var i=n(55007),o=n(23658),r=n(13550),a=n(76271),l=n(51021),c=n(6833),s=n(82406),u=n(20494),d=n(64704),p=n(23744),m=n(44194),f=n(10479),g=n(59673),h=n(47245),v=n(62508),b=n(89141),E=n(10909),y=n(12638),A=n(22557),T=n.n(A),O=n(42177),S=n(1807),I=n(50735);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var N=function(e){var t=e.className,n=e.disabled,i=e.displayName,o=e.image,r=e.key,a=e.onClick,l=e.overlayOpacity,c=e.raised,s=e.showOption,d=e.iconClass,p=e["data-testid"],g=(0,f.$)().t,h=T()("tech-selection basic-card",{"disabled no-hover":n},t),v=C((0,m.useState)(!1),2),b=v[0],E=v[1],y=C((0,m.useState)(!1),2),A=y[0],w=y[1];return m.createElement(S.Z,{as:"div",link:!1,key:r,raised:c,"data-testid":null!=p?p:"protocol-card-".concat((0,O.Z)(i)),className:h,onClick:s?function(){return w(!A)}:!n&&a,onMouseEnter:function(){return E(!0)},onMouseLeave:function(){return E(!1)}},n&&m.createElement(I.Z,{className:"lighter",active:b},g("common:featureAvailable")),m.createElement(S.Z.Content,{textAlign:"center",style:{opacity:n?l:1}},m.createElement(u.dn,{defaultIcon:!0,transparent:!0,size:"mini",className:"mb-2 ".concat(d," "),icon:o}),m.createElement(S.Z.Description,null,i)))};N.defaultProps={"data-testid":"technology-card",showOption:!1};var R=n(50699),_=n(29903),L=n(48773),P=n(35407),k=function(e){var t,n=e.setSAMLProtocol,i=e["data-testid"];return m.createElement(u.pJ,{basic:!0,"data-testid":i},m.createElement(b.Z,null,(t=[{image:(0,_.pr)().manual,mode:L.T6.MANUAL,name:P.y.resolveSAMLConfigModeDisplayName(L.T6.MANUAL)},{image:(0,_.pr)().fileBased,mode:L.T6.META_FILE,name:P.y.resolveSAMLConfigModeDisplayName(L.T6.META_FILE)},{image:(0,_.pr)().URLBased,mode:L.T6.META_URL,name:P.y.resolveSAMLConfigModeDisplayName(L.T6.META_URL)}],m.createElement(b.Z.Row,{className:"protocol-selection-wrapper check",textAlign:"center"},m.createElement(b.Z.Column,{width:16},m.createElement("div",{"data-testid":i},m.createElement(u.X6,{as:"h2",className:"mb-1",compact:!0},"Which mode are you using?"),m.createElement(u.xv,{muted:!0},"Select the mode of configuration for your SAML application."),m.createElement(v.Z,{hidden:!0}),!(0,R.Z)(t)&&Array.isArray(t)&&t.length>0&&m.createElement(S.Z.Group,{centered:!0,className:"tech-selection-cards mt-3",itemsPerRow:9},t.map((function(e,t){var i;return m.createElement(N,{key:t,raised:!1,"data-testid":null!==(i=e["data-testid"])&&void 0!==i?i:"technology-card-".concat((0,O.Z)(e.name)),onClick:function(){return n(e.mode)},displayName:e.name,overlayOpacity:.6,image:e.image,className:"protocol-card",iconClass:e.mode===L.T6.META_FILE})})))))))))};k.defaultProps={"data-testid":"protocol-saml-configuration-mode-landing"};var M=n(6567),x=n(39709),U=n(9821),D=n(89608),Z=n(55368),j=n(84548),F=n(73348),H=n(36940),V=n(16590),B=n(96334),q=n(34194),G=n(19980),z=n(47018),$=["certificate","data-testid"];function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},W.apply(null,arguments)}var K=function(e){var t=e.certificate,n=e["data-testid"],i=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,$),o=(0,f.$)().t,a=m.createElement(G.Z,{className:"certificate","data-testid":n},m.createElement("p",{className:"certificate-field"},"We were unable to read this certificate. Currently we only support displaying public key information in certificate types of ",H.lu.SUPPORTED_KEY_ALGORITHMS.map((function(e,t){return m.createElement("span",{key:"".concat(e,"+").concat(t)},m.createElement(u.EK,null,e),"\xa0")}))," key algorithms. Support for ",m.createElement("strong",null,"Elliptic Curve Cryptography"),"\xa0 key algorithms will be enabled soon."));return m.createElement(z.Z,W({closeOnDimmerClick:!0,className:"certificate-display",dimmer:"blurring",size:"tiny","data-testid":"".concat(n,"-view-certificate-modal")},i),m.createElement(z.Z.Header,null,m.createElement("div",{className:"certificate-ribbon"},m.createElement(u.dn,{inline:!0,transparent:!0,size:"auto",icon:(0,r._5)().ribbon}),m.createElement("div",{className:"certificate-alias"},"View Certificate - ",null!=t&&t.alias?null==t?void 0:t.alias:(null==t?void 0:t.issuerDN)&&V.CertificateManagementUtils.searchIssuerDNAlias(null==t?void 0:t.issuerDN)),m.createElement("br",null),m.createElement("div",{className:"certificate-serial"},"Serial Number: ",null==t?void 0:t.serialNumber))),m.createElement(z.Z.Content,{className:"certificate-content"},null!=t&&t.infoUnavailable?a:m.createElement(u.KB,{certificate:t,labels:{issuerDN:o("certificates:keystore.summary.issuerDN"),subjectDN:o("certificates:keystore.summary.subjectDN"),validFrom:o("certificates:keystore.summary.validFrom"),validTill:o("certificates:keystore.summary.validTill"),version:o("certificates:keystore.summary.version")}})))};function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||Q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){if(e){if("string"==typeof e)return J(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}K.defaultProps={"data-testid":"certificate-form-field-modal"};var X=function(e){var t=e.certificate,n=e.metadata,i=e.initialValues,o=e.onSubmit,r=e.readOnly,a=e.isLoading,l=e["data-testid"],d=(0,f.$)().t,p=(0,h.I0)(),g=Y((0,m.useState)(!1),2),y=g[0],A=g[1],T=Y((0,m.useState)(!1),2),O=T[0],S=T[1],I=Y((0,m.useState)(void 0),2),C=I[0],w=I[1],N=Y((0,m.useState)(null),2),_=N[0],P=N[1];(0,m.useEffect)((function(){j.el.PEM===(null==t?void 0:t.type)&&(A(!0),null!=t&&t.value&&w(t.value))}),[t]);var k=function(){if(n){var e=null==n?void 0:n.properties;return e.length>0&&e.sort((function(e,t){return e.displayOrder>t.displayOrder?1:-1})),e.map((function(e){var t=i.properties.find((function(t){return t.key===e.name}));return function(e,t){var n;return(null==e||null===(n=e.availableValues)||void 0===n?void 0:n.length)>0?m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,type:"dropdown",value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:d("applications:forms.inboundCustom.fields.dropdown.validations.empty",{name:null==e?void 0:e.displayName}),default:null==e?void 0:e.defaultValue,children:M(null==e?void 0:e.availableValues),"data-testid":"".concat(l,"-").concat(null==e?void 0:e.name,"-dropdown")}))):null!=e&&e.isConfidential?m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,hidePassword:d("common:hide")+" "+(null==e?void 0:e.displayName),showPassword:d("common:show")+" "+(null==e?void 0:e.displayName),value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:d("applications:forms.inboundCustom.fields.password.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:d("applications:forms.inboundCustom.fields.password.placeholder",{name:null==e?void 0:e.displayName}),type:"password",default:null==e?void 0:e.defaultValue,"data-testid":"".concat(l,"-").concat(null==e?void 0:e.name,"-password-input")}))):(null==e?void 0:e.type)===L.og.BOOLEAN?m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{name:null==e?void 0:e.name,label:"",required:null==e?void 0:e.required,requiredErrorMessage:d("applications:forms.inboundCustom.fields.checkbox.validations.empty",{user:null==e?void 0:e.displayName}),value:null!=t&&t.value?[e.name]:[],type:"checkbox",children:[{label:e.displayName,value:e.name}],"data-testid":"".concat(l,"-").concat(null==e?void 0:e.name,"-checkbox")}))):m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,required:null==e?void 0:e.required,value:null==t?void 0:t.value,requiredErrorMessage:d("applications:forms.inboundCustom.fields.generic.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:d("applications:forms.inboundCustom.fields.generic.placeholder",{name:null==e?void 0:e.displayName}),type:(null==e?void 0:e.type)===L.og.INTEGER?"number":"text","data-testid":"".concat(l,"-").concat(null==e?void 0:e.name,"-input")})))}(e,t)}))}},M=function(e){var t=[];return e&&e.map((function(n){t.push({key:e.indexOf(n),text:n,value:n})})),t},x=function(e){var t,n=[],o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Q(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw r}}}}(e);try{for(o.s();!(t=o.n()).done;){var r=Y(t.value,2),a=r[0],l=r[1],c=void 0;c=l instanceof Array?{key:a,value:l.length>0}:{key:a,value:l},n.push(c)}}catch(s){o.e(s)}finally{o.f()}return{general:{advancedConfigurations:{certificate:{type:e.get("type"),value:y?e.get("certificateValue"):e.get("jwksValue")}}},inbound:{configName:null==i?void 0:i.configName,name:null==i?void 0:i.name,properties:[].concat(n)}}};(0,m.useEffect)((function(){n&&k()}),[n]);return m.createElement(B.Es,{onSubmit:function(e){o(x(e))}},m.createElement(b.Z,null,k(),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null)),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h5"},d("applications:forms.advancedConfig.sections.certificate.heading")),m.createElement(B.gN,{label:d("applications:forms.advancedConfig.sections.certificate.fields.type.label"),name:"type",default:j.el.JWKS,listen:function(e){A("PEM"===e.get("type"))},type:"radio",value:null==t?void 0:t.type,children:[{label:d("applications:forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:j.el.JWKS},{label:d("applications:forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:j.el.PEM}],readOnly:r,"data-testid":"".concat(l,"-certificate-type-radio-group")}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},y?m.createElement(m.Fragment,null,m.createElement(B.gN,{name:"certificateValue",label:d("applications:forms.advancedConfig.sections.certificate.fields.pemValue.label"),required:!1,requiredErrorMessage:d("applications:forms.advancedConfig.sections.certificate.fields.pemValue.validations.empty"),placeholder:U.jo.PEM_CERTIFICATE_PLACEHOLDER,type:"textarea",value:j.el.PEM===(null==t?void 0:t.type)&&(null==t?void 0:t.value),listen:function(e){w(e.get("certificateValue"))},readOnly:r,"data-testid":"".concat(l,"-certificate-textarea")}),m.createElement(u.kW,null,d("applications:forms.advancedConfig.sections.certificate.fields.pemValue.hint")),m.createElement(u.Qj,{className:"certificate-info-link-button",onClick:function(e){var t;e.preventDefault(),y&&C&&((t=V.CertificateManagementUtils.canSafelyParseCertificate(C)?V.CertificateManagementUtils.displayCertificate(null,C):H.lu.DUMMY_DISPLAY_CERTIFICATE)?(P(t),S(!0)):p((0,s.V_)({description:d("applications:notifications.invalidPEMFile.genericError.description"),level:c.QU.ERROR,message:d("applications:notifications.invalidPEMFile.genericError.message")})))},disabled:(0,R.Z)(C),"data-testid":"".concat(l,"-certificate-info-button")},d("applications:forms.advancedConfig.sections.certificate.fields.pemValue.actions.view"))):m.createElement(m.Fragment,null,m.createElement(B.gN,{name:"jwksValue",label:d("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:!1,requiredErrorMessage:d("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:d("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(d("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid")))},value:j.el.JWKS===(null==t?void 0:t.type)&&(null==t?void 0:t.value),readOnly:r,"data-testid":"".concat(l,"-jwks-input")})))),O&&m.createElement(K,{open:O,certificate:_,onClose:function(){S(!1)}}),!r&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(E.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:a,disabled:a},d("common:update"))))))};X.defaultProps={"data-testid":"inbound-custom-protocol-form"};var ee=n(74822),te=n(86989),ne=n(758),ie=n(7603),oe=n(27298),re=n(6894),ae=n(37746),le=n(29314),ce=n(78852),se=n(90955),ue=n(87029),de=n(21257),pe=n(86105),me=n(1651),fe=n(65397),ge=n(66528),he=n(37077),ve=n(77757),be=n(73432),Ee=n(53036),ye=n(20456),Ae=n(65535),Te=n(45572),Oe=n(6288),Se=n(56514),Ie=n(5466),Ce=n(65612),we=n(48934),Ne=n(51835),Re=n.n(Ne),_e=n(27975),Le=n.n(_e),Pe=n(55900),ke=n.n(Pe),Me=n(21555),xe=n.n(Me),Ue=n(3621),De=n.n(Ue),Ze=n(5062),je=n.n(Ze),Fe=n(49091),He={};He.styleTagTransform=je(),He.setAttributes=xe(),He.insert=ke().bind(null,"head"),He.domAPI=Le(),He.insertStyleElement=De();Re()(Fe.Z,He);Fe.Z&&Fe.Z.locals&&Fe.Z.locals;var Ve=function(e){var t=e.selected,n=e.displayName,i=e.claimURI,o=e.renderOptionProps;return m.createElement("li",o,m.createElement(Ce.Z,{container:!0,justifyContent:"space-between",alignItems:"center",xs:12},m.createElement(Ce.Z,{container:!0,alignItems:"top",xs:8},m.createElement(Ce.Z,null,m.createElement(Ie.Z,{checked:t,className:"access-token-attribute-option-checkbox"})),m.createElement(Ce.Z,{xs:5},m.createElement(we.Z,{primary:n}),m.createElement(u.EK,null,i)))))},Be=n(90302),qe=n(45634),Ge=n.n(qe),ze=n(26154),$e=n(93545),We=n(64643);function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ye(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ye(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Qe=function(e){var t=e.closeWizard,n=e.currentStep,i=e.updatePEMValue,o=e["data-testid"],r=(0,f.$)().t,a=Ke((0,B.cC)(),2),l=a[0],c=a[1],s=Ke((0,B.cC)(),2),d=s[0],p=s[1],g=Ke((0,m.useState)(void 0),1)[0],h=Ke((0,m.useState)(n),2),v=h[0],E=h[1],y=Ke((0,m.useState)(!1),2),A=y[0],T=y[1],O=Ke((0,u.IK)(),3),S=O[0],I=O[2];(0,m.useEffect)((function(){void 0!==g&&E(v-1)}),[g]);var C=[{content:m.createElement($e.J,{triggerCertificateUpload:d,triggerSubmit:l,onSubmit:function(e){!function(e){i(e),t()}(e)},setShowFinishButton:T}),icon:(0,We.ot)().general,title:r("certificates:keystore.wizard.steps.upload")}];return m.createElement(z.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:t,"data-testid":o,closeOnDimmerClick:!1,closeOnEscape:!0},m.createElement(z.Z.Header,{className:"wizard-header"},r("applications:wizards.applicationCertificateWizard.heading"),m.createElement(u.X6,{as:"h6"},r("applications:wizards.applicationCertificateWizard.subHeading"))),m.createElement(z.Z.Content,{className:"content-container",scrolling:!0},S&&I,C[v].content),m.createElement(z.Z.Actions,null,m.createElement(b.Z,null,m.createElement(b.Z.Row,{column:1},m.createElement(b.Z.Column,{mobile:8,tablet:8,computer:8},m.createElement(u.Qj,{floated:"left",onClick:function(){return t()},"data-testid":"".concat(o,"-cancel-button")},r("common:cancel"))),m.createElement(b.Z.Column,{mobile:8,tablet:8,computer:8},v===C.length-1&&m.createElement(u.KM,{disabled:!A,floated:"right",onClick:function(){if(0===v)p(),c()},"data-testid":"".concat(o,"-finish-button")},r("common:finish")))))))};function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function Xe(){Xe=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,a=Object.create(r.prototype),l=new _(i||[]);return o(a,"_invoke",{value:C(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",g="completed",h={};function v(){}function b(){}function E(){}var y={};s(y,a,(function(){return this}));var A=Object.getPrototypeOf,T=A&&A(A(L([])));T&&T!==n&&i.call(T,a)&&(y=T);var O=E.prototype=v.prototype=Object.create(y);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,r,a,l){var c=d(e[o],e,r);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Je(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var r;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return r=r?r.then(o,o):o()}})}function C(t,n,i){var o=p;return function(r,a){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===r)throw a;return{value:e,done:!0}}for(i.method=r,i.arg=a;;){var l=i.delegate;if(l){var c=w(l,i);if(c){if(c===h)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?g:m,s.arg===h)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=g,i.method="throw",i.arg=s.arg)}}}function w(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,w(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var r=d(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Je(t)+" is not iterable")}return b.prototype=E,o(O,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=s(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new I(u(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(O),s(O,c,"Generator"),s(O,a,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=L,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;R(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:L(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Je(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Je(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Je(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e,t,n,i,o,r,a){try{var l=e[r](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,o)}function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Qe.defaultProps={currentStep:0,"data-testid":"add-application-certificate-wizard"};var at=function(e){var t=e.deleteAllowed,n=e.reasonInsideTooltipWhyDeleteIsNotAllowed,i=e.onUpdate,o=e.application,a=e.applicationCertificate,l=e.updatePEMValue,d=e["data-testid"],p=(0,f.$)().t,g=(0,h.I0)(),E=ot((0,m.useState)(null),2),y=E[0],A=E[1],T=ot((0,m.useState)(!1),2),O=T[0],S=T[1],I=ot((0,m.useState)(null),2),C=I[0],w=I[1],N=ot((0,m.useState)(!1),2),R=N[0],_=N[1],L=ot((0,m.useState)(!1),2),P=L[0],k=L[1],x=ot((0,m.useState)(!1),2),U=x[0],D=x[1];(0,m.useEffect)((function(){if(a){var e=[];V.CertificateManagementUtils.canSafelyParseCertificate(a)?null==e||e.push(V.CertificateManagementUtils.displayCertificate(null,a)):null==e||e.push(H.lu.DUMMY_DISPLAY_CERTIFICATE),A(e)}}),[a]),(0,m.useEffect)((function(){C&&S(!0)}),[C]),(0,m.useEffect)((function(){O||w(null)}),[O]);var Z=function(e){w(e)},F=function(){var e,t=(e=Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),l(""),A(null),e.prev=4,t={general:{advancedConfigurations:{certificate:{type:j.el.PEM,value:""}}}},e.next=8,(0,M.hN)(tt({id:null==o?void 0:o.id},t.general));case 8:g((0,s.V_)({description:p("applications:notifications.deleteCertificateSuccess.description"),level:c.QU.SUCCESS,message:p("applications:notifications.deleteCertificateSuccess.message")})),e.next=17;break;case 11:if(e.prev=11,e.t0=e.catch(4),!(e.t0.response&&e.t0.response.data&&e.t0.response.data.description)){e.next=16;break}return g((0,s.V_)({description:e.t0.response.data.description,level:c.QU.ERROR,message:e.t0.response.data.message})),e.abrupt("return");case 16:g((0,s.V_)({description:p("applications:notifications.deleteCertificateGenericError.description"),level:c.QU.ERROR,message:p("applications:notifications.deleteCertificateGenericError.message")}));case 17:return e.prev=17,k(!1),D(!1),i(o.id),e.finish(17);case 22:case"end":return e.stop()}}),e,null,[[4,11,17,22]])})),function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){it(r,i,o,a,l,"next",e)}function l(e){it(r,i,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),q=m.createElement(u.cV,{onClose:function(){return k(!1)},onSecondaryActionClick:function(){return k(!1)},primaryActionLoading:U,onPrimaryActionClick:F,open:P,type:"negative",primaryAction:p("applications:confirmations.certificateDelete.primaryAction"),secondaryAction:p("applications:confirmations.certificateDelete.secondaryAction"),"data-testid":"".concat(d,"-delete-confirmation-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-testid":"".concat(d,"-delete-confirmation-modal-header")},p("applications:confirmations.certificateDelete.header")),m.createElement(u.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(d,"-delete-confirmation-modal-message")},p("applications:confirmations.certificateDelete.message"))),z=function(e,t,n){var i,o,r=Ge()(t);switch(V.CertificateManagementUtils.determineCertificateValidityState({from:e,to:t})){case c.WE.VALID:i="check circle",o="green";break;case c.WE.WILL_EXPIRE_SOON:i="exclamation circle",o="yellow";break;default:i="times circle",o="red"}return m.createElement(m.Fragment,null,n+H.lu.SPACE_CHARACTER,m.createElement(u.GI,{trigger:m.createElement(ze.Z,{name:i,color:o}),content:"Expiry date: "+r.format("DD/MM/YYYY"),inverted:!0,position:"top left",size:"mini"}))},$=function(e){return m.createElement(u.Yt,{name:null!=e&&e.infoUnavailable?H.lu.QUESTION_MARK:V.CertificateManagementUtils.searchIssuerDNAlias(null==e?void 0:e.issuerDN),size:"mini",floated:"left"})},W=function(e){return m.createElement("span",{className:"with-muted-list-item-header"},"Unable to visualize the certificate details\xa0",m.createElement(u.GI,{trigger:m.createElement(ze.Z,{onClick:function(){return Z(e)},name:"info circle",color:"grey"}),content:"Click for more info",inverted:!0,position:"top left",size:"mini"}))};return m.createElement(B.Es,null,y?m.createElement(b.Z,null,m.createElement(b.Z.Row,null,m.createElement(b.Z.Column,{width:16},m.createElement(v.Z,{hidden:!0}),m.createElement(u.Db,{fill:!0,relaxed:!1,className:"application-list",loadingStateOptions:{count:Be.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"}},null==y?void 0:y.map((function(e,i){return m.createElement(u.zA,{key:i,actionsColumnWidth:3,descriptionColumnWidth:9,actions:[{"data-testid":"".concat(d,"-edit-cert-").concat(i,"-button"),icon:"pencil",onClick:function(){return _(!0)},popupText:"Change certificate",type:"button"},{"data-testid":"".concat(d,"-edit-cert-").concat(i,"-button"),disabled:null==e?void 0:e.infoUnavailable,hidden:null==e?void 0:e.infoUnavailable,icon:"eye",onClick:function(){return Z(e)},popupText:"View certificate",type:"button"},{"data-testid":"".concat(d,"-delete-cert-").concat(i,"-button"),disabled:!t,icon:"trash alternate",onClick:function(){return k(!0)},popupText:t?p("users:usersList.list.iconPopups.delete"):n,type:"button"}],actionsFloated:"right",avatar:$(e),itemHeader:null!=e&&e.infoUnavailable?W(e):z(e.validFrom,e.validTill,V.CertificateManagementUtils.searchIssuerDNAlias(null==e?void 0:e.issuerDN)),itemDescription:null!=e&&e.infoUnavailable?null:V.CertificateManagementUtils.getValidityPeriodInHumanReadableFormat(e.validFrom,e.validTill)})})))))):m.createElement(b.Z,null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{width:16},m.createElement(v.Z,{hidden:!0}),m.createElement(G.Z,null,m.createElement(u.$J,{title:p("applications:wizards.applicationCertificateWizard.emptyPlaceHolder.title"),image:(0,r.jF)().emptyList,subtitle:[p("applications:wizards.applicationCertificateWizard.emptyPlaceHolder.description1"),p("applications:wizards.applicationCertificateWizard.emptyPlaceHolder.description2")],imageSize:"tiny",action:m.createElement(u.KM,{onClick:function(){return _(!0)},"data-testid":"".concat(d,"-emptyPlaceholder-add-certificate-button"),type:"button"},m.createElement(ze.Z,{name:"add"}),p("authenticationProvider:buttons.addCertificate")),"data-testid":"".concat(d,"-empty-placeholder")})),m.createElement(v.Z,{hidden:!0})))),R&&m.createElement(Qe,{closeWizard:function(){return _(!1)},updatePEMValue:l,"data-testid":"".concat(d,"-add-certificate-wizard")}),q,O&&m.createElement(K,{open:O,certificate:C,onClose:function(){return S(!1)}}))};function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ct(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ct(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}at.defaultProps={"data-testid":"application-certificate-list",deleteAllowed:!0,reasonInsideTooltipWhyDeleteIsNotAllowed:null};var st=function(e){var t=e.protocol,n=e.deleteAllowed,i=e.reasonInsideTooltipWhyDeleteIsNotAllowed,o=e.onUpdate,r=e.application,a=e.certificate,d=e.triggerSubmit,p=e.hidden,E=e.hideJWKS,y=e.readOnly,A=e.updateCertFinalValue,T=e.updateCertType,O=e.canDiscardCertificate,S=e["data-testid"],I=(0,f.$)().t,C=(0,h.I0)(),w=lt((0,m.useState)(!1),2),N=w[0],_=w[1],P=lt((0,m.useState)(j.el.NONE),2),k=P[0],M=P[1],x=lt((0,m.useState)(void 0),2),U=x[0],D=x[1],Z=lt((0,m.useState)(void 0),2),F=Z[0],H=Z[1],G=lt((0,m.useState)(!1),2),z=G[0],$=G[1],W=lt((0,m.useState)(!1),2),K=W[0],Y=W[1],Q=lt((0,m.useState)(!1),2),J=Q[0],X=Q[1];(0,m.useEffect)((function(){null!=a&&a.type&&M(null==a?void 0:a.type)}),[a]),(0,m.useEffect)((function(){j.el.PEM===k?(A(U),(0,R.Z)(U)||_(!1)):j.el.JWKS===k&&A(F)}),[U,F]),(0,m.useEffect)((function(){j.el.PEM===(null==a?void 0:a.type)?null!=a&&a.value&&D(a.value):j.el.JWKS===(null==a?void 0:a.type)&&null!=a&&a.value&&H(a.value)}),[a]),(0,m.useEffect)((function(){ee(k),j.el.PEM===k?H(""):j.el.JWKS===k&&D("")}),[k]),(0,m.useEffect)((function(){(null==r?void 0:r.templateId)===j.u.M2M_APPLICATION&&X(!0)}),[r]);var ee=function(e){e!==j.el.PEM||(0,R.Z)(F)?e!==j.el.JWKS||(0,R.Z)(U)||C((0,s.V_)({description:I("authenticationProvider:notifications.changeCertType.jwks.description"),level:c.QU.WARNING,message:I("authenticationProvider:notifications.changeCertType.jwks.message")})):C((0,s.V_)({description:I("authenticationProvider:notifications.changeCertType.pem.description"),level:c.QU.WARNING,message:I("authenticationProvider:notifications.changeCertType.pem.message")})),k===j.el.NONE&&a?Y(!0):Y(!1),T(e)};return p?null:m.createElement(B.Es,{onSubmit:function(){ee(k),k===j.el.PEM&&(0,R.Z)(U)&&_(!0)},submitState:d},m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null)),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h4"},I("applications:forms.advancedConfig.sections.certificate.heading")),m.createElement(B.gN,{label:I("applications:forms.advancedConfig.sections.certificate.fields.type.label"),name:"certificateType",default:k,listen:function(e){M(e.get("certificateType")),ee(e.get("certificateType"))},onBefore:function(e,t){var n=t;return!(j.el.NONE===n&&O&&!O())||($(!0),!1)},type:"radio",value:null==a?void 0:a.type,children:E?[{label:"None",value:j.el.NONE},{hint:{content:I("applications:forms.advancedConfig.sections.certificate.fields.pemValue.description"),header:I("applications:forms.advancedConfig.sections.certificate.fields.type.children.pem.label")},label:I("applications:forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:j.el.PEM}]:[{label:"None",value:j.el.NONE},{hint:{content:I("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.description"),header:I("applications:forms.advancedConfig.sections.certificate.fields.type.children.jwks.label")},label:I("applications:forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:j.el.JWKS},{hint:{content:I("applications:forms.advancedConfig.sections.certificate.fields.pemValue.description"),header:I("applications:forms.advancedConfig.sections.certificate.fields.type.children.pem.label")},label:I("applications:forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:j.el.PEM}],readOnly:y,"data-testid":"".concat(S,"-certificate-type-radio-group")}),K&&m.createElement(u.v0,{"data-componentid":"application-certificate-removal-warning-message",type:"warning",header:"Warning",content:m.createElement(m.Fragment,null,I("applications:forms.inboundSAML.sections.certificates.certificateRemoveConfirmation.content"))}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},k===j.el.PEM&&m.createElement(at,{deleteAllowed:n,reasonInsideTooltipWhyDeleteIsNotAllowed:i,onUpdate:o,application:r,updatePEMValue:function(e){D(e)},applicationCertificate:U}),k===j.el.JWKS&&!E&&m.createElement(B.gN,{name:"jwksValue",displayErrorOn:"blur",label:I("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:j.el.JWKS===k,requiredErrorMessage:I("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:I("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(I("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid"))),null!==l.xg&&void 0!==l.xg&&l.xg.blockLoopBackCalls&&V.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(I("idp:forms.common.internetResolvableErrorMessage")))},listen:function(e){H(e.get("jwksValue"))},value:j.el.JWKS===(null==a?void 0:a.type)&&(null==a?void 0:a.value),readOnly:y,"data-testid":"".concat(S,"-jwks-input")}),N&&(0,R.Z)(U)&&j.el.PEM===k&&m.createElement(u.v0,{type:"error","data-testid":"".concat(S,"-error-message"),content:I("certificates:keystore.errorEmpty")}),t&&!J&&m.createElement(u.kW,null,function(e){switch(e){case L.AI.OAUTH2_OIDC:case L.AI.OIDC:return m.createElement(g.c,{i18nKey:"applications:forms.advancedConfig.sections.certificate.hint.customOidc"},"This certificate is used to encrypt the ",m.createElement(u.EK,null,"id_token"),"returned after the authentication.");case L.AI.SAML:return I("applications:forms.advancedConfig.sections.certificate.hint.customSaml");case L.AI.WS_FEDERATION:return I("applications:forms.advancedConfig.sections.certificate.hint.customPassiveSTS");default:return null}}(t)))),z&&m.createElement(u.cV,{onClose:function(){return $(!1)},type:"negative",open:z,primaryAction:I("common:okay"),onPrimaryActionClick:function(){$(!1)},closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-testid":"".concat(S,"-invalid-operation-modal-header")},I("applications:forms.advancedConfig.sections.certificate.invalidOperationModal.header")),m.createElement(u.cV.Content,{"data-testid":"".concat(S,"-invalid-operation-modal-content")},I("applications:forms.advancedConfig.sections.certificate.invalidOperationModal.message"))))};st.defaultProps={"data-testid":"application-certificate-wrapper",deleteAllowed:!0,hidden:!1,hideJWKS:!1,isRequired:!1,protocol:null,reasonInsideTooltipWhyDeleteIsNotAllowed:null};var ut=n(99710),dt={};dt.styleTagTransform=je(),dt.setAttributes=xe(),dt.insert=ke().bind(null,"head"),dt.domAPI=Le(),dt.insertStyleElement=De();Re()(ut.Z,dt);ut.Z&&ut.Z.locals&&ut.Z.locals;function pt(e){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pt(e)}function mt(){mt=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,a=Object.create(r.prototype),l=new _(i||[]);return o(a,"_invoke",{value:C(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",g="completed",h={};function v(){}function b(){}function E(){}var y={};s(y,a,(function(){return this}));var A=Object.getPrototypeOf,T=A&&A(A(L([])));T&&T!==n&&i.call(T,a)&&(y=T);var O=E.prototype=v.prototype=Object.create(y);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,r,a,l){var c=d(e[o],e,r);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==pt(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var r;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return r=r?r.then(o,o):o()}})}function C(t,n,i){var o=p;return function(r,a){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===r)throw a;return{value:e,done:!0}}for(i.method=r,i.arg=a;;){var l=i.delegate;if(l){var c=w(l,i);if(c){if(c===h)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?g:m,s.arg===h)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=g,i.method="throw",i.arg=s.arg)}}}function w(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,w(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var r=d(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(pt(t)+" is not iterable")}return b.prototype=E,o(O,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=s(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new I(u(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(O),s(O,c,"Generator"),s(O,a,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=L,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;R(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:L(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}function ft(e,t,n,i,o,r,a){try{var l=e[r](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,o)}function gt(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){ft(r,i,o,a,l,"next",e)}function l(e){ft(r,i,o,a,l,"throw",e)}a(void 0)}))}}function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ht.apply(null,arguments)}function vt(e){return function(e){if(Array.isArray(e))return Ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Tt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=pt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=pt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||Tt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var St=function(e){var t,n,o,r,a,p=e.onUpdate,y=e.application,A=e.certificate,T=e.documentationLink,O=e.metadata,S=e.initialValues,I=e.onSubmit,C=e.onApplicationRegenerate,w=e.onApplicationRevoke,N=e.readOnly,k=e.allowedOriginList,M=e.tenantDomain,x=e.template,Z=e.isLoading,F=e.setIsLoading,H=e.containerRef,G=e.isDefaultApplication,z=e.isSystemApplication,$=e["data-testid"],W=e["data-componentid"],K=(0,f.$)(),Y=K.t,Q=(0,h.I0)(),J=(0,h.v9)((function(e){return e.config.ui.isClientSecretHashEnabled})),X=(0,h.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),Ie=(0,h.v9)((function(e){return e.organization.organization})),Ce=(0,h.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t||null===(t=t.applications)||void 0===t?void 0:t.disabledFeatures})),we=(0,h.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.applications})),Ne=(0,pe.cr)(we,U.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT_ACCESS_CONFIG_BACK_CHANNEL_LOGOUT")),Re=(0,pe.cr)(we,U.jo.FEATURE_DICTIONARY.get("APPLICATION_EDIT_ACCESS_CONFIG_FRONT_CHANNEL_LOGOUT")),_e=(0,pe.cr)(we,U.jo.FEATURE_DICTIONARY.get(U.F4.ApplicationEditEnforceClientSecretPermission)),Le=(0,i.EV)(null==we||null===(t=we.subFeatures)||void 0===t||null===(t=t.applicationClientSecretManagement)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.read),Pe=(0,i.EV)(null==we||null===(n=we.subFeatures)||void 0===n||null===(n=n.applicationClientSecretManagement)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.create),ke=S.isFAPIApplication,Me=(0,ae.Z)(),xe=Me.isOrganizationManagementEnabled,Ue=(0,m.useState)(!1),De=At(Ue,2),Ze=De[0],je=De[1],Fe=(0,m.useState)(!1),He=At(Fe,2),Be=He[0],qe=He[1],Ge=(0,m.useState)(!1),ze=At(Ge,2),$e=ze[0],We=ze[1],Ke=(0,m.useState)(""),Ye=At(Ke,2),Qe=Ye[0],Je=Ye[1],Xe=(0,m.useState)(""),et=At(Xe,2),tt=et[0],nt=et[1],it=(0,m.useState)(!1),ot=At(it,2),rt=ot[0],at=ot[1],lt=(0,m.useState)(!1),ct=At(lt,2),ut=ct[0],dt=ct[1],pt=(0,m.useState)(!1),ft=At(pt,2),bt=ft[0],yt=ft[1],Ot=(0,m.useState)(void 0),St=At(Ot,2),It=St[0],Ct=St[1],wt=(0,m.useState)(!1),Nt=At(wt,2),Rt=Nt[0],_t=Nt[1],Lt=(0,m.useState)(void 0),Pt=At(Lt,2),kt=Pt[0],Mt=Pt[1],xt=(0,m.useState)(!1),Ut=At(xt,2),Dt=Ut[0],Zt=Ut[1],jt=(0,m.useState)(void 0),Ft=At(jt,2),Ht=Ft[0],Vt=Ft[1],Bt=(0,m.useState)([]),qt=At(Bt,2),Gt=qt[0],zt=qt[1],$t=At((0,m.useState)(!1),2),Wt=$t[0],Kt=$t[1],Yt=At((0,m.useState)(!1),2),Qt=Yt[0],Jt=Yt[1],Xt=At((0,m.useState)(!1),2),en=Xt[0],tn=Xt[1],nn=At((0,m.useState)(!1),2),on=nn[0],rn=nn[1],an=At((0,m.useState)(!1),2),ln=an[0],cn=an[1],sn=At((0,m.useState)(!1),2),un=sn[0],dn=sn[1],pn=At((0,m.useState)(null),2),mn=pn[0],fn=pn[1],gn=At((0,m.useState)(""),2),hn=gn[0],vn=gn[1],bn=At((0,m.useState)(!1),2),En=bn[0],yn=bn[1],An=At((0,m.useState)(""),2),Tn=An[0],On=An[1],Sn=At((0,m.useState)(null),2),In=Sn[0],Cn=Sn[1],wn=At((0,m.useState)(null),2),Nn=wn[0],Rn=wn[1],_n=At((0,m.useState)(!1),2)[1],Ln=At((0,m.useState)(void 0),2)[1],Pn=At((0,m.useState)(null!=S&&S.clientAuthentication?S.clientAuthentication.tlsClientAuthSubjectDn:null),2),kn=Pn[0],Mn=Pn[1],xn=At((0,m.useState)(void 0),2),Un=xn[0],Dn=xn[1],Zn=At((0,m.useState)(!1),2),jn=Zn[0],Fn=Zn[1],Hn=At((0,m.useState)([]),2),Vn=Hn[0],Bn=Hn[1],qn=At((0,m.useState)([]),2),Gn=qn[0],zn=qn[1],$n=At((0,m.useState)(void 0),2),Wn=$n[0],Kn=$n[1],Yn=At((0,m.useState)([]),2),Qn=Yn[0],Jn=Yn[1],Xn=At((0,m.useState)(!1),2),ei=Xn[0],ti=Xn[1],ni=At((0,m.useState)(!1),2),ii=ni[0],oi=ni[1],ri=At((0,m.useState)(!1),2),ai=ri[0],li=ri[1],ci=(0,h.v9)((function(e){return e.config})),si=null==ci||null===(o=ci.ui)||void 0===o?void 0:o.enableLegacySessionBoundTokenBehaviour,ui=(0,m.useRef)(),di=(0,m.useRef)(),pi=(0,m.useRef)(),mi=(0,m.useRef)(),fi=(0,m.useRef)(),gi=(0,m.useRef)(),hi=(0,m.useRef)(),vi=(0,m.useRef)(),bi=(0,m.useRef)(),Ei=(0,m.useRef)(),yi=(0,m.useRef)(),Ai=(0,m.useRef)(),Ti=(0,m.useRef)(),Oi=(0,m.useRef)(),Si=(0,m.useRef)(),Ii=(0,m.useRef)(),Ci=(0,m.useRef)(),wi=(0,m.useRef)(),Ni=(0,m.useRef)(),Ri=(0,m.useRef)(),_i=(0,m.useRef)(),Li=(0,m.useRef)(),Pi=(0,m.useRef)(),ki=(0,m.useRef)(),Mi=(0,m.useRef)(),xi=(0,m.useRef)(),Ui=(0,m.useRef)(),Di=(0,m.useRef)(),Zi=(0,m.useRef)(),ji=(0,m.useRef)(),Fi=(0,m.useRef)(),Hi=(0,m.useRef)(),Vi=(0,m.useRef)(),Bi=(0,m.useRef)(),qi=(0,m.useRef)(),Gi=(0,m.useRef)(),zi=(0,m.useRef)(),$i=(0,m.useRef)(),Wi=(0,m.useRef)(),Ki=At((0,m.useState)(!1),2),Yi=Ki[0],Qi=Ki[1],Ji=At((0,m.useState)(!1),2),Xi=Ji[0],eo=Ji[1],to=At((0,m.useState)(!1),2),no=to[0],io=to[1],oo=At((0,m.useState)(!1),2),ro=oo[0],ao=oo[1],lo=At((0,m.useState)(!1),2),co=lo[0],so=lo[1],uo=At((0,m.useState)(!1),2),po=uo[0],mo=uo[1],fo=At((0,m.useState)(!1),2),go=fo[0],ho=fo[1],vo=At((0,m.useState)(!1),2),bo=vo[0],Eo=vo[1],yo=At((0,m.useState)(void 0),2),Ao=yo[0],To=yo[1],Oo=At((0,m.useState)(j.el.NONE),2),So=Oo[0],Io=Oo[1],Co=At((0,m.useState)(!1),2),wo=Co[0],No=Co[1],Ro=At((0,m.useState)(!1),2),_o=Ro[0],Lo=Ro[1],Po=At((0,m.useState)(void 0),2),ko=Po[0],Mo=Po[1],xo=At((0,m.useState)(void 0),2),Uo=xo[0],Do=xo[1],Zo=At((0,B.cC)(),2),jo=Zo[0],Fo=Zo[1],Ho=(0,de.z)().isSubOrganization,Vo=(0,m.useMemo)((function(){return l.tZ.inboundOIDCForm.showIdTokenEncryption&&j.u.SPA!==(null==x?void 0:x.templateId)&&!Ho()&&!no&&!ro&&!z&&!G}),[]),Bo=function(){var e;!1===(null==S||null===(e=S.idToken)||void 0===e||null===(e=e.encryption)||void 0===e?void 0:e.enabled)&&(S.idToken.encryption={algorithm:"",enabled:!1,method:""})};Bo();var qo=At((0,m.useState)(!1),2),Go=qo[0],zo=qo[1],$o="PKCE",Wo="mandatory",Ko="supportPlainTransformAlgorithm",Yo="JWT",Qo=function(e){e.has($o)&&(e.get($o).find((function(e){return e===Wo}))?zo(!0):(e.set($o,[]),zo(!1)))},Jo=function(e){e.has(U.jo.HYBRID_FLOW_ENABLE_CONFIG)&&(e.get(U.jo.HYBRID_FLOW_ENABLE_CONFIG).find((function(e){return e===U.jo.HYBRID_FLOW_ENABLE_CONFIG}))?Do(!0):Do(!1))},Xo="private_key_jwt";(0,m.useEffect)((function(){ko||X===ue.$B.SUBORGANIZATION||(0,se.DM)(Ie.id,y.id).then((function(e){Mo(e.data.organizations)})).catch((function(e){e.response.data.description?Q((0,s.V_)({description:e.response.data.description,level:c.QU.ERROR,message:Y("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.message")})):Q((0,s.V_)({description:Y("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.description"),level:c.QU.ERROR,message:Y("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.message")}))}))}),[y,X]);(0,m.useEffect)((function(){(0,re.WN)(null).then((function(e){Bn(e)})).catch((function(){Q((0,s.V_)({description:Y("claims:local.notifications.fetchLocalClaims.genericError.description"),level:c.QU.ERROR,message:Y("claims:local.notifications.fetchLocalClaims.genericError.message")}))})),(0,re.gR)(ye.K.OIDC_ATTRIBUTE_ID,null).then((function(e){zn(e)})).catch((function(){Q((0,s.V_)({description:Y("claims:external.notifications.fetchExternalClaims.genericError.description"),level:c.QU.ERROR,message:Y("claims:external.notifications.fetchExternalClaims.genericError.message")}))}))}),[]),(0,m.useEffect)((function(){if((null==Vn?void 0:Vn.length)>0&&(null==Gn?void 0:Gn.length)>0){var e=Gn.map((function(e){var t=Vn.find((function(t){return t.claimURI===e.mappedLocalClaimURI}));return null!=t&&t.displayName?Et(Et({},e),{},{localClaimDisplayName:t.displayName}):e}));Jn(e)}}),[Vn,Gn]),(0,m.useEffect)((function(){if(S.accessToken.accessTokenAttributes){var e=S.accessToken.accessTokenAttributes.map((function(e){return Qn.find((function(t){return t.claimURI===e}))})).filter((function(e){return void 0!==e}));Kn(e),ti(P.y.isAppVersionAllowed(null==y?void 0:y.applicationVersion,U.jo.APP_VERSION_2))}}),[Qn,y]),(0,m.useEffect)((function(){var e,t=null==y||null===(e=y.advancedConfigurations)||void 0===e||null===(e=e.additionalSpProperties)||void 0===e?void 0:e.filter((function(e){return"shareWithAllChildren"===(null==e?void 0:e.name)}));((null==ko?void 0:ko.length)>0||(null==t?void 0:t.length)>0&&JSON.parse(t[0].value))&&Lo(!0)}),[ko]),(0,m.useEffect)((function(){null!=x&&x.id&&null!=Se&&Se.id?(x.id==Se.id&&Qi(!0),F(!1)):F(!1)}),[x]),(0,m.useEffect)((function(){null!=x&&x.id&&null!=Oe&&Oe.id&&x.id==Oe.id&&eo(!0)}),[x]),(0,m.useEffect)((function(){null!=x&&x.id&&null!=Te&&Te.id?((null==x?void 0:x.id)==(null==Te?void 0:Te.id)&&io(!0),F(!1)):F(!1)}),[x]),(0,m.useEffect)((function(){(null==x?void 0:x[U.jo.ORIGINAL_TEMPLATE_ID_PROPERTY])===j.u.MCP_CLIENT_APPLICATION&&so(!0),(null==x?void 0:x[U.jo.ORIGINAL_TEMPLATE_ID_PROPERTY])===j.u.REACT_APPLICATION&&mo(!0),(null==x?void 0:x[U.jo.ORIGINAL_TEMPLATE_ID_PROPERTY])===j.u.NEXT_JS_APPLICATION&&ho(!0)}),[x]),(0,m.useEffect)((function(){x&&Ae?(x.id===Ae.id&&ao(!0),F(!1)):F(!0)}),[x]),(0,m.useEffect)((function(){null!=Ht&&Ht.includes("authorization_code")||null!=Ht&&Ht.includes("implicit")?Mt(!0):Mt(!1),!(0,me.Z)(U.jo.IS_REFRESH_TOKEN_GRANT_TYPE_ALLOWED,Ht).length&&null!=Ht&&Ht.includes("refresh_token")?Fn(!0):Fn(!1)}),[Ht,Qt]),(0,m.useEffect)((function(){Ct(!1),null!=Ht&&Ht.includes(U.jo.AUTHORIZATION_CODE_GRANT)&&Ct(!0)}),[Ht,Qt]),(0,m.useEffect)((function(){_t(!1),null!=Ht&&Ht.includes(U.jo.AUTHORIZATION_CODE_GRANT)&&(0,pe.cr)(we,"applications.hybridFlow")&&_t(!0)}),[Ht,Qt]),(0,m.useEffect)((function(){Zt(!1),er(Ht)&&Zt(!0)}),[Ht,Qt]);var er=function(e){return!!(0===(null==e?void 0:e.length)||null!=e&&e.includes("implicit")&&1===(null==e?void 0:e.length))||(!(null==e||!e.includes("implicit")||null==e||!e.includes("refresh_token")||2!==(null==e?void 0:e.length))||(null==e?void 0:e.includes("refresh_token"))&&1===(null==e?void 0:e.length))};(0,m.useEffect)((function(){var e,t,n;if(void 0===Ht){var i;if(null!=S&&S.grantTypes&&Vt(vt(S.grantTypes)),null!=S&&S.allowedOrigins&&vn(S.allowedOrigins.toString()),null!=S&&null!==(e=S.hybridFlow)&&void 0!==e&&e.enable)Do(null==S||null===(i=S.hybridFlow)||void 0===i?void 0:i.enable);if(null!=S&&null!==(t=S.hybridFlow)&&void 0!==t&&t.responseType&&"null"!=(null==S||null===(n=S.hybridFlow)||void 0===n?void 0:n.responseType)){var o=S.hybridFlow.responseType.split(",").map((function(e){return e.trim()}));zt(o)}}}),[S]),(0,m.useEffect)((function(){var e,t;null!=S&&S.accessToken?Kt((null==S||null===(e=S.accessToken)||void 0===e?void 0:e.type)===Yo):Kt((null==O||null===(t=O.accessTokenType)||void 0===t?void 0:t.defaultValue)===Yo)}),[S,O]);var tr=!(null!=Ce&&Ce.includes("applications.subjectToken"));(0,m.useEffect)((function(){var e;oi(!(null==S||!S.subjectToken)&&(null==S||null===(e=S.subjectToken)||void 0===e?void 0:e.enable)),li(!!tr&&!(null==S||!S.subjectToken))}),[S]),(0,m.useEffect)((function(){var e;Qt&&(null!=Ht&&Ht.includes(U.jo.OAUTH2_TOKEN_EXCHANGE)||oi(!1),null!=S&&S.subjectToken&&oi(null==S||null===(e=S.subjectToken)||void 0===e?void 0:e.enable))}),[Ht,Qt]),(0,m.useEffect)((function(){null!=A&&A.type&&Io(null==A?void 0:A.type)}),[A]),(0,m.useEffect)((function(){var e,t,n;null!=S&&S.accessToken&&!(0,R.Z)(S.accessToken)&&(ke?yn(!0):null!=S&&null!==(e=S.accessToken)&&void 0!==e&&e.bindingType?((null==S||null===(t=S.accessToken)||void 0===t?void 0:t.bindingType)!==(null===L.ti||void 0===L.ti?void 0:L.ti.NONE)&&yn(!0),(null==S||null===(n=S.accessToken)||void 0===n?void 0:n.bindingType)===(null===L.ti||void 0===L.ti?void 0:L.ti.DPOP)&&We(!0)):yn(!1))}),[null==S?void 0:S.accessToken]),(0,m.useEffect)((function(){j.el.PEM===(null==A?void 0:A.type)&&(_n(!0),null!=A&&A.value&&Ln(A.value))}),[A]),(0,m.useEffect)((function(){(0,R.Z)(Ao)||So===j.el.NONE?No(!1):No(!0)}),[Ao,So]);var nr=function(e){switch(e.toLowerCase()){case"none":return Y("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.none",{productName:ci.ui.productName});case"cookie":return Y("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.cookie");case"sso-session":return Y("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.sso_session",{productName:ci.ui.productName});case"default":return Y("applications:forms.inboundOIDC.sections.accessToken.fields.type.valueDescriptions.default");case"jwt":return Y("applications:forms.inboundOIDC.sections.accessToken.fields.type.valueDescriptions.jwt");case"dpop":return Y("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.dpop");default:return}};(0,m.useEffect)((function(){var e;Un||Dn(null==S||null===(e=S.clientAuthentication)||void 0===e?void 0:e.tokenEndpointAuthMethod)}),[]);var ir=function(e){switch(e.toLowerCase()){case"sso-session":return Y("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.children.ssoBinding.label");case"cookie":return Y("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.children.cookie.label");case"certificate":return Y("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.children.certificate.label");case"device-flow":return Y("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.children.deviceFlow.label");case"client-request":return Y("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.children.clientRequest.label");default:return e}},or=function(e,t){var n=[];return e&&(t?e.options.map((function(e){n.push({hint:{content:nr(e)},label:ir(e),value:e})})):e.options.map((function(e,t){e.displayName?n.push({content:m.createElement(ge.Z.Row,{"data-componentId":"".concat($,"-client-auth-method-table-row-").concat(t)},m.createElement(ge.Z.Cell,null,m.createElement("div",null,e.displayName),m.createElement(u.GI,{content:e.name,inverted:!0,trigger:m.createElement(u.EK,{compact:!0,withBackground:!1},e.name),position:"bottom left"}))),text:e.displayName,value:e.name}):n.push({text:e,value:e!==Y("applications:forms.inboundOIDC.dropdowns.selectOption")?e:""})}))),t?n.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0})):n},rr=function(e,t){var n=[];return e&&e.options.map((function(e){if("Default"!==e||t){if((Yi||Xi||po||go)&&t&&"cookie"===e)return!1;n.push({hint:{content:nr(e)},label:ir(e),value:e})}else n.push({hint:{content:nr(e)},label:"Opaque",value:e})})),n.sort((function(e,t){return e.label===L.ti.NONE?-1:t.label===L.ti.NONE?1:e.label.localeCompare(t.label)}))},ar=new Map([[Y("applications:forms.inboundOIDC.sections.hybridFlow.hybridFlowResponseType.fields.children.code_token.label"),U.jo.CODE_TOKEN],[Y("applications:forms.inboundOIDC.sections.hybridFlow.hybridFlowResponseType.fields.children.code_idtoken.label"),U.jo.CODE_IDTOKEN],[Y("applications:forms.inboundOIDC.sections.hybridFlow.hybridFlowResponseType.fields.children.code_idtoken_token.label"),U.jo.CODE_IDTOKEN_TOKEN]]),lr=function(e,t){return e===U.jo.CODE_TOKEN||e===U.jo.CODE_IDTOKEN_TOKEN?m.createElement(m.Fragment,null,m.createElement("label",null,t,!ro&&m.createElement(u.dn,{icon:(0,_.s_)().warning,defaultIcon:!0,colored:!0,transparent:!0,spaced:"left",floated:"right"}))):t},cr=function(e){switch(e){case U.jo.CODE_TOKEN:return Y("applications:forms.inboundOIDC.fields.hybridFlow.hybridFlowResponseType.children.code_token.hint");case U.jo.CODE_IDTOKEN_TOKEN:return Y("applications:forms.inboundOIDC.fields.hybridFlow.hybridFlowResponseType.children.code_idtoken_token.hint");default:return null}},sr=function(e){var t=[];if(e&&e.options.map((function(e){var n,i,o=e.name,r=e.displayName;if((null===l.tZ||void 0===l.tZ||null===(n=l.tZ.hiddenGrantTypes)||void 0===n||!n.includes(o))&&(o!==U.jo.ORGANIZATION_SWITCH_GRANT||xe&&X!==ue.$B.TENANT&&_o)&&!(x&&x.id&&(0,d.Z)(l.tZ.getAllowedGrantTypes(X),x.id)&&!l.tZ.getAllowedGrantTypes(X)[x.id].includes(o)&&U.jo.AVAILABLE_GRANT_TYPES.includes(o))&&(null==x||!x[U.jo.ORIGINAL_TEMPLATE_ID_PROPERTY]||null!==(i=l.tZ.getAllowedGrantTypes(X)[x[U.jo.ORIGINAL_TEMPLATE_ID_PROPERTY]])&&void 0!==i&&i.includes(o))&&(null==x||!x[U.jo.ORIGINAL_TEMPLATE_ID_PROPERTY]||(null==x?void 0:x[U.jo.ORIGINAL_TEMPLATE_ID_PROPERTY])!==j.u.MCP_CLIENT_APPLICATION||!Be||o!==U.jo.CLIENT_CREDENTIALS_GRANT)){var a,c,s={label:(a=o,c=r,a===U.jo.IMPLICIT_GRANT||a===U.jo.PASSWORD||a===U.jo.CLIENT_CREDENTIALS_GRANT?m.createElement(m.Fragment,null,m.createElement("label",null,c,!ro&&m.createElement(u.dn,{icon:(0,_.s_)().warning,defaultIcon:!0,colored:!0,transparent:!0,spaced:"left",floated:"right"}))):c),readOnly:ro&&o===U.jo.CLIENT_CREDENTIALS_GRANT,value:o},p=function(e){switch(e){case U.jo.IMPLICIT_GRANT:return Y("applications:forms.inboundOIDC.fields.grant.children.implicit.hint");case U.jo.PASSWORD:return Y("applications:forms.inboundOIDC.fields.grant.children.password.hint");case U.jo.CLIENT_CREDENTIALS_GRANT:return Y("applications:forms.inboundOIDC.fields.grant.children.client_credential.hint");case U.jo.REFRESH_TOKEN_GRANT:return Y("applications:forms.inboundOIDC.fields.grant.validation.refreshToken");default:return null}}(o);p&&!ro&&(s.hint={content:p,header:""}),Dt&&"refresh_token"===s.value&&(s.disabled=!0),t.push(s)}})),x&&x.id){var n=U.jo.TEMPLATE_WISE_ALLOWED_GRANT_TYPE_ARRANGE_ORDER[x.id];if(n){var i,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Tt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw r}}}}(t);try{for(o.s();!(i=o.n()).done;){var r=i.value,a=n.get(r.value);r.index=null!=a?a:1/0}}catch(s){o.e(s)}finally{o.f()}t.sort((function(e,t){return e.index-t.index}))}}if(l.tZ.inboundOIDCForm.disabledGrantTypes&&l.tZ.inboundOIDCForm.disabledGrantTypes[x.id]){var c=l.tZ.inboundOIDCForm.disabledGrantTypes[x.id];return t.filter((function(e){return!c.includes(e.value)}))}return t},ur=function(e){e.preventDefault(),tn(!0)},dr=function(e){var t;return e.get("RevokeAccessToken")?(null===(t=e.get("RevokeAccessToken"))||void 0===t?void 0:t.length)>0:e.get("bindingType")!==L.ti.NONE},pr=function(e,t,n){var i;if(z||G)i={general:{},inbound:Et({},S)},kt?(i.inbound.allowedOrigins=P.y.resolveAllowedOrigins(n||hn),i.inbound.callbackURLs=[P.y.buildCallBackUrlWithRegExp(t||Qe)]):(i.inbound.allowedOrigins=[],i.inbound.callbackURLs=[]);else{var o,r,a,c,s,u,d,p,m,f,g,h,v,b,E,y,T={accessToken:{accessTokenAttributes:null==Wn?void 0:Wn.map((function(e){return e.claimURI})),applicationAccessTokenExpiryInSeconds:e.get("applicationAccessTokenExpiryInSeconds")?Number(e.get("applicationAccessTokenExpiryInSeconds")):Number(null==O?void 0:O.defaultApplicationAccessTokenExpiryTime),bindingType:e.get("bindingType"),revokeTokensWhenIDPSessionTerminated:(null===(o=e.get("RevokeAccessToken"))||void 0===o?void 0:o.length)>0,type:co?Yo:e.get("type"),userAccessTokenExpiryInSeconds:Number(e.get("userAccessTokenExpiryInSeconds")),validateTokenBinding:$e||(null===(r=e.get("ValidateTokenBinding"))||void 0===r?void 0:r.length)>0},grantTypes:e.get("grant"),idToken:{audience:""!==tt?tt.split(","):[],encryption:{algorithm:Ze&&wo?e.get("algorithm"):null==O||null===(a=O.idTokenEncryptionAlgorithm)||void 0===a?void 0:a.defaultValue,enabled:wo&&(null===(c=e.get("encryption"))||void 0===c?void 0:c.includes("enableEncryption")),method:Ze&&wo?e.get("method"):null==O||null===(s=O.idTokenEncryptionMethod)||void 0===s?void 0:s.defaultValue},expiryInSeconds:Number(e.get("idExpiryInSeconds")),idTokenSignedResponseAlg:e.get("idTokenSignedResponseAlg")},logout:{backChannelLogoutUrl:Ne?e.get("backChannelLogoutUrl"):null==S||null===(u=S.logout)||void 0===u?void 0:u.backChannelLogoutUrl,frontChannelLogoutUrl:e.get("frontChannelLogoutUrl")},publicClient:!!no||(null===(d=e.get("supportPublicClients"))||void 0===d?void 0:d.length)>0,refreshToken:{expiryInSeconds:e.get("expiryInSeconds")?parseInt(e.get("expiryInSeconds"),10):Number(null==O?void 0:O.defaultRefreshTokenExpiryTime),extendRenewedRefreshTokenExpiryTime:null===(p=e.get("extendExpiryTime"))||void 0===p?void 0:p.includes("extendExpiryTime"),renewRefreshToken:(null===(m=e.get("RefreshToken"))||void 0===m?void 0:m.length)>0},scopeValidators:e.get("scopeValidator"),subjectToken:{applicationSubjectTokenExpiryInSeconds:e.get("applicationSubjectTokenExpiryInSeconds")?parseInt(e.get("applicationSubjectTokenExpiryInSeconds"),10):ce.c.DEFAULT_SUBJECT_TOKEN_EXPIRY_TIME,enable:(null===(f=e.get("SubjectToken"))||void 0===f?void 0:f.length)>0},validateRequestObjectSignature:(null===(g=e.get("enableRequestObjectSignatureValidation"))||void 0===g?void 0:g.length)>0};if(!l.tZ.inboundOIDCForm.showFrontChannelLogout&&delete T.logout.frontChannelLogoutUrl,!l.tZ.inboundOIDCForm.showScopeValidators&&delete T.scopeValidators,!l.tZ.inboundOIDCForm.showIdTokenEncryption&&delete T.idToken.encryption,!l.tZ.inboundOIDCForm.showRequestObjectSignatureValidation&&delete T.validateRequestObjectSignature,T=Et(Et({},T),{},kt?{allowedOrigins:P.y.resolveAllowedOrigins(n||hn),callbackURLs:[P.y.buildCallBackUrlWithRegExp(t||Qe)]}:{allowedOrigins:[],callbackURLs:[]}),T=Et(Et({},T),{},It?{pkce:{mandatory:e.get("PKCE").includes("mandatory"),supportPlainTransformAlgorithm:!!e.get("PKCE").includes("supportPlainTransformAlgorithm")}}:{pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1}}),Rt)T=Et(Et({},T),{},{hybridFlow:{enable:(null===(E=e.get("enable-hybrid-flow"))||void 0===E?void 0:E.length)>0,responseType:null!==(y=null==Gt?void 0:Gt.join(","))&&void 0!==y?y:null}});else T=Et(Et({},T),{},{hybridFlow:{enable:!1,responseType:null}});if(ro&&(T=Et(Et({},T),{},{accessToken:Et(Et({},T.accessToken),{},{userAccessTokenExpiryInSeconds:0}),idToken:{audience:vt(T.idToken.audience)},pkce:null,refreshToken:null})),!Be){var I,C=null;if(e.get("tokenEndpointAuthMethod")===Xo)C=(null===(I=e.get("tokenEndpointAllowReusePvtKeyJwt"))||void 0===I?void 0:I.length)>0;T=Et(Et({},T),{},{clientAuthentication:{tlsClientAuthSubjectDn:kn,tokenEndpointAllowReusePvtKeyJwt:C,tokenEndpointAuthMethod:e.get("tokenEndpointAuthMethod"),tokenEndpointAuthSigningAlg:e.get("tokenEndpointAuthSigningAlg")}})}T=Et(Et({},T),{},{pushAuthorizationRequest:{requirePushAuthorizationRequest:(null===(h=e.get("requirePushAuthorizationRequest"))||void 0===h?void 0:h.length)>0},requestObject:{encryption:{algorithm:e.get("requestObjectEncryptionAlgorithm"),method:e.get("requestObjectEncryptionMethod")},requestObjectSigningAlg:e.get("requestObjectSigningAlg")},subject:{sectorIdentifierUri:null==S||null===(v=S.subject)||void 0===v?void 0:v.sectorIdentifierUri,subjectType:null==S||null===(b=S.subject)||void 0===b?void 0:b.subjectType}}),null!=S&&S.clientId&&(T=Et(Et({},T),{},{clientId:S.clientId})),null!=S&&S.clientSecret&&(T=Et(Et({},T),{},{clientSecret:S.clientSecret})),i={general:{advancedConfigurations:{certificate:{type:So!==j.el.NONE?So:null==A?void 0:A.type,value:So!==j.el.NONE?Ao:""}}},inbound:Et({},T)},!l.tZ.inboundOIDCForm.showCertificates&&delete i.general.advancedConfigurations.certificate}return i},mr=function(e,t,n){var i,o,r,a,c,s,u={accessToken:{accessTokenAttributes:null==Wn?void 0:Wn.map((function(e){return e.claimURI})),applicationAccessTokenExpiryInSeconds:Number(null==O?void 0:O.defaultApplicationAccessTokenExpiryTime),bindingType:e.get("bindingType"),revokeTokensWhenIDPSessionTerminated:dr(e),type:e.get("type"),userAccessTokenExpiryInSeconds:Number(e.get("userAccessTokenExpiryInSeconds")),validateTokenBinding:$e||(null===(i=e.get("ValidateTokenBinding"))||void 0===i?void 0:i.length)>0},grantTypes:e.get("grant"),idToken:{audience:""!==tt?tt.split(","):[],expiryInSeconds:Number(e.get("idExpiryInSeconds"))},publicClient:!0,refreshToken:{expiryInSeconds:e.get("expiryInSeconds")?parseInt(e.get("expiryInSeconds"),10):Number(null==O?void 0:O.defaultRefreshTokenExpiryTime),extendRenewedRefreshTokenExpiryTime:null===(o=e.get("extendExpiryTime"))||void 0===o?void 0:o.includes("extendExpiryTime"),renewRefreshToken:(null===(r=e.get("RefreshToken"))||void 0===r?void 0:r.length)>0},subjectToken:{applicationSubjectTokenExpiryInSeconds:e.get("applicationSubjectTokenExpiryInSeconds")?parseInt(e.get("applicationSubjectTokenExpiryInSeconds"),10):ce.c.DEFAULT_SUBJECT_TOKEN_EXPIRY_TIME,enable:(null===(a=e.get("SubjectToken"))||void 0===a?void 0:a.length)>0}};(u=Et(Et({},u),{},kt?{allowedOrigins:P.y.resolveAllowedOrigins(n||hn),callbackURLs:[P.y.buildCallBackUrlWithRegExp(t||Qe)]}:{allowedOrigins:[],callbackURLs:[]}),u=Et(Et({},u),{},It?{pkce:{mandatory:e.get("PKCE").includes("mandatory"),supportPlainTransformAlgorithm:!!e.get("PKCE").includes("supportPlainTransformAlgorithm")}}:{pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1}}),Rt)?u=Et(Et({},u),{},{hybridFlow:{enable:(null===(c=e.get("enable-hybrid-flow"))||void 0===c?void 0:c.length)>0,responseType:null!==(s=null==Gt?void 0:Gt.join(","))&&void 0!==s?s:null}}):u=Et(Et({},u),{},{hybridFlow:{enable:!1,responseType:null}});return l.tZ.inboundOIDCForm.showScopeValidators&&(u=Et(Et({},u),{},{scopeValidators:e.get("scopeValidator")})),null!=S&&S.clientId&&(u=Et(Et({},u),{},{clientId:S.clientId})),null!=S&&S.clientSecret&&(u=Et(Et({},u),{},{clientSecret:S.clientSecret})),{inbound:Et({},u)}};(0,m.useEffect)((function(){var e,t;null!=S&&null!==(e=S.idToken)&&void 0!==e&&e.encryption&&je(null===(t=S.idToken.encryption)||void 0===t?void 0:t.enabled)}),[S]),(0,m.useEffect)((function(){qe(null==S?void 0:S.publicClient)}),[S]),(0,m.useEffect)((function(){var e,t,n=L.ti.NONE;null!=S&&null!==(e=S.accessToken)&&void 0!==e&&e.bindingType?n=S.accessToken.bindingType:ke?n=L.ti.CERTIFICATE:null!=O&&null!==(t=O.accessTokenBindingType)&&void 0!==t&&t.defaultValue&&(n=O.accessTokenBindingType.defaultValue),On(n)}),[null==S||null===(r=S.accessToken)||void 0===r?void 0:r.bindingType,null==O||null===(a=O.accessTokenBindingType)||void 0===a?void 0:a.defaultValue,ke]);var fr,gr,hr,vr,br,Er,yr,Ar,Tr,Or,Sr,Ir,Cr,wr,Nr,Rr,_r,Lr,Pr,kr,Mr,xr,Ur,Dr,Zr,jr,Fr,Hr,Vr,Br,qr,Gr,zr,$r,Wr,Kr,Yr,Qr,Jr,Xr,ea=function(e){var t=hn;vn(t=""!==t?t+","+e:e)},ta=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"clientSecret":ui.current.scrollIntoView(t);break;case"grant":di.current.scrollIntoView(t);break;case"url":pi.current.scrollIntoView(t);break;case"allowedOrigin":mi.current.scrollIntoView(t);break;case"supportPublicClients":fi.current.scrollIntoView(t);break;case"pkce":gi.current.scrollIntoView(t);break;case"bindingType":bi.current.scrollIntoView(t);break;case"type":Ei.current.scrollIntoView(t);break;case"validateTokenBinding":yi.current.scrollIntoView(t);break;case"revokeAccessToken":Ai.current.scrollIntoView(t);break;case"userAccessTokenExpiryInSeconds":Ti.current.scrollIntoView(t);break;case"refreshToken":Si.current.scrollIntoView(t);break;case"expiryInSeconds":Ii.current.scrollIntoView(t);break;case"extendExpiryTime":Ci.current.scrollIntoView(t);break;case"subjectToken":$i.current.scrollIntoView(t);break;case"applicationSubjectTokenExpiryInSeconds":Wi.current.scrollIntoView(t);break;case"audience":wi.current.scrollIntoView(t);break;case"encryption":Ni.current.scrollIntoView(t);break;case"algorithm":Ri.current.scrollIntoView(t);break;case"method":_i.current.scrollIntoView(t);break;case"idExpiryInSeconds":Pi.current.scrollIntoView(t);break;case"backChannelLogoutUrl":ki.current.scrollIntoView(t);break;case"frontChannelLogoutUrl":Mi.current.scrollIntoView(t);break;case"enableRequestObjectSignatureValidation":xi.current.scrollIntoView(t);break;case"scopeValidator":Ui.current.scrollIntoView(t);break;case"hybridFlow":vi.current.scrollIntoView(t)}},na=function(e){var t=Math.floor(Number(e.toString()));return t!==1/0&&String(t)===e&&t>0},ia=!Yi&&!no&&!ke&&(null==Ht?void 0:Ht.some((function(e){var t,n=null==O||null===(t=O.allowedGrantTypes)||void 0===t||null===(t=t.options)||void 0===t?void 0:t.find((function(t){return t.name===e}));return!0===(null==n?void 0:n.publicClientAllowed)})))&&!z&&!G,oa=!(null!=Ce&&Ce.includes("applications.protocol.clientAuthenticationMethod")),ra=(j.u.CUSTOM_APPLICATION===(null==x?void 0:x.templateId)||j.u.OIDC_WEB_APPLICATION===(null==x?void 0:x.templateId))&&!z&&!G&&(ia||oa),aa=function(e,t,n){var i=parseInt(e.get("userAccessTokenExpiryInSeconds"),10)<60,o=parseInt(e.get("expiryInSeconds"),10)<60,r=parseInt(e.get("idExpiryInSeconds"),10)<60;return i||o||r?(dn(!0),fn(m.createElement(u.cV,{onClose:function(){return dn(!1)},type:"warning",open:!0,skipAssertion:!0,primaryAction:Y("common:confirm"),secondaryAction:Y("common:cancel"),onSecondaryActionClick:function(){return dn(!1)},onPrimaryActionClick:function(){I(Yi?mr(e,t,n):pr(e,t,n)),dn(!1)},"data-testid":"".concat($,"-low-expiry-times-confirmation-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-testid":"".concat($,"-low-expiry-times-confirmation-modal-header")},Y("applications:confirmations.lowOIDCExpiryTimes.header")),m.createElement(u.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat($,"-low-expiry-times-confirmation-modal-message")},Y("applications:confirmations.lowOIDCExpiryTimes.message")),m.createElement(u.cV.Content,{"data-testid":"".concat($,"-low-expiry-times-confirmation-modal-content")},m.createElement(u.xv,null,Y("applications:confirmations.lowOIDCExpiryTimes.content")),m.createElement(be.Z,{bulleted:!0},i&&m.createElement(be.Z.Item,null,Y("applications:forms.inboundOIDC.sections.accessToken.fields.expiry.label")),o&&m.createElement(be.Z.Item,null,Y("applications:forms.inboundOIDC.sections.refreshToken.fields.expiry.label")),r&&m.createElement(be.Z.Item,null,Y("applications:forms.inboundOIDC.sections.idToken.fields.expiry.label"))),m.createElement(u.xv,null,Y("applications:confirmations.lowOIDCExpiryTimes.assertionHint"))))),!0):(dn(!1),fn(null),!1)};return!Z&&O?m.createElement(m.Fragment,null,m.createElement(B.Es,{onSubmit:function(e){Fo(),!Yi&&l.tZ.inboundOIDCForm.showCertificates&&So!==j.el.NONE&&(0,R.Z)(Ao)||(kt?fr((function(t){(0,R.Z)(Qe)&&(0,R.Z)(t)?(at(!0),ta("url")):gr((function(n){aa(e,t,n)||I(Yi?mr(e,t,n):pr(e,t,n))}))})):(aa(e,void 0,void 0)||I(pr(e,void 0,void 0)),F(!1)))},onSubmitError:function(e,t){for(var n=e.entries(),i=n.next();!i.done;){if(!i.value[1]||!t.get(i.value[0]).isValid){ta(i.value[0]);break}i=n.next()}},onStaleChange:function(e){Eo(e)},ref:Di},m.createElement(b.Z,null,m.createElement(oe.l,{tabId:l.N0.PROTOCOL},(null==S?void 0:S.state)===L.ZM.REVOKED&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.v0,{type:"warning",visible:!0,header:Y("applications:forms.inboundOIDC.messages.revokeDisclaimer.heading"),content:Y("applications:forms.inboundOIDC.messages.revokeDisclaimer.content")}))),(null==S?void 0:S.clientId)&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(ve.Z.Field,null,m.createElement("label",null,Y("applications:forms.inboundOIDC.fields.clientID.label")),m.createElement("div",{className:"display-flex"},m.createElement(u.OR,{value:null==S?void 0:S.clientId,"data-testid":"".concat($,"-client-id-readonly-input")}))),l.tZ.inboundOIDCForm.showNativeClientSecretMessage&&(null==S?void 0:S.state)!==L.ZM.REVOKED&&Yi?m.createElement(u.v0,{type:"info",content:m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.fields.clientSecret.message",values:{productName:ci.ui.productName}},"productName does not issue a\xa0",m.createElement(u.EK,{withBackground:!0},"client_secret")," to native applications or web browser-based applications for the purpose of client authentication.")}):null)),(null==S?void 0:S.clientSecret)&&(null==S?void 0:S.state)!==L.ZM.REVOKED&&!Yi&&!no&&!Be&&!z&&!G&&(!_e||Le)&&m.createElement(b.Z.Row,{columns:2,"data-componentid":"".concat($,"-oidc-client-secret")},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(ve.Z.Field,null,m.createElement("label",null,Y("applications:forms.inboundOIDC.fields.clientSecret.label")),J?m.createElement(m.Fragment,null,m.createElement(u.v0,{visible:!0,type:"info",content:Y("applications:forms.inboundOIDC.fields.clientSecret.hashedDisclaimer")}),!N&&(!_e||Pe)&&m.createElement(E.Z,{color:"red",className:"oidc-action-button",onClick:ur,"data-testid":"".concat($,"-oidc-regenerate-button")},Y("common:regenerate"))):m.createElement("div",{className:"display-flex"},m.createElement(u.OR,{secret:!0,value:null==S?void 0:S.clientSecret,hideSecretLabel:Y("applications:forms.inboundOIDC.fields.clientSecret.hideSecret"),showSecretLabel:Y("applications:forms.inboundOIDC.fields.clientSecret.showSecret"),"data-testid":"".concat($,"-client-secret-readonly-input")}),!N&&(!_e||Pe)&&m.createElement(E.Z,{color:"red",className:"oidc-action-button",onClick:ur,"data-testid":"".concat($,"-oidc-regenerate-button")},Y("common:regenerate")))))),!N&&(null==S?void 0:S.clientSecret)&&(null==S?void 0:S.state)===L.ZM.REVOKED&&m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(E.Z,{color:"green",className:"oidc-action-button ml-0",onClick:function(e){e.preventDefault(),cn(!0)},"data-testid":"".concat($,"-oidc-regenerate-button")},Y("common:activate")))),((null==S?void 0:S.clientId)||(null==S?void 0:S.clientSecret))&&(null==S?void 0:S.state)!==L.ZM.REVOKED&&m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null)),(null==S?void 0:S.state)!==L.ZM.REVOKED&&m.createElement(oe.l,{tabId:l.N0.PROTOCOL},!N&&m.createElement(u.PH,{updateButtonRef:Zi,isFormStale:bo,containerRef:H},m.createElement(E.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:Z,disabled:Z,"data-testid":"".concat($,"-submit-button-sticky")},Y("common:update"))),!z&&!G&&m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:di,name:"grant",label:Y("applications:forms.inboundOIDC.fields.grant.label"),type:"checkbox",required:!0,requiredErrorMessage:Y("applications:forms.inboundOIDC.fields.grant.validations.empty"),children:sr(null==O?void 0:O.allowedGrantTypes),value:null!=Ht?Ht:null==S?void 0:S.grantTypes,readOnly:N,enableReinitialize:!0,listen:function(e){return function(e){var t=e.get("grant");er(Ht)&&(t=t.filter((function(e){return"refresh_token"!=e}))),Vt(t),Jt(!Qt)}(e)},"data-testid":"".concat($,"-grant-type-checkbox-group")}),jn&&m.createElement(he.Z,{basic:!0,color:"orange",className:"mt-2"},Y("applications:forms.inboundOIDC.fields.grant.validation.refreshToken")),m.createElement(u.kW,null,Y("applications:forms.inboundOIDC.fields.grant.hint")))),kt&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},m.createElement("div",{ref:pi}),m.createElement(u.wE,{isAllowEnabled:Yi,handleAddAllowedOrigin:function(e){return ea(e)},handleRemoveAllowedOrigin:function(){},tenantDomain:M,allowedOrigins:(0,fe.Z)(k,hn.split(",")),labelEnabled:!0,urlState:Qe,setURLState:function(e){var t;Je(e),(null!=S&&null!==(t=S.callbackURLs)&&void 0!==t&&t.toString()?P.y.normalizeCallbackUrlsFromRegExp(S.callbackURLs.toString()):"")!==e&&Eo(!0)},labelName:no?"Authorized redirect URIs":Y("applications:forms.inboundOIDC.fields.callBackUrls.label"),required:!0,value:null!=S&&null!==(hr=S.callbackURLs)&&void 0!==hr&&hr.toString()?P.y.normalizeCallbackUrlsFromRegExp(S.callbackURLs.toString()):"",placeholder:Y(no?"applications:forms.inboundOIDC.mobileApp.mobileAppPlaceholder":"applications:forms.inboundOIDC.fields.callBackUrls.placeholder"),validationErrorMsg:(null==D?void 0:D.id)===(null==x?void 0:x.id)||no?Y("applications:forms.inboundOIDC.messages.customInvalidMessage"):Y("applications:forms.inboundOIDC.fields.callBackUrls.validations.invalid"),emptyErrorMessage:Y("applications:forms.inboundOIDC.fields.callBackUrls.validations.empty"),skipInternalValidation:x.templateId===U.jo.MOBILE||(null==D?void 0:D.id)===(null==x?void 0:x.id),validation:function(e){return no||(null==D?void 0:D.id)===(null==x?void 0:x.id)?!!V.URLUtils.isMobileDeepLink(e)&&(Cn(null),!0):!(!V.URLUtils.isURLValid(e)||!V.URLUtils.isHttpUrl(e,!1)&&!V.URLUtils.isHttpsUrl(e,!1)||(Cn(null),0))},showError:rt,setShowError:at,hint:no?"The authorized redirect URI determines where the authorization code is sent to upon user authentication, and where the user is redirected to upon user logout. The client app should specify the authorized redirect URI in the authorization or logout request and "+ci.ui.productName+" will validate it against the authorized redirect URLs entered here.":Y("applications:forms.inboundOIDC.fields.callBackUrls.hint",{productName:ci.ui.productName}),readOnly:N,addURLTooltip:Y("common:addURL"),duplicateURLErrorMessage:Y("common:duplicateURLError"),"data-testid":"".concat($,"-callback-url-input"),getSubmit:function(e){fr=e},showPredictions:!1,customLabel:In,productName:ci.ui.productName,isCustom:(null==D?void 0:D.id)===(null==x?void 0:x.id),popupHeaderPositive:Y("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:Y("applications:URLInput.withLabel.negative.header"),popupContentPositive:Y("applications:URLInput.withLabel.positive.content",{productName:ci.ui.productName}),popupContentNegative:Y("applications:URLInput.withLabel.negative.content",{productName:ci.ui.productName}),popupDetailedContentPositive:Y("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:Y("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:Y("console:common.validations.inSecureURL.description"),showLessContent:Y("common:showLess"),showMoreContent:Y("common:showMore")}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},m.createElement("div",{ref:mi}),m.createElement(u.wE,{handleAddAllowedOrigin:function(e){return ea(e)},urlState:hn,setURLState:function(e){vn(e),hn!==e&&Eo(!0)},onlyOrigin:!0,labelName:Y("applications:forms.inboundOIDC.fields.allowedOrigins.label"),placeholder:Y("applications:forms.inboundOIDC.fields.allowedOrigins.placeholder"),value:hn,validationErrorMsg:Y("applications:forms.inboundOIDC.fields.allowedOrigins.validations.empty"),validation:function(e){return!(!V.URLUtils.isHttpsUrl(e)&&!V.URLUtils.isHttpUrl(e)||!V.URLUtils.isAValidOriginUrl(e)||!V.URLUtils.isMobileDeepLink(e)||(Rn(null),0))},computerWidth:10,setShowError:yt,showError:bt,readOnly:N,addURLTooltip:Y("common:addURL"),duplicateURLErrorMessage:Y("common:duplicateURLError"),"data-testid":"".concat($,"-allowed-origin-url-input"),getSubmit:function(e){gr=e},showPredictions:!1,customLabel:Nn,popupHeaderPositive:Y("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:Y("applications:URLInput.withLabel.negative.header"),popupContentPositive:Y("applications:URLInput.withLabel.positive.content",{productName:ci.ui.productName}),popupContentNegative:Y("applications:URLInput.withLabel.negative.content",{productName:ci.ui.productName}),popupDetailedContentPositive:Y("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:Y("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:Y("console:common.validations.inSecureURL.description"),showLessContent:Y("common:showLess"),showMoreContent:Y("common:showMore")}),m.createElement(u.kW,null,"The HTTP origins that host your ",!no&&"web"," application. You can define multiple web origins by adding them separately.",m.createElement("p",{className:"mt-0"},"(E.g.,\xa0\xa0",m.createElement(u.EK,null,"https://myapp.io, https://localhost:3000"),")"))))),It&&!z&&!G&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h4"},Y("applications:forms.inboundOIDC.sections.pkce.heading")),m.createElement(B.gN,{ref:gi,name:$o,label:"",required:!1,requiredErrorMessage:Y("applications:forms.inboundOIDC.sections.pkce.fields.pkce.validations.empty"),type:"checkbox",value:(null==S?void 0:S.pkce)&&(Jr=S.pkce,Xr=[],Jr.mandatory&&Xr.push(Wo),Jr.supportPlainTransformAlgorithm&&Xr.push(Ko),Xr),listen:Qo,children:Yi||no||co||po?[{label:Y("applications:forms.inboundOIDC.sections.pkce.fields.pkce.children.mandatory.label"),value:Wo}]:[{label:Y("applications:forms.inboundOIDC.sections.pkce.fields.pkce.children.mandatory.label"),value:Wo},{disabled:!Go,hint:{content:Y("applications:forms.inboundOIDC.sections.pkce.description",{productName:ci.ui.productName}),header:"PKCE 'Plain'"},label:Y("applications:forms.inboundOIDC.sections.pkce.fields.pkce.children.plainAlg.label"),value:Ko}],readOnly:N||co,"data-testid":"".concat($,"-pkce-checkbox-group")}),m.createElement(u.kW,null,Y("applications:forms.inboundOIDC.sections.pkce.hint"))))),Rt&&!z&&!G&&!ro&&!Ho()&&m.createElement(b.Z.Row,{columns:2,"data-componentid":$+"-hybrid-flow"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(te.Z,{display:"flex",alignItems:"self-start"},m.createElement(u.X6,{as:"h4",className:"hybrid-flow-heading"},Y("applications:forms.inboundOIDC.sections.hybridFlow.heading")),l.tZ.advancedConfigurations.showHybridFlowFeatureStatusChip&&m.createElement("div",{className:"oxygen-chip-div"},m.createElement(ne.Z,{label:Y(le.j.NEW),className:"oxygen-menu-item-chip oxygen-chip-new"}))),m.createElement(B.gN,{ref:hi,name:U.jo.HYBRID_FLOW_ENABLE_CONFIG,required:!1,children:[{label:Y("applications:forms.inboundOIDC.sections.hybridFlow.enable.label"),value:U.jo.HYBRID_FLOW_ENABLE_CONFIG}],type:"checkbox",value:null!=S&&null!==(vr=S.hybridFlow)&&void 0!==vr&&vr.enable?[U.jo.HYBRID_FLOW_ENABLE_CONFIG]:[],listen:Jo,readOnly:N,"data-testid":"".concat($,"--hybridFlow-enable-checkbox")}))),Rt&&Uo&&m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16}),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:vi,label:Y("applications:forms.inboundOIDC.sections.hybridFlow.hybridFlowResponseType.label"),name:U.jo.HYBRID_FLOW_RESPONSE_TYPE,type:"checkbox",required:!0,children:(Qr=[],ar.forEach((function(e,t){var n={label:lr(e,t),value:e},i=cr(e);i&&!ro&&(n.hint={content:i,header:""}),Qr.push(n)})),Qr),readOnly:N,value:Gt,enableReinitialize:!0,listen:function(e){return function(e){var t=e.get(U.jo.HYBRID_FLOW_RESPONSE_TYPE);zt(t)}(e)},"data-testid":"".concat($,"--hybridflow-responsetype-checkbox")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.hybridFlowhybridFlowResponseType.fields.hint"},"Select the allowed "," ",m.createElement(u.eb,{link:T,showEmptyLinkText:!0}," hybrid flow ")," response type.")))),ra&&m.createElement("div",{"data-componentid":$+"-client-authentication"},m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h4"},Y("applications:forms.inboundOIDC.sections.clientAuthentication.heading")),ia&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:fi,name:"supportPublicClients",label:"",required:!1,requiredErrorMessage:Y("applications:forms.inboundOIDC.fields.public.validations.empty"),type:"checkbox",value:null!=S&&S.publicClient?["supportPublicClients"]:[],children:[{label:Y("applications:forms.inboundOIDC.fields.public.label"),value:"supportPublicClients"}],readOnly:N||co,listen:function(e){var t=e.get("supportPublicClients").includes("supportPublicClients");qe(t),t&&Dn("")},"data-testid":"".concat($,"-public-client-checkbox")}),m.createElement(u.kW,null,Y("applications:forms.inboundOIDC.fields.public.hint",{productName:null===(br=ci.ui)||void 0===br?void 0:br.productName})))),oa&&!co&&m.createElement(m.Fragment,null,m.createElement(B.gN,{ref:ji,name:"tokenEndpointAuthMethod",label:Y("applications:forms.inboundOIDC.sections.clientAuthentication.fields.authenticationMethod.label"),required:!1,type:"dropdown",disabled:Be,placeholder:Y("applications:forms.inboundOIDC.sections.clientAuthentication.fields.authenticationMethod.placeholder"),value:Un,listen:function(e){return function(e){var t=e.get("tokenEndpointAuthMethod");Dn(t)}(e)},children:or(ke?null==O||null===(Er=O.fapiMetadata)||void 0===Er?void 0:Er.tokenEndpointAuthMethod:null==O?void 0:O.tokenEndpointAuthMethod),readOnly:N,"data-componentId":"".concat(W,"-client-auth-method-dropdown")}),m.createElement(u.kW,null,Y("applications:forms.inboundOIDC.sections.clientAuthentication.fields.authenticationMethod.hint"))))),Un===Xo&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Fi,name:"tokenEndpointAllowReusePvtKeyJwt",required:!1,type:"checkbox",disabled:Be,value:null!=S&&null!==(yr=S.clientAuthentication)&&void 0!==yr&&yr.tokenEndpointAllowReusePvtKeyJwt?["tokenEndpointAllowReusePvtKeyJwt"]:[],readOnly:N,"data-componentId":"".concat(W,"-client-auth-pvt-key-jwt-reuse-checkbox"),children:[{label:Y("applications:forms.inboundOIDC.sections.clientAuthentication.fields.reusePvtKeyJwt.label"),value:"tokenEndpointAllowReusePvtKeyJwt"}]}),m.createElement(u.kW,null,Y("applications:forms.inboundOIDC.sections.clientAuthentication.fields.reusePvtKeyJwt.hint")))),Un===Xo&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Hi,name:"tokenEndpointAuthSigningAlg",label:Y("applications:forms.inboundOIDC.sections.clientAuthentication.fields.signingAlgorithm.label"),required:!1,type:"dropdown",disabled:Be,default:null!=S&&S.clientAuthentication?S.clientAuthentication.tokenEndpointAuthSigningAlg:null==O||null===(Ar=O.tokenEndpointSignatureAlgorithm)||void 0===Ar?void 0:Ar.defaultValue,placeholder:Y("applications:forms.inboundOIDC.sections.clientAuthentication.fields.signingAlgorithm.placeholder"),children:or(ke?null==O||null===(Tr=O.fapiMetadata)||void 0===Tr?void 0:Tr.allowedSignatureAlgorithms:null==O?void 0:O.tokenEndpointSignatureAlgorithm),readOnly:N,"data-componentId":"".concat(W,"-client-auth-signing-algorithm-dropdown")}),m.createElement(u.kW,null,Y("applications:forms.inboundOIDC.sections.clientAuthentication.fields.signingAlgorithm.hint")))),"tls_client_auth"===Un&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(ve.Z.Input,{ref:Vi,ariaLabel:"TLS client auth subject DN",inputType:"name",name:"tlsClientAuthSubjectDn",label:Y("applications:forms.inboundOIDC.sections.clientAuthentication.fields.subjectDN.label"),disabled:Be,required:!1,placeholder:Y("applications:forms.inboundOIDC.sections.clientAuthentication.fields.subjectDN.placeholder"),value:kn,onChange:function(e){return Mn(e.target.value)},readOnly:!1,maxLength:U.jo.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH,minLength:3,width:16,"data-componentId":"".concat(W,"-client-auth-subject-dn")}),m.createElement(u.kW,null,Y("applications:forms.inboundOIDC.sections.clientAuthentication.fields.subjectDN.hint"))))),(j.u.CUSTOM_APPLICATION===(null==x?void 0:x.templateId)||j.u.OIDC_WEB_APPLICATION===(null==x?void 0:x.templateId))&&!Ho()&&!z&&!G&&!(null!=Ce&&Ce.includes("applications.protocol.pushedAuthorization"))&&m.createElement(b.Z.Row,{columns:2,"data-componentid":$+"-pushed-authorization-requests"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h4"},Y("applications:forms.inboundOIDC.sections.pushedAuthorization.heading")),m.createElement(B.gN,{ref:Bi,name:"requirePushAuthorizationRequest",required:!1,type:"checkbox",value:null!=S&&null!==(Or=S.pushAuthorizationRequest)&&void 0!==Or&&Or.requirePushAuthorizationRequest?["requirePushAuthorizationRequest"]:[],children:[{label:Y("applications:forms.inboundOIDC.sections.pushedAuthorization.fields.requirePushAuthorizationRequest.label"),value:"requirePushAuthorizationRequest"}],readOnly:N,"data-componentId":"".concat(W,"-pushed-authorization-checkbox")}),m.createElement(u.kW,null,Y("applications:forms.inboundOIDC.sections.pushedAuthorization.fields.requirePushAuthorizationRequest.hint")))),(j.u.CUSTOM_APPLICATION===(null==x?void 0:x.templateId)||j.u.OIDC_WEB_APPLICATION===(null==x?void 0:x.templateId))&&!Ho()&&!z&&!G&&(null===l.tZ||void 0===l.tZ||null===(Sr=l.tZ.inboundOIDCForm)||void 0===Sr?void 0:Sr.showRequestObjectConfigurations)&&m.createElement(b.Z.Row,{columns:1,"data-componentid":$+"-request-object"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h4"},Y("applications:forms.inboundOIDC.sections.requestObject.heading")),m.createElement(B.gN,{ref:qi,name:"requestObjectSigningAlg",label:Y("applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectSigningAlg.label"),required:!1,type:"dropdown",disabled:!1,default:null!=S&&null!==(Ir=S.requestObject)&&void 0!==Ir&&Ir.requestObjectSigningAlg?S.requestObject.requestObjectSigningAlg:null,placeholder:Y("applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectSigningAlg.placeholder"),children:or(ke?null==O||null===(Cr=O.fapiMetadata)||void 0===Cr?void 0:Cr.allowedSignatureAlgorithms:null==O?void 0:O.requestObjectSignatureAlgorithm),readOnly:N,"data-componentId":"".concat(W,"-request-object-signing-algorithm-dropdown")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectSigningAlg.hint"},"The dropdown contains the supported ",m.createElement(u.EK,{withBackground:!0},"request object"),"signing algorithms."))),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Gi,name:"requestObjectEncryptionAlgorithm",label:Y("applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionAlgorithm.label"),required:!1,type:"dropdown",disabled:!1,default:null!=S&&null!==(wr=S.requestObject)&&void 0!==wr&&null!==(wr=wr.encryption)&&void 0!==wr&&wr.algorithm?S.requestObject.encryption.algorithm:null,placeholder:Y("applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionAlgorithm.placeholder"),children:or(ke?null==O||null===(Nr=O.fapiMetadata)||void 0===Nr?void 0:Nr.allowedEncryptionAlgorithms:null==O?void 0:O.requestObjectEncryptionAlgorithm),readOnly:N,"data-componentId":"".concat(W,"-request-object-encryption-algorithm-dropdown")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionAlgorithm.hint"},"The dropdown contains the supported ",m.createElement(u.EK,{withBackground:!0},"request object"),"encryption algorithms."))),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:zi,name:"requestObjectEncryptionMethod",label:Y("applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionMethod.label"),required:!1,type:"dropdown",disabled:!1,default:null!=S&&null!==(Rr=S.requestObject)&&void 0!==Rr&&null!==(Rr=Rr.encryption)&&void 0!==Rr&&Rr.method?S.requestObject.encryption.method:null,placeholder:Y("applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionMethod.placeholder"),children:or(null==O?void 0:O.requestObjectEncryptionMethod),readOnly:N,"data-componentId":"".concat(W,"-request-object-encryption-method-dropdown")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionMethod.hint"},"The dropdown contains the supported ",m.createElement(u.EK,{withBackground:!0},"request object"),"encryption methods.")))),!z&&!G&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(u.X6,{as:"h4"},Y("applications:forms.inboundOIDC.sections.accessToken.heading")))),!co&&m.createElement(b.Z.Row,{columns:1,"data-componentid":$+"-access-token-type"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Ei,label:Y("applications:forms.inboundOIDC.sections.accessToken.fields.type.label"),name:"type",default:null!=S&&S.accessToken?S.accessToken.type:null==O||null===(_r=O.accessTokenType)||void 0===_r?void 0:_r.defaultValue,type:"radio",children:rr(null==O?void 0:O.accessTokenType,!1),listen:function(e){Kt(e.get("type")===Yo)},readOnly:N,"data-testid":"".concat($,"-access-token-type-radio-group")}))),m.createElement(b.Z.Row,{columns:1,"data-componentid":$+"-jwt-access-token-attributes"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},Wt&&!ro&&(0,pe.cr)(we,"applications.accessTokenAttributes")?m.createElement(b.Z.Row,null,m.createElement(b.Z.Column,{width:8},m.createElement(ee.Z,{className:"access-token-attributes-dropdown",size:"small",disablePortal:!0,multiple:!0,disableCloseOnSelect:!0,loading:Z,options:Qn,value:null!=Wn?Wn:[],disabled:!ei,"data-componentid":"".concat(W,"-assigned-access-token-attribute-list"),getOptionLabel:function(e){return e.claimURI},renderInput:function(e){return m.createElement(ie.Z,ht({label:Y("applications:forms.inboundOIDC.sections.accessToken.fields.accessTokenAttributes.label"),className:"access-token-attributes-dropdown-input"},e,{placeholder:Y("applications:forms.inboundOIDC.sections.accessToken.fields.accessTokenAttributes.placeholder")}))},onChange:function(e,t){Eo(!0),Kn(t)},isOptionEqualToValue:function(e,t){return e.id===t.id},renderTags:function(e,t){return e.map((function(e,n){return m.createElement(ne.Z,ht({},t({index:n}),{key:n,label:e.claimURI,variant:null!=Qn&&Qn.find((function(t){return t.id===e.id}))?"filled":"outlined"}))}))},renderOption:function(e,t,n){var i=n.selected;return m.createElement(Ve,{selected:i,displayName:t.localClaimDisplayName,claimURI:t.claimURI,renderOptionProps:e})}}),m.createElement(u.kW,null,m.createElement(g.c,{values:{productName:ci.ui.productName},i18nKey:"applications:forms.inboundOIDC.sections.accessTokenAttributes.hint"},"Select the attributes that should be included in the ",m.createElement(u.EK,{withBackground:!0},"access_token"),".")))):null))),!ro&&!Ho()&&!z&&!G&&!co&&m.createElement(b.Z.Row,{columns:1,"data-componentid":$+"-access-token-binding-type"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:bi,label:Y("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.label"),name:"bindingType",default:null!=S&&null!==(Lr=S.accessToken)&&void 0!==Lr&&Lr.bindingType?S.accessToken.bindingType:ke?L.ti.CERTIFICATE:null!==(Pr=null==O||null===(kr=O.accessTokenBindingType)||void 0===kr?void 0:kr.defaultValue)&&void 0!==Pr?Pr:L.ti.NONE,type:"radio",children:rr(null==O?void 0:O.accessTokenBindingType,!0),readOnly:N||ke,"data-testid":"".concat($,"-access-token-type-radio-group"),listen:function(e){On(e.get("bindingType")),yn(e.get("bindingType")!==L.ti.NONE),We(e.get("bindingType")===L.ti.DPOP)}}),m.createElement(u.kW,null,m.createElement(g.c,{values:{productName:ci.ui.productName},i18nKey:"applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.description"},"Select type ",m.createElement(u.EK,{withBackground:!0},"SSO-session")," to allow productName to bind the",m.createElement(u.EK,{withBackground:!0},"access_token"),"and the",m.createElement(u.EK,{withBackground:!0},"refresh_token"),"to the login session and issue a new token per session. When the application session ends, the tokens will also be revoked.")))),!Yi&&!no&&En&&!z&&!G&&!co&&m.createElement("div",{"data-componentid":$+"-validate-token-binding-and-revokation"},!$e&&m.createElement(b.Z.Row,{columns:1,"data-componentid":$+"-validate-token-binding"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:yi,name:"ValidateTokenBinding",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:(null==S||null===(Yr=S.accessToken)||void 0===Yr?void 0:Yr.validateTokenBinding)||ke?["validateTokenBinding"]:[],children:[{label:Y("applications:forms.inboundOIDC.sections.accessToken.fields.validateBinding.label"),value:"validateTokenBinding"}],readOnly:N||ke,"data-testid":"".concat($,"-access-token-validate-binding-checkbox")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.accessToken.fields.validateBinding.hint"},"Validate the binding attributes at the token validation. The client needs to present the ",m.createElement(u.EK,{withBackground:!0},"access_token")," + cookie for successful authorization.")))),m.createElement(b.Z.Row,{columns:1,"data-componentid":$+"-revoke-access-token-upon-user-logout"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},(Tn!==L.ti.SSO_SESSION||si)&&m.createElement(m.Fragment,null,m.createElement(B.gN,{ref:Ai,name:"RevokeAccessToken",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:null!=S&&null!==(Mr=S.accessToken)&&void 0!==Mr&&Mr.revokeTokensWhenIDPSessionTerminated?["revokeAccessToken"]:[],children:[{label:Y("applications:forms.inboundOIDC.sections.accessToken.fields.revokeToken.label"),value:"revokeAccessToken"}],readOnly:N,"data-testid":"".concat($,"-access-token-revoke-token-checkbox")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.accessToken.fields.revokeToken.hint"},"Allow revoking tokens of this application when a bound IDP session gets terminated through a user logout. Remember to include either",m.createElement(u.EK,{withBackground:!0},"client_id")," or",m.createElement(u.EK,{withBackground:!0},"id_token_hint")," in the logout request.")))))),!ro&&!z&&!G&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Ti,name:"userAccessTokenExpiryInSeconds",label:Y(Yi?"applications:forms.inboundOIDC.sections.accessToken.fields.expiry.labelForSPA":"applications:forms.inboundOIDC.sections.accessToken.fields.expiry.label"),required:!0,requiredErrorMessage:Y("applications:forms.inboundOIDC.sections.accessToken.fields.expiry.validations.empty"),validation:function(){var e=gt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:na(t.toString())||(n.isValid=!1,n.errorMessages.push(Y("applications:forms.inboundOIDC.sections.accessToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!=S&&S.accessToken?S.accessToken.userAccessTokenExpiryInSeconds.toString():null==O?void 0:O.defaultUserAccessTokenExpiryTime,placeholder:Y("applications:forms.inboundOIDC.sections.accessToken.fields.expiry.placeholder"),type:"number",readOnly:N,min:1,"data-testid":"".concat($,"-access-token-expiry-time-input")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.accessToken.fields.expiry.hint"},"Specify the validity period of the",m.createElement(u.EK,{withBackground:!0},"access_token"),"in seconds.")))),(null==Ht?void 0:Ht.includes("client_credentials"))&&!z&&!G&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{name:"applicationAccessTokenExpiryInSeconds",ref:Oi,label:Y("applications:forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.label"),required:!0,requiredErrorMessage:Y("applications:forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.validations.empty"),value:S.accessToken?S.accessToken.applicationAccessTokenExpiryInSeconds.toString():null==O?void 0:O.defaultApplicationAccessTokenExpiryTime,validation:function(){var e=gt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:na(t.toString())||(n.isValid=!1,n.errorMessages.push(Y("applications:forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),placeholder:Y("applications:forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.placeholder"),type:"number",min:1,readOnly:N}),m.createElement(u.kW,null,"Specify the validity period of the",m.createElement(u.EK,{withBackground:!0},"application_access_token"),"in seconds.")))),ro&&!z&&!G&&m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},m.createElement(u.wE,{isAllowEnabled:!1,tenantDomain:M,onlyOrigin:!1,labelEnabled:!1,urlState:tt,setURLState:function(e){var t,n;nt(e),(null!=S&&null!==(t=S.idToken)&&void 0!==t&&t.audience.toString()?P.y.buildCallBackURLWithSeparator(null==S||null===(n=S.idToken)||void 0===n?void 0:n.audience.toString()):"")!==e&&Eo(!0)},labelName:Y("applications:forms.inboundOIDC.sections.accessToken.fields.audience.label"),required:!1,value:null!=S&&null!==(xr=S.idToken)&&void 0!==xr&&xr.audience.toString()?P.y.buildCallBackURLWithSeparator(null==S||null===(Ur=S.idToken)||void 0===Ur?void 0:Ur.audience.toString()):"",validation:function(e){return!(null!=e&&e.includes(","))},placeholder:Y("applications:forms.inboundOIDC.sections.accessToken.fields.audience.placeholder"),validationErrorMsg:Y("applications:forms.inboundOIDC.sections.accessToken.fields.audience.validations.invalid"),showError:ut,setShowError:dt,hint:m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.accessToken.fields.audience.hint"},"Specify the recipient(s) that this ",m.createElement(u.EK,{withBackground:!0},"access_token")," is intended for. By default, the client ID of this application is added as an audience."),readOnly:N,addURLTooltip:Y("common:addURL"),duplicateURLErrorMessage:Y("common:duplicateURLError"),getSubmit:function(e){fr=e},showPredictions:!1,popupHeaderPositive:Y("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:Y("applications:URLInput.withLabel.negative.header"),popupContentPositive:Y("applications:URLInput.withLabel.positive.content",{productName:ci.ui.productName}),popupContentNegative:Y("applications:URLInput.withLabel.negative.content",{productName:ci.ui.productName}),popupDetailedContentPositive:Y("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:Y("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:Y("console:common.validations.inSecureURL.description"),showLessContent:Y("common:showLess"),showMoreContent:Y("common:showMore"),skipInternalValidation:!0}))),(null==Ht?void 0:Ht.includes("refresh_token"))&&!z&&!G&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h4"},Y("applications:forms.inboundOIDC.sections.refreshToken.heading")),m.createElement(B.gN,{ref:Si,name:"RefreshToken",label:"",required:!1,requiredErrorMessage:Y("applications:forms.inboundOIDC.sections.refreshToken.fields.renew.validations.empty"),type:"checkbox",value:null!=S&&null!==(Dr=S.refreshToken)&&void 0!==Dr&&Dr.renewRefreshToken?["refreshToken"]:[],children:[{label:Y("applications:forms.inboundOIDC.sections.refreshToken.fields.renew.label"),value:"refreshToken"}],readOnly:N,"data-testid":"".concat($,"-renew-refresh-token-checkbox")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.refreshToken.fields.renew.hint"},"Select to issue a new ",m.createElement(u.EK,{withBackground:!0},"refresh_token"),"each time a ",m.createElement(u.EK,{withBackground:!0},"refresh_token")," is exchanged. The existing token will be invalidated.")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Ci,name:"extendExpiryTime",label:"",required:!1,type:"checkbox",value:null!=S&&null!==(Zr=S.refreshToken)&&void 0!==Zr&&Zr.extendRenewedRefreshTokenExpiryTime?["extendExpiryTime"]:[],children:[{label:Y("applications:forms.inboundOIDC.sections.refreshToken.fields.extendRenewedRefreshTokenExpiryTime.label"),value:"extendExpiryTime"}],readOnly:N,"data-testid":"".concat($,"-extend-refresh-token-expiry-time-checkbox")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.refreshToken.fields.extendRenewedRefreshTokenExpiryTime.hint"},"Select to ensure renewed refresh tokens retain the remaining validity period from the original token instead of receiving a fresh expiry time.")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Ii,name:"expiryInSeconds",label:Y("applications:forms.inboundOIDC.sections.refreshToken.fields.expiry.label"),required:!0,requiredErrorMessage:Y("applications:forms.inboundOIDC.sections.refreshToken.fields.expiry.validations.empty"),placeholder:Y("applications:forms.inboundOIDC.sections.refreshToken.fields.expiry.placeholder"),validation:function(){var e=gt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:na(t.toString())||(n.isValid=!1,n.errorMessages.push(Y("applications:forms.inboundOIDC.sections.refreshToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!=S&&S.refreshToken?S.refreshToken.expiryInSeconds.toString():null==O?void 0:O.defaultRefreshTokenExpiryTime,type:"number",readOnly:N,min:1,"data-testid":"".concat($,"-refresh-token-expiry-time-input")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.refreshToken.fields.expiry.hint"},"Specify the validity period of the ",m.createElement(u.EK,{withBackground:!0},"refresh_token"),"in seconds."))))),(null==Ht?void 0:Ht.includes(U.jo.OAUTH2_TOKEN_EXCHANGE))&&!z&&!G&&ai&&Wt&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16},m.createElement(u.X6,{as:"h4"},Y("applications:forms.inboundOIDC.sections.subjectToken.heading")),m.createElement(B.gN,{ref:$i,name:"SubjectToken",label:"",required:!1,requiredErrorMessage:Y("applications:forms.inboundOIDC.sections.subjectToken.fields.enable.validations.empty"),type:"checkbox",listen:function(e){var t,n=null==e||null===(t=e.get("SubjectToken"))||void 0===t?void 0:t.includes("subjectToken");oi(n)},value:null!=S&&null!==(jr=S.subjectToken)&&void 0!==jr&&jr.enable?["subjectToken"]:[],children:[{label:Y("applications:forms.inboundOIDC.sections.subjectToken.fields.enable.label"),value:"subjectToken"}],readOnly:N,"data-componentid":"".concat($,"-subject-token-checkbox")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.subjectToken.fields.enable.hint"},"Select to enable the subject token response type for this application to be used in the impersonation flow.")))),ii&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Wi,name:"applicationSubjectTokenExpiryInSeconds",label:Y("applications:forms.inboundOIDC.sections.subjectToken.fields.expiry.label"),required:!0,requiredErrorMessage:Y("applications:forms.inboundOIDC.sections.subjectToken.fields.expiry.validations.empty"),placeholder:Y("applications:forms.inboundOIDC.sections.subjectToken.fields.expiry.placeholder"),validation:function(e,t){na(e.toString())||(t.isValid=!1,t.errorMessages.push(Y("applications:forms.inboundOIDC.sections.subjectToken.fields.expiry.validations.invalid")))},value:null!=S&&S.subjectToken?S.subjectToken.applicationSubjectTokenExpiryInSeconds.toString():ce.c.DEFAULT_SUBJECT_TOKEN_EXPIRY_TIME,type:"number",readOnly:N,min:1,"data-testid":"".concat($,"-subject-token-expiry-time-input")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.subjectToken.fields.expiry.hint"},"Specify the validity period of the ",m.createElement(u.EK,{withBackground:!0},"subject_token"),"in seconds."))))),!ro&&!z&&!G&&m.createElement(b.Z.Row,{columns:2,"data-componentid":$+"-id-token-audience"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},m.createElement(u.X6,{as:"h4"},Y("applications:forms.inboundOIDC.sections.idToken.heading")),m.createElement(u.wE,{isAllowEnabled:!1,tenantDomain:M,onlyOrigin:!1,labelEnabled:!1,urlState:tt,setURLState:function(e){var t,n;nt(e),(null!=S&&null!==(t=S.idToken)&&void 0!==t&&t.audience.toString()?P.y.buildCallBackURLWithSeparator(null==S||null===(n=S.idToken)||void 0===n?void 0:n.audience.toString()):"")!==e&&Eo(!0)},labelName:Y("applications:forms.inboundOIDC.sections.idToken.fields.audience.label"),required:!1,value:null!=S&&null!==(Fr=S.idToken)&&void 0!==Fr&&Fr.audience.toString()?P.y.buildCallBackURLWithSeparator(null==S||null===(Hr=S.idToken)||void 0===Hr?void 0:Hr.audience.toString()):"",validation:function(e){return!(null!=e&&e.includes(","))},placeholder:Y("applications:forms.inboundOIDC.sections.idToken.fields.audience.placeholder"),validationErrorMsg:Y("applications:forms.inboundOIDC.sections.idToken.fields.audience.validations.invalid"),showError:ut,setShowError:dt,hint:m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.idToken.fields.audience.hint"},"Specify the recipient(s) that this ",m.createElement(u.EK,{withBackground:!0},"id_token")," is intended for. By default, the client ID of this application is added as an audience."),readOnly:N,addURLTooltip:Y("common:addURL"),duplicateURLErrorMessage:Y("common:duplicateURLError"),getSubmit:function(e){fr=e},showPredictions:!1,popupHeaderPositive:Y("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:Y("applications:URLInput.withLabel.negative.header"),popupContentPositive:Y("applications:URLInput.withLabel.positive.content",{productName:ci.ui.productName}),popupContentNegative:Y("applications:URLInput.withLabel.negative.content",{productName:ci.ui.productName}),popupDetailedContentPositive:Y("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:Y("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:Y("console:common.validations.inSecureURL.description"),showLessContent:Y("common:showLess"),showMoreContent:Y("common:showMore"),skipInternalValidation:!0}))),Vo&&m.createElement(b.Z.Row,{columns:1,"data-componentid":$+"-id-token-encryption"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Ni,name:"encryption",label:"",required:!1,disabled:!wo,requiredErrorMessage:Y("applications:forms.inboundOIDC.sections.idToken.fields.encryption.validations.empty"),type:"checkbox",listen:function(e){var t=e.get("encryption").includes("enableEncryption");t||(Bo(),e.set("algorithm",""),e.set("method","")),je(t)},value:null!=S&&null!==(Vr=S.idToken)&&void 0!==Vr&&Vr.encryption.enabled?["enableEncryption"]:[],children:[{label:Y("applications:forms.inboundOIDC.sections.idToken.fields.encryption.label"),value:"enableEncryption"}],readOnly:N,"data-testid":"".concat($,"-encryption-checkbox")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.idToken.fields.encryption.hint"},"Select to encrypt the ",m.createElement(u.EK,{withBackground:!0},"id_token"),"  when issuing the token using the public key of your application. To use encryption, configure the JWKS endpoint or the certificate of your application in the Certificate section below.")))),Vo&&m.createElement(b.Z.Row,{columns:1,"data-componentid":$+"-id-token-encryption-algorithm"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Ri,name:"algorithm",label:Y("applications:forms.inboundOIDC.sections.idToken.fields.algorithm.label"),required:Ze&&wo,requiredErrorMessage:Y("applications:forms.inboundOIDC.sections.idToken.fields.algorithm.validations.empty"),type:"dropdown",disabled:!Ze||!wo,default:Ze&&wo?null!=S&&S.idToken?S.idToken.encryption.algorithm:null==O?void 0:O.idTokenEncryptionAlgorithm.defaultValue:"",placeholder:Y("applications:forms.inboundOIDC.sections.idToken.fields.algorithm.placeholder"),children:or(ke?null==O||null===(Br=O.fapiMetadata)||void 0===Br?void 0:Br.allowedEncryptionAlgorithms:null==O?void 0:O.idTokenEncryptionAlgorithm),readOnly:N,"data-testid":"".concat($,"-encryption-algorithm-dropdown")}),m.createElement(u.kW,{disabled:!Ze||!wo},m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.idToken.fields.algorithm.hint"},"The dropdown contains the supported ",m.createElement(u.EK,{withBackground:!0},"id_token"),"encryption algorithms.")))),Vo&&m.createElement(b.Z.Row,{columns:1,"data-componentid":$+"-id-token-encryption-method"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:_i,name:"method",disabled:!Ze||!wo,label:Y("applications:forms.inboundOIDC.sections.idToken.fields.method.label"),required:Ze&&wo,requiredErrorMessage:Y("applications:forms.inboundOIDC.sections.idToken.fields.method.validations.empty"),type:"dropdown",default:Ze&&wo?null!=S&&S.idToken?S.idToken.encryption.method:null==O||null===(qr=O.idTokenEncryptionMethod)||void 0===qr?void 0:qr.defaultValue:"",placeholder:Y("applications:forms.inboundOIDC.sections.idToken.fields.method.placeholder"),children:or(null==O?void 0:O.idTokenEncryptionMethod),readOnly:N,"data-testid":"".concat($,"-encryption-method-dropdown")}),m.createElement(u.kW,{disabled:!Ze||!wo},m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.idToken.fields.method.hint"},"The dropdown contains the supported ",m.createElement(u.EK,{withBackground:!0},"id_token"),"encryption methods.")))),j.So.STANDARD_BASED_APPLICATION===(null==x?void 0:x.name)&&!z&&!G&&(null===l.tZ||void 0===l.tZ||null===(Gr=l.tZ.inboundOIDCForm)||void 0===Gr?void 0:Gr.showIdTokenResponseSigningAlgorithm)&&m.createElement(b.Z.Row,{columns:1,"data-componentid":$+"-id-token-response-signing-algorithm"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Li,name:"idTokenSignedResponseAlg",label:Y("applications:forms.inboundOIDC.sections.idToken.fields.signing.label"),required:!1,type:"dropdown",disabled:!1,default:null!=S&&S.idToken?S.idToken.idTokenSignedResponseAlg:null,placeholder:Y("applications:forms.inboundOIDC.sections.idToken.fields.signing.placeholder"),children:or(ke?null==O||null===(zr=O.fapiMetadata)||void 0===zr?void 0:zr.allowedSignatureAlgorithms:null==O?void 0:O.idTokenSignatureAlgorithm),readOnly:N,"data-componentId":"".concat(W,"-id_token-response-signing-algorithm-dropdown")}),m.createElement(u.kW,{disabled:!Ze||!wo},m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.idToken.fields.signing.hint"},"The dropdown contains the supported ",m.createElement(u.EK,{withBackground:!0},"id_token"),"signing algorithms.")))),!ro&&!z&&!G&&m.createElement(b.Z.Row,{columns:1,"data-componentid":$+"-id-token-expiry-time"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Pi,name:"idExpiryInSeconds",label:Y("applications:forms.inboundOIDC.sections.idToken.fields.expiry.label"),required:!0,requiredErrorMessage:Y("applications:forms.inboundOIDC.sections.idToken.fields.expiry.validations.empty"),placeholder:Y("applications:forms.inboundOIDC.sections.idToken.fields.expiry.placeholder"),validation:function(){var e=gt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:na(t.toString())||(n.isValid=!1,n.errorMessages.push(Y("applications:forms.inboundOIDC.sections.idToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!=S&&S.idToken?S.idToken.expiryInSeconds.toString():null==O?void 0:O.defaultIdTokenExpiryTime,type:"number",readOnly:N,min:1,"data-testid":"".concat($,"-id-token-expiry-time-input")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.idToken.fields.expiry.hint"},"Specify the validity period of the ",m.createElement(u.EK,{withBackground:!0},"id_token")," in seconds.")))),!Ho()&&(Ne||Re)&&!z&&!G&&m.createElement(b.Z.Row,{columns:2,"data-componentid":$+"-logout-urls"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h4"},Y(Ne&&Re?"applications:forms.inboundOIDC.sections.logoutURLs.heading":"applications:forms.inboundOIDC.sections.logoutURLs.headingSingular")),Ne&&!Yi&&m.createElement(m.Fragment,null,m.createElement(B.gN,{ref:ki,name:"backChannelLogoutUrl",label:Y("applications:forms.inboundOIDC.sections.logoutURLs.fields.back.label"),required:!1,requiredErrorMessage:Y("applications:forms.inboundOIDC.sections.logoutURLs.fields.back.validations.empty"),placeholder:Y("applications:forms.inboundOIDC.sections.logoutURLs.fields.back.placeholder"),type:"text",validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(Y("applications:forms.inboundOIDC.sections.logoutURLs.fields.back.validations.invalid")))},value:null==S||null===($r=S.logout)||void 0===$r?void 0:$r.backChannelLogoutUrl,readOnly:N,"data-testid":"".concat($,"-back-channel-logout-url-input")}),m.createElement(u.kW,null,Y("applications:forms.inboundOIDC.sections.logoutURLs.fields.back.hint",{productName:ci.ui.productName}))))),Re&&!z&&!G&&!no&&!co&&!ro&&!Ho()&&m.createElement(b.Z.Row,{columns:1,"data-componentid":$+"-frontchannel-logout-url"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Mi,name:"frontChannelLogoutUrl",label:Y("applications:forms.inboundOIDC.sections.logoutURLs.fields.front.label"),required:!1,requiredErrorMessage:Y("applications:forms.inboundOIDC.sections.logoutURLs.fields.front.validations.empty"),placeholder:Y("applications:forms.inboundOIDC.sections.logoutURLs.fields.front.placeholder"),type:"text",validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(Y("applications:forms.inboundOIDC.sections.logoutURLs.fields.front.validations.invalid")))},value:null==S||null===(Wr=S.logout)||void 0===Wr?void 0:Wr.frontChannelLogoutUrl,readOnly:N,"data-testid":"".concat($,"-front-channel-logout-url-input")}),m.createElement(u.kW,null,Y("applications:forms.inboundOIDC.sections.logoutURLs.fields.front.hint",{productName:ci.ui.productName})))),!Yi&&l.tZ.inboundOIDCForm.showRequestObjectSignatureValidation&&!z&&!G&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h4"},Y("applications:forms.inboundOIDC.sections.requestObjectSignature.heading")),m.createElement(B.gN,{ref:xi,name:"enableRequestObjectSignatureValidation",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!=S&&S.validateRequestObjectSignature?["EnableRequestObjectSignatureValidation"]:[],children:[{label:Y("applications:forms.inboundOIDC.sections.requestObjectSignature.fields.signatureValidation.label"),value:"EnableRequestObjectSignatureValidation"}],readOnly:N,"data-testid":"".concat($,"-request-object-signature-validation-checkbox")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.requestObjectSignature.description",tOptions:{productName:ci.ui.productName}},"WSO2 Identity Server supports receiving an OIDC authentication request as a request object that is passed in a single, self-contained request parameter. Enable signature validation to accept only signed",m.createElement(u.EK,null,"request")," objects in the authorization request."))))),l.tZ.inboundOIDCForm.showScopeValidators&&!z&&!G&&m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h4"},Y("applications:forms.inboundOIDC.sections.scopeValidators.heading")),m.createElement(B.gN,{ref:Ui,name:"scopeValidator",label:"",required:!1,requiredErrorMessage:Y("applications:forms.inboundOIDC.sections.scopeValidators.fields.validator.validations.empty"),type:"checkbox",value:null==S?void 0:S.scopeValidators,children:or(null==O?void 0:O.scopeValidators,!0),readOnly:N,"data-testid":"".concat($,"-scope-validator-checkbox")}))),!z&&!Ho()&&!G&&m.createElement(b.Z.Row,{columns:1,"data-componentid":$+"-certificate"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(st,{protocol:L.AI.OIDC,deleteAllowed:!(null!==(Kr=S.idToken)&&void 0!==Kr&&null!==(Kr=Kr.encryption)&&void 0!==Kr&&Kr.enabled),reasonInsideTooltipWhyDeleteIsNotAllowed:m.createElement(m.Fragment,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.certificates.disabledPopup"},"This certificate is used to encrypt the ",m.createElement(u.EK,null,"id_token"),". First, you need to disable ",m.createElement(u.EK,null,"id_token")," encryption to proceed.")),onUpdate:p,application:y,updateCertFinalValue:To,updateCertType:Io,certificate:A,readOnly:N,hidden:Yi||!l.tZ.inboundOIDCForm.showCertificates,isRequired:!0,triggerSubmit:jo}))),!N&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement("span",{ref:Zi}),m.createElement(E.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:Z,disabled:Z,"data-testid":"".concat($,"-submit-button")},Y("common:update"))))))),en&&m.createElement(u.cV,{onClose:function(){return tn(!1)},type:"warning",open:en,assertion:null==S?void 0:S.clientId,assertionHint:m.createElement("p",null,m.createElement(g.c,{i18nKey:"applications:confirmations.regenerateSecret.assertionHint",tOptions:{id:null==S?void 0:S.clientId}},"Please type ",m.createElement("strong",null,null==S?void 0:S.clientId)," to confirm.")),assertionType:"input",primaryAction:Y("common:confirm"),secondaryAction:Y("common:cancel"),onSecondaryActionClick:function(){return tn(!1)},onPrimaryActionClick:function(){C(),tn(!1)},"data-testid":"".concat($,"-oidc-regenerate-confirmation-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-testid":"".concat($,"-oidc-regenerate-confirmation-modal-header")},Y("applications:confirmations.regenerateSecret.header")),m.createElement(u.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat($,"-oidc-regenerate-confirmation-modal-message")},Y("applications:confirmations.regenerateSecret.message")),m.createElement(u.cV.Content,{"data-testid":"".concat($,"-oidc-regenerate-confirmation-modal-content")},Y("applications:confirmations.regenerateSecret.content"))),on&&m.createElement(u.cV,{onClose:function(){return rn(!1)},type:"warning",open:on,assertion:null==S?void 0:S.clientId,assertionHint:m.createElement("p",null,m.createElement(g.c,{i18nKey:"applications:confirmations.revokeApplication.assertionHint",tOptions:{id:null==S?void 0:S.clientId}},"Please type ",m.createElement("strong",null,null==S?void 0:S.clientId)," to confirm.")),assertionType:"input",primaryAction:Y("common:confirm"),secondaryAction:Y("common:cancel"),onSecondaryActionClick:function(){return rn(!1)},onPrimaryActionClick:function(){w(),rn(!1)},"data-testid":"".concat($,"-oidc-revoke-confirmation-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-testid":"".concat($,"-oidc-revoke-confirmation-modal-header")},Y("applications:confirmations.revokeApplication.header")),m.createElement(u.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat($,"-oidc-revoke-confirmation-modal-message")},Y("applications:confirmations.revokeApplication.message")),m.createElement(u.cV.Content,{"data-testid":"".concat($,"-oidc-revoke-confirmation-modal-content")},Yi?Y("applications:confirmations.revokeApplication.content"):null)),ln&&m.createElement(u.cV,{onClose:function(){return cn(!1)},type:"warning",open:ln,assertion:null==S?void 0:S.clientId,assertionHint:Yi?m.createElement("p",null,m.createElement(g.c,{i18nKey:"applications:confirmations.reactivateSPA.assertionHint",tOptions:{id:null==S?void 0:S.clientId}},"Please type ",m.createElement("strong",null,null==S?void 0:S.clientId)," to confirm.")):m.createElement("p",null,m.createElement(g.c,{i18nKey:"applications:confirmations.reactivateOIDC.assertionHint",tOptions:{id:null==S?void 0:S.clientId}},"Please type ",m.createElement("strong",null,null==S?void 0:S.clientId)," to confirm.")),assertionType:"input",primaryAction:Y("common:confirm"),secondaryAction:Y("common:cancel"),onSecondaryActionClick:function(){return cn(!1)},onPrimaryActionClick:function(){C(),cn(!1)},"data-testid":"".concat($,"-oidc-reactivate-confirmation-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-testid":"".concat($,"-oidc-reactivate-confirmation-modal-header")},Y(Yi?"applications:confirmations.reactivateOIDC.header":"applications:confirmations.reactivateSPA.header")),Yi?m.createElement(u.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat($,"-oidc-reactivate-confirmation-modal-message")},Y("applications:confirmations.reactivateSPA.message")):null,m.createElement(u.cV.Content,{"data-testid":"".concat($,"-oidc-reactivate-confirmation-modal-content")},Y(Yi?"applications:confirmations.reactivateSPA.content":"applications:confirmations.reactivateOIDC.content"))),un&&mn)):m.createElement(Ee.Z,null,m.createElement(u.pO,{inline:"centered",active:!0}))};function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ct(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ct(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}St.defaultProps={"data-componentid":"inbound-oidc-form","data-testid":"inbound-oidc-form",initialValues:{accessToken:void 0,allowedOrigins:[],callbackURLs:[],clientId:"",clientSecret:"",grantTypes:[],hybridFlow:{enable:!1,responseType:void 0},idToken:void 0,logout:void 0,pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1},publicClient:!1,refreshToken:void 0,scopeValidators:[],state:void 0,subjectToken:void 0,validateRequestObjectSignature:void 0}};var wt=function(e){var t=e.onUpdate,n=e.application,i=e.certificate,o=e.initialValues,r=e.onSubmit,a=e.readOnly,l=e.isLoading,c=e["data-testid"],s=(0,f.$)().t,d=It((0,m.useState)(!1),2),p=d[0],g=d[1],h=It((0,m.useState)(void 0),2),v=h[0],y=h[1],A=It((0,m.useState)(j.el.NONE),2),T=A[0],O=A[1],S=It((0,B.cC)(),2),I=S[0],C=S[1];(0,m.useEffect)((function(){null!=i&&i.type&&O(null==i?void 0:i.type)}),[i]);return m.createElement(B.Es,{onSubmit:function(e){C(),r(function(e){return{general:{advancedConfigurations:{certificate:{type:T!==j.el.NONE?T:null==i?void 0:i.type,value:T!==j.el.NONE?v:""}}},inbound:{realm:e.get("realm"),replyTo:e.get("replyTo"),replyToLogout:e.get("replyToLogout")}}}(e))}},m.createElement(b.Z,null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{name:"realm",label:s("applications:forms.inboundSTS.fields.realm.label"),required:!0,requiredErrorMessage:s("applications:forms.inboundSTS.fields.realm.validations.empty"),placeholder:s("applications:forms.inboundSTS.fields.realm.placeholder"),type:"text",value:null==o?void 0:o.realm,readOnly:a||!(0,R.Z)(null==o?void 0:o.realm),"data-testid":"".concat(c,"-realm-input")}),m.createElement(u.kW,{disabled:!(0,R.Z)(null==o?void 0:o.realm)},s("applications:forms.inboundSTS.fields.realm.hint")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{name:"replyTo",label:s("applications:forms.inboundSTS.fields.replyTo.label"),required:!0,requiredErrorMessage:s("applications:forms.inboundSTS.fields.replyTo.validations.empty"),placeholder:s("applications:forms.inboundSTS.fields.replyTo.placeholder"),validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(s("applications:forms.inboundSTS.fields.replyTo.validations.invalid")))},type:"text",value:null==o?void 0:o.replyTo,readOnly:a,"data-testid":"".concat(c,"-reply-to-url-input")}),m.createElement(u.kW,null,s("applications:forms.inboundSTS.fields.replyTo.hint")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{name:"replyToLogout",label:s("applications:forms.inboundSTS.fields.replyToLogout.label"),placeholder:s("applications:forms.inboundSTS.fields.replyToLogout.placeholder"),validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(s("applications:forms.inboundSTS.fields.replyToLogout.validations.invalid")))},type:"text",value:null==o?void 0:o.replyToLogout,readOnly:a,"data-componentid":"".concat(c,"-reply-to-logout-url-input")}),m.createElement(u.kW,null,s("applications:forms.inboundSTS.fields.replyToLogout.hint")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(st,{hideJWKS:!0,protocol:L.AI.WS_FEDERATION,deleteAllowed:!0,reasonInsideTooltipWhyDeleteIsNotAllowed:m.createElement(m.Fragment,null),onUpdate:t,application:n,updateCertFinalValue:y,updateCertType:O,certificate:i,readOnly:a,hidden:!1,isRequired:!0,triggerSubmit:I}))),p&&m.createElement(K,{open:p,certificate:null,onClose:function(){g(!1)}}),!a&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(E.Z,{primary:!0,type:"submit",size:"small",loading:l,disabled:l,className:"form-button","data-testid":"".concat(c,"-submit-button")},s("common:update"))))))};function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}wt.defaultProps={"data-testid":"inbound-passive-sts-form"};var _t=function(e){var t,n=e.initialValues,i=e.creationOption,o=e.onSubmit,a=e.isLoading,c=e["data-testid"],s=(0,f.$)().t,d=Nt((0,m.useState)(void 0),2),p=d[0],g=d[1],h=Nt((0,m.useState)(),2),y=h[0],A=h[1],T=Nt((0,m.useState)(null),2),O=T[0],S=T[1],I=Nt((0,m.useState)(null),2),C=I[0],w=I[1],N=Nt((0,m.useState)(!1),2),_=N[0],P=N[1];(0,m.useEffect)((function(){var e,t,i;if((0,R.Z)(null==n||null===(e=n.inboundProtocolConfiguration)||void 0===e?void 0:e.saml))g(L.T6.META_URL);else if((0,R.Z)(null==n||null===(t=n.inboundProtocolConfiguration)||void 0===t||null===(t=t.saml)||void 0===t?void 0:t.metadataURL)){if(!(0,R.Z)(null==n||null===(i=n.inboundProtocolConfiguration)||void 0===i||null===(i=i.saml)||void 0===i?void 0:i.metadataFile)){var o,r,a;g(L.T6.META_FILE),S(null==n||null===(o=n.inboundProtocolConfiguration)||void 0===o||null===(o=o.saml)||void 0===o?void 0:o.file),w(null==n||null===(r=n.inboundProtocolConfiguration)||void 0===r||null===(r=r.saml)||void 0===r?void 0:r.pasteValue),A(null==n||null===(a=n.inboundProtocolConfiguration)||void 0===a||null===(a=a.saml)||void 0===a?void 0:a.metadataFile)}}else g(L.T6.META_URL)}),[n]),(0,m.useEffect)((function(){y&&_&&P(!1)}),[y]),(0,m.useEffect)((function(){g(i)}),[i]);return p?m.createElement(B.Es,{onSubmit:function(e){p===L.T6.META_FILE&&(0,R.Z)(y)?P(!0):o(function(e){var t={};return p===L.T6.META_URL?t={inbound:{metadataURL:e.get("url")}}:p===L.T6.META_FILE&&(t={inbound:{metadataFile:y}}),t}(e))}},m.createElement(b.Z,null,L.T6.META_URL===p&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:10},m.createElement(B.gN,{name:"url",displayErrorOn:"blur",label:s("applications:forms.inboundSAML.fields.metaURL.label"),required:!0,requiredErrorMessage:s("applications:forms.inboundSAML.fields.metaURL.validations.empty"),type:"text",placeholder:s("applications:forms.inboundSAML.fields.metaURL.placeholder"),validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(s("applications:forms.inboundSAML.fields.metaURL.validations.invalid"))),null!==l.xg&&void 0!==l.xg&&l.xg.blockLoopBackCalls&&V.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(s("idp:forms.common.internetResolvableErrorMessage")))},value:null==n||null===(t=n.inboundProtocolConfiguration)||void 0===t||null===(t=t.saml)||void 0===t?void 0:t.metadataURL,"data-testid":"".concat(c,"-meta-url-input")}),m.createElement(u.kW,null,s("applications:forms.inboundSAML.fields.metaURL.hint")))),L.T6.META_FILE===p&&m.createElement(b.Z.Row,{columns:1,mobile:16,tablet:16,computer:10},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:10},m.createElement(u.GB,{key:1,fileStrategy:Lt,file:O,pastedContent:C,onChange:function(e){S(e.file),w(e.pastedContent),A(e.serialized)},uploadButtonText:"Upload Metadata File",dropzoneText:"Drag and drop a XML file here.","data-testid":"".concat(c,"-form-wizard-saml-xml-config-file-picker"),icon:(0,r._5)().uploadPlaceholder,placeholderIcon:m.createElement(ze.Z,{name:"file code",size:"huge"}),normalizeStateOnRemoveOperations:!0,emptyFileError:_,hidePasteOption:!0}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,{hidden:!0}),m.createElement(E.Z,{primary:!0,type:"submit",size:"small",loading:a,disabled:a,className:"form-button","data-testid":"".concat(c,"-submit-button")},s("common:update")))))):m.createElement(u.pO,null)};_t.defaultProps={"data-testid":"saml-protocol-all-settings-wizard-form"};var Lt=new u.R2,Pt=n(33362);function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var xt=function(e){var t,n,i,o,r=e.onUpdate,a=e.application,c=e.certificate,s=e.initialValues,d=e.metadata,p=e.onSubmit,y=e.readOnly,A=e.isLoading,T=e.containerRef,O=e["data-testid"],S=(0,f.$)().t,I=kt((0,m.useState)(null),2),C=I[0],w=I[1],N=kt((0,m.useState)(null),2),_=N[0],P=N[1],k=kt((0,m.useState)(null),2),M=k[0],x=k[1],D=kt((0,m.useState)(null),2),Z=D[0],F=D[1],H=(0,h.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.isSignatureValidationCertificateAliasEnabled})),G=(0,h.v9)((function(e){return e.application.samlConfigurations})),z=(0,h.v9)((function(e){return e.config})),$=function(e,t){var n=[];return d&&e.options.map((function(t){n.push({key:e.options.indexOf(t),text:t,value:t})})),n},W=kt((0,m.useState)(""),2),K=W[0],Y=W[1],Q=kt((0,m.useState)(""),2),J=Q[0],X=Q[1],ee=kt((0,m.useState)(""),2),te=ee[0],ne=ee[1],ie=kt((0,m.useState)(""),2),re=ie[0],ae=ie[1],le=kt((0,m.useState)(!1),2),ce=le[0],se=le[1],ue=kt((0,m.useState)(!1),2),de=ue[0],pe=ue[1],me=kt((0,m.useState)(!1),2),ge=me[0],be=me[1],Ee=kt((0,m.useState)(!1),2),ye=Ee[0],Ae=Ee[1],Te=kt((0,m.useState)(!1),2),Oe=Te[0],Se=Te[1],Ie=kt((0,m.useState)(!1),2),Ce=Ie[0],we=Ie[1],Ne=kt((0,m.useState)(!1),2),Re=Ne[0],_e=Ne[1],Le=kt((0,m.useState)(!1),2),Pe=Le[0],ke=Le[1],Me=kt((0,m.useState)(!1),2),xe=Me[0],Ue=Me[1],De=kt((0,m.useState)(!1),2),Ze=De[0],je=De[1],Fe=kt((0,m.useState)(!1),2),He=Fe[0],Ve=Fe[1],Be=kt((0,m.useState)(!0),2),qe=Be[0],Ge=Be[1],ze=kt((0,m.useState)(void 0),2),$e=ze[0],We=ze[1],Ke=kt((0,m.useState)(j.el.NONE),2),Ye=Ke[0],Qe=Ke[1],Je=kt((0,m.useState)(!1),2),Xe=Je[0],et=Je[1],tt=kt((0,m.useState)(null!=s&&s.singleLogoutProfile.logoutMethod?null==s?void 0:s.singleLogoutProfile.logoutMethod:L.aD.BACK_CHANNEL),2),nt=tt[0],it=tt[1],ot=kt((0,m.useState)(!1),2),rt=ot[0],at=ot[1],lt=kt((0,B.cC)(),2),ct=lt[0],ut=lt[1],dt=(0,m.useRef)(),pt=(0,m.useRef)(),mt=(0,m.useRef)(),ft=(0,m.useRef)(),gt=(0,m.useRef)(),ht=(0,m.useRef)(),vt=(0,m.useRef)(),bt=(0,m.useRef)(),Et=(0,m.useRef)(),yt=(0,m.useRef)(),At=(0,m.useRef)(),Tt=(0,m.useRef)(),Ot=(0,m.useRef)(),St=(0,m.useRef)(),It=(0,m.useRef)(),Ct=(0,m.useRef)(),wt=(0,m.useRef)(),Nt=(0,m.useRef)(),Rt=(0,m.useRef)(),_t=(0,m.useRef)(),Lt=(0,m.useRef)(),Mt=(0,m.useRef)(),xt=(0,m.useRef)(),Ut=(0,m.useRef)(),Dt=(0,m.useRef)(),Zt=(0,m.useRef)(),jt=(0,m.useRef)(),Ft=(0,m.useRef)(),Ht=(0,m.useRef)(),Vt=(0,m.useRef)(),Bt=(0,m.useRef)(),qt=(0,m.useRef)();(0,m.useEffect)((function(){null!=c&&c.type&&Qe(null==c?void 0:c.type)}),[c]);(0,m.useEffect)((function(){var e;s&&(Se(null==s?void 0:s.singleLogoutProfile.enabled),we(null==s?void 0:s.singleLogoutProfile.idpInitiatedSingleLogout.enabled),_e(null==s?void 0:s.attributeProfile.enabled),ke(null==s?void 0:s.requestValidation.enableSignatureValidation),je(null==s?void 0:s.responseSigning.enabled),Ue(null==s?void 0:s.singleSignOnProfile.assertion.encryption.enabled),Ve(null==s||null===(e=s.singleSignOnProfile)||void 0===e||null===(e=e.bindings)||void 0===e?void 0:e.includes(L.Ss.ARTIFACT)))}),[s]),(0,m.useEffect)((function(){Ge(l.tZ.inboundSAMLForm.artifactBindingAllowed)}),[]);var Gt,zt=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"issuer":dt.current.scrollIntoView(t);break;case"applicationQualifier":pt.current.scrollIntoView(t);break;case"consumerURL":mt.current.scrollIntoView(t);break;case"defaultAssertionConsumerUrl":ft.current.scrollIntoView(t);break;case"idpEntityIdAlias":gt.current.scrollIntoView(t);break;case"requestSignatureValidation":ht.current.scrollIntoView(t);break;case"signatureValidationCertAlias":vt.current.scrollIntoView(t);break;case"digestAlgorithm":bt.current.scrollIntoView(t);break;case"signingAlgorithm":Et.current.scrollIntoView(t);break;case"responseSigning":yt.current.scrollIntoView(t);break;case"bindings":At.current.scrollIntoView(t);break;case"signatureValidationForArtifactBinding":Tt.current.scrollIntoView(t);break;case"idPInitiatedSSO":Ot.current.scrollIntoView(t);break;case"nameIdFormat":St.current.scrollIntoView(t);break;case"audience":It.current.scrollIntoView(t);break;case"recipient":Ct.current.scrollIntoView(t);break;case"assertionEncryption":wt.current.scrollIntoView(t);break;case"assertionEncryptionAlgorithm":Nt.current.scrollIntoView(t);break;case"keyEncryptionAlgorithm":Rt.current.scrollIntoView(t);break;case"attributeProfile":_t.current.scrollIntoView(t);break;case"includeAttributesInResponse":Lt.current.scrollIntoView(t);break;case"attributeConsumingServiceIndex":xt.current.scrollIntoView(t);break;case"attributeNameFormat":Mt.current.scrollIntoView(t);break;case"singleLogoutProfile":Ut.current.scrollIntoView(t);break;case"logoutMethod":Dt.current.scrollIntoView(t);break;case"singleLogoutResponseUrl":Zt.current.scrollIntoView(t);break;case"singleLogoutRequestUrl":jt.current.scrollIntoView(t);break;case"idpInitiatedSingleLogout":Ft.current.scrollIntoView(t);break;case"returnToURL":Ht.current.scrollIntoView(t);break;case"assertionQueryProfile":Vt.current.scrollIntoView(t)}};return(0,m.useEffect)((function(){(0,R.Z)($e)||Ye===j.el.NONE?et(!1):et(!0)}),[$e,Ye]),d?m.createElement(B.Es,{onSubmit:function(e){ut(),Ye!==j.el.NONE&&(0,R.Z)($e)||((0,R.Z)(K)?(se(!0),zt("consumerURL")):(Ye===j.el.NONE&&We(""),p(function(e){var t,n;return{general:{advancedConfigurations:{certificate:{type:j.el.PEM,value:Ye!==j.el.NONE?$e:""}}},inbound:{manualConfiguration:{assertionConsumerUrls:K.split(","),attributeProfile:{alwaysIncludeAttributesInResponse:e.get("attributeProfile").includes("enabled"),enabled:e.get("attributeProfile").includes("enabled"),nameFormat:e.get("attributeNameFormat")},defaultAssertionConsumerUrl:e.get("defaultAssertionConsumerUrl"),enableAssertionQueryProfile:null===(t=e.get("assertionQueryProfile"))||void 0===t?void 0:t.includes("enableAssertionQueryProfile"),idpEntityIdAlias:e.get("idpEntityIdAlias"),issuer:e.get("issuer")||(null==s?void 0:s.issuer),requestValidation:{enableSignatureValidation:(Xe||H)&&e.get("requestSignatureValidation").includes("enableSignatureValidation"),signatureValidationCertAlias:e.get("signatureValidationCertAlias")},responseSigning:{enabled:e.get("responseSigning").includes("enabled"),signingAlgorithm:e.get("signingAlgorithm")},serviceProviderQualifier:e.get("applicationQualifier"),singleLogoutProfile:{enabled:e.get("singleLogoutProfile").includes("enabled"),idpInitiatedSingleLogout:{enabled:e.get("idpInitiatedSingleLogout").includes("enabled"),returnToUrls:re?re.split(","):[]},logoutMethod:e.get("logoutMethod"),logoutRequestUrl:e.get("singleLogoutRequestUrl"),logoutResponseUrl:e.get("singleLogoutResponseUrl")},singleSignOnProfile:{assertion:{audiences:J?J.split(","):[],digestAlgorithm:e.get("digestAlgorithm"),encryption:{assertionEncryptionAlgorithm:Xe?e.get("assertionEncryptionAlgorithm"):null==d?void 0:d.assertionEncryptionAlgorithm.defaultValue,enabled:Xe&&e.get("assertionEncryption").includes("enableAssertionEncryption"),keyEncryptionAlgorithm:Xe?e.get("keyEncryptionAlgorithm"):null==d?void 0:d.keyEncryptionAlgorithm.defaultValue},nameIdFormat:e.get("nameIdFormat"),recipients:te?te.split(","):[]},attributeConsumingServiceIndex:e.get("attributeConsumingServiceIndex"),bindings:e.get("bindings"),enableIdpInitiatedSingleSignOn:e.get("idPInitiatedSSO").includes("enableIdPInitiatedSSO"),enableSignatureValidationForArtifactBinding:qe&&(null===(n=e.get("signatureValidationForArtifactBinding"))||void 0===n?void 0:n.includes("enableSignatureValidationForArtifactBinding"))}}}}}(e))))},onSubmitError:function(e,t){for(var n=e.entries(),i=n.next();!i.done;){if(!i.value[1]||!t.get(i.value[0]).isValid){zt(i.value[0]);break}i=n.next()}},onStaleChange:function(e){at(e)},ref:Bt},!y&&m.createElement(u.PH,{updateButtonRef:qt,isFormStale:rt,containerRef:T},m.createElement(E.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:A,disabled:A,"data-testid":"".concat(O,"-submit-button-sticky")},S("common:update"))),m.createElement(b.Z,null,m.createElement(oe.l,{tabId:l.N0.PROTOCOL},m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-issuer"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},null!=s&&s.issuer?m.createElement(ve.Z.Field,null,m.createElement("div",{className:"required field"},m.createElement("label",null,S("applications:forms.inboundSAML.fields.issuer.label"))),m.createElement(u.OR,{value:null==s?void 0:s.issuer})):m.createElement(B.gN,{name:"issuer",label:S("applications:forms.inboundSAML.fields.issuer.label"),required:!0,requiredErrorMessage:S("applications:forms.inboundSAML.fields.issuer.validations.empty"),type:"text",placeholder:S("applications:forms.inboundSAML.fields.issuer.placeholder"),value:null==s?void 0:s.issuer,readOnly:y,"data-testid":"".concat(O,"-issuer-input"),ref:dt}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundSAML.fields.issuer.hint"},"This specifies the unique identifier of the application. This is also the",m.createElement(u.EK,{withBackground:!0},"saml2:Issuer"),"  value specified in the SAML authentication request issued by the application.")))),l.tZ.inboundSAMLForm.showApplicationQualifier&&m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-application-qualifier"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:pt,name:"applicationQualifier",label:S("applications:forms.inboundSAML.fields.qualifier.label"),required:!1,requiredErrorMessage:S("applications:forms.inboundSAML.fields.qualifier.validations.empty"),type:"text",placeholder:S("applications:forms.inboundSAML.fields.qualifier.placeholder"),value:null==s?void 0:s.serviceProviderQualifier,readOnly:y,"data-testid":"".concat(O,"-application-qualifier-input")}),m.createElement(u.kW,null,S("applications:forms.inboundSAML.fields.qualifier.hint")))),m.createElement("div",{ref:mt}),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.wE,{urlState:K,setURLState:function(e){var t;Y(e),(null==s||null===(t=s.assertionConsumerUrls)||void 0===t?void 0:t.toString())!==e&&at(!0)},labelName:S("applications:forms.inboundSAML.fields.assertionURLs.label"),value:null==s?void 0:s.assertionConsumerUrls.toString(),placeholder:S("applications:forms.inboundSAML.fields.assertionURLs.placeholder"),validationErrorMsg:S("applications:forms.inboundSAML.fields.assertionURLs.validations.invalid"),validation:function(e){var t=null;return V.URLUtils.isHttpsOrHttpUrl(e)||(t=m.createElement(he.Z,{basic:!0,color:"orange",className:"mt-2"},S("console:common.validations.unrecognizedURL.description"))),!!V.URLUtils.isMobileDeepLink(e)&&(w(t),!0)},required:!0,showError:ce,setShowError:se,hint:S("applications:forms.inboundSAML.fields.assertionURLs.hint"),readOnly:y,addURLTooltip:S("common:addURL"),duplicateURLErrorMessage:S("common:duplicateURLError"),"data-testid":"".concat(O,"-assertion-consumer-url-input"),showPredictions:!1,customLabel:C,popupHeaderPositive:S("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:S("applications:URLInput.withLabel.negative.header"),popupContentPositive:S("applications:URLInput.withLabel.positive.content",{productName:z.ui.productName}),popupContentNegative:S("applications:URLInput.withLabel.negative.content",{productName:z.ui.productName}),popupDetailedContentPositive:S("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:S("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:S("console:common.validations.inSecureURL.description"),showLessContent:S("common:showLess"),showMoreContent:S("common:showMore")}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:ft,label:S("applications:forms.inboundSAML.fields.defaultAssertionURL.label"),name:"defaultAssertionConsumerUrl",type:"dropdown",required:!0,requiredErrorMessage:S("applications:forms.inboundSAML.fields.defaultAssertionURL.validations.empty"),default:!(0,R.Z)(K)&&K.split(",").slice(-1)[0],children:function(){var e=[];if(!(0,R.Z)(K)){var t=K.split(",");t.map((function(n){e.push({key:t.indexOf(n),text:n,value:n})}))}return e}(),readOnly:y,"data-testid":"".concat(O,"-default-assertion-consumer-url-input"),value:null==s?void 0:s.defaultAssertionConsumerUrl}),m.createElement(u.kW,null,S("applications:forms.inboundSAML.fields.defaultAssertionURL.hint")))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-idp-entity-id-alias"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:gt,label:S("applications:forms.inboundSAML.fields.idpEntityIdAlias.label"),name:"idpEntityIdAlias",placeholder:S("applications:forms.inboundSAML.fields.idpEntityIdAlias.placeholder"),type:"text",required:!1,requiredErrorMessage:S("applications:forms.inboundSAML.fields.idpEntityIdAlias.validations.empty"),validation:function(e,t){q.I.url(e)||(t.errorMessages.push(S("applications:forms.inboundSAML.fields.idpEntityIdAlias.validations.invalid")),t.isValid=!1)},value:null==s?void 0:s.idpEntityIdAlias,readOnly:y,"data-testid":"".concat(O,"-idp-entity-id-alias-input")}),m.createElement(u.kW,null,m.createElement(g.c,{values:{defaultIdpEntityID:null==G?void 0:G.issuer,productName:z.ui.productName},i18nKey:"applications:forms.inboundSAML.fields.idpEntityIdAlias.hint"},"This value can override the default Identity Provider (IdP) entity ID defaultIdpEntityID. The IdP entity ID is used as the",m.createElement(u.EK,{withBackground:!0},"saml2:Issuer")," of the SAML response that is generated by productName.")))),m.createElement(b.Z.Row,{columns:2,"data-componentid":"application-edit-inbound-saml-form-request-validation"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h5"},S("applications:forms.inboundSAML.sections.requestValidation.heading")),m.createElement(v.Z,{hidden:!0}),m.createElement(B.gN,{ref:ht,name:"requestSignatureValidation",label:"",required:!1,requiredErrorMessage:S("applications:forms.inboundSAML.sections.requestValidation.fields.signatureValidation.validations.empty"),disabled:!Xe&&!H,type:"checkbox",listen:function(e){ke(e.get("requestSignatureValidation").includes("enableSignatureValidation"))},value:null!=s&&s.requestValidation.enableSignatureValidation?["enableSignatureValidation"]:[],children:[{label:S("applications:forms.inboundSAML.sections.requestValidation.fields.signatureValidation.label"),value:"enableSignatureValidation"}],readOnly:y,"data-testid":"".concat(O,"-request-signature-validation-checkbox")}),m.createElement(u.kW,null,S("applications:forms.inboundSAML.sections.requestValidation.fields.signatureValidation.hint",{productName:z.ui.productName})))),H&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:vt,label:S("applications:forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.label"),name:"signatureValidationCertAlias",type:"dropdown",required:!1,disabled:!Pe,value:null==s?void 0:s.requestValidation.signatureValidationCertAlias,requiredErrorMessage:S("applications:forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.validations.empty"),default:null==d?void 0:d.certificateAlias.defaultValue,children:$(null==d?void 0:d.certificateAlias),readOnly:y,"data-testid":"".concat(O,"-request-validation-certificate-alias-dropdown")}),m.createElement(u.kW,{disabled:!Pe},S("applications:forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.hint")))),m.createElement(b.Z.Row,{columns:2,"data-componentid":"application-edit-inbound-saml-form-sign-saml-responses-header"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h5"},S("applications:forms.inboundSAML.sections.responseSigning.heading")))),m.createElement(b.Z.Row,{"data-componentid":"application-edit-inbound-saml-form-sign-saml-responses"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:yt,name:"responseSigning",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!=s&&s.responseSigning.enabled?["enabled"]:[],listen:function(e){je(e.get("responseSigning").includes("enabled"))},children:[{label:S("applications:forms.inboundSAML.sections.responseSigning.fields.responseSigning.label"),value:"enabled"}],readOnly:y,"data-testid":"".concat(O,"-response-signing-checkbox")}),m.createElement(u.kW,null,S("applications:forms.inboundSAML.sections.responseSigning.fields.responseSigning.hint",{productName:z.ui.productName})))),m.createElement(b.Z.Row,{"data-componentid":"application-edit-inbound-saml-form-sign-digest-algorithm"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:bt,label:S("applications:forms.inboundSAML.sections.responseSigning.fields.digestAlgorithm.label"),name:"digestAlgorithm",type:"dropdown",required:!1,requiredErrorMessage:S("applications:forms.inboundSAML.sections.responseSigning.fields.digestAlgorithm.validations.empty"),default:null==d?void 0:d.responseDigestAlgorithm.defaultValue,value:null==s?void 0:s.singleSignOnProfile.assertion.digestAlgorithm,children:$(null==d?void 0:d.responseDigestAlgorithm),readOnly:y,disabled:!Ze,"data-testid":"".concat(O,"-digest-algorithm-dropdown")}))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-sign-algorithm"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Et,label:S("applications:forms.inboundSAML.sections.responseSigning.fields.signingAlgorithm.label"),name:"signingAlgorithm",type:"dropdown",required:!1,value:null==s?void 0:s.responseSigning.signingAlgorithm,requiredErrorMessage:S("applications:forms.inboundSAML.sections.responseSigning.fields.signingAlgorithm.validations.empty"),default:null==d?void 0:d.responseSigningAlgorithm.defaultValue,children:$(null==d?void 0:d.responseSigningAlgorithm),readOnly:y,disabled:!Ze,"data-testid":"".concat(O,"-signing-algorithm-dropdown")}))),m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h5"},S("applications:forms.inboundSAML.sections.ssoProfile.heading")))),m.createElement(b.Z.Row,{columns:2,"data-componentid":"application-edit-inbound-saml-form-bindings"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:At,label:S("applications:forms.inboundSAML.sections.ssoProfile.fields.bindings.label"),name:"bindings",type:"checkbox",required:!1,requiredErrorMessage:S("applications:forms.inboundSAML.sections.ssoProfile.fields.bindings.validations.empty"),default:["HTTP_POST","HTTP_REDIRECT"],children:(Gt=[{label:"HTTP Post",readOnly:!0,value:"HTTP_POST"},{label:"HTTP Redirect",readOnly:!0,value:"HTTP_REDIRECT"}],qe&&Gt.push({label:"Artifact",readOnly:!1,value:"ARTIFACT"}),Gt),value:(0,fe.Z)(null==s||null===(t=s.singleSignOnProfile)||void 0===t?void 0:t.bindings,["HTTP_POST","HTTP_REDIRECT"]),readOnly:y,listen:function(e){Ve(e.get("bindings").includes("ARTIFACT")),e.get("bindings").includes("ARTIFACT")||e.set("signatureValidationForArtifactBinding",[])},"data-testid":"".concat(O,"-bindings-checkbox-group")}),m.createElement(u.kW,null,S("applications:forms.inboundSAML.sections.ssoProfile.fields.bindings.hint")))),qe?m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-signature-validation-for-artifact-binding"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Tt,name:"signatureValidationForArtifactBinding",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:He&&null!=s&&s.singleSignOnProfile.enableSignatureValidationForArtifactBinding?["enableSignatureValidationForArtifactBinding"]:[],children:[{label:S("applications:forms.inboundSAML.sections.ssoProfile.fields.artifactBinding.label"),value:"enableSignatureValidationForArtifactBinding"}],readOnly:y,disabled:!He,"data-testid":"".concat(O,"-artifact-binding-signature-validation-checkbox")}),m.createElement(u.kW,{disabled:!He},S("applications:forms.inboundSAML.sections.ssoProfile.fields.artifactBinding.hint")))):null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Ot,name:"idPInitiatedSSO",label:"",required:!1,requiredErrorMessage:S("applications:forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.validations.empty"),type:"checkbox",value:null!=s&&s.singleSignOnProfile.enableIdpInitiatedSingleSignOn?["enableIdPInitiatedSSO"]:[],children:[{label:S("applications:forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.label"),value:"enableIdPInitiatedSSO"}],readOnly:y,"data-testid":"".concat(O,"-idp-initiated-sso-checkbox")}),m.createElement(u.kW,null,S("applications:forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.hint")))),m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h5"},S("applications:forms.inboundSAML.sections.assertion.heading")))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-name-id-format"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:St,label:S("applications:forms.inboundSAML.sections.assertion.fields.nameIdFormat.label"),name:"nameIdFormat",placeholder:S("applications:forms.inboundSAML.sections.assertion.fields.nameIdFormat.placeholder"),type:"dropdown",default:null==d?void 0:d.defaultNameIdFormat,required:!1,requiredErrorMessage:S("applications:forms.inboundSAML.sections.assertion.fields.nameIdFormat.validations.empty"),value:null==s?void 0:s.singleSignOnProfile.assertion.nameIdFormat,children:(0,Pt.Ex)(),readOnly:y,"data-testid":"".concat(O,"-name-id-format-input")}),m.createElement(u.kW,null,S("applications:forms.inboundSAML.sections.assertion.fields.nameIdFormat.hint")))),m.createElement("div",{ref:It}),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-audience"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.wE,{urlState:J,setURLState:function(e){var t;X(e),(null==s||null===(t=s.singleSignOnProfile)||void 0===t||null===(t=t.assertion)||void 0===t||null===(t=t.audiences)||void 0===t?void 0:t.toString())!==e&&at(!0)},labelName:S("applications:forms.inboundSAML.sections.assertion.fields.audience.label"),value:null==s?void 0:s.singleSignOnProfile.assertion.audiences.toString(),placeholder:S("applications:forms.inboundSAML.sections.assertion.fields.audience.placeholder"),validationErrorMsg:S("applications:forms.inboundSAML.sections.assertion.fields.audience.validations.invalid"),validation:function(e){var t=null;return V.URLUtils.isHttpUrl(e)||V.URLUtils.isHttpsUrl(e)||(t=m.createElement(he.Z,{basic:!0,color:"orange",className:"mt-2"},S("console:common.validations.unrecognizedURL.description"))),!!V.URLUtils.isMobileDeepLink(e)&&(P(t),!0)},showError:de,setShowError:pe,hint:S("applications:forms.inboundSAML.sections.assertion.fields.audience.hint"),readOnly:y,addURLTooltip:S("common:addURL"),duplicateURLErrorMessage:S("common:duplicateURLError"),"data-testid":"".concat(O,"-audience-url-input"),showPredictions:!1,customLabel:_,popupHeaderPositive:S("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:S("applications:URLInput.withLabel.negative.header"),popupContentPositive:S("applications:URLInput.withLabel.positive.content",{productName:z.ui.productName}),popupContentNegative:S("applications:URLInput.withLabel.negative.content",{productName:z.ui.productName}),popupDetailedContentPositive:S("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:S("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:S("console:common.validations.inSecureURL.description"),showLessContent:S("common:showLess"),showMoreContent:S("common:showMore")}))),m.createElement("div",{ref:Ct}),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-recipient"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.wE,{urlState:te,setURLState:function(e){var t;ne(e),(null==s||null===(t=s.singleSignOnProfile)||void 0===t||null===(t=t.assertion)||void 0===t||null===(t=t.recipients)||void 0===t?void 0:t.toString())!==e&&at(!0)},labelName:S("applications:forms.inboundSAML.sections.assertion.fields.recipients.label"),value:null==s?void 0:s.singleSignOnProfile.assertion.recipients.toString(),placeholder:S("applications:forms.inboundSAML.sections.assertion.fields.recipients.placeholder"),validationErrorMsg:S("applications:forms.inboundSAML.sections.assertion.fields.recipients.validations.invalid"),validation:function(e){var t=null;return V.URLUtils.isHttpUrl(e)||V.URLUtils.isHttpsUrl(e)||(t=m.createElement(he.Z,{basic:!0,color:"orange",className:"mt-2"},S("console:common.validations.unrecognizedURL.description"))),!!V.URLUtils.isMobileDeepLink(e)&&(x(t),!0)},showError:ge,setShowError:be,hint:S("applications:forms.inboundSAML.sections.assertion.fields.recipients.hint"),readOnly:y,addURLTooltip:S("common:addURL"),duplicateURLErrorMessage:S("common:duplicateURLError"),"data-testid":"".concat(O,"-recipients-url-input"),showPredictions:!1,customLabel:M,popupHeaderPositive:S("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:S("applications:URLInput.withLabel.negative.header"),popupContentPositive:S("applications:URLInput.withLabel.positive.content",{productName:z.ui.productName}),popupContentNegative:S("applications:URLInput.withLabel.negative.content",{productName:z.ui.productName}),popupDetailedContentPositive:S("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:S("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:S("console:common.validations.inSecureURL.description"),showLessContent:S("common:showLess"),showMoreContent:S("common:showMore")}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:wt,name:"assertionEncryption",label:"",required:!1,disabled:!Xe,requiredErrorMessage:S("applications:forms.inboundSAML.sections.encryption.fields.assertionEncryption.validations.empty"),value:null!=s&&s.singleSignOnProfile.assertion.encryption.enabled?["enableAssertionEncryption"]:[],type:"checkbox",listen:function(e){Ue(e.get("assertionEncryption").includes("enableAssertionEncryption"))},children:[{label:S("applications:forms.inboundSAML.sections.encryption.fields.assertionEncryption.label"),value:"enableAssertionEncryption"}],readOnly:y,"data-testid":"".concat(O,"-assertion-encryption-checkbox")}),m.createElement(u.kW,null,S("applications:forms.inboundSAML.sections.encryption.fields.assertionEncryption.hint")))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-assertion-encryption-algorithm"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Nt,label:S("applications:forms.inboundSAML.sections.encryption.fields.assertionEncryptionAlgorithm.label"),name:"assertionEncryptionAlgorithm",type:"dropdown",required:!1,requiredErrorMessage:S("applications:forms.inboundSAML.sections.encryption.fields.assertionEncryptionAlgorithm.validations.empty"),disabled:!xe||!Xe,default:null==d?void 0:d.assertionEncryptionAlgorithm.defaultValue,value:null==s?void 0:s.singleSignOnProfile.assertion.encryption.assertionEncryptionAlgorithm,children:$(null==d?void 0:d.assertionEncryptionAlgorithm),readOnly:y,"data-testid":"".concat(O,"-assertion-encryption-algorithm-dropdown")}))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-key-encryption-algorithm"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Rt,label:S("applications:forms.inboundSAML.sections.encryption.fields.keyEncryptionAlgorithm.label"),name:"keyEncryptionAlgorithm",type:"dropdown",required:!1,disabled:!xe||!Xe,requiredErrorMessage:S("applications:forms.inboundSAML.sections.encryption.fields.keyEncryptionAlgorithm.validations.empty"),default:null==d?void 0:d.keyEncryptionAlgorithm.defaultValue,value:null==s?void 0:s.singleSignOnProfile.assertion.encryption.keyEncryptionAlgorithm,children:$(null==d?void 0:d.keyEncryptionAlgorithm),readOnly:y,"data-testid":"".concat(O,"-key-encryption-algorithm-dropdown")}))),m.createElement(b.Z.Row,{columns:2,"data-componentid":"application-edit-inbound-saml-form-attribute-profile-heading"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h5"},S("applications:forms.inboundSAML.sections.attributeProfile.heading")))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-enable-attribute-profile"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:_t,name:"attributeProfile",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!=s&&s.attributeProfile.enabled?["enabled"]:[],listen:function(e){_e(e.get("attributeProfile").includes("enabled"))},children:[{label:S("applications:forms.inboundSAML.sections.attributeProfile.fields.enable.label"),value:"enabled"}],readOnly:y,"data-testid":"".concat(O,"-attribute-profile-checkbox")}),m.createElement(u.kW,null,S("applications:forms.inboundSAML.sections.attributeProfile.fields.enable.hint")))),l.tZ.inboundSAMLForm.showAttributeConsumingServiceIndex&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:xt,label:S("applications:forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.label"),name:"attributeConsumingServiceIndex",placeholder:S("applications:forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.placeholder"),type:"text",required:!1,disabled:!Re,requiredErrorMessage:S("applications:forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.validations.empty"),value:null==s?void 0:s.singleSignOnProfile.attributeConsumingServiceIndex,readOnly:y,"data-testid":"".concat(O,"-attribute-consuming-service-index-input")}),m.createElement(u.kW,null,S("applications:forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.hint"))))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-attribute-name-format"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Mt,label:S("applications:forms.inboundSAML.sections.attributeProfile.fields.attributeNameFormat.label"),name:"attributeNameFormat",type:"dropdown",default:U.jo.DEFAULT_NAME_ATTRIBUTE_FORMAT,required:!1,value:null==s||null===(n=s.attributeProfile)||void 0===n?void 0:n.nameFormat,children:U.jo.SUPPORT_NAME_FORMATS.map((function(e){return{key:e,text:e,value:e}})),readOnly:y,"data-componentid":"application-edit-inbound-saml-form-attribute-name-format-input"}),m.createElement(u.kW,null,S("applications:forms.inboundSAML.sections.attributeProfile.fields.attributeNameFormat.hint")))),m.createElement(b.Z.Row,{columns:2,"data-componentid":"application-edit-inbound-saml-form-slo-heading"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h5"},S("applications:forms.inboundSAML.sections.sloProfile.heading")))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-enable-slo"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Ut,name:"singleLogoutProfile",label:"",required:!1,requiredErrorMessage:S("applications:forms.inboundSAML.sections.sloProfile.fields.enable.validations.empty"),type:"checkbox",value:null!=s&&s.singleLogoutProfile.enabled?["enabled"]:[],listen:function(e){Se(e.get("singleLogoutProfile").includes("enabled"))},children:[{label:S("applications:forms.inboundSAML.sections.sloProfile.fields.enable.label"),value:"enabled"}],readOnly:y,"data-testid":"".concat(O,"-single-logout-profile-checkbox")}),m.createElement(u.kW,null,S("applications:forms.inboundSAML.sections.sloProfile.fields.enable.hint")))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-slo-logout-method"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Dt,label:S("applications:forms.inboundSAML.sections.sloProfile.fields.logoutMethod.label"),name:"logoutMethod",type:"dropdown",required:!1,value:null==s?void 0:s.singleLogoutProfile.logoutMethod,requiredErrorMessage:S("applications:forms.inboundSAML.sections.sloProfile.fields.logoutMethod.validations.empty"),default:L.aD.BACK_CHANNEL,disabled:!Oe,children:[{key:1,text:"Back Channel",value:L.aD.BACK_CHANNEL},{key:2,text:"Front Channel HTTP Redirect",value:L.aD.FRONT_CHANNEL_HTTP_REDIRECT},{key:3,text:"Front Channel HTTP Post",value:L.aD.FRONT_CHANNEL_HTTP_POST}],listen:function(e){it(e.get("logoutMethod"))},readOnly:y,"data-testid":"".concat(O,"-logout-method-dropdown")}))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-slo-logout-response-url"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Zt,name:"singleLogoutResponseUrl",label:S("applications:forms.inboundSAML.sections.sloProfile.fields.responseURL.label"),validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(S("applications:forms.inboundSAML.sections.sloProfile.fields.responseURL.validations.invalid"))),nt===L.aD.BACK_CHANNEL&&null!==l.xg&&void 0!==l.xg&&l.xg.blockLoopBackCalls&&V.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(S("idp:forms.common.internetResolvableErrorMessage")))},required:!1,requiredErrorMessage:S("applications:forms.inboundSAML.sections.sloProfile.fields.responseURL.validations.empty"),placeholder:S("applications:forms.inboundSAML.sections.sloProfile.fields.responseURL.placeholder"),disabled:!Oe,type:"text",value:null==s?void 0:s.singleLogoutProfile.logoutResponseUrl,readOnly:y,"data-testid":"".concat(O,"-single-logout-response-url-input")}),m.createElement(u.kW,{disabled:!Oe},S("applications:forms.inboundSAML.sections.sloProfile.fields.responseURL.hint",{productName:z.ui.productName})))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-slo-logout-request-url"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:jt,name:"singleLogoutRequestUrl",label:S("applications:forms.inboundSAML.sections.sloProfile.fields.requestURL.label"),validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(S("applications:forms.inboundSAML.sections.sloProfile.fields.requestURL.validations.invalid"))),nt===L.aD.BACK_CHANNEL&&null!==l.xg&&void 0!==l.xg&&l.xg.blockLoopBackCalls&&V.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(S("idp:forms.common.internetResolvableErrorMessage")))},required:!1,requiredErrorMessage:S("applications:forms.inboundSAML.sections.sloProfile.fields.requestURL.validations.empty"),placeholder:S("applications:forms.inboundSAML.sections.sloProfile.fields.requestURL.placeholder"),disabled:!Oe,type:"text",value:null==s?void 0:s.singleLogoutProfile.logoutRequestUrl,readOnly:y,"data-testid":"".concat(O,"-single-logout-request-url-input")}),m.createElement(u.kW,{disabled:!Oe},S("applications:forms.inboundSAML.sections.sloProfile.fields.requestURL.hint",{productName:z.ui.productName})))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-idp-initiated-slo-heading"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h6",disabled:!Oe},S("applications:forms.inboundSAML.sections.idpInitiatedSLO.heading")))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-enable-idp-initiated-slo"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Ft,name:"idpInitiatedSingleLogout",label:"",required:!1,requiredErrorMessage:S("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.validations.empty"),type:"checkbox",disabled:!Oe,value:null!=s&&s.singleLogoutProfile.idpInitiatedSingleLogout.enabled?["enabled"]:[],listen:function(e){we(e.get("idpInitiatedSingleLogout").includes("enabled"))},children:[{label:S("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.label"),value:"enabled"}],readOnly:y,"data-testid":"".concat(O,"-idp-initiated-single-logout-checkbox")}),m.createElement(u.kW,{disabled:!Oe},S("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.hint")))),m.createElement("div",{ref:Ht}),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-slo-return-to-urls"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.wE,{urlState:re,setURLState:function(e){var t;ae(e),(null==s||null===(t=s.singleLogoutProfile)||void 0===t||null===(t=t.idpInitiatedSingleLogout)||void 0===t||null===(t=t.returnToUrls)||void 0===t?void 0:t.toString())!==e&&at(!0)},labelName:S("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.label"),value:null==s?void 0:s.singleLogoutProfile.idpInitiatedSingleLogout.returnToUrls.toString(),placeholder:S("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.placeholder"),validationErrorMsg:S("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.validations.invalid"),validation:function(e){var t=null;return V.URLUtils.isHttpUrl(e)||V.URLUtils.isHttpsUrl(e)||(t=m.createElement(he.Z,{basic:!0,color:"orange",className:"mt-2"},S("console:common.validations.unrecognizedURL.description"))),!!V.URLUtils.isMobileDeepLink(e)&&(F(t),!0)},showError:ye,setShowError:Ae,disabled:!Ce||!Oe,readOnly:y,addURLTooltip:S("common:addURL"),duplicateURLErrorMessage:S("common:duplicateURLError"),"data-testid":"".concat(O,"-return-to-urls-input"),showPredictions:!1,customLabel:Z,popupHeaderPositive:S("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:S("applications:URLInput.withLabel.negative.header"),popupContentPositive:S("applications:URLInput.withLabel.positive.content",{productName:z.ui.productName}),popupContentNegative:S("applications:URLInput.withLabel.negative.content",{productName:z.ui.productName}),popupDetailedContentPositive:S("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:S("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:S("console:common.validations.inSecureURL.description"),showLessContent:S("common:showLess"),showMoreContent:S("common:showMore")}),m.createElement(u.kW,{disabled:!Oe},S("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.hint")))),l.tZ.inboundSAMLForm.showQueryRequestProfile&&m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-assertion-query-profile"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null)),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h5"},S("applications:forms.inboundSAML.sections.requestProfile.heading")),m.createElement(v.Z,{hidden:!0}),m.createElement(B.gN,{ref:Vt,name:"assertionQueryProfile",label:"",required:!1,requiredErrorMessage:S("applications:forms.inboundSAML.sections.requestProfile.fields.enable.validations.empty"),value:null!=s&&s.enableAssertionQueryProfile?["enableAssertionQueryProfile"]:[],type:"checkbox",children:[{label:S("applications:forms.inboundSAML.sections.requestProfile.fields.enable.label"),value:"enableAssertionQueryProfile"}],readOnly:y,"data-testid":"".concat(O,"-assertion-query-profile-checkbox")}))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-certificate"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(st,{protocol:L.AI.SAML,deleteAllowed:!(null!=s&&null!==(i=s.requestValidation)&&void 0!==i&&i.enableSignatureValidation&&!H||null!=s&&null!==(o=s.singleSignOnProfile)&&void 0!==o&&null!==(o=o.assertion)&&void 0!==o&&null!==(o=o.encryption)&&void 0!==o&&o.enabled),reasonInsideTooltipWhyDeleteIsNotAllowed:S("applications:forms.inboundSAML.sections.certificates.disabledPopup"),onUpdate:r,application:a,updateCertFinalValue:We,updateCertType:Qe,canDiscardCertificate:function(){return!Pe},certificate:c,readOnly:y,hidden:!1,isRequired:!0,hideJWKS:!0,triggerSubmit:ct}))),!y&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement("span",{ref:qt}),m.createElement(E.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:A,disabled:A,"data-testid":"".concat(O,"-submit-button")},S("common:update"))))))):null};function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}xt.defaultProps={"data-testid":"inbound-saml-form"};var Zt=function(e){var t=e.certificate,n=e.metadata,i=e.initialValues,o=e.onSubmit,r=e.readOnly,a=e.isLoading,l=e["data-testid"],d=(0,f.$)().t,p=(0,h.I0)(),g=Ut((0,m.useState)(!1),2),y=g[0],A=g[1],T=Ut((0,m.useState)(!1),2),O=T[0],S=T[1],I=Ut((0,m.useState)(void 0),2),C=I[0],w=I[1],N=Ut((0,m.useState)(null),2),_=N[0],L=N[1];(0,m.useEffect)((function(){j.el.PEM===(null==t?void 0:t.type)&&(A(!0),null!=t&&t.value&&w(t.value))}),[t]);var P,k;return n?m.createElement(B.Es,{onSubmit:function(e){o(function(e){return{general:{advancedConfigurations:{certificate:{type:e.get("type"),value:y?e.get("certificateValue"):e.get("jwksValue")}}},inbound:{audience:e.get("audience"),certificateAlias:e.get("certificateAlias")}}}(e))}},m.createElement(b.Z,null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{name:"audience",label:d("applications:forms.inboundWSTrust.fields.audience.label"),required:!0,requiredErrorMessage:d("applications:forms.inboundWSTrust.fields.audience.validations.empty"),placeholder:d("applications:forms.inboundWSTrust.fields.audience.placeholder"),type:"text",value:null==i?void 0:i.audience,readOnly:r||!(0,R.Z)(null==i?void 0:i.audience),"data-testid":"".concat(l,"-audience-input")}),m.createElement(u.kW,{disabled:!(0,R.Z)(null==i?void 0:i.audience)},d("applications:forms.inboundWSTrust.fields.audience.hint")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{label:d("applications:forms.inboundWSTrust.fields.certificateAlias.label"),name:"certificateAlias",type:"dropdown",required:!0,requiredErrorMessage:d("applications:forms.inboundWSTrust.fields.certificateAlias.validations.empty"),default:null==n?void 0:n.certificateAlias.defaultValue,value:null==i?void 0:i.certificateAlias,children:(P=null==n?void 0:n.certificateAlias,k=[],P&&P.options.map((function(e){k.push({key:P.options.indexOf(e),text:e,value:e})})),k),readOnly:r,"data-testid":"".concat(l,"-certificate-alias-dropdown")}),m.createElement(u.kW,null,d("applications:forms.inboundWSTrust.fields.certificateAlias.hint")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:10},m.createElement(v.Z,null)),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:10},m.createElement(u.X6,{as:"h5"},d("applications:forms.advancedConfig.sections.certificate.heading")),m.createElement(B.gN,{label:d("applications:forms.advancedConfig.sections.certificate.fields.type.label"),name:"type",default:j.el.JWKS,listen:function(e){A("PEM"===e.get("type"))},type:"radio",value:null==t?void 0:t.type,children:[{label:d("applications:forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:j.el.JWKS},{label:d("applications:forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:j.el.PEM}],readOnly:r,"data-testid":"".concat(l,"-certificate-type-radio-group")}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},y?m.createElement(m.Fragment,null,m.createElement(B.gN,{name:"certificateValue",label:d("applications:forms.advancedConfig.sections.certificate.fields.pemValue.label"),required:!1,requiredErrorMessage:d("applications:forms.advancedConfig.sections.certificate.fields.pemValue.validations.empty"),placeholder:U.jo.PEM_CERTIFICATE_PLACEHOLDER,type:"textarea",value:j.el.PEM===(null==t?void 0:t.type)&&(null==t?void 0:t.value),listen:function(e){w(e.get("certificateValue"))},readOnly:r,"data-testid":"".concat(l,"-certificate-textarea")}),m.createElement(u.kW,null,d("applications:forms.advancedConfig.sections.certificate.fields.pemValue.hint")),m.createElement(u.Qj,{className:"certificate-info-link-button",onClick:function(e){var t;e.preventDefault(),y&&C&&((t=V.CertificateManagementUtils.canSafelyParseCertificate(C)?V.CertificateManagementUtils.displayCertificate(null,C):H.lu.DUMMY_DISPLAY_CERTIFICATE)?(L(t),S(!0)):p((0,s.V_)({description:d("applications:notifications.invalidPEMFile.genericError.description"),level:c.QU.ERROR,message:d("applications:notifications.invalidPEMFile.genericError.message")})))},disabled:(0,R.Z)(C),"data-testid":"".concat(l,"-certificate-info-button")},d("applications:forms.advancedConfig.sections.certificate.fields.pemValue.actions.view"))):m.createElement(m.Fragment,null,m.createElement(B.gN,{name:"jwksValue",label:d("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:!1,requiredErrorMessage:d("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:d("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(d("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid")))},value:j.el.JWKS===(null==t?void 0:t.type)&&(null==t?void 0:t.value),readOnly:r,"data-testid":"".concat(l,"-jwks-input")})))),O&&m.createElement(K,{open:O,certificate:_,onClose:function(){S(!1)}}),!r&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(E.Z,{primary:!0,type:"submit",size:"small",className:"form-button","data-testid":"".concat(l,"-submit-button"),loading:a,disabled:a},d("common:update")))))):null};Zt.defaultProps={"data-testid":"inbound-ws-trust-form"};var jt=function(e){var t=e.onUpdate,n=e.application,i=e.certificate,o=e.metadata,r=e.initialValues,a=e.onSubmit,l=e.type,c=e.onApplicationRegenerate,s=e.onApplicationRevoke,u=e.readOnly,d=e.allowedOrigins,p=e.tenantDomain,f=e.template,g=e.showSAMLCreation,h=e.SAMLCreationOption,v=e.isLoading,b=e.setIsLoading,E=e.containerRef,y=e.isDefaultApplication,A=e.isSystemApplication,T=e["data-testid"];switch(l){case L.AI.OIDC:case L.AI.OAUTH2_OIDC:return m.createElement(St,{onUpdate:t,application:n,isLoading:v,setIsLoading:b,certificate:i,tenantDomain:p,allowedOriginList:d,initialValues:r,metadata:o,onSubmit:a,onApplicationRegenerate:c,onApplicationRevoke:s,readOnly:u,template:f,"data-testid":T,containerRef:E,isDefaultApplication:y,isSystemApplication:A});case L.AI.SAML:return g&&h&&h!==L.T6.MANUAL?m.createElement(_t,{isLoading:v,initialValues:r,creationOption:h||L.T6.META_URL,onSubmit:a,"data-testid":T}):m.createElement(xt,{onUpdate:t,application:n,isLoading:v,certificate:i,initialValues:r,metadata:o,onSubmit:a,readOnly:u,"data-testid":T,containerRef:E});case L.AI.WS_TRUST:return m.createElement(Zt,{isLoading:v,certificate:i,initialValues:r,metadata:o,onSubmit:a,readOnly:u,"data-testid":T});case L.AI.WS_FEDERATION:return m.createElement(wt,{onUpdate:t,application:n,isLoading:v,certificate:i,initialValues:r,onSubmit:a,readOnly:u,"data-testid":T});case L.AI.CUSTOM:return m.createElement(X,{isLoading:v,certificate:i,metadata:o,initialValues:r,onSubmit:a,"data-testid":T});default:return null}};jt.defaultProps={"data-testid":"inbound-form-factory",showSAMLCreation:!1};var Ft=n(60486),Ht=n(40838),Vt=n(47513),Bt=n(43031),qt=n(28676),Gt=n(47130),zt=n(2446);function $t(e){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t(e)}function Wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||Yt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=$t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=$t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$t(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yt(e,t){if(e){if("string"==typeof e)return Qt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qt(e,t):void 0}}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Jt=function(e){var t=e.metadata,n=e.initialValues,i=e.onSubmit,o=e.protocolName,r=e.triggerSubmit,a=e["data-testid"],l=(0,f.$)().t,c=function(e,t){var n;return(null==e||null===(n=e.availableValues)||void 0===n?void 0:n.length)>0?m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:8},m.createElement(B.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,type:"dropdown",value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:l("applications:forms.inboundCustom.fields.dropdown.validations.empty",{name:null==e?void 0:e.displayName}),default:null==e?void 0:e.defaultValue,children:d(null==e?void 0:e.availableValues),"data-testid":"".concat(a,"-").concat(null==e?void 0:e.name,"-select")}))):null!=e&&e.isConfidential?m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:8},m.createElement(B.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,hidePassword:l("common:hide")+" "+(null==e?void 0:e.displayName),showPassword:l("common:show")+" "+(null==e?void 0:e.displayName),value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:l("applications:forms.inboundCustom.fields.password.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:l("applications:forms.inboundCustom.fields.password.placeholder",{name:null==e?void 0:e.displayName}),type:"password",default:null==e?void 0:e.defaultValue,"data-testid":"".concat(a,"-").concat(null==e?void 0:e.name,"-password-input")}))):(null==e?void 0:e.type)===L.og.BOOLEAN?m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:8},m.createElement(B.gN,{name:null==e?void 0:e.name,label:"",required:null==e?void 0:e.required,requiredErrorMessage:l("applications:forms.inboundCustom.fields.checkbox.validations.empty",{user:null==e?void 0:e.displayName}),value:null!=t&&t.value?[e.name]:[],type:"checkbox",children:[{label:e.displayName,value:e.name}],"data-testid":"".concat(a,"-").concat(null==e?void 0:e.name,"-checkbox")}))):m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:8},m.createElement(B.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,required:null==e?void 0:e.required,value:null==t?void 0:t.value,requiredErrorMessage:l("applications:forms.inboundCustom.fields.generic.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:l("applications:forms.inboundCustom.fields.generic.placeholder",{name:null==e?void 0:e.displayName}),type:(null==e?void 0:e.type)===L.og.INTEGER?"number":"text","data-testid":"".concat(a,"-").concat(null==e?void 0:e.name,"-input")})))},s=function(){if(t){var e=null==t?void 0:t.properties;return e.length>0&&e.sort((function(e,t){return e.displayOrder>t.displayOrder?1:-1})),e.map((function(e){var t=null==n?void 0:n.properties.find((function(t){return t.key===e.name}));return t?c(e,t):c(e)}))}},d=function(e){var t=[];return e&&e.map((function(n){t.push({key:e.indexOf(n),text:n,value:n})})),t},p=function(e){var t,n=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Yt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw r}}}}(e);try{for(i.s();!(t=i.n()).done;){var r=Wt(t.value,2),a=r[0],l=r[1],c=void 0;c=l instanceof Array?{key:a,value:l.length>0}:{key:a,value:l},n.push(c)}}catch(s){i.e(s)}finally{i.f()}return{inboundProtocolConfiguration:Kt({},o,{configName:o,name:o,properties:[].concat(n)})}};return(0,m.useEffect)((function(){t&&s()}),[t]),t?m.createElement(B.Es,{onSubmit:function(e){i(p(e))},submitState:r},m.createElement(b.Z,null,s())):m.createElement(u.pO,null)};function Xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return en(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Jt.defaultProps={"data-testid":"custom-protocol-settings-wizard-form"};var tn=function(e){var t,n,i=e.initialValues,o=e.templateValues,r=e.triggerSubmit,a=e.onSubmit,l=e["data-testid"],c=(0,f.$)().t,s=Xt((0,m.useState)(!1),2),d=s[0],p=s[1];return m.createElement(B.Es,{onSubmit:function(e){return a(function(e){return{accessUrl:e.get("accessUrl").toString(),advancedConfigurations:{discoverableByEndUsers:!!e.get("discoverableByEndUsers").includes("discoverableByEndUsers")},description:e.get("description").toString(),imageUrl:e.get("imageUrl").toString(),name:e.get("name").toString()}}(e))},submitState:r},m.createElement(b.Z,null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:10},m.createElement(B.gN,{name:"name",label:c("applications:forms.generalDetails.fields.name.label"),required:!0,requiredErrorMessage:c("applications:forms.generalDetails.fields.name.validations.empty"),placeholder:c("applications:forms.generalDetails.fields.name.placeholder"),value:null==i?void 0:i.name,type:"text","data-testid":"".concat(l,"-application-name-input")}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:10},m.createElement(B.gN,{name:"description",label:c("applications:forms.generalDetails.fields.description.label"),required:!1,requiredErrorMessage:"",placeholder:c("applications:forms.generalDetails.fields.description.placeholder"),type:"textarea",value:i?null==i?void 0:i.description:null==o?void 0:o.description,"data-testid":"".concat(l,"-application-description-textarea")}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:10},m.createElement(B.gN,{name:"imageUrl",label:c("applications:forms.generalDetails.fields.imageUrl.label"),required:!1,requiredErrorMessage:"",placeholder:c("applications:forms.generalDetails.fields.imageUrl.placeholder"),validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(c("applications:forms.generalDetails.fields.imageUrl.validations.invalid")))},value:i?null==i?void 0:i.imageUrl:null==o?void 0:o.imageUrl,type:"text","data-testid":"".concat(l,"-application-image-url-input")}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:10},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:8},m.createElement(B.gN,{name:"discoverableByEndUsers",required:!1,requiredErrorMessage:"",type:"checkbox",listen:function(e){p(e.get("discoverableByEndUsers").includes("discoverableByEndUsers"))},children:[{label:c("applications:forms.generalDetails.fields.discoverable.label"),value:"discoverableByEndUsers"}],value:i?null!=i&&null!==(t=i.advancedConfigurations)&&void 0!==t&&t.discoverableByEndUsers?["discoverableByEndUsers"]:[]:null!=o&&null!==(n=o.advancedConfigurations)&&void 0!==n&&n.discoverableByEndUsers?["discoverableByEndUsers"]:[],"data-testid":"".concat(l,"-application-discoverable-checkbox")}),m.createElement(u.kW,{compact:!0},m.createElement(g.c,{i18nKey:"applications:forms.generalDetails.fields.discoverable.hint"},"If an application is flagged as discoverable, it will be visible to end users in",m.createElement("a",{href:Ft.$.getMyAccountPath(),target:"_blank",rel:"noopener noreferrer",className:"link external"},"My Account"),m.createElement(ze.Z,{className:"ml-1 link primary",name:"external"}))),m.createElement(v.Z,{hidden:!0}),m.createElement(B.gN,{name:"accessUrl",label:c("applications:forms.generalDetails.fields.accessUrl.label"),required:d,requiredErrorMessage:c("applications:forms.generalDetails.fields.accessUrl.validations.empty"),placeholder:c("applications:forms.generalDetails.fields.accessUrl.placeholder"),validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(c("applications:forms.generalDetails.fields.accessUrl.validations.invalid")))},type:"text",value:i?null==i?void 0:i.accessUrl:null==o?void 0:o.accessUrl,"data-testid":"".concat(l,"-application-access-url-input")}),m.createElement(u.kW,{compact:!0},c("applications:forms.generalDetails.fields.accessUrl.hint")))))))};tn.defaultProps={"data-testid":"application-general-settings-wizard-form"};var nn=n(76314),on=n(89331),rn=n(16662);function an(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ln(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ln(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var cn=function(e){var t=e.initialSelectedTemplate,n=e.selectedProtocols,i=e.onSubmit,o=e.setSelectedCustomInboundProtocol,a=e.triggerSubmit,l=e["data-componentid"],c=(0,f.$)().t,s=(0,h.v9)((function(e){return e.application.meta.customInboundProtocols})),d=an((0,m.useState)(void 0),2),p=d[0],g=d[1],v=an((0,m.useState)(void 0),2),b=v[0],E=v[1],y=an((0,m.useState)(!1),2),A=y[0],T=y[1],O=(0,m.useRef)(!0);(0,m.useEffect)((function(){T(!0),P.y.getCustomInboundProtocols(rn.oK,!0).finally((function(){T(!1)}))}),[]),(0,m.useEffect)((function(){I()}),[s]),(0,m.useEffect)((function(){O.current?O.current=!1:i(p)}),[a]),(0,m.useEffect)((function(){t&&g(t)}),[t]);var I=function(){var e=[];if(A)return null;(null==s?void 0:s.length)>0&&(s.map((function(t){var n={authenticationProtocol:t.name,id:t.name,image:t.name,name:t.displayName};e.push(n)})),E(e.filter((function(e){return!n.includes(e.authenticationProtocol)}))))};return m.createElement(m.Fragment,null,(null==b?void 0:b.length)>0?m.createElement(S.Z.Group,{className:"authenticators-grid"},b&&b.map((function(e,t){return m.createElement(S.Z,{key:t,onClick:function(){o(!0),g(e)},"data-testid":"".concat(l,"-").concat(e.name),selected:(null==p?void 0:p.id)===e.id,className:(null==p?void 0:p.id)===e.id?"selection-info-card selected":"selection-info-card",size:"small"},m.createElement(S.Z.Content,{className:"p-4"},m.createElement(S.Z.Header,{textAlign:"left",className:"card-header ellipsis pt-1 inline",inline:!0},(0,_.B0)()[e.id]?m.createElement(u.dn,{icon:(0,_.B0)()[e.id],size:"x22",floated:"left",shape:"square",className:"theme-icon hover-rounded card-image p-1",inline:!0}):m.createElement(u.JT,{image:m.createElement(u.Xo,{name:e.id,size:"mini","data-componentid":"".concat(l,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(l,"-item-image"),inline:!0}),e.name),m.createElement(S.Z.Description,{className:"card-description"},e.description)))}))):m.createElement(u.$J,{image:(0,r.jF)().newList,imageSize:"tiny",title:c("applications:edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.title"),subtitle:c("applications:edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.subtitles")}))};function sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return un(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?un(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}cn.defaultProps={"data-componentid":"application-protocol-selection-wizard-form"};var dn=function(e){var t,n,i,o,r,a=e.summary,l=e.triggerSubmit,c=e.onSubmit,s=e.image,d=e.customProtocol,p=e.samlMetaFileSelected,g=e["data-testid"],h=(0,f.$)().t,v=sn((0,m.useState)(""),2),E=v[0],y=v[1];return(0,m.useEffect)((function(){if(l)if(p){var e={metadataFile:null==a?void 0:a.metadataFile};c(e)}else c(a)}),[l]),(0,m.useEffect)((function(){s===L.AI.WS_FEDERATION?y("wsFed"):s===L.AI.WS_TRUST?y("wsTrust"):y(s)}),[s]),m.createElement(b.Z,{className:"wizard-summary","data-testid":g},m.createElement(b.Z.Row,null,m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},m.createElement("div",{className:"general-details"},d?m.createElement(u.Yt,{name:null==a?void 0:a.name,size:"tiny"}):m.createElement(u.JT,{image:P.y.findIcon(E,(0,_.B0)()),size:"tiny"})))),(null==a||null===(t=a.manualConfiguration)||void 0===t?void 0:t.issuer)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.issuer.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value"},null===(n=a.manualConfiguration)||void 0===n?void 0:n.issuer))),(null==a||null===(i=a.manualConfiguration)||void 0===i?void 0:i.serviceProviderQualifier)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.applicationQualifier.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value"},a.manualConfiguration.serviceProviderQualifier))),null!=a&&a.grantTypes&&a.grantTypes instanceof Array&&a.grantTypes.length>0?m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.grantType.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement(he.Z.Group,null,a.grantTypes.map((function(e,t){return m.createElement(he.Z,{key:t,basic:!0,circular:!0},e)}))))):null,(null==a||null===(o=a.manualConfiguration)||void 0===o?void 0:o.assertionConsumerUrls)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.assertionURLs.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},null===(r=a.manualConfiguration)||void 0===r?void 0:r.assertionConsumerUrls.map((function(e,t){return m.createElement("div",{className:"value url",key:t},e)})))),(null==a?void 0:a.metadataURL)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.metadataURL.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value url"},null==a?void 0:a.metadataURL))),(null==a?void 0:a.metadataFile)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.metaFile.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value constrain"},null==a?void 0:a.metadataFile))),(null==a?void 0:a.callbackURLs)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.callbackURLs.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},V.EncodeDecodeUtils.decodeURLRegex(a.callbackURLs[0]).map((function(e,t){return m.createElement("div",{className:"value url",key:t},e)})))),(null==a?void 0:a.audience)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.audience.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value url"},null==a?void 0:a.audience))),(null==a?void 0:a.certificateAlias)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.certificateAlias.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value"},null==a?void 0:a.certificateAlias))),(null==a?void 0:a.realm)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.realm.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value"},null==a?void 0:a.realm))),(null==a?void 0:a.replyTo)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.audience.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value url"},null==a?void 0:a.replyTo))),d&&(null==a?void 0:a.properties.map((function(e){return m.createElement(b.Z.Row,{className:"summary-field",columns:2,key:e.key},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},e.key)),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value url"},e.value)))}))))};dn.defaultProps={"data-testid":"protocol-wizard-summary",samlMetaFileSelected:!1};var pn=n(18220);function mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var gn=function(e){var t,n=e.fields,i=e.hideFieldHints,o=e.initialValues,r=e.templateValues,a=e.triggerSubmit,l=e.onSubmit,c=e["data-testid"],s=(0,f.$)().t,d=mn((0,m.useState)(""),2),p=d[0],v=d[1],E=mn((0,m.useState)(""),2),y=E[0],A=E[1],T=mn((0,m.useState)(""),2),O=T[0],S=T[1],I=mn((0,m.useState)(""),2),C=I[0],w=I[1],N=mn((0,m.useState)(!1),2),_=N[0],L=N[1],P=mn((0,m.useState)(null),2),k=P[0],M=P[1],x=(0,h.v9)((function(e){return e.config}));(0,m.useEffect)((function(){var e;if((0,R.Z)(null==o||null===(e=o.inboundProtocolConfiguration)||void 0===e?void 0:e.saml)){var t,n,i=null==r||null===(t=r.inboundProtocolConfiguration)||void 0===t||null===(t=t.saml)||void 0===t?void 0:t.manualConfiguration.assertionConsumerUrls,a=null==r||null===(n=r.inboundProtocolConfiguration)||void 0===n||null===(n=n.saml)||void 0===n?void 0:n.manualConfiguration.issuer;(0,R.Z)(i)?v(""):v(i.toString()),(0,R.Z)(a)?A(""):A(a.toString())}else{var l,c;v(null==o||null===(l=o.inboundProtocolConfiguration)||void 0===l||null===(l=l.saml)||void 0===l||null===(l=l.manualConfiguration.assertionConsumerUrls)||void 0===l?void 0:l.toString()),A(null==o||null===(c=o.inboundProtocolConfiguration)||void 0===c||null===(c=c.saml)||void 0===c||null===(c=c.manualConfiguration.issuer)||void 0===c?void 0:c.toString())}}),[o]),(0,m.useEffect)((function(){var e,t;if(r){var n=null==r||null===(e=r.inboundProtocolConfiguration)||void 0===e||null===(e=e.saml)||void 0===e||null===(e=e.templateConfiguration)||void 0===e?void 0:e.assertionConsumerUrls,i=null==r||null===(t=r.inboundProtocolConfiguration)||void 0===t||null===(t=t.saml)||void 0===t||null===(t=t.templateConfiguration)||void 0===t?void 0:t.issuer;n&&Array.isArray(n)&&n.length>0&&S(n[0]),i&&w(i)}}),[r]);var U;return r?m.createElement(B.Es,{onSubmit:function(e){U((function(t){(0,R.Z)(p)&&(0,R.Z)(t)?L(!0):l(function(e,t){var i={inboundProtocolConfiguration:{saml:{manualConfiguration:{}}}};return n&&!n.includes("assertionConsumerURLs")||(i.inboundProtocolConfiguration.saml.manualConfiguration.assertionConsumerUrls=t?t.split(","):p.split(",")),n&&!n.includes("issuer")||(i.inboundProtocolConfiguration.saml.manualConfiguration.issuer=e.get("issuer")),n&&!n.includes("applicationQualifier")||(i.inboundProtocolConfiguration.saml.manualConfiguration.serviceProviderQualifier=e.get("applicationQualifier")),i}(e,t))}))},submitState:a},m.createElement(b.Z,null,(!n||n.includes("issuer"))&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{name:"issuer",label:s("applications:forms.inboundSAML.fields.issuer.label"),required:!0,requiredErrorMessage:s("applications:forms.inboundSAML.fields.issuer.validations.empty"),type:"text",placeholder:s("applications:forms.inboundSAML.fields.issuer.placeholder"),value:y,"data-testid":"".concat(c,"-issuer-input")}),!i&&m.createElement(u.kW,null,s("applications:forms.inboundSAML.fields.issuer.hint")))),(!n||n.includes("applicationQualifier"))&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{name:"applicationQualifier",label:s("applications:forms.inboundSAML.fields.qualifier.label"),required:!1,requiredErrorMessage:s("applications:forms.inboundSAML.fields.qualifier.validations.empty"),type:"text",placeholder:s("applications:forms.inboundSAML.fields.qualifier.placeholder"),value:null==o||null===(t=o.inboundProtocolConfiguration.saml)||void 0===t||null===(t=t.manualConfiguration)||void 0===t?void 0:t.serviceProviderQualifier,"data-testid":"".concat(c,"-application-qualifier-input")}),!i&&m.createElement(u.kW,null,s("applications:forms.inboundSAML.fields.qualifier.hint")))),(!n||n.includes("assertionConsumerURLs"))&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},m.createElement(u.wE,{urlState:p,setURLState:v,labelName:s("applications:forms.inboundSAML.fields.assertionURLs.label"),placeholder:s("applications:forms.inboundSAML.fields.assertionURLs.placeholder"),validationErrorMsg:s("applications:forms.spaProtocolSettingsWizard.fields.callBackUrls.validations.invalid"),emptyErrorMessage:s("applications:forms.inboundSAML.fields.assertionURLs.validations.empty"),validation:function(e){return!(!V.URLUtils.isURLValid(e,!0)||!V.URLUtils.isHttpUrl(e)&&!V.URLUtils.isHttpsUrl(e))&&(!!V.URLUtils.isMobileDeepLink(e)&&(M(null),!0))},computerWidth:10,required:!0,showError:_,setShowError:L,hint:!i&&s("applications:forms.inboundSAML.fields.assertionURLs.hint"),addURLTooltip:s("common:addURL"),duplicateURLErrorMessage:s("common:duplicateURLError"),"data-testid":"".concat(c,"-assertion-consumer-url-input"),getSubmit:function(e){U=e},showPredictions:!1,customLabel:k,popupHeaderPositive:s("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:s("applications:URLInput.withLabel.negative.header"),popupContentPositive:s("applications:URLInput.withLabel.positive.content",{productName:x.ui.productName}),popupContentNegative:s("applications:URLInput.withLabel.negative.content",{productName:x.ui.productName}),popupDetailedContentPositive:s("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:s("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:s("console:common.validations.inSecureURL.description"),showLessContent:s("common:showLess"),showMoreContent:s("common:showMore")}),O&&m.createElement(u.v0,{type:"info",content:m.createElement(m.Fragment,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundSAML.fields.assertionURLs.info",tOptions:{assertionURLFromTemplate:O}},"Don\u2019t have an app? Try out a sample app using",m.createElement("strong",null,O),"as the assertion Response URL. (You can download and run a sample at a later step.)"),(void 0===p||""===p)&&m.createElement(u.Qj,{className:"m-1 p-1 with-no-border orange",onClick:function(e){e.preventDefault(),v(O),A(C)},"data-testid":"".concat(c,"-add-now-button")},m.createElement("span",{style:{fontWeight:"bold"}},"Add Now")))}))))):m.createElement(u.pO,null)};gn.defaultProps={"data-testid":"saml-protocol-settings-wizard-form",hideFieldHints:!1};var hn=function(e){var t,n,i,o,r,a,l,c,s,d,p,g,h,v,E,y,A=e.summary,T=e.triggerSubmit,O=e.onSubmit,S=e["data-testid"],I=(0,f.$)().t;return(0,m.useEffect)((function(){T&&O(A)}),[T]),m.createElement(b.Z,{className:"wizard-summary","data-testid":S},m.createElement(b.Z.Row,null,m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},m.createElement("div",{className:"general-details"},m.createElement(u.JT,{name:null==A?void 0:A.name,image:null==A?void 0:A.imageUrl,size:"tiny"}),(null==A?void 0:A.name)&&m.createElement(u.X6,{size:"small",className:"name"},A.name),(null==A||null===(t=A.advancedConfigurations)||void 0===t?void 0:t.discoverableByEndUsers)&&m.createElement(he.Z,{className:"info-label"},I("applications:addWizard.steps.summary.sections.discoverable.heading")),(null==A||null===(n=A.inboundProtocolConfiguration)||void 0===n||null===(n=n.oidc)||void 0===n?void 0:n.publicClient)&&m.createElement(he.Z,{className:"info-label"},I("applications:addWizard.steps.summary.sections.public.heading")),(null==A||null===(i=A.inboundProtocolConfiguration)||void 0===i||null===(i=i.oidc)||void 0===i||null===(i=i.refreshToken)||void 0===i?void 0:i.renewRefreshToken)&&m.createElement(he.Z,{className:"info-label"},I("applications:addWizard.steps.summary.sections.renewRefreshToken.heading")),(null==A?void 0:A.description)&&m.createElement("div",{className:"description"},A.description)))),(null==A?void 0:A.accessUrl)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.accessURL.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value url"},A.accessUrl))),(null==A||null===(o=A.inboundProtocolConfiguration)||void 0===o||null===(o=o.saml)||void 0===o||null===(o=o.manualConfiguration)||void 0===o?void 0:o.issuer)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.issuer.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value"},A.inboundProtocolConfiguration.saml.manualConfiguration.issuer))),(null==A||null===(r=A.inboundProtocolConfiguration)||void 0===r||null===(r=r.saml)||void 0===r||null===(r=r.manualConfiguration)||void 0===r?void 0:r.serviceProviderQualifier)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.applicationQualifier.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value"},A.inboundProtocolConfiguration.saml.manualConfiguration.serviceProviderQualifier))),null!=A&&null!==(a=A.inboundProtocolConfiguration)&&void 0!==a&&null!==(a=a.oidc)&&void 0!==a&&a.grantTypes&&A.inboundProtocolConfiguration.oidc.grantTypes instanceof Array&&A.inboundProtocolConfiguration.oidc.grantTypes.length>0?m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.grantType.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement(he.Z.Group,null,A.inboundProtocolConfiguration.oidc.grantTypes.map((function(e,t){return m.createElement(he.Z,{key:t,basic:!0,circular:!0},e)}))))):null,(null==A||null===(l=A.inboundProtocolConfiguration)||void 0===l||null===(l=l.saml)||void 0===l||null===(l=l.manualConfiguration)||void 0===l?void 0:l.assertionConsumerUrls)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.assertionURLs.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},A.inboundProtocolConfiguration.saml.manualConfiguration.assertionConsumerUrls.map((function(e,t){return m.createElement("div",{className:"value url",key:t},e)})))),(null==A||null===(c=A.inboundProtocolConfiguration)||void 0===c||null===(c=c.oidc)||void 0===c?void 0:c.callbackURLs)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.callbackURLs.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},V.EncodeDecodeUtils.decodeURLRegex(A.inboundProtocolConfiguration.oidc.callbackURLs[0]).map((function(e,t){return m.createElement("div",{className:"value url",key:t},e)})))),(null==A||null===(s=A.inboundProtocolConfiguration)||void 0===s||null===(s=s.wsTrust)||void 0===s?void 0:s.audience)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.audience.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value url"},null==A||null===(d=A.inboundProtocolConfiguration)||void 0===d||null===(d=d.wsTrust)||void 0===d?void 0:d.audience))),(null==A||null===(p=A.inboundProtocolConfiguration)||void 0===p||null===(p=p.wsTrust)||void 0===p?void 0:p.certificateAlias)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.certificateAlias.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value"},null==A||null===(g=A.inboundProtocolConfiguration)||void 0===g?void 0:g.wsTrust.certificateAlias))),(null==A||null===(h=A.inboundProtocolConfiguration)||void 0===h||null===(h=h.passiveSts)||void 0===h?void 0:h.realm)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.realm.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value"},null==A||null===(v=A.inboundProtocolConfiguration)||void 0===v?void 0:v.passiveSts.realm))),(null==A||null===(E=A.inboundProtocolConfiguration)||void 0===E||null===(E=E.passiveSts)||void 0===E?void 0:E.replyTo)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.audience.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value url"},null==A||null===(y=A.inboundProtocolConfiguration)||void 0===y?void 0:y.passiveSts.replyTo))))};function vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}hn.defaultProps={"data-testid":"application-wizard-summary"};var En=function(e){var t,n,i=e.initialValues,o=e.templateValues,r=e.triggerSubmit,a=e.onSubmit,l=e["data-testid"],d=(0,f.$)().t,p=(0,h.I0)(),g=vn((0,m.useState)(void 0),2),v=g[0],E=g[1];return(0,m.useEffect)((function(){(0,M.WL)(L.Ii.WS_TRUST).then((function(e){E(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?p((0,s.V_)({description:e.response.data.description,level:c.QU.ERROR,message:"Retrieval error"})):p((0,s.V_)({description:"An error occurred retrieving the protocol metadata.",level:c.QU.ERROR,message:"Retrieval error"}))}))}),[]),o&&v?m.createElement(B.Es,{onSubmit:function(e){a(function(e){return{inboundProtocolConfiguration:{wsTrust:{audience:e.get("audience"),certificateAlias:e.get("certificateAlias")}}}}(e))},submitState:r},m.createElement(b.Z,null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:8},m.createElement(B.gN,{name:"audience",label:d("applications:forms.inboundWSTrust.fields.audience.label"),required:!0,requiredErrorMessage:d("applications:forms.inboundWSTrust.fields.audience.validations.empty"),placeholder:d("applications:forms.inboundWSTrust.fields.audience.placeholder"),type:"text",validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(d("applications:forms.inboundWSTrust.fields.audience.validations.invalid")))},value:i?null==i?void 0:i.audience:null==o?void 0:o.audience,"data-testid":"".concat(l,"-audience-input")}),m.createElement(u.kW,null,d("applications:forms.inboundWSTrust.fields.audience.hint")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:8},m.createElement(B.gN,{label:d("applications:forms.inboundWSTrust.fields.certificateAlias.label"),name:"certificateAlias",type:"dropdown",required:!0,requiredErrorMessage:d("applications:forms.inboundWSTrust.fields.certificateAlias.validations.empty"),default:v.certificateAlias.defaultValue,value:i?null==i?void 0:i.certificateAlias:null==o?void 0:o.certificateAlias,children:(t=null==v?void 0:v.certificateAlias,n=[],t&&t.options.map((function(e){n.push({key:t.options.indexOf(e),text:e,value:e})})),n),"data-testid":"".concat(l,"-certificate-alias-dropdown")}),m.createElement(u.kW,null,d("applications:forms.inboundWSTrust.fields.certificateAlias.hint")))))):m.createElement(u.pO,null)};function yn(e){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(e)}function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){On(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function On(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=yn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=yn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}En.defaultProps={"data-testid":"ws-trust-protocol-settings-wizard-form"};var Sn=Tn(Tn({},{authenticationProtocol:"oidc",id:L.EL.OIDC,image:"oidc",name:"OIDC",templateId:U.jo.CUSTOM_APPLICATION_OIDC}),{},{application:{inboundProtocolConfiguration:{oidc:{grantTypes:["authorization_code"],publicClient:!1,state:L.ZM.ACTIVE}},name:""}});function In(e){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(e)}function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){Nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=In(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=In(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==In(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rn=wn(wn({},{authenticationProtocol:"passive-sts",id:L.EL.WS_FEDERATION,image:"wsFed",name:"Passive STS",templateId:U.jo.CUSTOM_APPLICATION_PASSIVE_STS}),{},{application:{inboundProtocolConfiguration:{passiveSts:{realm:"",replyTo:"",replyToLogout:""}},name:""}});function _n(e){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(e)}function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){kn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=_n(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=_n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mn=Pn(Pn({},{authenticationProtocol:"saml",id:L.EL.SAML,image:"saml",name:"SAML",templateId:U.jo.CUSTOM_APPLICATION_SAML}),{},{application:{inboundProtocolConfiguration:{saml:{manualConfiguration:{assertionConsumerUrls:[""],issuer:""}}},name:""}});function xn(e){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xn(e)}function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(n),!0).forEach((function(t){Zn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=xn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=xn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Hn=function(e){return e.PROTOCOL_SELECTION="protocolSelection",e.GENERAL_SETTINGS="generalSettings",e.PROTOCOL_SETTINGS="protocolSettings",e.SUMMARY="summary",e}(Hn||{}),Vn=function(e){var t=e.closeWizard,n=e.currentStep,i=e.title,o=e.subTitle,r=e.template,a=e.addProtocol,l=e.selectedProtocols,p=e.appId,g=e.onUpdate,v=e["data-testid"],E=(0,f.$)().t,y=(0,h.I0)(),A=jn((0,u.IK)(),3),T=A[0],O=A[1],S=A[2],I=jn((0,m.useState)(void 0),2),C=I[0],w=I[1],N=jn((0,m.useState)(n),2),P=N[0],k=N[1],x=jn((0,m.useState)(!1),2),Z=x[0],F=x[1],H=jn((0,m.useState)(!1),2),V=H[0],q=H[1],G=jn((0,m.useState)(!1),1)[0],$=jn((0,m.useState)(void 0),2),W=$[0],K=$[1],Y=jn((0,m.useState)(void 0),2),Q=Y[0],J=Y[1],X=jn((0,m.useState)(void 0),2),ee=X[0],te=X[1],ne=jn((0,m.useState)(void 0),2),ie=ne[0],oe=ne[1],re=jn((0,m.useState)(r),2),ae=re[0],le=re[1],ce=jn((0,B.cC)(),2),se=ce[0],ue=ce[1],de=jn((0,B.cC)(),2),pe=de[0],me=de[1],fe=jn((0,B.cC)(),2),ge=fe[0],he=fe[1],ve=jn((0,B.cC)(),2),be=ve[0],Ee=ve[1];(0,m.useEffect)((function(){if(ae)if(ae.id===D.id){var e=[].concat(Ne);J(e.splice(1,1))}else te((0,Gt.Z)(ee,Zn({},Hn.PROTOCOL_SELECTION,ae.authenticationProtocol))),Z||ye(ae.id),a?k(P+1):J(Ne.slice(1))}),[ae,Z]),(0,m.useEffect)((function(){ae&&(0,M.WL)(ae.authenticationProtocol).then((function(e){K(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?O({description:e.response.data.description,level:c.QU.ERROR,message:E("applications:notifications.fetchProtocolMeta.error.message")}):O({description:E("applications:notifications.fetchProtocolMeta.genericError.description"),level:c.QU.ERROR,message:E("applications:notifications.fetchProtocolMeta.genericError.message")})}))}),[Z,ae]),(0,m.useEffect)((function(){if(a){var e=[].concat(Ne);e.splice(1,1),J(e)}}),[a]),(0,m.useEffect)((function(){void 0!==C&&(k(P-1),w(void 0))}),[C]);var ye=function(e){e===L.EL.OIDC?oe(Sn.application):e===L.EL.SAML?oe(Mn.application):e===L.EL.WS_FEDERATION?oe(Rn.application):(0,M.FG)(e).then((function(e){oe(e.application)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?O({description:e.response.data.description,level:c.QU.ERROR,message:E("applications:notifications.fetchTemplate.error.message")}):O({description:E("applications:notifications.fetchTemplate.genericError.description"),level:c.QU.ERROR,message:E("applications:notifications.fetchTemplate.genericError.message")})}))},Ae=function(e){var t=e;t=Dn(Dn({},t),{},{templateId:ae.id}),q(!0),(0,M.W3)(t).then((function(e){if(y((0,s.V_)({description:E("applications:notifications.addApplication.success.description"),level:c.QU.SUCCESS,message:E("applications:notifications.addApplication.success.message")})),!(0,R.Z)(e.headers.location)){var t=e.headers.location,n=t.substring(t.lastIndexOf("/")+1),i=0;return ae.id===D.id&&(i=1),void Ht.m.push({hash:"#".concat(j.El.TAB_INDEX).concat(i),pathname:Ft.$.getPaths().get("APPLICATION_EDIT").replace(":id",n),search:"?".concat(U.jo.APP_STATE_URL_SEARCH_PARAM_KEY,"=").concat(U.jo.APP_STATE_URL_SEARCH_PARAM_VALUE)})}Ht.m.push(Ft.$.getPaths().get("APPLICATIONS"))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?O({description:e.response.data.description,level:c.QU.ERROR,message:E("applications:notifications.addApplication.error.message")}):O({description:E("applications:notifications.addApplication.genericError.description"),level:c.QU.ERROR,message:E("applications:notifications.addApplication.genericError.message")})})).finally((function(){q(!1)}))},Te=function(e){q(!0),(0,M.lp)(p,e,ae.authenticationProtocol).then((function(){y((0,s.V_)({description:E("applications:notifications.updateProtocol.success.description"),level:c.QU.SUCCESS,message:E("applications:notifications.updateProtocol.success.message")})),g(p),we()})).catch((function(e){e.response&&e.response.data&&e.response.data.description?O({description:e.response.data.description,level:c.QU.ERROR,message:E("applications:notifications.updateProtocol.error.message")}):O({description:E("applications:notifications.updateProtocol.genericError.description"),level:c.QU.ERROR,message:E("applications:notifications.updateProtocol.error.message")})})).finally((function(){q(!1)}))},Oe=function(){var e;switch(null===(e=Q[P])||void 0===e?void 0:e.name){case Hn.PROTOCOL_SELECTION:Ee();break;case Hn.GENERAL_SETTINGS:ue();break;case Hn.PROTOCOL_SETTINGS:me();break;case Hn.SUMMARY:he()}},Se=function(e,t){t===Hn.PROTOCOL_SELECTION?e?(0,qt.Z)(e,ae)?k(P+1):le(e):Ee():(k(P+1),(0,Bt.Z)(ee,t)?te((0,zt.Z)(ee,t,e)):te((0,Gt.Z)(ee,Zn({},t,e))))},Ie=function(){if(ee){var e={};if(a){var t=ae.authenticationProtocol;return t===L.AI.WS_FEDERATION?t="passiveSts":t===L.AI.WS_TRUST&&(t="wsTrust"),e=(0,d.Z)(ee[Hn.PROTOCOL_SETTINGS],"inboundProtocolConfiguration."+t),ae.id===L.EL.SAML||Z||(e=(0,Gt.Z)((0,Vt.Z)(ie.inboundProtocolConfiguration[t]),e)),e}for(var n=0,i=Object.entries(ee);n<i.length;n++){var o=jn(i[n],2),r=o[0],l=o[1];r!==Hn.PROTOCOL_SELECTION&&(e=Dn(Dn({},e),l))}return(0,Gt.Z)((0,Vt.Z)(ie),e)}},Ce=function(e){ee[Hn.PROTOCOL_SELECTION]===L.AI.OIDC?delete e.inboundProtocolConfiguration.saml:ee[Hn.PROTOCOL_SELECTION]===L.AI.SAML&&delete e.inboundProtocolConfiguration.oidc,Ae(e)},we=function(){t()},Ne=[{icon:(0,_.jK)().protocolSelection,name:Hn.PROTOCOL_SELECTION,title:E("applications:addWizard.steps.protocolSelection.heading")},{icon:(0,_.jK)().general,name:Hn.GENERAL_SETTINGS,title:E("applications:addWizard.steps.generalSettings.heading")},{icon:(0,_.jK)().protocolConfig,name:Hn.PROTOCOL_SETTINGS,title:E("applications:addWizard.steps.protocolConfig.heading")},{icon:(0,_.jK)().summary,name:Hn.SUMMARY,title:E("applications:addWizard.steps.summary.heading")}];return Q?m.createElement(z.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",onClose:we,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(v,"-modal")},m.createElement(z.Z.Header,{className:"wizard-header"},i,o&&m.createElement(u.X6,{as:"h6"},o)),m.createElement(z.Z.Content,{className:"steps-container","data-testid":"".concat(v,"-steps")},m.createElement(u.Rg.Group,{current:P},Q.map((function(e,t){return m.createElement(u.Rg.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(v,"-step-").concat(t)})})))),m.createElement(z.Z.Content,{className:"content-container",scrolling:!0},T&&S,function(){var e;switch(null===(e=Q[P])||void 0===e?void 0:e.name){case Hn.PROTOCOL_SELECTION:return m.createElement(cn,{initialSelectedTemplate:ae,onSubmit:function(e){return Se(e,Hn.PROTOCOL_SELECTION)},defaultTemplates:[],triggerSubmit:be,selectedProtocols:l,setSelectedCustomInboundProtocol:F,"data-testid":"".concat(v,"-protocol-selection-form")});case Hn.GENERAL_SETTINGS:return ae.id===D.id?m.createElement(tn,{triggerSubmit:se,initialValues:ee&&ee[Hn.GENERAL_SETTINGS],onSubmit:function(e){!function(e){for(var t=(0,j.M7)(),n=0,i=Object.entries(e);n<i.length;n++){var o=jn(i[n],2),r=o[0],a=o[1];t=Dn(Dn({},t),{},Zn({},r,a))}Ae(t)}(e)},templateValues:ie,"data-testid":"".concat(v,"-general-settings-form")}):m.createElement(tn,{triggerSubmit:se,initialValues:ee&&ee[Hn.GENERAL_SETTINGS],onSubmit:function(e){return Se(e,Hn.GENERAL_SETTINGS)},templateValues:ie,"data-testid":"".concat(v,"-general-settings-form")});case Hn.PROTOCOL_SETTINGS:if(ee&&ee[Hn.PROTOCOL_SELECTION]){if(Z)return m.createElement(Jt,{triggerSubmit:pe,protocolName:ae.id,initialValues:ee&&ee[Hn.PROTOCOL_SETTINGS],metadata:W,onSubmit:function(e){return Se(e,Hn.PROTOCOL_SETTINGS)},"data-testid":"".concat(v,"-custom-protocol-settings-form")});if(ee[Hn.PROTOCOL_SELECTION]===L.AI.OIDC)return m.createElement(nn.A,{isProtocolConfig:!0,selectedTemplate:ae,triggerSubmit:pe,fields:["callbackURLs"],initialValues:ee&&ee[Hn.PROTOCOL_SETTINGS],templateValues:ie,onSubmit:function(e){return Se(e,Hn.PROTOCOL_SETTINGS)},showCallbackURL:!0,"data-testid":"".concat(v,"-oauth-protocol-settings-form")});if(ee[Hn.PROTOCOL_SELECTION]===L.AI.SAML)return ae.id===L.EL.SAML?m.createElement(pn._,{triggerSubmit:pe,initialValues:ee&&ee[Hn.PROTOCOL_SETTINGS],templateValues:ie,fields:["issuer","assertionConsumerURLs"],hideFieldHints:!0,onSubmit:function(e){return Se(e,Hn.PROTOCOL_SETTINGS)},"data-testid":"".concat(v,"-saml-protocol-all-settings-form")}):m.createElement(gn,{triggerSubmit:pe,initialValues:ee&&ee[Hn.PROTOCOL_SETTINGS],templateValues:ie,onSubmit:function(e){return Se(e,Hn.PROTOCOL_SETTINGS)},"data-testid":"".concat(v,"-saml-protocol-settings-form")});if(ee[Hn.PROTOCOL_SELECTION]===L.AI.WS_TRUST)return m.createElement(En,{triggerSubmit:pe,initialValues:ee&&ee[Hn.PROTOCOL_SETTINGS],templateValues:ie,onSubmit:function(e){return Se(e,Hn.PROTOCOL_SETTINGS)},"data-testid":"".concat(v,"-ws-trust-protocol-settings-form")});if(ee[Hn.PROTOCOL_SELECTION]===L.AI.WS_FEDERATION)return m.createElement(on.u,{triggerSubmit:pe,initialValues:ee&&ee[Hn.PROTOCOL_SETTINGS],templateValues:ie,onSubmit:function(e){return Se(e,Hn.PROTOCOL_SETTINGS)},"data-testid":"".concat(v,"-passive-sts-protocol-settings-form")})}return null;case Hn.SUMMARY:return a?m.createElement(dn,{triggerSubmit:ge,summary:Ie(),onSubmit:Te,image:ae.authenticationProtocol,customProtocol:Z,samlMetaFileSelected:G,"data-testid":"".concat(v,"-protocol-summary")}):m.createElement(hn,{triggerSubmit:ge,summary:Ie(),onSubmit:Ce,"data-testid":"".concat(v,"-summary")})}}()),m.createElement(z.Z.Actions,null,m.createElement(b.Z,null,m.createElement(b.Z.Row,{column:1},m.createElement(b.Z.Column,{mobile:8,tablet:8,computer:8},m.createElement(u.Qj,{"data-testid":"".concat(v,"-cancel-button"),floated:"left",onClick:we},E("common:cancel"))),m.createElement(b.Z.Column,{mobile:8,tablet:8,computer:8},P<Q.length-1&&m.createElement(u.KM,{floated:"right",onClick:Oe,"data-testid":"".concat(v,"-next-button")},E("common:next"),m.createElement(ze.Z,{name:"arrow right"})),P===Q.length-1&&m.createElement(u.KM,{floated:"right",onClick:Oe,"data-testid":"".concat(v,"-finish-button"),loading:V,disabled:V},E("common:finish")),P>0&&m.createElement(u.Qj,{floated:"right",onClick:function(){w(P)},"data-testid":"".concat(v,"-previous-button")},m.createElement(ze.Z,{name:"arrow left"}),E("common:previous"))))))):null};function Bn(e){return Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(e)}function qn(e){return function(e){if(Array.isArray(e))return Xn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Jn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(n),!0).forEach((function(t){$n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $n(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Bn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Bn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wn(){Wn=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,a=Object.create(r.prototype),l=new _(i||[]);return o(a,"_invoke",{value:C(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",g="completed",h={};function v(){}function b(){}function E(){}var y={};s(y,a,(function(){return this}));var A=Object.getPrototypeOf,T=A&&A(A(L([])));T&&T!==n&&i.call(T,a)&&(y=T);var O=E.prototype=v.prototype=Object.create(y);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,r,a,l){var c=d(e[o],e,r);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Bn(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var r;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return r=r?r.then(o,o):o()}})}function C(t,n,i){var o=p;return function(r,a){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===r)throw a;return{value:e,done:!0}}for(i.method=r,i.arg=a;;){var l=i.delegate;if(l){var c=w(l,i);if(c){if(c===h)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?g:m,s.arg===h)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=g,i.method="throw",i.arg=s.arg)}}}function w(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,w(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var r=d(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Bn(t)+" is not iterable")}return b.prototype=E,o(O,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=s(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new I(u(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(O),s(O,c,"Generator"),s(O,a,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=L,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;R(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:L(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}function Kn(e,t,n,i,o,r,a){try{var l=e[r](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,o)}function Yn(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){Kn(r,i,o,a,l,"next",e)}function l(e){Kn(r,i,o,a,l,"throw",e)}a(void 0)}))}}function Qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||Jn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jn(e,t){if(e){if("string"==typeof e)return Xn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xn(e,t):void 0}}function Xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Vn.defaultProps={currentStep:0,"data-testid":"application-create-wizard"};var ei=function(e){var t,n=e.application,A=e.appId,T=e.appName,O=e.certificate,S=e.featureConfig,I=e.inboundProtocolConfig,C=e.inboundProtocols,w=e.isLoading,N=e.setIsLoading,R=e.onUpdate,H=e.onProtocolUpdate,V=e.allowedOriginList,B=e.onAllowedOriginsUpdate,q=e.onApplicationSecretRegenerate,G=e.isInboundProtocolConfigRequestLoading,z=e.readOnly,$=e.template,W=e.extendedAccessConfig,K=e.applicationTemplateId,Y=e.isDefaultApplication,Q=e.isSystemApplication,J=e["data-componentid"],X=(0,f.$)().t,ee=(0,u.fQ)().getLink,te=(0,h.I0)(),ne=(0,x.b)(n.id).mutate,ie=(0,h.v9)((function(e){return e.application.meta.protocolMeta})),oe=a.h.getState().config.deployment.tenant,re=(0,h.v9)((function(e){return e.config.deployment.allowMultipleAppProtocols})),ae=Qn((0,m.useState)(void 0),2),le=ae[0],ce=ae[1],se=Qn((0,m.useState)([]),2),ue=se[0],de=se[1],pe=Qn((0,m.useState)(void 0),2),me=pe[0],fe=pe[1],ge=Qn((0,m.useState)(!1),2),he=ge[0],ve=ge[1],be=Qn((0,m.useState)(!1),2),Ee=be[0],ye=be[1],Ae=Qn((0,m.useState)(!1),2),Te=Ae[0],Oe=Ae[1],Se=Qn((0,m.useState)(void 0),2),Ie=Se[0],Ce=Se[1],we=Qn((0,m.useState)(!1),2),Ne=we[0],Re=we[1],_e=Qn((0,m.useState)(void 0),2),Le=_e[0],Pe=_e[1],ke=(0,m.useRef)(null),Me=Qn((0,m.useState)([]),2),xe=Me[0],Ue=Me[1],De=(0,i.EV)(null==S||null===(t=S.applications)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),Ze=function(){var e=Yn(Wn().mark((function e(t,n){var i;return Wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!1,e.abrupt("return",(0,M.lp)(A,t,n).then((function(){te((0,s.V_)({description:X("applications:notifications.updateInboundProtocolConfig.success.description"),level:c.QU.SUCCESS,message:X("applications:notifications.updateInboundProtocolConfig.success.message")})),B()})).catch((function(e){var t;i=!0,null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?te((0,s.V_)({description:e.response.data.description,level:c.QU.ERROR,message:X("applications:notifications.updateInboundProtocolConfig.error.message")})):te((0,s.V_)({description:X("applications:notifications.updateInboundProtocolConfig.genericError.description"),level:c.QU.ERROR,message:X("applications:notifications.updateInboundProtocolConfig.genericError.message")}))})).finally((function(){H(),i||je()})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),je=function(){$.id===D.id&&Le&&le===L.AI.SAML&&Pe(void 0)},Fe=function(e,t){N(!0),(0,M.hN)(zn({id:A},e.general),!0).then(Yn(Wn().mark((function n(){return Wn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ze(e.inbound,t);case 2:ne();case 3:case"end":return n.stop()}}),n)})))).catch((function(e){e.response&&e.response.data&&e.response.data.description?te((0,s.V_)({description:e.response.data.description,level:c.QU.ERROR,message:X("applications:notifications.updateApplication.error.message")})):te((0,s.V_)({description:X("applications:notifications.updateApplication.genericError.description"),level:c.QU.ERROR,message:X("applications:notifications.updateApplication.genericError.message")}))})).finally((function(){N(!1)}))},He=function(){(0,M.gh)(A).then((function(e){te((0,s.V_)({description:X("applications:notifications.regenerateSecret.success.description"),level:c.QU.SUCCESS,message:X("applications:notifications.regenerateSecret.success.message")})),q(e.data),R(A)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?te((0,s.V_)({description:e.response.data.description,level:c.QU.ERROR,message:X("applications:notifications.regenerateSecret.error.message")})):te((0,s.V_)({description:X("applications:notifications.regenerateSecret.genericError.description"),level:c.QU.ERROR,message:X("applications:notifications.regenerateSecret.genericError.message")}))}))},Ve=function(){(0,M.rA)(A).then((function(){te((0,s.V_)({description:X("applications:notifications.revokeApplication.success.description"),level:c.QU.SUCCESS,message:X("applications:notifications.revokeApplication.success.message")})),R(A)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?te((0,s.V_)({description:e.response.data.description,level:c.QU.ERROR,message:X("applications:notifications.revokeApplication.error.message")})):te((0,s.V_)({description:X("applications:notifications.revokeApplication.success.description"),level:c.QU.ERROR,message:X("applications:notifications.revokeApplication.success.message")}))}))};(0,m.useEffect)((function(){C.length>0&&de(C),ce(null),Be()}),[C]);var Be=function(){var e=function(e){var t=null!=$&&$.authenticationProtocol?[$.authenticationProtocol]:Object.values(L.AI);return K===U.jo.CUSTOM_APPLICATION_SAML?[L.AI.SAML]:K===U.jo.CUSTOM_APPLICATION_OIDC||K===U.jo.M2M_APP_TEMPLATE_ID?[L.AI.OAUTH2_OIDC]:K===U.jo.CUSTOM_APPLICATION_PASSIVE_STS?[L.AI.WS_FEDERATION]:t=t.filter((function(t){return $&&$.id===D.id&&l.tZ.customApplication.getAllowedProtocolTypes()&&l.tZ.customApplication.getAllowedProtocolTypes().length>0?!!l.tZ.customApplication.getAllowedProtocolTypes().includes(t)&&t:!(t===L.AI.WS_TRUST||t===L.AI.CUSTOM||W&&t===L.AI.WS_FEDERATION||e&&t===e)&&t}))}();e=(0,p.Z)(e,(function(e){var t=$n($n({},L.AI.OIDC,0),L.AI.SAML,1);return C.length>0&&C.forEach((function(e,n){Object.values(L.AI).includes(e)&&(t=zn(zn({},t),{},$n({},e,n)))})),t[e]})),le||((null==$?void 0:$.templateId)===Z.id&&C.length>0?ce(C[0]):ce(e[0])),me||fe(e)},qe=function(e,t){if(t){var n=C.find((function(e){return e===t}));n&&(Ce(n),ye(!0))}},Ge=function(e,t){if(t){var n=qn(xe);if(null!=n&&n.includes(t.accordionIndex)){var i=null==n?void 0:n.indexOf(t.accordionIndex);n.splice(i,1)}else n.push(t.accordionIndex);Ue(n)}},ze=function(e){var t=e;return"oidc"===t&&(t=L.AI.OAUTH2_OIDC),P.y.resolveProtocolDisplayName(t)},$e=function(){return me?re?m.createElement(b.Z.Row,null,m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:10},me.map((function(e,t){return m.createElement(u.GI,{key:t,trigger:m.createElement(E.Z,{basic:!0,color:le===e?"red":"grey",content:le===e?"red":"grey",className:"mr-3 protocol-button",onClick:function(){return ce(e)}},m.createElement(u.dn,{fill:le===e?"primary":"accent1",inline:!0,transparent:!0,icon:(0,_.B0)()[e],size:"micro",spaced:"left",verticalAlign:"middle",className:"protocol-button-icon"}),m.createElement("div",{className:"protocol-change-title"},P.y.resolveProtocolDisplayName(e))),content:P.y.resolveProtocolDescription(e),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0})})),m.createElement(v.Z,{hidden:!0}),m.createElement(v.Z,null))):K===j.u.M2M_APPLICATION||(null==$?void 0:$[U.jo.ORIGINAL_TEMPLATE_ID_PROPERTY])===j.u.MCP_CLIENT_APPLICATION?m.createElement(m.Fragment,null,m.createElement(y.Z,{as:"h3",className:"display-flex"},m.createElement(u.dn,{transparent:!0,width:"auto",icon:(0,_.B0)()[L.AI.OAUTH2],size:"x30",verticalAlign:"middle"}),m.createElement(y.Z.Content,{className:"mt-1"},m.createElement("strong",null,P.y.resolveProtocolDisplayName(L.AI.OAUTH2)))),We(),m.createElement(v.Z,{hidden:!0})):(null==$?void 0:$[U.jo.ORIGINAL_TEMPLATE_ID_PROPERTY])===j.u.REACT_APPLICATION||(null==$?void 0:$[U.jo.ORIGINAL_TEMPLATE_ID_PROPERTY])===j.u.NEXT_JS_APPLICATION?m.createElement(m.Fragment,null,m.createElement(y.Z,{as:"h3",className:"display-flex"},m.createElement(u.dn,{transparent:!0,width:"auto",icon:(0,_.B0)()[L.AI.OIDC],size:"x30",verticalAlign:"middle"}),m.createElement(y.Z.Content,{className:"mt-1"},m.createElement("strong",null,P.y.resolveProtocolDisplayName(L.AI.OIDC)))),We(),m.createElement(v.Z,{hidden:!0})):m.createElement(m.Fragment,null,m.createElement(y.Z,{as:"h3",className:"display-flex"},m.createElement(u.dn,{transparent:!0,width:"auto",icon:(0,_.B0)()[le],size:"x30",verticalAlign:"middle"}),m.createElement(y.Z.Content,{className:"mt-1"},m.createElement("strong",null," ",P.y.resolveProtocolDisplayName(le)," "))),We(),m.createElement(v.Z,{hidden:!0})):null},We=function(){return le===L.AI.OIDC?m.createElement(y.Z,{as:"h6",color:"grey",compact:!0},X("applications:forms.inboundOIDC.description",{protocol:P.y.resolveProtocolDisplayName(L.AI.OIDC)}),m.createElement(u.eb,{link:ee("develop.applications.editApplication.oidcApplication.protocol.learnMore")},X("common:learnMore"))):le===L.AI.OAUTH2_OIDC?m.createElement(y.Z,{as:"h6",color:"grey",compact:!0},X("applications:forms.inboundOIDC.description",{protocol:P.y.resolveProtocolDisplayName(K===j.u.M2M_APPLICATION||(null==$?void 0:$[U.jo.ORIGINAL_TEMPLATE_ID_PROPERTY])===j.u.MCP_CLIENT_APPLICATION?L.AI.OAUTH2:(null==$?void 0:$[U.jo.ORIGINAL_TEMPLATE_ID_PROPERTY])===j.u.REACT_APPLICATION||(null==$?void 0:$[U.jo.ORIGINAL_TEMPLATE_ID_PROPERTY])===j.u.NEXT_JS_APPLICATION?L.AI.OIDC:L.AI.OAUTH2_OIDC)}),m.createElement(u.eb,{link:ee("develop.applications.editApplication.oidcApplication.protocol.learnMore")},X("common:learnMore"))):le===L.AI.SAML?m.createElement(y.Z,{as:"h6",color:"grey",compact:!0},X("applications:forms.inboundSAML.description"),m.createElement(u.eb,{link:ee("develop.applications.editApplication.samlApplication.protocol.learnMore")},X("common:learnMore"))):le===L.m5.CAS?m.createElement(y.Z,{as:"h6",color:"grey",compact:!0},X("applications:forms.inboundOIDC.description",{protocol:P.y.resolveProtocolDisplayName(L.m5.CAS)})):le===L.m5.JWT_SSO?m.createElement(y.Z,{as:"h6",color:"grey",compact:!0},X("applications:forms.inboundOIDC.description",{protocol:P.y.resolveProtocolDisplayName(L.m5.JWT_SSO)})):null};(0,m.useEffect)((function(){var e=Object.values(L.Ii);(null==$?void 0:$.templateId)===Z.id&&(e=C),e.map((function(e){if(e!==L.AI.WS_FEDERATION&&e!==L.AI.WS_TRUST){var t=e;Object.prototype.hasOwnProperty.call(ie,t)||(0,M.WL)(t).then((function(e){te((0,F.vX)(t,e))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?te((0,s.V_)({description:e.response.data.description,level:c.QU.ERROR,message:X("applications:notifications.fetchProtocolMeta.error.message")})):te((0,s.V_)({description:X("applications:notifications.fetchProtocolMeta.genericError.description"),level:c.QU.ERROR,message:X("applications:notifications.fetchProtocolMeta.genericError.message")}))}))}}))}),[C]);return w||Ne||G?m.createElement(u.pJ,{padded:"very"},m.createElement(u.pO,{inline:"centered",active:!0})):le||0!==C.length||re||K!==U.jo.CUSTOM_APPLICATION_SAML?m.createElement(b.Z,null,m.createElement(m.Fragment,null,Be(),$&&m.createElement(b.Z.Row,null,m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},function(){if(!le||ue.length<1)return null;var e,t;return m.createElement(u.pJ,{className:"protocol-settings-section form-wrapper",padded:"very",ref:ke},ue.length>1?ue.map((function(e,t){return Object.values(L.AI).includes(e)?m.createElement(o.U,{key:t,globalActions:!z&&[{icon:"trash alternate",onClick:qe,type:"icon"}],authenticators:[{actions:[],content:e&&m.createElement(jt,{onUpdate:R,application:n,isLoading:w,setIsLoading:N,certificate:O,tenantDomain:oe,allowedOrigins:V,metadata:ie[e===L.AI.OAUTH2_OIDC?L.AI.OIDC:e],initialValues:(0,d.Z)(I,e===L.AI.OAUTH2_OIDC?L.AI.OIDC:e)?I[e===L.AI.OAUTH2_OIDC?L.AI.OIDC:e]:void 0,onSubmit:function(t){return Fe(t,e)},type:e,onApplicationRegenerate:He,onApplicationRevoke:Ve,readOnly:z||!De,showSAMLCreation:e===L.AI.SAML,SAMLCreationOption:e===L.AI.SAML&&Le,template:$,"data-testid":"".concat(J,"-inbound-").concat(e,"-form"),"data-componentid":"".concat(J,"-inbound-").concat(e,"-form"),containerRef:ke,isDefaultApplication:Y,isSystemApplication:Q}),icon:{icon:(0,_.B0)()[e],size:"micro"},id:e,title:ze(e)}],accordionActiveIndexes:xe,accordionIndex:t,handleAccordionOnClick:Ge,"data-testid":"".concat(J,"-accordion"),"data-componentid":"".concat(J,"-accordion")}):m.createElement(jt,{onUpdate:R,application:n,isLoading:w,setIsLoading:N,certificate:O,metadata:ie[e===L.AI.OAUTH2_OIDC?L.AI.OIDC:e],initialValues:(0,d.Z)(I,e===L.AI.OAUTH2_OIDC?L.AI.OIDC:e)?I[e===L.AI.OAUTH2_OIDC?L.AI.OIDC:e]:void 0,onSubmit:function(t){return Fe(t,e)},type:L.AI.CUSTOM,readOnly:!De,template:$,"data-testid":"".concat(J,"-inbound-custom-form"),"data-componentid":"".concat(J,"-inbound-custom-form"),containerRef:ke})})):1===ue.length?m.createElement("div",{className:"form-container with-max-width"},w?null:$e(),(e=void 0,t=void 0,K===U.jo.CUSTOM_APPLICATION_OIDC&&(e=ee("develop.applications.editApplication.standardBasedApplication.oauth2OIDC.protocol.learnMore"),t="applications:forms.inboundOIDC.documentation"),K===U.jo.CUSTOM_APPLICATION_SAML&&(e=ee("develop.applications.editApplication.standardBasedApplication.saml.protocol.learnMore"),t="applications:forms.inboundSAML.documentation"),e?(null==n?void 0:n.originalTemplateId)===j.u.REACT_APPLICATION||(null==n?void 0:n.originalTemplateId)===j.u.NEXT_JS_APPLICATION?null:m.createElement(m.Fragment,null,m.createElement(u.v0,{visible:!0,type:"info",content:m.createElement(g.c,{i18nKey:t,tOptions:{protocol:P.y.resolveProtocolDisplayName(le)}},"Read through our",m.createElement(u.eb,{link:e},"documentation"),"to learn more about using",m.createElement(u.EK,{withBackground:!1},P.y.resolveProtocolDisplayName(le)),"protocol to implement login in your applications.")}),m.createElement(v.Z,{hidden:!0})):null),Object.values(L.AI).includes(le)?m.createElement(jt,{onUpdate:R,application:n,isLoading:w,setIsLoading:N,certificate:O,tenantDomain:oe,allowedOrigins:V,metadata:ie[le===L.AI.OAUTH2_OIDC?L.AI.OIDC:le],initialValues:(0,d.Z)(I,le===L.AI.OAUTH2_OIDC?L.AI.OIDC:le)?I[le===L.AI.OAUTH2_OIDC?L.AI.OIDC:le]:void 0,onSubmit:function(e){return Fe(e,le)},type:le,onApplicationRegenerate:He,onApplicationRevoke:Ve,readOnly:z||!De,showSAMLCreation:le===L.AI.SAML,SAMLCreationOption:le===L.AI.SAML&&Le,template:$,"data-testid":"".concat(J,"-inbound-").concat(le,"-form"),"data-componentid":"".concat(J,"-inbound-").concat(le,"-form"),containerRef:ke,isDefaultApplication:Y,isSystemApplication:Q}):m.createElement(jt,{onUpdate:R,application:n,isLoading:w,setIsLoading:N,certificate:O,metadata:ie[le===L.AI.OAUTH2_OIDC?L.AI.OIDC:le],initialValues:(0,d.Z)(I,le===L.AI.OAUTH2_OIDC?L.AI.OIDC:le)?I[le===L.AI.OAUTH2_OIDC?L.AI.OIDC:le]:void 0,onSubmit:function(e){return Fe(e,le)},type:L.AI.CUSTOM,readOnly:!De,template:$,"data-testid":"".concat(J,"-inbound-custom-form"),"data-componentid":"".concat(J,"-inbound-custom-form"),containerRef:ke})):void 0)}())),(null==C?void 0:C.length)<1&&m.createElement(b.Z.Row,null,m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.pJ,{className:"protocol-settings-section form-wrapper",padded:"very",ref:ke},m.createElement(u.$J,{title:X("applications:edit.sections.protocol.title"),subtitle:[X("applications:edit.sections.protocol.subtitle")],action:m.createElement(u.KM,{onClick:function(){return ve(!0)}},X("applications:edit.sections.protocol.button")),image:(0,r.jF)().emptyList,imageSize:"tiny"})))),he&&m.createElement(Vn,{title:X("applications:edit.sections.access.addProtocolWizard.heading"),subTitle:X("applications:edit.sections.access.addProtocolWizard.subHeading",{appName:T}),closeWizard:function(){return ve(!1)},addProtocol:!0,selectedProtocols:C,onUpdate:R,appId:A,"data-testid":"".concat(J,"-protocol-add-wizard")}),Ee&&m.createElement(u.cV,{onClose:function(){return ye(!1)},type:"negative",open:Ee,assertion:Ie,assertionHint:m.createElement("p",null,m.createElement(g.c,{i18nKey:"applications:confirmations.deleteProtocol.assertionHint",tOptions:{name:Ie}},"Please type ",m.createElement("strong",null,Ie)," to confirm.")),assertionType:"input",primaryAction:X("common:confirm"),secondaryAction:X("common:cancel"),onSecondaryActionClick:function(){return ye(!1)},onPrimaryActionClick:function(){var e;e=Ie,(0,M.yY)(A,e).then((function(){te((0,s.V_)({description:X("applications:notifications.deleteProtocolConfig.success.description",{protocol:e}),level:c.QU.SUCCESS,message:X("applications:notifications.deleteProtocolConfig.success.message")})),R(A)})).catch((function(e){var t,n;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?te((0,s.V_)({description:null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.description,level:c.QU.ERROR,message:X("applications:notifications.deleteProtocolConfig.error.message")})):te((0,s.V_)({description:X("applications:notifications.deleteProtocolConfig.genericError.description"),level:c.QU.ERROR,message:X("applications:notifications.deleteProtocolConfig.genericError.message")}))})),ye(!1)},"data-testid":"".concat(J,"-protocol-delete-confirmation-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-testid":"".concat(J,"-protocol-delete-confirmation-modal-header")},X("applications:confirmations.deleteProtocol.header")),m.createElement(u.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(J,"-protocol-delete-confirmation-modal-message")},X("applications:confirmations.deleteProtocol.message")),m.createElement(u.cV.Content,{"data-testid":"".concat(J,"-protocol-delete-confirmation-modal-content")},X("applications:confirmations.deleteProtocol.content"))),Te&&m.createElement(u.cV,{onClose:function(){return ye(!1)},type:"negative",open:Te,primaryAction:X("common:confirm"),secondaryAction:X("common:cancel"),onSecondaryActionClick:function(){Oe(!1)},onPrimaryActionClick:function(){var e;e=le,Re(!0),(0,M.yY)(A,e).then((function(){R(A)})).catch((function(e){var t,n;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?te((0,s.V_)({description:null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.description,level:c.QU.ERROR,message:X("applications:notifications.deleteProtocolConfig.error.message")})):te((0,s.V_)({description:X("applications:notifications.deleteProtocolConfig.genericError.description"),level:c.QU.ERROR,message:X("applications:notifications.deleteProtocolConfig.genericError.message")}))})).finally((function(){Re(!1),ce(void 0)})),Oe(!1)},"data-testid":"".concat(J,"-protocol-delete-confirmation-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-testid":"".concat(J,"-protocol-delete-confirmation-modal-header")},X("applications:confirmations.changeProtocol.header")),m.createElement(u.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(J,"-protocol-delete-confirmation-modal-message")},X("applications:confirmations.changeProtocol.message",{name:le})),m.createElement(u.cV.Content,{"data-testid":"".concat(J,"-protocol-delete-confirmation-modal-content")},X("applications:confirmations.changeProtocol.content"))))):m.createElement(k,{setSAMLProtocol:function(e){Pe(e),ce(L.AI.SAML),ue.push(L.AI.SAML)}})};ei.defaultProps={"data-componentid":"application-access-configuration",extendedAccessConfig:!1}},44118:(e,t,n)=>{n.d(t,{I:()=>bl});var i={};n.r(i),n.d(i,{DefaultBasicLoginSequence:()=>Zi});var o={};n.r(o),n.d(o,{EmailOTPSecondFactorLoginSequence:()=>ji,PushAuthSecondFactorLoginSequence:()=>Vi,SMSOTPSecondFactorLoginSequence:()=>Fi,TOTPSecondFactorLoginSequence:()=>Hi});var r={};n.r(r),n.d(r,{EmailOTPPasswordlessLoginSequence:()=>Bi,FIDO2PasswordlessLoginSequence:()=>Gi,MagicLinkPasswordlessLoginSequence:()=>qi,PushAuthPasswordlessLoginSequence:()=>$i,SmsOtpPasswordlessLoginSequence:()=>zi});var a={};n.r(a),n.d(a,{AppleSocialLoginSequence:()=>Wi,FacebookSocialLoginSequence:()=>Ki,GithubSocialLoginSequence:()=>Yi,GoogleSocialLoginSequence:()=>Qi});var l={};n.r(l),n.d(l,{BasicLoginSequences:()=>i,MFALoginSequences:()=>o,PasswordlessLoginSequences:()=>r,SocialLoginSequences:()=>a});var c=n(44194),s=n(13098),u=n(2697),d=n(21257),p=n(47245),m=n(55007),f=n(73502),g=n(18148),h=n(48023),v=n(12533),b=n(46570),E=n(60486),y=n(40838),A=n(917),T=n(43974),O=n(24484),S=n(23754),I=n(30331),C=n(86989),w=n(75100),N=n(49801),R=n(93263),_=n(50342),L=n(6567),P=n(84548),k=n(9821);function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function x(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function D(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Z(i.key),i)}}function Z(e){var t=function(e,t){if("object"!=M(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=M(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==M(t)?t:t+""}var j=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,i=[{key:"getDefaultScript",value:function(){return k.jo.DEFAULT_ADAPTIVE_AUTH_SCRIPT}},{key:"generateScript",value:function(e){for(var t=[],n=1;n<e;n++)t.push("    executeStep(:index);".replace(":index",n.toString()));var i=x(k.jo.DEFAULT_ADAPTIVE_AUTH_SCRIPT);return i.splice.apply(i,[1,0].concat(t)),i}},{key:"isDefaultScript",value:function(t,n){for(var i=k.jo.EMPTY_STRING,o=Array.isArray(t)?t.join(k.jo.EMPTY_STRING):t,r=[],a=0;a<n;a++)r.push("executeStep("+(a+1)+");"),i+=r[a];var l=k.jo.DEFAULT_ADAPTIVE_AUTH_SCRIPT_HEADER+i+k.jo.DEFAULT_ADAPTIVE_AUTH_SCRIPT_FOOTER;return e.minifyScript(o,!1)===e.minifyScript(l,!1)}},{key:"minifyScript",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return k.jo.EMPTY_STRING;var n=Array.isArray(e)?e.join(k.jo.EMPTY_STRING):String(e);return t&&(n=n.replace(/\/\*[\s\S]*?\*\/|\/\/.*/gm,k.jo.EMPTY_STRING)),n=n.replace(/(?:\r\n|\r|\n)/g,k.jo.EMPTY_STRING).replace(/\s/g,k.jo.EMPTY_STRING).trim()}},{key:"isEmptyScript",value:function(t){return!t||Array.isArray(t)&&(0===t.length||0==t.join(k.jo.EMPTY_STRING).trim().length)||t instanceof String&&0===t.trim().length||!e.minifyScript(t)}},{key:"sourceToString",value:function(e){return Array.isArray(e)?e.join(k.jo.LINE_BREAK):null!=e?e:k.jo.EMPTY_STRING}}],(n=null)&&D(t.prototype,n),i&&D(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}(),F=n(41158),H=n(86105),V=n(6833),B=n(82406),q=n(20494),G=n(22557),z=n.n(G),$=n(47513),W=n(10479),K=n(37759),Y=n(59673),Q=["mode","open","onClose","data-componentid"];function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},J.apply(null,arguments)}var X=function(e){var t=e.mode,n=e.open,i=e.onClose,o=e["data-componentid"],r=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Q),a=(0,W.$)().t;return c.createElement(q.cV,J({open:n,onClose:i,type:"warning",closeOnDimmerClick:!1,assertionHint:a("authenticationFlow:modes.switchConfirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:a("authenticationFlow:modes.switchConfirmationModal.primaryActionButtonText"),secondaryAction:a("authenticationFlow:modes.switchConfirmationModal.secondaryActionButtonText"),"data-componentid":o,onPrimaryActionClick:function(){return i(null,null)},onSecondaryActionClick:function(e){return i(e,null)}},r),c.createElement(q.cV.Header,{"data-componentid":"".concat(o,"-header")},a("authenticationFlow:modes.switchConfirmationModal.title")),c.createElement(q.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(o,"-message")},c.createElement(Y.c,{i18nKey:"authenticationFlow:modes.switchConfirmationModal.warningMessage",tOptions:{mode:t.label}},"If you switch to the ",c.createElement("strong",null,t.label),", you will loose the unsaved changes in the current flow. Please proceed with caution.")),c.createElement(q.cV.Content,{"data-componentid":"".concat(o,"-content")},a("authenticationFlow:modes.switchConfirmationModal.content")))};X.defaultProps={"data-componentid":"authentication-flow-mode-switch-disclaimer-modal"};const ee=X;var te=n(91970),ne=n(99925),ie=n(82160),oe=n(76271),re=n(96124);const ae=function(e){var t={headers:{Accept:"application/json","Content-Type":"application/json"},method:V.f2.GET,url:"".concat(oe.h.getState().config.endpoints.multiFactorAuthenticators,"/connectors/").concat(e)},n=(0,re.Z)(t),i=n.data,o=n.error;return{data:i,error:o,isLoading:!o&&!i,isValidating:n.isValidating,mutate:n.mutate}};var le=n(54510),ce=n(7332),se=n(63826),ue=n(82925),de=n(13550),pe=n(88726),me=n(29314),fe=n(81759),ge=n(2543),he=(0,c.createContext)(null);he.displayName="AuthenticationFlowContext";const ve=he;function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ye(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=be(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=be(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==be(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ae=function(){var e=(0,c.useContext)(ve),t=(0,ge.Z)(),n=t.setPreferences,i=t.preferredAuthenticationFlowBuilderMode;if(void 0===e)throw new Error("UseAuthenticationFlow must be used within a AuthenticationFlowProvider");return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({preferredAuthenticationFlowBuilderMode:i,setPreferredAuthenticationFlowBuilderMode:function(e){n({preferredAuthenticationFlowBuilderMode:e})}},e)};var Te=n(50699),Oe=n(42177),Se=n(42005),Ie=n(47018),Ce=n(26154),we=n(62508),Ne=n(12950),Re=n(37077),_e=n(1807),Le=n(77757),Pe=n(89141),ke=n(758),Me=n(51021),xe=n(34359);function Ue(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Fe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw r}}}}function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Ze(e){return function(e){if(Array.isArray(e))return He(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||Fe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){if(e){if("string"==typeof e)return He(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?He(e,t):void 0}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function Ve(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,qe(i.key),i)}}function Be(e,t,n){return(t=qe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e){var t=function(e,t){if("object"!=De(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=De(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==De(t)?t:t+""}var Ge=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"isSecondFactorAdditionValid",value:function(e,t,n){var i=je(this.getLeftAndRightSideSteps(t,n),1)[0];return e===v.$.AUTHENTICATOR_IDS.TOTP_AUTHENTICATOR_ID?this.hasSpecificFactorsInSteps(k.jo.TOTP_HANDLERS,i):e===v.$.AUTHENTICATOR_IDS.EMAIL_OTP_AUTHENTICATOR_ID?this.hasSpecificFactorsInSteps(k.jo.EMAIL_OTP_HANDLERS,i):e===v.$.AUTHENTICATOR_IDS.SMS_OTP_AUTHENTICATOR_ID?this.hasSpecificFactorsInSteps(k.jo.SMS_OTP_HANDLERS,i):this.hasSpecificFactorsInSteps(k.jo.FIRST_FACTOR_AUTHENTICATORS,i)}},{key:"isFirstFactorValid",value:function(e,t){var n;return!(null===(n=t[e])||void 0===n||null===(n=n.options)||void 0===n?void 0:n.find((function(e){return e.authenticator===v.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME||e.authenticator===v.$.AUTHENTICATOR_NAMES.BASIC_AUTHENTICATOR_NAME})))}},{key:"isConnectionsJITUPConflictWithMFA",value:function(t){var n=t.federatedAuthenticators,i=t.steps,o=t.subjectStepId;try{var r=(0,xe.Z)(i.filter((function(e){return e.id===o})).map((function(e){return e.options}))),a=Ze(new Set(r.map((function(e){return e.idp})))).map((function(e){return n.find((function(t){return t.name===e}))})).filter(Boolean).filter((function(e){var t;return!(null!=e&&null!==(t=e.provisioning)&&void 0!==t&&null!==(t=t.jit)&&void 0!==t&&t.isEnabled)}));if(i.length<2)return{conflicting:!1,idpList:[]};var l=(0,xe.Z)(i.slice(1).map((function(e){return e.options}))),c=new Set(k.jo.SECOND_FACTOR_AUTHENTICATORS),s=l.filter((function(e){return c.has(e.authenticator)}));return{conflicting:a.length>0&&s.length>0,idpList:null!=a?a:[]}}catch(e){return{conflicting:!1,idpList:[]}}}},{key:"isFederatedConflictWithSMSOTP",value:function(t){var n=t.federatedAuthenticators,i=t.steps,o=t.subjectStepId;try{var r=(0,xe.Z)(i.filter((function(e){return e.id===o})).map((function(e){return e.options}))),a=Ze(new Set(r.map((function(e){return e.idp})))).map((function(e){return n.find((function(t){return t.name===e}))})).filter(Boolean);if(i.length<2)return{conflicting:!1,idpList:[]};var l=(0,xe.Z)(i.slice(1).map((function(e){return e.options}))),c=l.some((function(e){return"sms-otp-authenticator"===e.authenticator}));return{conflicting:a.length>0&&c,idpList:null!=a?a:[]}}catch(e){return{conflicting:!1,idpList:[]}}}},{key:"countTwoFactorAuthenticatorsInCurrentStep",value:function(e,t){return t[e].options.filter((function(e){return e.authenticator===v.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME||e.authenticator===v.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME||e.authenticator===v.$.AUTHENTICATOR_NAMES.SMS_OTP_AUTHENTICATOR_NAME})).length}},{key:"hasSpecificAuthenticatorInCurrentStep",value:function(e,t,n){return!!n[t].options.find((function(t){return t.authenticator===e}))}}],(t=null)&&Ve(e.prototype,t),n&&Ve(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function ze(e){return function(e){if(Array.isArray(e))return Ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||We(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||We(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){if(e){if("string"==typeof e)return Ke(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(e,t):void 0}}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Be(Ge,"getLeftAndRightSideSteps",(function(e,t){return[0!==e?t.slice(0,e):[],e+1 in t?t.slice(e+1):[],e+1 in t?t.slice(e+1,e+2):[]]})),Be(Ge,"hasSpecificFactorsInSteps",(function(e,t){var n,i=!1,o=Ue(t);try{for(o.s();!(n=o.n()).done;){var r,a=Ue(n.value.options);try{for(a.s();!(r=a.n()).done;){var l=r.value;if(e.includes(l.authenticator)){i=!0;break}}}catch(c){a.e(c)}finally{a.f()}if(i)break}}catch(c){o.e(c)}finally{o.f()}return i})),Be(Ge,"getImmediateStepHavingSpecificFactors",(function(e,t){var n,i=!1,o=-1,r=Ue(t.entries());try{for(r.s();!(n=r.n()).done;){var a,l=je(n.value,2),c=l[0],s=Ue(l[1].options);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(e.includes(u.authenticator)){i=!0,o=c;break}}}catch(d){s.e(d)}finally{s.f()}if(i)break}}catch(d){r.e(d)}finally{r.f()}return o})),Be(Ge,"checkImmediateStepHavingSpecificFactors",(function(e,t){var n,i=!1,o=Ue(t.entries());try{for(o.s();!(n=o.n()).done;){var r,a=Ue(je(n.value,2)[1].options);try{for(a.s();!(r=a.n()).done;){var l=r.value;if(e.includes(l.authenticator)){i=!0;break}}}catch(c){a.e(c)}finally{a.f()}if(i)break}}catch(c){o.e(c)}finally{o.f()}return i})),Be(Ge,"countSpecificFactorInSteps",(function(e,t){var n,i=0,o=Ue(t);try{for(o.s();!(n=o.n()).done;){var r,a=Ue(n.value.options);try{for(a.s();!(r=a.n()).done;){var l=r.value;e.includes(l.authenticator)&&i++}}catch(c){a.e(c)}finally{a.f()}}}catch(c){o.e(c)}finally{o.f()}return i})),Be(Ge,"isCustomAuthenticator",(function(e){var t;return null==e||null===(t=e.defaultAuthenticator)||void 0===t||null===(t=t.tags)||void 0===t?void 0:t.includes("Custom")})),Be(Ge,"isSecondFactorAuthenticator",(function(e){var t;return null==e||null===(t=e.defaultAuthenticator)||void 0===t||null===(t=t.tags)||void 0===t?void 0:t.includes("2FA")}));var Ye=function(e){var t=e.authenticators,n=e.authenticationSteps,i=e.currentStep,o=e.defaultName,r=e.heading,a=e.onAuthenticatorSelect,l=e.selected,s=e.showLabels,u=e["data-testid"],d=(0,W.$)().t,m=(0,A.Z)().UIConfig,f=null==m?void 0:m.connectionResourcesUrl,g=$e((0,c.useState)(void 0),2),h=g[0],E=g[1],y=z()("authenticator",{"with-labels":s}),T=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.isSAASDeployment}));(0,c.useEffect)((function(){l&&E(l)}),[l]);var O=function(e){if(e.category===fe.Xi.SECOND_FACTOR||e.category===fe.Xi.TWO_FACTOR_CUSTOM)return 0!==i&&Ge.isSecondFactorAdditionValid(e.defaultAuthenticator.authenticatorId,i,n);if(e.name===v.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME)return 0!==i&&Ge.countTwoFactorAuthenticatorsInCurrentStep(i,n)>0;if([v.$.AUTHENTICATOR_IDS.IDENTIFIER_FIRST_AUTHENTICATOR_ID,v.$.AUTHENTICATOR_IDS.BASIC_AUTHENTICATOR_ID].includes(e.id))return Ge.isFirstFactorValid(i,n);if(e.name===v.$.AUTHENTICATOR_NAMES.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_NAME){var t;if(0!==(null===(t=n[i])||void 0===t||null===(t=t.options)||void 0===t?void 0:t.length))return!1;var o=$e(Ge.getLeftAndRightSideSteps(i,n),1)[0];if(!Ge.hasSpecificFactorsInSteps(k.jo.ACTIVE_SESSIONS_LIMIT_HANDLERS,o))return!1}return!0},S=function(e){var t,o,r,a=c.createElement(Re.Z,{attached:"top"},c.createElement(Ce.Z,{name:"info circle"})," Info");return e.category===fe.Xi.SECOND_FACTOR||e.category===fe.Xi.TWO_FACTOR_CUSTOM?c.createElement(c.Fragment,null,0===i?c.createElement(c.Fragment,null,a,c.createElement(q.xv,null,null!==(t=Me.tZ.signInMethod.authenticatorSelection.messages.secondFactorDisabledInFirstStep)&&void 0!==t?t:d("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.secondFactorDisabledInFirstStep"))):c.createElement(c.Fragment,null,a,c.createElement(q.xv,null,null!==(o=Me.tZ.signInMethod.authenticatorSelection.messages.secondFactorDisabled)&&void 0!==o?o:c.createElement(Y.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.secondFactorDisabled"},"The second-factor authenticators can only be used if"," ",c.createElement(q.EK,{withBackground:!0},"Username & Password"),","," ",c.createElement(q.EK,{withBackground:!0},"Social Login"),",",c.createElement(q.EK,{withBackground:!0},"Passkey"),"or any other handlers that can handle these factors are present in a previous step.")))):e.name===v.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME?c.createElement(c.Fragment,null,0===i?c.createElement(c.Fragment,null,a,c.createElement(q.xv,null,d("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.backupCodesDisabledInFirstStep"))):c.createElement(c.Fragment,null,a,c.createElement(q.xv,null,d("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.backupCodesDisabled")))):e.category===fe.Xi.SOCIAL?c.createElement(c.Fragment,null,a,c.createElement(q.xv,null,d("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.authenticatorDisabled"))):[v.$.AUTHENTICATOR_IDS.IDENTIFIER_FIRST_AUTHENTICATOR_ID,v.$.AUTHENTICATOR_IDS.BASIC_AUTHENTICATOR_ID].includes(e.id)?c.createElement(c.Fragment,null,a,c.createElement(q.xv,null,d("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.firstFactorDisabled"))):e.name===v.$.AUTHENTICATOR_NAMES.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_NAME?c.createElement(c.Fragment,null,a,c.createElement(q.xv,null,0!==(null===(r=n[i])||void 0===r||null===(r=r.options)||void 0===r?void 0:r.length)?d("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.sessionExecutorDisabledInMultiOptionStep"):d("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.sessionExecutorDisabledInFirstStep"))):void 0},I=function(e){var t;return e&&null!==(t=ue.C.getAuthenticatorLabels(null==e?void 0:e.defaultAuthenticator))&&void 0!==t?t:[]},C=function(e){var t;return T&&(null==e||null===(t=e.defaultAuthenticator)||void 0===t?void 0:t.authenticatorId)===v.$.AUTHENTICATOR_IDS.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_ID?c.createElement(ke.Z,{size:"small",label:d(me.j.BETA),className:"oxygen-chip-beta"}):null};return c.createElement(c.Fragment,{"data-testid":u},r&&c.createElement(q.X6,{as:"h6"},r),t.map((function(e,t){var n;return e.id===v.$.AUTHENTICATOR_IDS.BACKUP_CODE_AUTHENTICATOR_ID?null:c.createElement(q.GI,{hoverable:!0,hideOnScroll:!0,position:"top center",key:t,on:"hover",disabled:O(e),content:S(e),trigger:c.createElement(q.rJ,{showTooltips:!0,imageSize:"micro",className:y,header:e.displayName||o,disabled:!O(e),selected:O(e)&&Array.isArray(h)&&h.some((function(t){return t.id===e.id})),subHeader:e.categoryDisplayName,description:e.description,featureStatus:C(e),image:e.idp===fe.Xi.LOCAL||b.Zs.isOrganizationSSOConnection(null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.authenticatorId)?e.image:b.Zs.resolveConnectionResourcePath(f,e.image),tags:s&&I(e),onClick:function(){O(e)&&function(e){if(e.isEnabled){if(h.some((function(t){return t.id===e.id}))){var t=h.filter((function(t){return t.id!==e.id}));return a(t),void E(t)}a([].concat(ze(h),[e])),E([].concat(ze(h),[e]))}}(e)},imageOptions:{floated:!1,inline:!0},"data-testid":"".concat(u,"-authenticator-").concat(e.name),showCardAction:!1,showSetupGuideButton:!1})})})))};Ye.defaultProps={"data-testid":"authenticators",defaultName:"Unknown",showLabels:!0};var Qe=n(29903);function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}var Xe=["allowSocialLoginAddition","authenticationSteps","authenticators","className","currentStep","header","onClose","open","onIDPCreateWizardTrigger","onModalSubmit","message","showStepSelector","stepCount","showLabels","data-testid"];function et(){return et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},et.apply(null,arguments)}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){it(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function it(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Je(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Je(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Je(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e){return function(e){if(Array.isArray(e))return lt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||at(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||at(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){if(e){if("string"==typeof e)return lt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(e,t):void 0}}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var ct=function(e){var t=e.allowSocialLoginAddition,n=e.authenticationSteps,i=e.authenticators,o=e.className,r=e.currentStep,a=e.header,l=e.onClose,s=e.open,u=e.onIDPCreateWizardTrigger,d=e.onModalSubmit,m=e.message,f=e.showStepSelector,E=e.stepCount,y=e.showLabels,O=e["data-testid"],S=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Xe),I=(0,W.$)().t,C=(0,q.fQ)().getLink,w=Ae().hiddenAuthenticators,N=(0,pe.Z)().deploymentConfig,R=(0,A.Z)().UIConfig,_=(0,p.I0)(),L=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.isSAASDeployment})),P=(0,p.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.identityProviders})),k=null==R?void 0:R.connectionResourcesUrl,M=T.l.getInstance(),x=rt((0,c.useState)(s),1)[0],U=rt((0,c.useState)([]),2),D=U[0],Z=U[1],j=rt((0,c.useState)([]),2),F=j[0],G=j[1],$=rt((0,c.useState)([]),2),K=$[0],Y=$[1],Q=rt((0,c.useState)(E),2),J=Q[0],X=Q[1],ee=rt((0,c.useState)(null),2),te=ee[0],ne=ee[1],ie=rt((0,c.useState)(!1),2),oe=ie[0],re=ie[1],ae=rt((0,c.useState)([]),2),le=ae[0],ce=ae[1],ge=rt((0,c.useState)([]),2),he=ge[0],ve=ge[1],be=(0,H.cr)(P,g.f.FEATURE_DICTIONARY.get(g.F.LocalEmailOTPAuthenticator)),Ee=(0,H.cr)(P,g.f.FEATURE_DICTIONARY.get(g.F.LocalSMSOTPAuthenticator)),ye=(0,se.R)(null,null,null,oe,!0),ke=ye.data,Me=ye.isLoading,xe=ye.error;(0,c.useEffect)((function(){if(xe){var e;if(null!=xe&&null!==(e=xe.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description)return void _((0,B.V_)({description:I("authenticationProvider:notifications.getIDPTemplateList.error.description",{description:xe.response.data.description}),level:V.QU.ERROR,message:I("authenticationProvider:notifications.getIDPTemplateList.error.message")}));_((0,B.V_)({description:I("authenticationProvider:notifications.getIDPTemplateList.genericError.description"),level:V.QU.ERROR,message:I("authenticationProvider:notifications.getIDPTemplateList.genericError.message")}))}}),[xe]),(0,c.useEffect)((function(){if(i){var e=[].concat(ot(Ue(i.local,fe.Xi.LOCAL,I(ue.C.getAuthenticatorTypeDisplayName(fe.Xi.LOCAL)))),ot(Ue(i.social,fe.Xi.SOCIAL,I(ue.C.getAuthenticatorTypeDisplayName(fe.Xi.SOCIAL)))),ot(Ue(i.secondFactor,fe.Xi.SECOND_FACTOR,I(ue.C.getAuthenticatorTypeDisplayName(fe.Xi.SECOND_FACTOR)))),ot(Ue(i.enterprise,fe.Xi.ENTERPRISE,I(ue.C.getAuthenticatorTypeDisplayName(fe.Xi.ENTERPRISE)))),ot(Ue(i.recovery,fe.Xi.RECOVERY,I(ue.C.getAuthenticatorTypeDisplayName(fe.Xi.RECOVERY)))),ot(Ue(i.external,fe.Xi.EXTERNAL,I(ue.C.getAuthenticatorTypeDisplayName(fe.Xi.EXTERNAL)))),ot(Ue(i.internal,fe.Xi.INTERNAL,I(ue.C.getAuthenticatorTypeDisplayName(fe.Xi.INTERNAL)))),ot(Ue(i.twoFactorCustom,fe.Xi.TWO_FACTOR_CUSTOM,I(ue.C.getAuthenticatorTypeDisplayName(fe.Xi.TWO_FACTOR_CUSTOM)))));e=e.filter((function(e){return!(!be&&e.id===v.$.AUTHENTICATOR_IDS.EMAIL_OTP_AUTHENTICATOR_ID)&&(!(!Ee&&e.id===v.$.AUTHENTICATOR_IDS.SMS_OTP_AUTHENTICATOR_ID)&&e.defaultAuthenticator.name!==h.$.AUTHENTICATOR_NAMES.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_NAME)})),Y(e),G(e),De(e)}}),[i]);var Ue=function(e,t,n){return(0,Te.Z)(e)?[]:!w||!Array.isArray(w)||w.length<1?e:e.filter((function(e){return!w.includes(e.name)})).map((function(e){return nt(nt({},e),{},{category:t,categoryDisplayName:n})}))},De=function(e){var t=[];e.filter((function(e){ue.C.getAuthenticatorLabels(e).filter((function(e){t.includes(e)||t.push(e)}))})),ce(t)},Ze=function(e,t){var n=t.value.toLocaleLowerCase();ne(n),Y(je(n,he))},je=function(e,t){var n=function(e){return!!(0,Te.Z)(t)||ue.C.getAuthenticatorLabels(e).some((function(e){return t.includes(e)}))};return F.filter((function(t){var i,o,r;return e?(null==t||null===(i=t.displayName)||void 0===i?void 0:i.toLocaleLowerCase()).includes(e)||ue.C.getAuthenticatorLabels(t).some((function(t){var n,i;return(null==t||null===(n=t.toLocaleLowerCase())||void 0===n?void 0:n.includes(e))||(null===(i=(0,Se.Z)(t))||void 0===i||null===(i=i.toLocaleLowerCase())||void 0===i?void 0:i.includes(e))}))||null!==(o=t.category)&&void 0!==o&&null!==(o=o.toLocaleLowerCase())&&void 0!==o&&o.includes(e)||null!==(r=t.categoryDisplayName)&&void 0!==r&&null!==(r=r.toLocaleLowerCase())&&void 0!==r&&r.includes(e)?n(t):void 0:n(t)}))},Fe=function(){re(!0)};return c.createElement(Ie.Z,et({className:z()("add-authenticator-modal",o),"data-testid":O,open:x},S),c.createElement(Ie.Z.Header,null,a),f&&c.createElement(Ie.Z.Content,{className:"step-selection-dropdown-container"},c.createElement(c.Fragment,null,c.createElement(q.X6,{as:"h5"},I("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.label")),c.createElement(q.kW,null,I("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.hint")),c.createElement(Le.Z,null,c.createElement(Le.Z.Field,{inline:!0},c.createElement(Le.Z.Select,{scrolling:!0,placeholder:I("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.placeholder"),options:function(){for(var e=[],t=0;t<E;t++)e.push({key:t,text:"".concat(I("common:step")," ").concat(t+1),value:t+1});return e}(),onChange:function(e,t){var n=t.value;X(parseInt(n,10))},value:J,"data-testid":"".concat(O,"-step-select")}))))),oe?c.createElement(Ie.Z.Content,{scrolling:!0,className:"authenticator-container"},c.createElement("div",{className:"page-header-wrapper"},c.createElement("div",{className:"back-button mb-0",onClick:function(){return re(!1)}},c.createElement(Ce.Z,{name:"arrow left"}),I("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.goBackButton"))),c.createElement(we.Z,{hidden:!0}),c.createElement(q.Q8,{isLoading:Me,isEmpty:0===(null==ke?void 0:ke.length),emptyPlaceholder:c.createElement(q.$J,{image:(0,de.jF)().newList,imageSize:"tiny",title:I("authenticationProvider:placeHolders.emptyConnectionTypeList.title"),subtitle:[I("authenticationProvider:placeHolders.emptyConnectionTypeList.subtitles.0"),I("authenticationProvider:placeHolders.emptyConnectionTypeList.subtitles.1")],"data-testid":"".concat(O,"-empty-placeholder")})},null==ke?void 0:ke.map((function(e,t){var n,i=e.disabled,o=void 0;return e.id===g.f.CONNECTION_TEMPLATE_IDS.APPLE&&(null===(n=new URL(null==N?void 0:N.serverOrigin))||void 0===n?void 0:n.hostname)===g.f.LOCAL_SERVER_URL&&(i=!0,o=I("console:develop.pages.authenticationProviderTemplate.disabledHint.apple")),c.createElement(q.Q8.Card,{showSetupGuideButton:!!L,navigationLink:C(b.Zs.resolveConnectionDocLink(e.id)),key:t,resourceName:(0,b.uA)(null==e?void 0:e.name),isResourceComingSoon:e.comingSoon,disabled:i,disabledHint:o,comingSoonRibbonLabel:I(me.j.COMING_SOON),resourceDescription:e.description,resourceImage:b.Zs.resolveConnectionResourcePath(k,e.image),tags:e.tags,onClick:function(){u(e.id,(function(){re(!1)}),e)},showTooltips:!1,"data-testid":"".concat(O,"-").concat(e.name)})})))):c.createElement(c.Fragment,null,c.createElement(Ie.Z.Content,{className:"authenticator-search-container"},c.createElement(Ne.Z,{loading:!1,className:"mb-3",icon:c.createElement(Ce.Z,{name:"search"}),value:te,iconPosition:"left",fluid:!0,onChange:Ze,placeholder:I("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.search.placeholder")}),le&&Array.isArray(le)&&le.length>0&&c.createElement(Re.Z.Group,null,le.map((function(e,t){var n=he.includes(e);return c.createElement(Re.Z,{basic:!0,key:t,as:"a",className:"filter-label ".concat(n?"active":""),onClick:function(){return function(e){var t=[];t=he.includes(e)?he.filter((function(t){return t!==e})):[].concat(ot(he),[e]),ve(t),Y(je(te,t))}(e)}},e,n&&c.createElement(Ce.Z,{name:"check"}))})))),c.createElement(Ie.Z.Content,{scrolling:!0,className:"authenticator-container"},m,K&&Array.isArray(K)&&K.length>0?c.createElement(_e.Z.Group,{itemsPerRow:3},c.createElement(Ye,{authenticators:K,authenticationSteps:n,onAuthenticatorSelect:function(e){Z(e)},selected:D,showLabels:y,"data-testid":"".concat(O,"-authenticators"),currentStep:r}),t&&c.createElement(_e.Z,{as:"div",className:"basic-card authenticator add-custom-authenticator-card ".concat(y?"with-labels":""),onClick:Fe},c.createElement(_e.Z.Content,{textAlign:"center"},c.createElement(q.dn,{transparent:!0,className:"mb-3",size:"mini",icon:(0,Qe.s_)().addCircleOutline}),c.createElement(q.xv,{weight:"500"},I("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.addNewAuthenticatorCard.title"))))):c.createElement("div",null,c.createElement(q.$J,{subtitle:[I("applications:placeholders.emptyAuthenticatorsList.subtitles",{type:te})]}),t&&c.createElement(_e.Z.Group,{centered:!0,itemsPerRow:3},c.createElement(_e.Z,{as:"div",className:"basic-card authenticator add-custom-authenticator-card ".concat(y?"with-labels":""),onClick:Fe},c.createElement(_e.Z.Content,{textAlign:"center"},c.createElement(q.dn,{transparent:!0,className:"mb-3",size:"mini",icon:(0,Qe.s_)().addCircleOutline}),c.createElement(q.xv,{weight:"500"},I("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.addNewAuthenticatorCard.title")))))))),c.createElement(Ie.Z.Actions,null,c.createElement(Pe.Z,null,c.createElement(Pe.Z.Row,{column:1},c.createElement(Pe.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(q.Qj,{floated:"left",onClick:function(e){return l(e,null)}},I("common:cancel"))),!oe&&c.createElement(Pe.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(q.KM,{floated:"right",onClick:function(){M.compute((function(){null==D||D.forEach((function(e){M.publish("application-sign-in-method-add-new-authenticator",{type:(0,Oe.Z)(e.defaultAuthenticator.name)})}))})),d(D,J)},disabled:(0,Te.Z)(D),"data-testid":"".concat(O,"-next-button")},I("common:add")))))))};ct.defaultProps={"data-testid":"add-authenticator-modal",showLabels:!0,size:"small"};var st=["open","onClose","data-componentid","currentStep","onIDPCreateWizardTrigger"];function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ut.apply(null,arguments)}var dt=function(e){var t,n,i=e.open,o=e.onClose,r=e["data-componentid"],a=e.currentStep,l=e.onIDPCreateWizardTrigger,s=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,st),u=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),d=Ae(),f=d.authenticators,g=d.authenticationSequence,h=d.addSignInOption,v=(0,m.EV)(null==u||null===(t=u.identityProviders)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.create),b=(0,W.$)().t;return c.createElement(ct,ut({authenticationSteps:null==g?void 0:g.steps,allowSocialLoginAddition:v,currentStep:a,open:i,onModalSubmit:function(e){e.map((function(e){h(a,e.id)})),o(null,null)},onClose:o,header:b("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.heading"),authenticators:f,showStepSelector:!1,stepCount:null==g||null===(n=g.steps)||void 0===n?void 0:n.length,onIDPCreateWizardTrigger:l,"data-componentid":r},s))};dt.defaultProps={"data-componentid":"authentication-flow-option-add-modal"};const pt=dt;var mt=["open","onClose","data-componentid"];function ft(){return ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ft.apply(null,arguments)}var gt=function(e){var t=e.open,n=e.onClose,i=e["data-componentid"],o=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,mt),r=(0,W.$)().t;return c.createElement(q.cV,ft({open:t,onClose:n,type:"warning",closeOnDimmerClick:!1,assertionHint:r("authenticationFlow:revertConfirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:r("authenticationFlow:revertConfirmationModal.primaryActionButtonText"),secondaryAction:r("authenticationFlow:revertConfirmationModal.secondaryActionButtonText"),"data-componentid":i,onPrimaryActionClick:function(){return n(null,null)},onSecondaryActionClick:function(e){return n(e,null)}},o),c.createElement(q.cV.Header,{"data-componentid":"".concat(i,"-header")},r("authenticationFlow:revertConfirmationModal.title")),c.createElement(q.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(i,"-message")},r("authenticationFlow:revertConfirmationModal.warningMessage")),c.createElement(q.cV.Content,{"data-componentid":"".concat(i,"-content")},r("authenticationFlow:revertConfirmationModal.content")))};gt.defaultProps={"data-componentid":"authentication-flow-revert-disclaimer-modal"};const ht=gt;var vt=n(88752),bt=n(17901),Et=n(51835),yt=n.n(Et),At=n(27975),Tt=n.n(At),Ot=n(55900),St=n.n(Ot),It=n(21555),Ct=n.n(It),wt=n(3621),Nt=n.n(wt),Rt=n(5062),_t=n.n(Rt),Lt=n(13389),Pt={};Pt.styleTagTransform=_t(),Pt.setAttributes=Ct(),Pt.insert=St().bind(null,"head"),Pt.domAPI=Tt(),Pt.insertStyleElement=Nt();yt()(Lt.Z,Pt);Lt.Z&&Lt.Z.locals&&Lt.Z.locals;function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var xt=function(e){var t=e.id,n=e.data,i=e.sourceX,o=e.sourceY,r=e.targetX,a=e.targetY,l=e.sourcePosition,s=e.targetPosition,u=e.style,d=void 0===u?{}:u,p=e.markerEnd,m=e["data-componentid"],f=n.onNewStepAddition,g=kt((0,K.OQ)({sourcePosition:l,sourceX:i,sourceY:o,targetPosition:s,targetX:r,targetY:a}),3),h=g[0],v=g[1],b=g[2];return c.createElement(c.Fragment,null,c.createElement(K.u5,{path:h,markerEnd:p,style:d,"data-componentid":"".concat(m,"-base-edge")}),c.createElement(K.XQ,null,c.createElement("div",{style:{transform:"translate(-50%, -50%) translate(".concat(v,"px,").concat(b,"px)")},className:"add-step-button-wrapper nodrag nopan"},c.createElement(vt.Z,{"aria-label":"add",className:"add-step-button",variant:"circular",onClick:function(e){return f(e,t)},"data-componentid":"add-step-button"},c.createElement(bt.pO,null)))))};xt.defaultProps={};const Ut=xt;var Dt=n(46435),Zt=n(9090),jt={};jt.styleTagTransform=_t(),jt.setAttributes=Ct(),jt.insert=St().bind(null,"head"),jt.domAPI=Tt(),jt.insertStyleElement=Nt();yt()(Zt.Z,jt);Zt.Z&&Zt.Z.locals&&Zt.Z.locals;function Ft(){return Ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ft.apply(null,arguments)}var Ht=function(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return c.createElement("svg",Ft({xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 448 512"},t),c.createElement("path",{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"}))},Vt=function(e){var t,n=e.id,i=e["data-componentid"],o=Ae().updateVisualEditorFlowNodeMeta,r=(0,c.useRef)(null);return(0,c.useEffect)((function(){r&&r.current&&o(n,{height:r.current.clientHeight,width:r.current.clientWidth})}),[null==r||null===(t=r.current)||void 0===t?void 0:t.clientHeight]),c.createElement("div",{ref:r,className:"done-node-wrapper","data-componentid":i},c.createElement(Dt.Z,{"aria-label":"done",className:"done-node",variant:"circular","data-componentid":"".concat(i,"-circular-fab")},c.createElement(Ht,{"data-componentid":"".concat(i,"-check-icon")})),c.createElement(K.HH,{className:"hidden-handle",id:"targetLeft",type:"target",position:K.Ly.Left}))};Vt.defaultProps={"data-componentid":"done-node"};const Bt=Vt;var qt=n(5466),Gt=n(21073),zt=n(94709),$t=n(38577),Wt=n(65612),Kt=n(82070),Yt=n(68509),Qt=n(43800),Jt=n(6470),Xt=n(73061),en=n(60151);function tn(){return tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tn.apply(null,arguments)}function nn(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var on=function(e){var t=Object.assign({},(nn(e),e));return c.createElement("svg",tn({xmlns:"http://www.w3.org/2000/svg",height:"14px",viewBox:"0 0 384 512",className:"cross-icon"},t),c.createElement("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))},rn=function(e){var t=Object.assign({},(nn(e),e));return c.createElement("svg",tn({xmlns:"http://www.w3.org/2000/svg",height:"14px",viewBox:"0 0 512 512"},t),c.createElement("path",{d:"M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V160H352c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96h32V64c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V416H352c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8h32V320c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z"}))},an=function(e){var t=e.children,n=e.onOptionRemove,i=e.onOptionSwitch,o=e.optionSwitchTooltipContent,r=e.optionRemoveTooltipContent,a=e["data-componentid"];return n||i?c.createElement("div",{className:"basic-sign-in-option-controls-wrapper","data-componentid":a},c.createElement("div",{className:"basic-sign-in-option-controls"},i&&c.createElement(Xt.Z,{title:o,"data-componentid":"".concat(a,"-tooltip")},c.createElement(Kt.Z,{size:"small",onClick:i,className:"action-button","data-componentid":"".concat(a,"-switch-option-button")},c.createElement(rn,null))),n&&c.createElement(Xt.Z,{title:r},c.createElement(Kt.Z,{size:"small",onClick:n,className:"action-button","data-componentid":"".concat(a,"-remove-option-button")},c.createElement(on,null)))),c.createElement("div",{className:"basic-sign-in-option-control-fields"},t)):null};an.defaultProps={"data-componentid":"basic-sign-in-option-controls",optionRemoveTooltipContent:"Remove",optionSwitchTooltipContent:"Switch"};const ln=an;var cn=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=(0,W.$)().t,o=function(){var e=new Date,t=new Date;return e.setDate(t.getDate()-5),new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())).toLocaleString([],{day:"2-digit",hour:"2-digit",hour12:!0,minute:"2-digit",month:"2-digit",year:"numeric"})};return c.createElement("div",{className:"active-sessions-limit-fragment","data-componentid":n},c.createElement(_.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},i("authenticationFlow:nodes.activeSessionsLimit.header")),c.createElement(_.Z,{align:"center",className:"oxygen-sign-in-sub-header",variant:"subtitle1"},i("authenticationFlow:nodes.activeSessionsLimit.form.help")),c.createElement(ln,{onOptionRemove:function(e){t(e,{toRemove:v.$.AUTHENTICATOR_NAMES.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_NAME})},optionRemoveTooltipContent:i("authenticationFlow:nodes.signIn.controls.optionRemoveTooltipContent")},c.createElement("table",null,c.createElement("tr",null,c.createElement("th",null,c.createElement(qt.Z,{className:"non-interactive"})),c.createElement("th",null,i("authenticationFlow:nodes.activeSessionsLimit.form.sessions.browserLabel")),c.createElement("th",null,i("authenticationFlow:nodes.activeSessionsLimit.form.sessions.lastAccessedLabel"))),c.createElement("tr",null,c.createElement("td",null,c.createElement(qt.Z,{className:"non-interactive"})),c.createElement("td",null,"Chrome"),c.createElement("td",null," ",o()," ")),c.createElement("tr",null,c.createElement("td",null,c.createElement(qt.Z,{className:"non-interactive"})),c.createElement("td",null,"Firefox"),c.createElement("td",null," ",o()," ")))))};cn.defaultProps={"data-componentid":"active-sessions-limit-fragment"};const sn=cn;var un=n(7603),dn=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=(0,W.$)().t;return c.createElement("div",{className:"basic-auth-fragment","data-componentid":n},c.createElement(_.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},i("authenticationFlow:nodes.signIn.header")),c.createElement(ln,{onOptionRemove:function(e){t(e,{toRemove:v.$.AUTHENTICATOR_NAMES.BASIC_AUTHENTICATOR_NAME})},optionSwitchTooltipContent:i("authenticationFlow:nodes.signIn.controls.optionSwitchTooltipContent"),optionRemoveTooltipContent:i("authenticationFlow:nodes.signIn.controls.optionRemoveTooltipContent")},c.createElement(un.Z,{required:!0,fullWidth:!0,autoComplete:"off",label:i("authenticationFlow:nodes.signIn.form.fields.username.label"),name:"text",value:null,placeholder:i("authenticationFlow:nodes.signIn.form.fields.username.placeholder"),className:"non-interactive"}),c.createElement(un.Z,{required:!0,fullWidth:!0,name:"password",autoComplete:"new-password",label:i("authenticationFlow:nodes.signIn.form.fields.password.label"),type:"password",value:null,placeholder:i("authenticationFlow:nodes.signIn.form.fields.password.placeholder"),className:"non-interactive"})),c.createElement($t.Z,{className:"non-interactive"},c.createElement(zt.Z,{control:c.createElement(qt.Z,{color:"secondary"}),label:i("authenticationFlow:nodes.signIn.form.fields.rememberMe.label")})),c.createElement(ie.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},i("authenticationFlow:nodes.signIn.form.actions.primary")))};dn.defaultProps={"data-componentid":"basic-auth-fragment"};const pn=dn;var mn=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=(0,W.$)().t;return c.createElement("div",{className:"email-otp-fragment","data-componentid":n},c.createElement(_.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},i("authenticationFlow:nodes.emailOTP.header")),c.createElement(ln,{onOptionRemove:function(e){t(e,{toRemove:v.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME})},optionRemoveTooltipContent:i("authenticationFlow:nodes.signIn.controls.optionRemoveTooltipContent")},c.createElement(un.Z,{required:!0,fullWidth:!0,name:"password",label:i("authenticationFlow:nodes.emailOTP.form.fields.code.label"),type:"password",placeholder:i("authenticationFlow:nodes.emailOTP.form.fields.code.placeholder"),autoComplete:"off",className:"otp-input non-interactive"})),c.createElement("div",{className:"oxygen-sign-in-action-group"},c.createElement(ie.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},i("authenticationFlow:nodes.emailOTP.form.actions.primary")),c.createElement(ie.Z,{color:"secondary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",fullWidth:!0},i("authenticationFlow:nodes.emailOTP.form.actions.secondary"))))};mn.defaultProps={"data-componentid":"email-otp-fragment"};const fn=mn;var gn=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=(0,W.$)().t;return c.createElement("div",{className:"identifier-first-fragment","data-componentid":n},c.createElement(_.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},i("authenticationFlow:nodes.identifierFirst.header")),c.createElement(ln,{onOptionRemove:function(e){t(e,{toRemove:v.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME})},optionSwitchTooltipContent:i("authenticationFlow:nodes.identifierFirst.controls.optionSwitchTooltipContent"),optionRemoveTooltipContent:i("authenticationFlow:nodes.identifierFirst.controls.optionRemoveTooltipContent")},c.createElement(un.Z,{required:!0,fullWidth:!0,label:i("authenticationFlow:nodes.identifierFirst.form.fields.username.label"),name:"text",autoComplete:"off",value:null,placeholder:i("authenticationFlow:nodes.identifierFirst.form.fields.username.placeholder"),className:"non-interactive"})),c.createElement($t.Z,{className:"non-interactive"},c.createElement(zt.Z,{control:c.createElement(qt.Z,{color:"secondary"}),label:i("authenticationFlow:nodes.identifierFirst.form.fields.rememberMe.label")})),c.createElement(ie.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},i("authenticationFlow:nodes.identifierFirst.form.actions.primary")))};gn.defaultProps={"data-componentid":"identifier-first-fragment"};const hn=gn;const vn=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=void 0===n?"push-notification-fragment":n,o=(0,W.$)().t;return c.createElement("div",{className:"push-fragment","data-componentid":i},c.createElement(_.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},o("authenticationFlow:nodes.push.header")),c.createElement(ln,{onOptionRemove:function(e){t(e,{toRemove:v.$.AUTHENTICATOR_NAMES.PUSH_AUTHENTICATOR_NAME})},optionRemoveTooltipContent:o("authenticationFlow:nodes.push.controls.optionRemoveTooltipContent")},c.createElement(_.Z,{align:"center",className:"oxygen-sign-in-sub-header",variant:"subtitle1"},o("authenticationFlow:nodes.push.form.fields.code.label")),c.createElement(ie.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive resend-button",type:"submit",fullWidth:!0,disabled:!0},o("authenticationFlow:nodes.push.form.actions.primary"))))};function bn(e){return function(e){if(Array.isArray(e))return En(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return En(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?En(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function En(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var yn=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=(0,W.$)().t;return c.createElement("div",{className:"sms-otp-fragment","data-componentid":n},c.createElement(_.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},i("authenticationFlow:nodes.smsOTP.header")),c.createElement(ln,{onOptionRemove:function(e){t(e,{toRemove:v.$.AUTHENTICATOR_NAMES.SMS_OTP_AUTHENTICATOR_NAME})},optionRemoveTooltipContent:i("authenticationFlow:nodes.smsOTP.controls.optionRemoveTooltipContent")},c.createElement(_.Z,{align:"left",className:"oxygen-sign-in-sub-header",variant:"subtitle1"},i("authenticationFlow:nodes.smsOTP.form.fields.code.label")),c.createElement("div",{className:"pin-code-input-fields"},bn(Array(6)).map((function(e,t){return c.createElement(un.Z,{key:"pincode-".concat(t+1),id:"pincode-".concat(t+1),name:"number",placeholder:".",autoComplete:"off",className:"non-interactive"})})))),c.createElement("div",{className:"oxygen-sign-in-action-group"},c.createElement(ie.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},i("authenticationFlow:nodes.smsOTP.form.actions.primary")),c.createElement(ie.Z,{color:"secondary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",fullWidth:!0},i("authenticationFlow:nodes.smsOTP.form.actions.secondary"))))};yn.defaultProps={"data-componentid":"sms-otp-fragment"};const An=yn;function Tn(e){return function(e){if(Array.isArray(e))return On(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return On(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?On(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Sn=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=(0,W.$)().t;return c.createElement("div",{className:"totp-fragment","data-componentid":n},c.createElement(_.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},i("authenticationFlow:nodes.totp.header")),c.createElement(_.Z,{align:"center",className:"oxygen-sign-in-sub-header",variant:"subtitle1"},i("authenticationFlow:nodes.totp.form.fields.code.label")),c.createElement(ln,{onOptionRemove:function(e){t(e,{toRemove:v.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME})},optionRemoveTooltipContent:i("authenticationFlow:nodes.totp.controls.optionRemoveTooltipContent")},c.createElement("div",{className:"pin-code-input-fields"},Tn(Array(6)).map((function(e,t){return c.createElement(un.Z,{key:"pincode-".concat(t+1),id:"pincode-".concat(t+1),name:"number",placeholder:".",className:"non-interactive"})})))),c.createElement(ie.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},i("authenticationFlow:nodes.totp.form.actions.primary")),c.createElement(_.Z,{align:"center",className:"oxygen-sign-in-sub-header",variant:"subtitle2"},i("authenticationFlow:nodes.totp.form.help")))};Sn.defaultProps={"data-componentid":"totp-fragment"};const In=Sn;var Cn=n(93616),wn={};wn.styleTagTransform=_t(),wn.setAttributes=Ct(),wn.insert=St().bind(null,"head"),wn.domAPI=Tt(),wn.insertStyleElement=Nt();yt()(Cn.Z,wn);Cn.Z&&Cn.Z.locals&&Cn.Z.locals;function Nn(){return Nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Nn.apply(null,arguments)}var Rn=function(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return c.createElement("svg",Nn({xmlns:"http://www.w3.org/2000/svg",height:"14px",viewBox:"0 0 384 512",className:"cross-icon"},t),c.createElement("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))},_n=function(e){var t,n,i,o,r,a=e.id,l=e.data,s=l.authenticators,u=l.authenticationSequence,d=l.onSignInOptionAdd,p=l.onSignInOptionRemove,m=l.onSignInOptionSwitch,f=l.onSignInStepRemove,g=l.onAttributeIdentifierStepChange,b=l.onSubjectIdentifierStepChange,E=l.stepIndex,y=l.showSelfSignUp,A=l["data-componentid"],T=(0,W.$)().t,O=Ae().updateVisualEditorFlowNodeMeta,S=(0,c.useRef)(null),I=Object.values(s).flat(),w=(0,c.useMemo)((function(){return[v.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME]}),[]);(0,c.useEffect)((function(){S&&S.current&&O(a,{height:S.current.clientHeight,width:S.current.clientWidth})}),[null==S||null===(t=S.current)||void 0===t?void 0:t.clientHeight]);var N,R=function(){var e,t=void 0,n=null==u||null===(e=u.steps)||void 0===e||null===(e=e[E])||void 0===e||null===(e=e.options)||void 0===e?void 0:e.filter((function(e){return!w.includes(e.authenticator)}));return null==n||n.forEach((function(e){e.authenticator===v.$.AUTHENTICATOR_NAMES.BASIC_AUTHENTICATOR_NAME?t=v.$.AUTHENTICATOR_NAMES.BASIC_AUTHENTICATOR_NAME:e.authenticator===v.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME?t=v.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME:e.authenticator===v.$.AUTHENTICATOR_NAMES.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_NAME&&(t=v.$.AUTHENTICATOR_NAMES.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_NAME),1===n.length&&(e.authenticator===v.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME?t=v.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME:e.authenticator===v.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME?t=v.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME:e.authenticator===v.$.AUTHENTICATOR_NAMES.SMS_OTP_AUTHENTICATOR_NAME?t=v.$.AUTHENTICATOR_NAMES.SMS_OTP_AUTHENTICATOR_NAME:e.authenticator===v.$.AUTHENTICATOR_NAMES.PUSH_AUTHENTICATOR_NAME&&(t=v.$.AUTHENTICATOR_NAMES.PUSH_AUTHENTICATOR_NAME))})),t},L=(0,c.useMemo)((function(){var e,t=!1;return null==u||null===(e=u.steps)||void 0===e||null===(e=e[E])||void 0===e||e.options.map((function(e){e.authenticator===v.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME&&(t=!0)})),t}),[u]),P=(0,c.useMemo)((function(){var e,t=!1,n=!1;return null==u||null===(e=u.steps)||void 0===e||null===(e=e[E])||void 0===e||null===(e=e.options)||void 0===e||e.map((function(e){t=![v.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME,v.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME,v.$.AUTHENTICATOR_NAMES.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_NAME].includes(e.authenticator),[v.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME,v.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME,v.$.AUTHENTICATOR_NAMES.SMS_OTP_AUTHENTICATOR_NAME,v.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME].includes(e.authenticator)&&(n=!0)})),[t,n,L]}),[u]);return c.createElement("div",{ref:S,className:"sign-in-box-node","data-componentid":"".concat(A,"-step-").concat(E)},c.createElement("div",{className:"step-id"},c.createElement(_.Z,{variant:"body2","data-componentid":"".concat(A,"-step-").concat(E,"-id")},"Step ",E+1)),(null==u||null===(n=u.steps)||void 0===n?void 0:n.length)>1&&c.createElement(Xt.Z,{title:T("authenticationFlow:options.controls.remove")},c.createElement(Kt.Z,{size:"small",onClick:function(e){f(e,{stepIndex:E})},className:"remove-button"},c.createElement(Rn,null))),0!==E&&c.createElement(K.HH,{type:"target",position:K.Ly.Left}),c.createElement(C.Z,{className:"oxygen-sign-in","data-componentid":"".concat(A,"-inner")},c.createElement(Qt.Z,{className:"oxygen-sign-in-box",elevation:0,variant:"outlined"},c.createElement(C.Z,{className:"oxygen-sign-in-form"},(N=R())===v.$.AUTHENTICATOR_NAMES.BASIC_AUTHENTICATOR_NAME?c.createElement(c.Fragment,null,c.createElement(pn,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:E,toRemove:n})},onOptionSwitch:function(e,t){var n=t.toAdd,i=t.toRemove;m(e,{stepIndex:E,toAdd:n,toRemove:i})}}),c.createElement(Gt.Z,null,T("authenticationFlow:options.divider"))):N===v.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME?c.createElement(c.Fragment,null,c.createElement(hn,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:E,toRemove:n})},onOptionSwitch:function(e,t){var n=t.toAdd,i=t.toRemove;m(e,{stepIndex:E,toAdd:n,toRemove:i})}}),c.createElement(Gt.Z,null,T("authenticationFlow:options.divider"))):N===v.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME?c.createElement(In,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:E,toRemove:n})}}):N===v.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME?c.createElement(fn,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:E,toRemove:n})}}):N===v.$.AUTHENTICATOR_NAMES.SMS_OTP_AUTHENTICATOR_NAME?c.createElement(An,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:E,toRemove:n})}}):N===v.$.AUTHENTICATOR_NAMES.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_NAME?c.createElement(c.Fragment,null,c.createElement(sn,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:E,toRemove:n})},onOptionSwitch:function(e,t){var n=t.toAdd,i=t.toRemove;m(e,{stepIndex:E,toAdd:n,toRemove:i})}})):N===v.$.AUTHENTICATOR_NAMES.PUSH_AUTHENTICATOR_NAME?c.createElement(vn,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:E,toRemove:n})}}):c.createElement(c.Fragment,null),c.createElement("div",{className:"oxygen-sign-in-options-wrapper"},c.createElement("div",{className:"oxygen-sign-in-options"},null==u||null===(i=u.steps)||void 0===i||null===(i=i[E])||void 0===i||null===(i=i.options)||void 0===i?void 0:i.map((function(e){return function(e){if(!(I&&I instanceof Array&&I.length>0))return null;var t=null;return(t=e.idp===v.$.LOCAL_IDP_IDENTIFIER?I.find((function(t){return t.defaultAuthenticator.name===e.authenticator})):(null==e?void 0:e.authenticator)===h.$.AUTHENTICATOR_NAMES.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_NAME?null==I?void 0:I.find((function(e){return(null==e?void 0:e.id)===en.F.getOrganizationAuthenticator().id})):I.find((function(t){return t.idp===e.idp})))?w.includes(t.name)||t.name===R()?null:c.createElement("div",{className:"oxygen-sign-in-option with-cancel-button"},c.createElement(Xt.Z,{title:T("authenticationFlow:options.controls.remove")},c.createElement(Kt.Z,{size:"small",onClick:function(e){var n;p(e,{stepIndex:E,toRemove:null===(n=t)||void 0===n||null===(n=n.defaultAuthenticator)||void 0===n?void 0:n.name})},className:"remove-button"},c.createElement(Rn,null))),c.createElement(ie.Z,{startIcon:c.createElement("img",{className:"oxygen-sign-in-option-image",src:t.image}),variant:"contained",className:"oxygen-sign-in-option",type:"button",fullWidth:!0},t.displayName.startsWith("Sign In With")?t.displayName:T("authenticationFlow:options.displayName",{displayName:t.displayName}))):null}(e)})),R()!==v.$.AUTHENTICATOR_NAMES.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_NAME&&c.createElement(ie.Z,{fullWidth:!0,startIcon:c.createElement(bt.pO,null),variant:"outlined",className:"oxygen-sign-in-option oxygen-sign-in-option-add",type:"button",onClick:function(e){return d(e,{stepIndex:E})},"data-componentid":"".concat(A,"-add-sign-in-option")},T("authenticationFlow:steps.controls.addOption")))),y&&c.createElement(Wt.Z,{container:!0,className:"oxygen-sign-in-sign-up-link"},c.createElement(Wt.Z,null,T("authenticationFlow:steps.controls.signUp.hint")),c.createElement(Wt.Z,null,c.createElement(Yt.Z,{href:"#",className:"oxygen-sign-in-sign-up-link-action"},T("authenticationFlow:steps.controls.signUp.label"))))))),c.createElement(K.HH,{type:"source",position:K.Ly.Right,id:"a"}),c.createElement($t.Z,{className:"additional-behaviors"},P[0]&&c.createElement(c.Fragment,null,c.createElement(zt.Z,{checked:(null==u?void 0:u.subjectStepId)===(null==u||null===(o=u.steps)||void 0===o||null===(o=o[E])||void 0===o?void 0:o.id),control:c.createElement(Jt.Z,null),onChange:function(e){var t;b(e,{stepIndex:null==u||null===(t=u.steps)||void 0===t||null===(t=t[E])||void 0===t?void 0:t.id})},label:T("authenticationFlow:nodes.controls.userAttributeSelector.label"),"data-componentid":"".concat(A,"-user-identifier-picker")}),c.createElement(zt.Z,{checked:(null==u?void 0:u.attributeStepId)===(null==u||null===(r=u.steps)||void 0===r||null===(r=r[E])||void 0===r?void 0:r.id),control:c.createElement(Jt.Z,null),onChange:function(e){var t;g(e,{stepIndex:null==u||null===(t=u.steps)||void 0===t||null===(t=t[E])||void 0===t?void 0:t.id})},label:T("authenticationFlow:nodes.controls.attributeSelector.label"),"data-componentid":"".concat(A,"-attribute-identifier-picker")})),P[1]&&c.createElement(zt.Z,{checked:L,control:c.createElement(qt.Z,null),onChange:function(e){e.target.checked?d(e,{stepIndex:E,toAdd:v.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME}):p(e,{stepIndex:E,toRemove:v.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME})},label:T("authenticationFlow:nodes.controls.enableBackupCodes.label"),"data-componentid":"".concat(A,"-enable-backup-code-picker")})))};_n.defaultProps={"data-componentid":"sign-in-box-node"};const Ln=_n;var Pn="applications.sharedApp.adaptiveAuth",kn="applications.enforceScriptUpdatePermission",Mn="ELK-Risk-Based",xn=(n(59687),n(31515)),Un={};Un.styleTagTransform=_t(),Un.setAttributes=Ct(),Un.insert=St().bind(null,"head"),Un.domAPI=Tt(),Un.insertStyleElement=Nt();yt()(xn.Z,Un);xn.Z&&xn.Z.locals&&xn.Z.locals;function Dn(e){return Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dn(e)}var Zn=["onIDPCreateWizardTrigger","data-componentid","onUpdate"];function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){Hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Dn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Dn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function qn(){return qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qn.apply(null,arguments)}var Gn=function(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return c.createElement("svg",qn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},t),c.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M8,3 L3,8 L8,13 M12,20 L15,20 C18.3137085,20 21,17.3137085 21,14 C21,10.6862915 18.3137085,8 15,8 L4,8"}))},zn=function(e){var t,n=e.onIDPCreateWizardTrigger,i=e["data-componentid"],o=e.onUpdate,r=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Zn),a=(0,W.$)().t,l=(0,p.I0)(),s=Ae(),u=s.authenticators,d=s.authenticationSequence,f=s.addSignInStep,g=s.addSignInOption,h=s.defaultAuthenticationSequence,b=s.isAdaptiveAuthAvailable,A=s.isValidAuthenticationFlow,T=s.isConditionalAuthenticationEnabled,O=s.removeSignInOption,S=s.removeSignInStep,I=s.revertAuthenticationSequenceToDefault,C=s.updateAuthenticationSequence,w=s.visualEditorFlowNodeMeta,N=(0,p.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.applications})),R=(0,H.cr)(N,kn),_=(0,m.EV)(null==N||null===(t=N.subFeatures)||void 0===t||null===(t=t.applicationAuthenticationScript)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),L=R&&!_,P=ae(v.$.AUTHENTICATOR_IDS.FIDO_AUTHENTICATOR_ID),k=P.data,M=P.error,x=P.isLoading,U=(0,q.fQ)().getLink,D=(0,c.useRef)(null),Z=Vn((0,c.useState)(0),2),F=Z[0],G=Z[1],Q=Vn((0,c.useState)(!1),2),J=Q[0],X=Q[1],ee=Vn((0,c.useState)(!1),2),oe=ee[0],re=ee[1],se=Vn((0,c.useState)(!1),2),ue=se[0],de=se[1],pe=Vn((0,c.useState)(void 0),2),me=pe[0],fe=pe[1],ge=Vn((0,c.useState)("info"),2),he=ge[0],ve=ge[1],be=Vn((0,c.useState)(0),2),Ee=be[0],ye=be[1],Te=Vn((0,c.useState)(void 0),2),Oe=Te[0],Se=Te[1],Ie=(0,c.useMemo)((function(){return{done:Bt,loginBox:Ln}}),[]),Ce=(0,c.useMemo)((function(){return{stepAdditionEdge:Ut}}),[]),we=(0,c.useMemo)((function(){var e,t={data:{"data-componentid":"done-node"},id:"-1",position:{x:0,y:0},type:"done"},n=[];return null==d||null===(e=d.steps)||void 0===e||e.filter((function(e,i){var o={data:{authenticationSequence:d,authenticators:u,"data-componentid":"sign-in-box-node",onAttributeIdentifierStepChange:function(e,t){var n=t.stepIndex;C({attributeStepId:n})},onSignInOptionAdd:function(e,t){var n=t.stepIndex,i=t.toAdd;i?g(n,i):(X(!0),G(n))},onSignInOptionRemove:function(e,t){var n=t.stepIndex,i=t.toRemove;O(n,i)},onSignInOptionSwitch:function(e,t){var n=t.stepIndex,i=t.toRemove,o=t.toAdd;O(n,i),g(n,o)},onSignInStepRemove:function(e,t){var n=t.stepIndex;S(n)},onSubjectIdentifierStepChange:function(e,t){var n=t.stepIndex;C({subjectStepId:n})},stepIndex:i},id:"".concat(e.id),position:{x:0,y:0},type:"loginBox"};n.push(o),i===d.steps.length-1&&n.push(Fn(Fn({},t),{},{id:"".concat(i+2),position:{x:0,y:0}}))})),n.forEach((function(e,t){var i,o,r,a,l=n[t-1],c=null===(i=w[parseInt(e.id)-1])||void 0===i?void 0:i.height,s=null===(o=w[parseInt(e.id)-1])||void 0===o?void 0:o.width,u=null===(r=w[parseInt(e.id)])||void 0===r?void 0:r.height,d=null===(a=w[parseInt(e.id)])||void 0===a?void 0:a.width;if(c&&u){var p=l.position.y+c/2;e.position.y=p-u/2}s&&d&&(e.position.x=l.position.x+s/2+250),e.id===n.length.toString()&&(e.position.x=e.position.x+125)})),n}),[d,u,w]),Ne=(0,c.useMemo)((function(){var e=we.length-1,t={markerEnd:{color:"#696969",height:20,type:K.QZ.Arrow,width:20},style:{stroke:"#696969",strokeWidth:2}},n=(0,$.Z)(we).slice(0,e).map((function(e,n){return Fn({id:"".concat(n,"-").concat(n+1),source:"".concat(n),target:"".concat(n+1)},t)})),i=Fn({data:{onNewStepAddition:function(){f()}},"data-componentid":"step-addition-edge",id:"".concat(e,"-").concat(e+1),source:"".concat(e),target:"".concat(e+1),type:"stepAdditionEdge"},t);return n.push(i),n}),[d,we]);return(0,c.useEffect)((function(){if(!x){var e,t;if(M)return null!=M&&null!==(e=M.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?void l((0,B.V_)({description:a("authenticationProvider:notifications.getConnectionDetails.error.description",{description:null==M||null===(t=M.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.description}),level:V.QU.ERROR,message:a("authenticationProvider:notifications.getConnectionDetails.error.message")})):void l((0,B.V_)({description:a("authenticationProvider:notifications.getConnectionDetails.genericError.description"),level:V.QU.ERROR,message:a("authenticationProvider:notifications.getConnectionDetails.genericError.message")}));if(k){var n=null==k?void 0:k.properties,i=null==n?void 0:n.find((function(e){return"FIDO.EnablePasskeyProgressiveEnrollment"===e.name})),o="true"===(null==i?void 0:i.value);Se(o)}}}),[k,M,x]),(0,c.useEffect)((function(){if(null==d?void 0:d.steps.some((function(e){return!(null==e||!e.options.find((function(e){return(null==e?void 0:e.authenticator)===v.$.AUTHENTICATOR_NAMES.FIDO_AUTHENTICATOR_NAME})))}))){var e;if(Oe)!(null==d||null===(e=d.steps[0])||void 0===e||!e.options.find((function(e){return(null==e?void 0:e.authenticator)===v.$.AUTHENTICATOR_NAMES.FIDO_AUTHENTICATOR_NAME})))?(fe(c.createElement(c.Fragment,null,c.createElement(ne.Z,null,a("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentEnabled")),c.createElement(Y.c,{i18nKey:a("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.passkeyAsFirstStepWhenprogressiveEnrollmentEnabled")},c.createElement("strong",null,"Note : ")," For on-the-fly user enrollment with passkeys, use the ",c.createElement("strong",null,"Passkeys Progressive Enrollment")," template in",c.createElement("strong",null," Conditional Authentication")," section."),c.createElement(q.eb,{link:U("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},a("common:learnMore")))),ve("info")):(fe(c.createElement(c.Fragment,null,c.createElement(ne.Z,null,a("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentEnabled")),c.createElement(Y.c,{i18nKey:a("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.passkeyIsNotFirstStepWhenprogressiveEnrollmentEnabled")},"Users can enroll passkeys on-the-fly. If users wish to enroll multiple passkeys they should do so via ",c.createElement("strong",null,"My Account"),"."),c.createElement(q.eb,{link:U("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},a("common:learnMore")))),ve("info"));else fe(c.createElement(c.Fragment,null,c.createElement(Y.c,{i18nKey:a("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentDisabled")},c.createElement(q.rU,{external:!1,onClick:function(){y.m.push(E.$.getPaths().get("IDP_EDIT").replace(":id","RklET0F1dGhlbnRpY2F0b3I"))}},"Passkey progressive enrollment"),"\xa0 is disabled. Users must enroll their passkeys through ",c.createElement("strong",null,"My Account")," to use passwordless sign-in."),c.createElement(q.eb,{link:U("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},a("common:learnMore")))),ve("info");de(!0)}else de(!1)}),[Oe,null==d?void 0:d.steps]),(0,c.useEffect)((function(){var e,t,n=!(null==d||null===(e=d.steps[0])||void 0===e||!e.options.find((function(e){return(null==e?void 0:e.authenticator)===v.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME})));!(null==d||null===(t=d.steps[1])||void 0===t||!t.options.find((function(e){return(null==e?void 0:e.authenticator)===v.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME})))&&n&&(fe(c.createElement(c.Fragment,null,c.createElement(ne.Z,null,a("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.totp.info.totpWithIdentifierFirstEnabled")),c.createElement(Y.c,{i18nKey:a("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.totp.info.totpWithIdentifierFirstEnabledMessage")},"Configuring TOTP authenticator with Identifier First handler is not recommended as ",c.createElement("strong",null,"TOTP progressive enrollment")," is enabled by default. You can disable TOTP progressive enrollment through ",c.createElement("strong",null," Conditional Authentication")," script."),c.createElement(q.eb,{link:U("develop.applications.editApplication.signInMethod.totp"),showEmptyLink:!1},a("common:learnMore")))),ve("warning"),de(!0))}),[Oe,null==d?void 0:d.steps]),(0,c.useEffect)((function(){if(ue){if(null!=D&&D.current){var e,t=null==D||null===(e=D.current)||void 0===e?void 0:e.getBoundingClientRect(),n=null==t?void 0:t.height;ye(n)}}else ye(0)}),[ue]),c.createElement(c.Fragment,null,c.createElement("div",qn({className:z()("react-flow-container","visual-editor"),"data-componentid":i},r),ue?c.createElement(te.Z,{className:"visual-editor-info-message",severity:he,onClose:function(){return de(!1)},ref:D},me):null,(!L||j.isEmptyScript(null==d?void 0:d.script))&&c.createElement(ie.Z,{className:"revert-to-default-button",color:"secondary",onClick:function(){return re(!0)},"data-componentid":"".concat(i,"-revert-button"),style:{marginTop:"".concat(Ee+15,"px")}},c.createElement(Gn,null),a("authenticationFlow:visualEditor.actions.revert.label")),c.createElement(K.x$,{fitView:!0,nodeTypes:Ie,edgeTypes:Ce,nodes:we,edges:Ne,proOptions:{hideAttribution:!0}},c.createElement(le.A,{color:"#e1e1e1",gap:16,variant:le.T.Dots,size:2}),c.createElement(ce.Z,null),(!b||!T||L)&&c.createElement(ie.Z,{color:"primary",variant:"contained",className:"update-button",onClick:function(){return o(d)},disabled:!A,"data-componentid":"".concat(i,"-update-button")},a("authenticationFlow:visualEditor.actions.update.label")))),J&&c.createElement(pt,{open:J,onClose:function(){return X(!1)},currentStep:F,onIDPCreateWizardTrigger:n}),c.createElement(ht,{open:oe,onClose:function(){return re(!1)},onPrimaryActionClick:function(){I(),o(h,!0),re(!1)}}))};zn.defaultProps={"data-componentid":"authentication-flow-visual-editor"};const $n=zn;var Wn=n(69837),Kn=n(17308),Yn=n(26653),Qn=n(54282),Jn=n(15759),Xn=n(29246),ei=n(64643),ti=n(4717),ni=n(47149),ii=n(54388),oi=n(66534),ri=["isELKRiskBased","selectedTemplate","onELKConfigureClick","onTemplateChange","onClose","data-componentid"];function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ai.apply(null,arguments)}var li=function(e){var t=e.isELKRiskBased,n=e.selectedTemplate,i=e.onELKConfigureClick,o=e.onTemplateChange,r=e.onClose,a=e["data-componentid"],l=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ri),s=(0,W.$)().t;return c.createElement(q.cV,ai({onClose:r,type:"warning",primaryAction:s("common:confirm"),secondaryAction:s("common:cancel"),onSecondaryActionClick:function(e){r(e,null),o(void 0)},onPrimaryActionClick:function(e){r(e,null),o(n)},"data-componentid":a,closeOnDimmerClick:!1},l),c.createElement(q.cV.Header,{"data-componentid":"".concat(a,"-header")},s("authenticationFlow:adaptiveLoginFlowSelectConfirmationModal.heading")),c.createElement(q.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(a,"-message")},s("authenticationFlow:adaptiveLoginFlowSelectConfirmationModal.message")),c.createElement(q.cV.Content,{"data-componentid":"".concat(a,"-content")},t&&c.createElement(c.Fragment,null,c.createElement(q.xv,null,c.createElement(Y.c,{i18nKey:"governanceConnectors:connectorCategories.otherSettings.connectors.elasticAnalyticsEngine.warningModal.configure"},"(",c.createElement(q.rU,{onClick:i,external:!1},"Configure"),"ELK Analytics settings for proper functionality.)")),c.createElement(q.xv,null,c.createElement(Y.c,{i18nKey:"governanceConnectors:connectorCategories.otherSettings.connectors.elasticAnalyticsEngine.warningModal.reassure"},"You can update your settings anytime.")," (",c.createElement(q.EK,null,c.createElement(bt.UG,{size:14})),")")),c.createElement(Y.c,{i18nKey:"authenticationFlow:adaptiveLoginFlowSelectConfirmationModal.content"},"The selected template will replace the existing script in the editor as well as the login steps you configured. Click ",c.createElement(q.EK,null,"Confirm")," to proceed.")))};li.defaultProps={"data-componentid":"adaptive-auth-template-change-confirmation-modal"};const ci=li;var si=n(8225),ui=n(73432),di=n(66528),pi=["template","open","onClose","data-componentid"];function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mi.apply(null,arguments)}function fi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var hi=function(e){var t,n,i=e.template,o=e.open,r=e.onClose,a=e["data-componentid"],l=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,pi),s=(0,W.$)().t,u=(0,q.fQ)().getLink;return c.createElement(Ie.Z,mi({open:o,onClose:r,dimmer:"blurring",size:"small","data-componentid":a},l),c.createElement(Ie.Z.Header,null,i.title),c.createElement(Ie.Z.Content,{scrolling:!0},c.createElement("p",null,i.summary,(t=null==i?void 0:i.name,n=void 0,t===P.qr.USER_AGE_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.userAgeBased.learnMore")),t===P.qr.GROUP_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.groupBased.learnMore")),t===P.qr.IP_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.ipBased.learnMore")),t===P.qr.NEW_DEVICE_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.deviceBased.learnMore")),void 0===n?null:c.createElement(q.eb,{link:n,"data-componentid":"".concat(a,"-learn-more-link")},s("common:learnMore")))),Array.isArray(null==i?void 0:i.preRequisites)&&i.preRequisites.length>0&&c.createElement(c.Fragment,null,c.createElement("h4",null,s("applications:edit.sections.signOnMethod.sections.templateDescription.description.prerequisites")),c.createElement(ui.Z,null,i.preRequisites.map((function(e,t){var n=function(){var e=[];return(0,si.Z)(i.parametersDescription)&&Object.entries(i.parametersDescription).map((function(t){var n=fi(t,1)[0];e.push(n)})),e}();return c.createElement(ui.Z.Item,{key:t},c.createElement(ui.Z.Icon,{name:"check circle outline",color:"green"}),c.createElement(ui.Z.Content,null,function(e,t){var n=e.split(" "),i=[],o="";return n.map((function(e,n){t.includes(e)?(i.push(c.createElement("span",{key:n},o," ")),i.push(c.createElement("span",{key:n},c.createElement(q.EK,null,e))),o=""):o=o.concat(e+" ")})),i.push(c.createElement("span",null,o)),c.createElement("p",null,i.map((function(e){return e})))}(e,n)))})))),(0,si.Z)(i.parametersDescription)&&c.createElement(c.Fragment,null,c.createElement("h4",null,s("applications:edit.sections.signOnMethod.sections.templateDescription.description.parameters")),c.createElement(di.Z,{celled:!0},c.createElement(di.Z.Header,null,c.createElement(di.Z.Row,null,c.createElement(di.Z.HeaderCell,null,s("common:parameter")),c.createElement(di.Z.HeaderCell,null,s("common:description")))),c.createElement(di.Z.Body,null,Object.entries(i.parametersDescription).map((function(e,t){var n=fi(e,2),i=n[0],o=n[1];return c.createElement(di.Z.Row,{key:t},c.createElement(di.Z.Cell,null,c.createElement(q.EK,null,i)),c.createElement(di.Z.Cell,null,o))}))))),(0,si.Z)(i.defaultStepsDescription)&&c.createElement(c.Fragment,null,c.createElement("h4",null,s("applications:edit.sections.signOnMethod.sections.templateDescription.description.defaultSteps")),Object.entries(i.defaultStepsDescription).map((function(e,t,n){var i=fi(e,2),o=i[0],r=i[1];return c.createElement("div",{className:"stepper",key:"".concat(t,"-").concat(o)},c.createElement("div",{className:"step-number"},t+1),c.createElement("div",{className:"step-text"},r),n.length!==t+1&&c.createElement("div",{className:"step-connector"},c.createElement("div",{className:"step-line"})))}))),i.helpLink&&c.createElement(c.Fragment,null,c.createElement("h4",null,s("applications:edit.sections.signOnMethod.sections.templateDescription.description.helpReference")),c.createElement(q.v0,{type:"info",content:c.createElement("a",{target:"_blank",href:i.helpLink,rel:"noopener noreferrer"},i.helpLink)})),i.code&&c.createElement(c.Fragment,null,c.createElement("h4",null,s("applications:edit.sections.signOnMethod.sections.templateDescription.description.code")),c.createElement(q.pq,{lint:!0,language:"javascript",sourceCode:i.code,options:{lineWrapping:!0},readOnly:!0,"data-testid":"".concat(i.title,"-code-editor"),getThemeFromEnvironment:!0}))),c.createElement(Ie.Z.Actions,null,c.createElement(q.Qj,{onClick:r},s("common:cancel"))))};hi.defaultProps={"data-componentid":"adaptive-auth-template-info-modal"};const vi=hi;var bi=["selectedTemplate","onTemplateChange","onClose","data-componentid"];function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ei.apply(null,arguments)}var yi=function(e){var t=e.selectedTemplate,n=e.onTemplateChange,i=e.onClose,o=e["data-componentid"],r=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,bi),a=(0,W.$)().t;return c.createElement(q.cV,Ei({onClose:i,type:"warning",primaryAction:a("common:confirm"),secondaryAction:a("common:cancel"),onSecondaryActionClick:function(e){i(e,null),n(void 0)},onPrimaryActionClick:function(e){i(e,null),n(t)},"data-componentid":o,closeOnDimmerClick:!1},r),c.createElement(q.cV.Header,{"data-componentid":"".concat(o,"-header")},a("authenticationFlow:basicLoginFlowSelectConfirmationModal.heading")),c.createElement(q.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(o,"-message")},a("authenticationFlow:basicLoginFlowSelectConfirmationModal.message")),c.createElement(q.cV.Content,{"data-componentid":"".concat(o,"-content")},c.createElement(Y.c,{i18nKey:"authenticationFlow:basicLoginFlowSelectConfirmationModal.content"},"The selected template will replace the existing login steps you configured. Click ",c.createElement(q.EK,null,"Confirm")," to proceed.")))};yi.defaultProps={"data-componentid":"basic-login-flow-change-confirmation-modal"};const Ai=yi;var Ti=["authenticators","authenticatorCategoryDisplayName","onSelect","onClose","data-componentid"];function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Oi.apply(null,arguments)}function Si(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ii(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ii(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Ci=function(e){var t=e.authenticators,n=e.authenticatorCategoryDisplayName,i=e.onSelect,o=e.onClose,r=e["data-componentid"],a=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ti),l=(0,W.$)().t,s=Si((0,c.useState)(t[0]),2),u=s[0],d=s[1];return c.createElement(q.cV,Oi({type:"warning",className:"duplicate-social-authenticator-selection-modal",onClose:o,primaryAction:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.primaryButton"),secondaryAction:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.secondaryButton"),onSecondaryActionClick:function(e){o(e,null)},onPrimaryActionClick:function(e){i(u),o(e,null)},"data-componentid":r,closeOnDimmerClick:!1},a),c.createElement(q.cV.Header,null,l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.heading",{authenticator:n})),c.createElement(q.cV.Message,{attached:!0,warning:!0},l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.message",{authenticator:n})),c.createElement(q.cV.Content,{scrolling:!0},c.createElement(q.xv,null,c.createElement(Y.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.body",tOptions:{authenticator:n}},"You have multiple Social Connections configured with \xa0",c.createElement(q.EK,null,n,"Authenticator"),". Select the desired one from the selection below to proceed.")),c.createElement(we.Z,{hidden:!0}),c.createElement("div",{className:"authenticator-grid"},t.filter((function(e){return e.name!==v.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME})).map((function(e,t){return c.createElement(q.WL,{key:t,multilineLabel:!0,className:"authenticator-card",size:"tiny",selected:u.id===e.id,image:e.image,label:e.displayName,labelEllipsis:!0,"data-componentid":"".concat(r,"-authenticator-").concat(e.name),onClick:function(){return d(e)}})})))))};Ci.defaultProps={"data-componentid":"duplicate-social-authenticator-selection-modal"};const wi=Ci;var Ni=["open","authenticatorCategoryTemplate","authenticatorCategoryDisplayName","onClose","data-componentid"];function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ri.apply(null,arguments)}function _i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Li(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Li(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Li(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Pi=function(e){var t=e.open,n=e.authenticatorCategoryTemplate,i=e.authenticatorCategoryDisplayName,o=e.onClose,r=e["data-componentid"],a=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ni),l=Ae().refetchAuthenticators,s=_i((0,c.useState)(t),2),u=s[0],d=s[1],p=_i((0,c.useState)(!1),2),m=p[0],g=p[1],h=(0,W.$)().t;(0,c.useEffect)((function(){d(t)}),[open]);return c.createElement(c.Fragment,null,c.createElement(q.cV,Ri({open:u,type:"info",onClose:function(e,t){o(e,t)},primaryAction:h("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.primaryButton"),secondaryAction:h("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.secondaryButton"),onSecondaryActionClick:function(e){o(e,null)},onPrimaryActionClick:function(){g(!0),d(!1)},"data-componentid":r,closeOnDimmerClick:!1},a),c.createElement(q.cV.Header,null,h("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.heading",{authenticator:i})),c.createElement(q.cV.Message,{attached:!0,info:!0},h("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.message",{authenticator:i})),c.createElement(q.cV.Content,null,c.createElement(Y.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.body",tOptions:{authenticator:i}},"You do not have an active Social Connection configured with",c.createElement(q.EK,null," ",i,"Authenticator"),". Click on the ",c.createElement("strong",null,"Configure")," button to register a new",c.createElement(q.EK,null,i," Social Connection")," or navigate to the ",c.createElement("a",{onClick:function(){y.m.push(E.$.getPaths().get("IDP"))},className:"external-link link pointing primary"},"Connections")," section manually."))),m&&function(){if(n)return c.createElement(f.zy,{isModalOpen:m,handleModalVisibility:function(e){return g(e)},type:n,selectedTemplate:null,onIDPCreate:function(){l()},onWizardClose:function(){g(!1),o(null,null)}})}())};Pi.defaultProps={"data-componentid":"duplicate-social-authenticator-selection-modal"};const ki=Pi;function Mi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Ui=function(e){var t=e.selectedSequence,n=e.onSelect,i=Ae().authenticators,o=Mi((0,c.useState)([]),2),r=o[0],a=o[1],l=Mi((0,c.useState)(void 0),2),s=l[0],u=l[1],d=Mi((0,c.useState)(void 0),2),p=d[0],m=d[1],f=Mi((0,c.useState)(!1),2),v=f[0],b=f[1],E=Mi((0,c.useState)(!1),2),y=E[0],A=E[1];(0,c.useEffect)((function(){var e;if(t){var o=null,r=null;"GoogleSocialLoginSequence"===t.id?(o=h.$.AUTHENTICATOR_IDS.GOOGLE_OIDC_AUTHENTICATOR_ID,r=h.$.AUTHENTICATOR_NAMES.GOOGLE_OIDC_AUTHENTICATOR_NAME,m(g.f.CONNECTION_TEMPLATE_IDS.GOOGLE),u(h.$.AUTHENTICATOR_DISPLAY_NAMES.GOOGLE_OIDC_AUTHENTICATOR_DISPLAY_NAME)):"GithubSocialLoginSequence"===t.id?(o=h.$.AUTHENTICATOR_IDS.GITHUB_AUTHENTICATOR_ID,r=h.$.AUTHENTICATOR_NAMES.GITHUB_AUTHENTICATOR_NAME,m(g.f.CONNECTION_TEMPLATE_IDS.GITHUB),u(h.$.AUTHENTICATOR_DISPLAY_NAMES.GITHUB_AUTHENTICATOR_DISPLAY_NAME)):"FacebookSocialLoginSequence"===t.id?(o=h.$.AUTHENTICATOR_IDS.FACEBOOK_AUTHENTICATOR_ID,r=h.$.AUTHENTICATOR_NAMES.FACEBOOK_AUTHENTICATOR_NAME,m(g.f.CONNECTION_TEMPLATE_IDS.FACEBOOK),u(h.$.AUTHENTICATOR_DISPLAY_NAMES.FACEBOOK_AUTHENTICATOR_DISPLAY_NAME)):"AppleSocialLoginSequence"===t.id&&(o=h.$.AUTHENTICATOR_IDS.APPLE_AUTHENTICATOR_ID,r=h.$.AUTHENTICATOR_NAMES.APPLE_AUTHENTICATOR_NAME,m(g.f.CONNECTION_TEMPLATE_IDS.APPLE),u(h.$.AUTHENTICATOR_DISPLAY_NAMES.APPLE_AUTHENTICATOR_DISPLAY_NAME));var l=null==i||null===(e=i.social)||void 0===e?void 0:e.filter((function(e){var t;return(null==e||null===(t=e.defaultAuthenticator)||void 0===t?void 0:t.authenticatorId)===o}));a(l),(0,Te.Z)(l)?A(!0):l.length>1?b(!0):1!==l.length||n(T(t.sequence,r,l[0].idp))}}),[i,t]);var T=function(e,t,n){var i=(0,$.Z)(e);return i.steps[0].options.map((function(e){e.authenticator===t&&(e.idp=n)})),i};return v?c.createElement(wi,{open:v,authenticators:r,authenticatorCategoryDisplayName:s,onSelect:function(e){n(T(t.sequence,e.defaultAuthenticator.name,e.idp))},onClose:function(){return b(!1)}}):y?c.createElement(ki,{open:y,authenticatorCategoryTemplate:p,authenticatorCategoryDisplayName:s,onClose:function(){m(void 0),A(!1)}}):null};Ui.defaultProps={"data-componentid":"predefined-social-flow-handler-modal-factory"};const Di=Ui,Zi=JSON.parse('{"steps":[{"id":1,"options":[{"idp":"LOCAL","authenticator":"BasicAuthenticator"}]}]}'),ji=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"email-otp-authenticator","idp":"LOCAL"}]}]}'),Fi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"sms-otp-authenticator","idp":"LOCAL"}]}]}'),Hi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"totp","idp":"LOCAL"}]}]}'),Vi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"push-notification-authenticator","idp":"LOCAL"}]}]}'),Bi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"email-otp-authenticator","idp":"LOCAL"}]}]}'),qi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"MagicLinkAuthenticator","idp":"LOCAL"}]}]}'),Gi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"FIDOAuthenticator","idp":"LOCAL"}]}]}'),zi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"sms-otp-authenticator","idp":"LOCAL"}]}]}'),$i=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"push-notification-authenticator","idp":"LOCAL"}]}]}'),Wi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"AppleOIDCAuthenticator","idp":"<APPLE_IDP>"}]}]}'),Ki=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"FacebookAuthenticator","idp":"<FACEBOOK_IDP>"}]}]}'),Yi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GithubAuthenticator","idp":"<GITHUB_IDP>"}]}]}'),Qi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GoogleOIDCAuthenticator","idp":"<GOOGLE_IDP>"}]}]}');var Ji=function(e){return e.Basic="BasicLoginSequences",e.MFA="MFALoginSequences",e.Passwordless="PasswordlessLoginSequences",e.Social="SocialLoginSequences",e}({}),Xi=function(e){return e.Apple="<APPLE_IDP>",e.Facebook="<FACEBOOK_IDP>",e.Google="<GOOGLE_IDP>",e.Microsoft="Microsoft",e.GitHub="<GITHUB_IDP>",e}({}),eo=n(90810),to={};to.styleTagTransform=_t(),to.setAttributes=Ct(),to.insert=St().bind(null,"head"),to.domAPI=Tt(),to.insertStyleElement=Nt();yt()(eo.Z,to);eo.Z&&eo.Z.locals&&eo.Z.locals;function no(e){return no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},no(e)}function io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?io(Object(n),!0).forEach((function(t){ro(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ro(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=no(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=no(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==no(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ao(e){return function(e){if(Array.isArray(e))return so(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||co(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||co(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function co(e,t){if(e){if("string"==typeof e)return so(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?so(e,t):void 0}}function so(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},uo.apply(null,arguments)}function po(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var mo=function(e){var t=Object.assign({},(po(e),e));return c.createElement("svg",uo({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},t),c.createElement("path",{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"}))},fo=function(e){var t=Object.assign({},(po(e),e));return c.createElement("svg",uo({viewBox:"0 0 24 24"},t),c.createElement("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}))},go=function(e){var t=Object.assign({},(po(e),e));return c.createElement("svg",uo({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},t),c.createElement("path",{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"}))},ho=function(e){var t=Object.assign({},(po(e),e));return c.createElement("svg",uo({stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},t),c.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),c.createElement("path",{d:"M6 20l6.5 -9"}),c.createElement("path",{d:"M19 20c-6 0 -6 -16 -12 -16"}))},vo=function(e){var t,n,i=e.onAdaptiveAuthTemplateChange,o=e.onBasicLoginTemplateChange,r=e.showBasicLoginTemplates,a=e.showAdaptiveLoginTemplates,s=e["data-componentid"],u=(0,W.$)().t,d=(0,pe.Z)().deploymentConfig,f=Ae(),h=f.adaptiveAuthTemplates,v=f.authenticationSequence,b=f.authenticators,E=f.defaultAuthenticationSequence,y=f.updateAuthenticationSequence,A=f.onConditionalAuthenticationToggle,T=Object.values(b).flat(),S=lo((0,c.useState)(["basic-login-panel"]),2),I=S[0],w=S[1],N=lo((0,c.useState)(!1),2),R=N[0],L=N[1],P=lo((0,c.useState)(!1),2),k=P[0],M=P[1],x=lo((0,c.useState)(!1),2),U=x[0],D=x[1],Z=lo((0,c.useState)(void 0),2),F=Z[0],G=Z[1],$=lo((0,c.useState)(void 0),2),K=$[0],Y=$[1],Q=lo((0,c.useState)(void 0),2),J=Q[0],X=Q[1],ee=lo((0,c.useState)(!1),2),te=ee[0],ne=ee[1],oe=lo((0,c.useState)(!1),2),re=oe[0],ae=oe[1],le=lo((0,c.useState)(!1),2),ce=le[0],se=le[1],ue=lo((0,c.useState)(void 0),2),de=ue[0],me=ue[1],fe=lo((0,c.useState)(void 0),2),ge=fe[0],he=fe[1],ve=lo((0,c.useState)(void 0),2),be=ve[0],Ee=ve[1],ye=lo((0,c.useState)(!1),2),Te=ye[0],Oe=ye[1],Se=(0,p.I0)(),Ce=(0,p.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.applications})),we=(0,p.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.identityProviders})),Ne=(0,H.cr)(Ce,kn),Re=(0,m.EV)(null==Ce||null===(t=Ce.subFeatures)||void 0===t||null===(t=t.applicationAuthenticationScript)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),_e=Ne&&!Re,Le=(0,H.cr)(we,g.f.FEATURE_DICTIONARY.get(g.F.LocalEmailOTPAuthenticator)),ke=(0,H.cr)(we,g.f.FEATURE_DICTIONARY.get(g.F.LocalSMSOTPAuthenticator)),Me=(0,O.Z)().conditionalAuthPremiumFeature||_e,xe=function(e){I.includes(e)?w(I.filter((function(t){return t!==e}))):w([].concat(ao(I),[e]))},Ue=function(e){var t={operation:"UPDATE",properties:[]};for(var n in e)t.properties.push({name:oi.e.decodeConnectorPropertyName(n),value:e[n]});Xn.K.connectorToggleName[null==de?void 0:de.name]&&Xn.K.autoEnableConnectorToggleProperty&&t.properties.push({name:oi.e.decodeConnectorPropertyName(Xn.K.connectorToggleName[null==de?void 0:de.name]),value:"true"}),Oe(!0),(0,ti.u9)(t,ge,be).then((function(){Se((0,B.V_)({description:u("extensions:manage.serverConfigurations.analytics.form.notification.success.description"),level:V.QU.SUCCESS,message:u("governanceConnectors:notifications.updateConnector.success.message")}))})).catch((function(e){var t,n;null!=e&&e.response&&null!=e&&null!==(t=e.response)&&void 0!==t&&t.data&&null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.detail?Se((0,B.V_)({description:u("extensions:manage.serverConfigurations.analytics.form.notification.error.description"),level:V.QU.ERROR,message:u("governanceConnectors:notifications.updateConnector.error.message")})):Se((0,B.V_)({description:u("governanceConnectors:notifications.updateConnector.genericError.description"),level:V.QU.ERROR,message:u("governanceConnectors:notifications.updateConnector.genericError.message")}))})).finally((function(){Oe(!1),De()}))},De=function(){return ae(!1)},Ze=function(){!function(){var e=ni.v.OTHER_SETTINGS_CONNECTOR_CATEGORY_ID,t=ni.v.ANALYTICS_ENGINE_CONNECTOR_ID;he(e),Ee(t),se(!0),(0,ti.PP)(e,t).then((function(e){me(e)})).catch((function(e){var t,n,i;null!=e&&e.response&&null!=e&&null!==(t=e.response)&&void 0!==t&&t.data&&null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.detail?Se((0,B.V_)({description:u("governanceConnectors:notifications.getConnector.error.description",{description:null==e||null===(i=e.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description}),level:V.QU.ERROR,message:u("governanceConnectors:notifications.getConnector.error.message")})):Se((0,B.V_)({description:u("governanceConnectors:notifications.getConnector.genericError.description"),level:V.QU.ERROR,message:u("governanceConnectors:notifications.getConnector.genericError.message")}))})).finally((function(){se(!1)}))}(),ae(!0)};return c.createElement("div",{className:"predefined-flows-side-panel","data-componentid":s},c.createElement("div",{className:"toolbar-container"},c.createElement(Jn.Z,{variant:"dense"},c.createElement(_.Z,null,u("authenticationFlow:predefinedFlows.header")))),c.createElement("div",{className:z()("predefined-flows-side-panel-content",{"full-height":!r||!a})},r&&c.createElement(Wn.Z,{square:!0,disableGutters:!0,defaultExpanded:!0,expanded:I.includes("basic-login-panel"),className:z()("predefined-flow-categories",{expanded:I.includes("basic-login-panel"),"full-height":1===I.length&&I.includes("basic-login-panel")})},c.createElement(Yn.Z,{className:"predefined-flow-category-heading","aria-controls":"basic-login-panel-content",id:"basic-login-panel-header",expandIcon:c.createElement(fo,{height:"14px"}),onClick:function(){return xe("basic-login-panel")}},c.createElement(_.Z,null,u("authenticationFlow:predefinedFlows.basic.header"))),c.createElement(Kn.Z,null,Object.entries(l).map((function(e){var t,n=lo(e,2),i=n[0],o=n[1],r=null;i===Ji.Basic?r=u("authenticationFlow:predefinedFlows.categories.basic.label"):i===Ji.MFA?r=u("authenticationFlow:predefinedFlows.categories.mfa.label"):i===Ji.Passwordless?r=u("authenticationFlow:predefinedFlows.categories.passwordless.label"):i===Ji.Social&&(r=u("authenticationFlow:predefinedFlows.categories.social.label"));var a=null===(t=window.AppUtils)||void 0===t||null===(t=t.getConfig())||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t||null===(t=t.pushProviders)||void 0===t?void 0:t.enabled;return c.createElement(C.Z,{key:i,className:"predefined-flow-category"},c.createElement(_.Z,{variant:"body1"},r),c.createElement(C.Z,{className:"predefined-flow-category-items"},Object.entries(o).map((function(e){var t,n=lo(e,2),o=n[0],r=n[1];return(Le||"EmailOTPSecondFactorLoginSequence"!==o&&"EmailOTPPasswordlessLoginSequence"!==o)&&(ke||"SMSOTPSecondFactorLoginSequence"!==o&&"SmsOtpPasswordlessLoginSequence"!==o)?"AppleSocialLoginSequence"===o&&(null===(t=new URL(null==d?void 0:d.serverOrigin))||void 0===t?void 0:t.hostname)===g.f.LOCAL_SERVER_URL?null:"PushAuthPasswordlessLoginSequence"!==o&&"PushAuthSecondFactorLoginSequence"!==o||a?c.createElement(C.Z,{key:o,className:z()("predefined-flow-sequence",{"full-width":r.steps.length>1}),onClick:function(){G({sequence:r,sequenceCategoryId:i,sequenceId:o}),M(!0)}},r.steps.map((function(e,t){var n;return c.createElement(c.Fragment,null,c.createElement("div",{className:"predefined-flow-sequence-step"},null==e||null===(n=e.options)||void 0===n?void 0:n.map((function(t,n){return c.createElement(c.Fragment,null,c.createElement("div",{key:n,className:"predefined-flow-sequence-step-option"},c.createElement(Qn.Z,{height:"14px",src:(0,ei.C4)()[t.authenticator]||(0,ei.C4)()[t.idp]}),c.createElement(_.Z,null,function(e,t){var n;if("LOCAL"!==t){if(t===Xi.Apple)return u("authenticationFlow:predefinedFlows.authenticators.apple.displayName");if(t===Xi.Facebook)return u("authenticationFlow:predefinedFlows.authenticators.facebook.displayName");if(t===Xi.Google)return u("authenticationFlow:predefinedFlows.authenticators.google.displayName");if(t===Xi.GitHub)return u("authenticationFlow:predefinedFlows.authenticators.github.displayName")}return null===(n=T.find((function(t){return t.defaultAuthenticator.name===e})))||void 0===n?void 0:n.displayName}(t.authenticator,t.idp))),e.options.length>1&&n!==e.options.length-1&&c.createElement(mo,{height:"10px"}))}))),r.steps.length>1&&t!==r.steps.length-1&&c.createElement("div",{className:"predefined-flow-sequence-step-separator"},c.createElement(go,{height:"10px"})))}))):null:null}))))})))),a&&h&&Object.entries(h).length>0&&!Me&&c.createElement(Wn.Z,{square:!0,disableGutters:!0,defaultExpanded:!0,expanded:I.includes("conditional-login-panel"),className:z()("predefined-flow-categories",{expanded:I.includes("conditional-login-panel"),"full-height":1===I.length&&I.includes("conditional-login-panel")})},c.createElement(Yn.Z,{className:"predefined-flow-category-heading","aria-controls":"conditional-login-panel-content",id:"conditional-login-panel-header",expandIcon:c.createElement(fo,{height:"14px"}),onClick:function(){return xe("conditional-login-panel")}},c.createElement(_.Z,null,u("authenticationFlow:predefinedFlows.adaptive.header"))),c.createElement(Kn.Z,null,Object.entries(h).map((function(e){var t,n,i=lo(e,2),o=i[0],r=i[1];return null==r||!r.templates||(null==r||null===(t=r.templates)||void 0===t?void 0:t.length)<=0?null:c.createElement(C.Z,{key:o,className:"predefined-flow-category"},c.createElement(_.Z,{variant:"body1"},r.displayName),c.createElement(C.Z,{className:"predefined-flow-category-items"},null==r||null===(n=r.templates)||void 0===n?void 0:n.map((function(e,t){return c.createElement(C.Z,{key:t,className:"predefined-flow-sequence full-width no-hover"},c.createElement("div",{className:"predefined-flow-sequence-step adaptive-auth-template"},c.createElement("div",{className:"label"},c.createElement(ho,null),e.name),c.createElement("div",{className:"actions"},e.name===Mn&&c.createElement(Kt.Z,{size:"small",onClick:function(){Y(e),Ze()}},c.createElement(bt.UG,{size:14})),c.createElement(Kt.Z,{size:"small",onClick:function(){Y(e),D(!0)}},c.createElement(bt.Kb,{size:14})),c.createElement(ie.Z,{size:"small",className:"add-button",onClick:function(){Y(e),L(!0)}},u("authenticationFlow:predefinedFlows.adaptive.actions.add")))))}))))}))))),R&&c.createElement(ci,{onELKConfigureClick:function(){return Ze()},isELKRiskBased:"ELK-Risk-Based"===(null==K?void 0:K.name),open:R,onClose:function(){return L(!1)},selectedTemplate:K,onTemplateChange:function(e){!function(e){if(e){var t={};if(e.code&&(t=oo(oo({},t),{},{script:e.code.join("\n")})),e.defaultAuthenticators){for(var n=[],i=0,o=Object.entries(e.defaultAuthenticators);i<o.length;i++){var r=lo(o[i],2),a=r[0],l=r[1];n.push({id:parseInt(a,10),options:l.local.map((function(e){return{authenticator:e,idp:"LOCAL"}}))})}t=oo(oo({},t),{},{attributeStepId:1,steps:n,subjectStepId:1})}A(!0),y(t)}}(e),i&&i(e)}}),k&&c.createElement(Ai,{open:k,onClose:function(){return M(!1)},selectedTemplate:F,onTemplateChange:function(e){!function(e){var t;if(e){var n=oo(oo({},e.sequence),{},{script:Me?null==v?void 0:v.script:null!==(t=e.sequence.script)&&void 0!==t?t:""});if(j.isEmptyScript(null==n?void 0:n.script)&&A(!1),e.sequenceCategoryId===Ji.Social)return X({id:e.sequenceId,sequence:n}),void ne(!0);y(n)}}(e),o&&o(e)}}),U&&c.createElement(vi,{template:K,open:U,onClose:function(){return D(!1)}}),te&&c.createElement(Di,{selectedSequence:J,onSelect:function(e){y(oo(oo({},E),e)),ne(!1)}}),c.createElement(Ie.Z,{open:re,onClose:De,size:"small",dimmer:"blurring"},c.createElement(Ie.Z.Header,null,null==de?void 0:de.friendlyName,c.createElement(q.X6,{subHeading:!0,ellipsis:!0,as:"h6"},u("governanceConnectors:connectorSubHeading",{name:null==de?void 0:de.friendlyName}))),c.createElement(Ie.Z.Content,{className:"elk-analytics-modal",scrolling:!0},ce?c.createElement(q.pO,{inline:"centered",active:!0}):c.createElement(ii.Z,{onSubmit:Ue,triggerSubmission:function(e){n=e},initialValues:de,isConnectorEnabled:!0,isSubmitting:Te,hideUpdateButton:!0,isModalForm:!0})),c.createElement(Ie.Z.Actions,null,c.createElement(Pe.Z,null,c.createElement(Pe.Z.Row,{column:1},c.createElement(Pe.Z.Column,{mobile:8},c.createElement(q.Qj,{"data-testid":"".concat(s,"-cancel-button"),floated:"left",onClick:function(){return De()}},u("apiResources:tabs.scopes.form.cancelButton"))),c.createElement(Pe.Z.Column,{mobile:8},c.createElement(q.KM,{"data-testid":"".concat(s,"-finish-button"),floated:"right",onClick:function(){return n()},loading:Te},u("common:update"))))))))};vo.defaultProps={"data-componentid":"predefined-flows-side-panel",showAdaptiveLoginTemplates:!0,showBasicLoginTemplates:!0};const bo=vo;var Eo=n(85658),yo=n(40365),Ao={};Ao.styleTagTransform=_t(),Ao.setAttributes=Ct(),Ao.insert=St().bind(null,"head"),Ao.domAPI=Tt(),Ao.insertStyleElement=Nt();yt()(yo.Z,Ao);yo.Z&&yo.Z.locals&&yo.Z.locals;const To=function(){var e=(0,p.v9)((function(e){var t;return null===(t=e.config.deployment.extensions)||void 0===t?void 0:t.contactUsUrl}));return c.createElement(te.Z,{className:"conditional-auth-premium-banner oxygen-chip-premium",severity:"warning",icon:!1},c.createElement(Y.c,{i18nKey:"applications.featureGate.enabledFeatures.tags.premium.info",className:"conditional-auth-premium-text"},"Unlock conditional authentication scripting with our ",c.createElement("b",null,"Enterprise plan"),".",c.createElement(Yt.Z,{href:e}," Contact sales")," to upgrade."))};var Oo=["open","onClose","data-componentid"];function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},So.apply(null,arguments)}var Io=function(e){var t=e.open,n=e.onClose,i=e["data-componentid"],o=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Oo),r=(0,W.$)().t,a=Ae().onConditionalAuthenticationToggle;return c.createElement(q.cV,So({open:t,onClose:n,type:"warning",closeOnDimmerClick:!1,primaryAction:r("common:confirm"),secondaryAction:r("common:cancel"),"data-componentid":i,onPrimaryActionClick:function(){a(!1),n(null,null)},onSecondaryActionClick:function(e){return n(e,null)}},o),c.createElement(q.cV.Header,{"data-componentid":"".concat(i,"-header")},r("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.heading")),c.createElement(q.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(i,"-message")},r("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.message")),c.createElement(q.cV.Content,{"data-componentid":"".concat(i,"-content")},c.createElement(Y.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.content"},"This action will reset the adaptive authentication script back to default. Click ",c.createElement(q.EK,null,"Confirm")," to proceed.")))};Io.defaultProps={"data-componentid":"adaptive-script-reset-confirmation-modal"};const Co=Io;var wo=n(22855),No=n(97434),Ro=n(62782),_o=n(22939),Lo=n(70988),Po=n(72237),ko=n(2446),Mo=n(17751),xo=n(35062),Uo=n(32637),Do=n(32463),Zo=n(48934),jo=n(59173),Fo=n(30355),Ho=n(5709),Vo=["deletingSecret","open","onClose","data-componentid"];function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Bo.apply(null,arguments)}var qo=function(e){var t=e.deletingSecret,n=e.open,i=e.onClose,o=e["data-componentid"],r=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Vo),a=(0,W.$)().t,l=(0,p.I0)();return c.createElement(q.cV,Bo({open:n,onClose:i,type:"negative",closeOnDimmerClick:!1,assertionHint:a("secrets:modals.deleteSecret.assertionHint"),assertionType:"checkbox",primaryAction:a("secrets:modals.deleteSecret.primaryActionButtonText"),secondaryAction:a("secrets:modals.deleteSecret.secondaryActionButtonText"),"data-componentid":o,onPrimaryActionClick:function(){(0,jo.c8)({params:{secretName:t.secretName,secretType:t.type}}).then((function(){l((0,B.V_)({description:a("secrets:alerts.deleteSecret.description",{secretName:t.secretName,secretType:t.type}),level:V.QU.SUCCESS,message:a("secrets:alerts.deleteSecret.message")}))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?l((0,B.V_)({description:e.response.data.description,level:V.QU.ERROR,message:e.response.data.message})):l((0,B.V_)({description:a("secrets:errors.generic.description"),level:V.QU.ERROR,message:a("secrets:errors.generic.message")}))})).finally((function(){i(null,null)}))},onSecondaryActionClick:function(e){return i(e,null)}},r),c.createElement(q.cV.Header,{"data-componentid":"".concat(o,"-delete-confirmation-modal-header")},a("secrets:modals.deleteSecret.title")),c.createElement(q.cV.Message,{attached:!0,negative:!0,"data-componentid":"".concat(o,"-delete-confirmation-modal-message")},a("secrets:modals.deleteSecret.warningMessage")),c.createElement(q.cV.Content,{"data-componentid":"".concat(o,"-delete-confirmation-modal-content")},a("secrets:modals.deleteSecret.content")))};qo.defaultProps={"data-componentid":"secret-delete-confirmation-modal"};const Go=qo;var zo=n(61039),$o={};$o.styleTagTransform=_t(),$o.setAttributes=Ct(),$o.insert=St().bind(null,"head"),$o.domAPI=Tt(),$o.insertStyleElement=Nt();yt()(zo.Z,$o);zo.Z&&zo.Z.locals&&zo.Z.locals;function Wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ko(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ko(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Yo.apply(null,arguments)}var Qo=function(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return c.createElement("svg",Yo({stroke:"currentColor",fill:"none",strokeWidth:"1.5",viewBox:"0 0 24 24","aria-hidden":"true",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},t),c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"}))},Jo=function(e){var t,n=e.open,i=e.onSecretSelect,o=e.onClose,r=e.onOpen,a=e["data-componentid"],l=(0,W.$)().t,s=(0,p.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),u=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),d=(0,jo.xA)(Ho.H0),m=d.data,f=d.isLoading,g=d.mutate,h=Wo((0,c.useState)(n),2),v=h[0],b=h[1],E=Wo((0,c.useState)(null),2),y=E[0],A=E[1],T=Wo((0,c.useState)(!1),2),O=T[0],S=T[1],I=Wo((0,c.useState)(!1),2),C=I[0],w=I[1],N=Wo((0,c.useState)(void 0),2),R=N[0],L=N[1];return(0,c.useEffect)((function(){b(n)}),[n]),c.createElement(c.Fragment,null,c.createElement(ie.Z,{className:"secret-selection-menu-trigger","aria-controls":v?"create-new-secret-menu":void 0,"aria-haspopup":"true","aria-expanded":v?"true":void 0,onClick:function(e){A(e.currentTarget),b(!0),r()},endIcon:c.createElement(bt.v4,null),startIcon:c.createElement(Qo,{height:14,width:14}),variant:"contained",color:"secondary",size:"small","data-componentid":"".concat(a,"-trigger")},l("authenticationFlow:scriptEditor.secretSelector.label")),c.createElement(Mo.ZP,{anchorEl:y,open:v,onClose:function(e,t){A(null),b(!1),o(e,t)},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},classes:{paper:"create-new-secret-dropdown"},"data-componentid":"".concat(a,"-popover")},c.createElement(Uo.Z,{"data-componentid":"".concat(a,"-list")},f?c.createElement(Do.Z,{alignItems:"center",className:"create-new-secret-dropdown-item-loading","data-componentid":"".concat(a,"-list-loader")},c.createElement(No.Z,{size:20})):0===(null==m?void 0:m.length)?c.createElement(Do.Z,{className:"create-new-secret-dropdown-empty-placeholder","data-componentid":"".concat(a,"-list-empty-placeholder")},c.createElement(Zo.Z,null,c.createElement(_.Z,{variant:"body1"},l("authenticationFlow:scriptEditor.secretSelector.emptyPlaceholder.header")),c.createElement(Gt.Z,null),c.createElement(_.Z,{variant:"caption"},c.createElement(Y.c,{i18nKey:"authenticationFlow:scriptEditor.secretSelector.emptyPlaceholder.description"},"You can securely store sensitive information, such as API keys and other secrets, for use in conditional authentication scripts. Once stored, these secrets can be referenced in your scripts using the syntax ",c.createElement(xo.Z,{variant:"caption"},"secrets.{secret_name}"),".")))):null==m?void 0:m.map((function(e,t){return c.createElement(c.Fragment,null,c.createElement(Do.Z,{key:e.secretId,"data-componentid":"".concat(a,"-list-item-").concat(e.secretId)},c.createElement(Zo.Z,{primary:c.createElement(_.Z,{noWrap:!0},e.secretName),secondary:c.createElement(_.Z,{noWrap:!0},e.description)}),c.createElement(Kt.Z,{onClick:function(){return i(e)},"data-componentid":"".concat(a,"-list-item-").concat(e.secretId,"-add")},c.createElement(bt.pO,{size:14})),c.createElement(Kt.Z,{onClick:function(){L(e),w(!0)},"data-componentid":"".concat(a,"-list-item-").concat(e.secretId,"-delete")},c.createElement(bt.XH,{size:14}))),t!==(null==m?void 0:m.length)-1&&c.createElement(Gt.Z,null))})),c.createElement(Gt.Z,null),c.createElement(Do.Z,{onClick:function(){return null},disableGutters:!0,disablePadding:!0},(0,H.Xr)(null==u?void 0:u.secretsManagement,null==u||null===(t=u.secretsManagement)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.create,s)&&c.createElement(ie.Z,{fullWidth:!0,color:"primary",className:"create-new-secret-button",startIcon:c.createElement(bt.pO,{size:14}),onClick:function(){A(null),b(!1),S(!0)},"data-componentid":"".concat(a,"-create-new-secret-button")},l("authenticationFlow:scriptEditor.secretSelector.actions.create.label"))))),O&&c.createElement(Fo.Z,{onClose:function(){S(!1),g()},"data-componentid":"".concat(a,"-add-secret-modal")}),C&&c.createElement(Go,{deletingSecret:R,open:C,onClose:function(){w(!1),g()},"data-componentid":"".concat(a,"-delete-secret-modal")}))};Jo.defaultProps={"data-componentid":"secret-selection-dropdown"};const Xo=Jo;var er=function(e){return e.DARK="vs-dark",e.HIGH_CONTRAST="hc-black",e.LIGHT="vc",e}({}),tr=function(e){return e.Maximized="maximized",e.Minimized="minimized",e}({}),nr=n(49488),ir={};ir.styleTagTransform=_t(),ir.setAttributes=Ct(),ir.insert=St().bind(null,"head"),ir.domAPI=Tt(),ir.insertStyleElement=Nt();yt()(nr.Z,ir);nr.Z&&nr.Z.locals&&nr.Z.locals;function or(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var ar=(0,c.lazy)((function(){return Promise.resolve().then(n.bind(n,52962))})),lr=function(e){var t=e.width,n=void 0===t?16:t,i=e.height,o=void 0===i?16:i;return c.createElement("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:o,width:n,xmlns:"http://www.w3.org/2000/svg"},c.createElement("polyline",{points:"15 3 21 3 21 9"}),c.createElement("polyline",{points:"9 21 3 21 3 15"}),c.createElement("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),c.createElement("line",{x1:"3",y1:"21",x2:"10",y2:"14"}))},cr=function(e){var t=e.width,n=void 0===t?16:t,i=e.height,o=void 0===i?16:i;return c.createElement("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:o,width:n,xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),c.createElement("path",{d:"M18 10h-4v-4"}),c.createElement("path",{d:"M20 4l-6 6"}),c.createElement("path",{d:"M6 14h4v4"}),c.createElement("path",{d:"M10 14l-6 6"}))},sr=function(e){var t,n,i,o,r=e.className,a=e.readOnly,l=e["data-componentid"],s=(0,W.$)().t,u=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.secretsManagement})),d=(0,m.EV)(null==u||null===(t=u.scopes)||void 0===t?void 0:t.read),f=(0,c.useRef)(null),g=Ae(),h=g.authenticationSequence,v=g.updateAuthenticationSequence,b=Po.W.getUserPreferences(),E=or((0,c.useState)(null!==(n=null==b||null===(i=b.identityAppsSettings)||void 0===i||null===(i=i.userPreferences)||void 0===i?void 0:i[k.jo.CONDITIONAL_AUTH_EDITOR_THEME_STORAGE_KEY])&&void 0!==n?n:er.DARK),2),y=E[0],A=E[1],T=or((0,c.useState)(!1),2),O=T[0],S=T[1],I=or((0,c.useState)(tr.Minimized),2),w=I[0],N=I[1],R=(0,c.useCallback)((function(e){f.current=e}),[f]),L=(0,c.useCallback)((function(e){v({script:e})}),[v]),P=function(){w!==tr.Minimized?N(tr.Minimized):N(tr.Maximized)},M=c.createElement(ar,{loading:null,className:"script-editor",width:"100%",height:"100%",language:"javascript",theme:y,value:j.isEmptyScript(null==h?void 0:h.script)?j.generateScript((null==h||null===(o=h.steps)||void 0===o?void 0:o.length)+1).join("\n"):null==h?void 0:h.script,options:{automaticLayout:!0,readOnly:a},onChange:L,onMount:R,"data-componentid":"".concat(l,"-code-editor")}),x=c.createElement(C.Z,{className:"script-editor-toolbar-container"},c.createElement(Jn.Z,{variant:"dense"},c.createElement(C.Z,null,c.createElement(_.Z,null,s("authenticationFlow:scriptEditor.panelHeader"))),c.createElement("div",{className:"actions"},w===tr.Minimized&&c.createElement(c.Fragment,null,c.createElement("div",{className:"editor-theme-select"},c.createElement(Ro.Z,{size:"small"},c.createElement(Lo.Z,{labelId:"demo-select-small-label",id:"demo-select-small",value:y,onChange:function(e){A(e.target.value),function(e){var t,n=Po.W.getUserPreferences();if(!(0,Te.Z)(n)){var i=(0,$.Z)(n);(0,ko.Z)(null==i||null===(t=i.identityAppsSettings)||void 0===t?void 0:t.userPreferences,k.jo.CONDITIONAL_AUTH_EDITOR_THEME_STORAGE_KEY,e),Po.W.setUserPreferences(i)}}(e.target.value)}},c.createElement(_o.Z,{value:er.LIGHT},s("authenticationFlow:scriptEditor.themes.light.label")),c.createElement(_o.Z,{value:er.DARK},s("authenticationFlow:scriptEditor.themes.dark.label")),c.createElement(_o.Z,{value:er.HIGH_CONTRAST},s("authenticationFlow:scriptEditor.themes.highContrast.label"))))),c.createElement("div",{className:"secret-selection-menu-wrapper"},(null==u?void 0:u.enabled)&&d&&c.createElement(Xo,{open:O,onClose:function(){return S(!1)},onOpen:function(){return S(!0)},onSecretSelect:function(e){return function(e){if(f.current){var t=f.current.getSelection();t&&(f.current.executeEdits("replaceCodeBlock",[{range:t,text:e}]),S(!1))}}(e.secretName)}}))),c.createElement("div",{className:"editor-fullscreen"},c.createElement(Xt.Z,{title:w===tr.Minimized?s("common:goFullScreen"):s("common:exitFullScreen"),"data-componentid":"editor-fullscreen-toggle-tooltip"},c.createElement(Kt.Z,{size:"small",onClick:P},w===tr.Minimized?c.createElement(lr,{height:16,width:16}):c.createElement(cr,{height:16,width:16})))))));return c.createElement(c.Suspense,{fallback:c.createElement(No.Z,null)},c.createElement("div",{className:z()("script-editor-panel",r),"data-componentid":l},x,c.createElement(wo.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:w===tr.Maximized,onClose:P},c.createElement(C.Z,{className:"full-screen-script-editor-container"},x,M)),M))};sr.defaultProps={"data-componentid":"script-editor-panel"};const ur=sr;var dr=n(79842),pr={};pr.styleTagTransform=_t(),pr.setAttributes=Ct(),pr.insert=St().bind(null,"head"),pr.domAPI=Tt(),pr.insertStyleElement=Nt();yt()(dr.Z,pr);dr.Z&&dr.Z.locals&&dr.Z.locals;function mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var gr=function(e){var t,n=e.readOnly,i=e["data-componentid"],o=(0,W.$)().t,r=Ae(),a=r.isConditionalAuthenticationEnabled,l=r.onConditionalAuthenticationToggle,m=r.updateAuthenticationSequence,f=r.applicationMetaData,g=(0,u.Z)().aiGeneratedLoginFlow,h=(0,d.z)().isSubOrganization,v=mr((0,c.useState)(!1),2),b=v[0],E=v[1],y=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t||null===(t=t.applications)||void 0===t?void 0:t.disabledFeatures})),A=(0,O.Z)().conditionalAuthPremiumFeature;(0,c.useEffect)((function(){var e,t,n,i;(null!=y&&y.includes(s.X7)||h()||null==g||!g.script||j.isDefaultScript(g.script,null==g||null===(e=g.steps)||void 0===e?void 0:e.length)||j.isEmptyScript(null==g?void 0:g.script))&&(null==f||null===(t=f.authenticationSequence)||void 0===t||!t.script||j.isDefaultScript(f.authenticationSequence.script,null===(n=f.authenticationSequence)||void 0===n||null===(n=n.steps)||void 0===n?void 0:n.length)||j.isEmptyScript(null===(i=f.authenticationSequence)||void 0===i?void 0:i.script))?l(!1):l(!0)}),[null==f||null===(t=f.authenticationSequence)||void 0===t?void 0:t.script]);return c.createElement(c.Fragment,null,c.createElement(C.Z,{className:"script-based-flow-switch","data-componentid":i},c.createElement(Wn.Z,{expanded:a,elevation:0},c.createElement(Yn.Z,null,c.createElement(C.Z,{display:"flex",flexDirection:"column",width:"100%"},c.createElement(Wt.Z,{className:"script-based-flow-switch-accordion-summary"},c.createElement(Wt.Z,{xs:12,sm:6,md:2,lg:1,xl:1},!n&&c.createElement(Eo.Z,{checked:a,onChange:function(){a?E(!0):l(!0)}})),c.createElement(Wt.Z,{className:"script-based-flow-switch-text",xs:12,sm:6,md:11,lg:11,xl:11},c.createElement("div",{className:"title"},c.createElement(_.Z,{variant:"body1"},o("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.heading"+(n&&!A?".readOnly":".readWrite"))),n&&!A&&c.createElement(Xt.Z,{title:o("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.tooltip.readOnly")},c.createElement("span",null,c.createElement(Ce.Z,{name:"warning sign",color:"yellow"}))),A&&c.createElement(ke.Z,{icon:c.createElement(bt.nb,null),label:o(me.j.PREMIUM),className:"oxygen-menu-item-chip oxygen-chip-premium ml-2",style:{height:"fit-content"}})),c.createElement(_.Z,{variant:"body2"},o("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.description")))),A&&c.createElement(To,null))),c.createElement(Kn.Z,{className:"script-based-flow-switch-accordion-details"},c.createElement(ur,{readOnly:n})))),b&&c.createElement(Co,{open:b,onClose:function(){m({script:""}),E(!1)}}))};gr.defaultProps={"data-componentid":"script-based-flow-switch"};const hr=gr;var vr=n(68795),br=n(36439),Er={};Er.styleTagTransform=_t(),Er.setAttributes=Ct(),Er.insert=St().bind(null,"head"),Er.domAPI=Tt(),Er.insertStyleElement=Nt();yt()(br.Z,Er);br.Z&&br.Z.locals&&br.Z.locals;var yr=["children","className","drawerIcon","panel","panelControlsLabel","open","data-componentid","onClose"];function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ar.apply(null,arguments)}function Tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Or(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Or(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Sr=function(e){var t=e.width,n=void 0===t?16:t,i=e.height,o=void 0===i?16:i;return c.createElement("svg",{width:n,height:o,viewBox:"0 0 23 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M11.671 10.4793L11.7803 10.3509L19.4469 3.01762C19.616 2.85521 19.8425 2.75926 20.0818 2.74866C20.3211 2.73807 20.5559 2.8136 20.7399 2.96037C20.9239 3.10715 21.0437 3.31452 21.0758 3.54161C21.1079 3.76871 21.0499 3.99907 20.9132 4.18728L20.8039 4.31562L13.8139 10.9999L20.8039 17.6843C20.9624 17.8362 21.0601 18.0364 21.0801 18.2502C21.1001 18.4639 21.041 18.6776 20.9132 18.854L20.8039 18.9823C20.6451 19.1339 20.4358 19.2273 20.2123 19.2464C19.9889 19.2655 19.7655 19.209 19.5811 19.0868L19.4469 18.9823L11.7803 11.6489C11.6218 11.497 11.5241 11.2968 11.5041 11.083C11.4842 10.8693 11.5432 10.6556 11.671 10.4793ZM2.08769 10.4793L2.19694 10.3509L9.86361 3.01762C10.0326 2.85521 10.2591 2.75926 10.4985 2.74866C10.7378 2.73807 10.9726 2.8136 11.1566 2.96037C11.3406 3.10715 11.4604 3.31452 11.4925 3.54161C11.5245 3.76871 11.4665 3.99907 11.3299 4.18728L11.2206 4.31562L4.23053 10.9999L11.2206 17.6843C11.3791 17.8362 11.4768 18.0364 11.4968 18.2502C11.5167 18.4639 11.4577 18.6776 11.3299 18.854L11.2206 18.9823C11.0618 19.1339 10.8524 19.2273 10.629 19.2464C10.4055 19.2655 10.1822 19.209 9.99778 19.0868L9.86361 18.9823L2.19694 11.6489C2.03848 11.497 1.94076 11.2968 1.9208 11.083C1.90083 10.8693 1.95989 10.6556 2.08769 10.4793Z",fill:"black"}))},Ir=function(e){var t=e.children,n=e.className,i=e.drawerIcon,o=e.panel,r=e.panelControlsLabel,a=e.open,l=e["data-componentid"],s=e.onClose,u=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,yr),d=Tr((0,c.useState)(a),2),p=d[0],m=d[1];(0,c.useEffect)((function(){m(a)}),[a]);return c.createElement(c.Fragment,null,c.createElement(C.Z,{component:"main",sx:{flexGrow:1},"data-componentid":"".concat(l,"-main")},t),o&&c.createElement(vr.Z,Ar({open:p,PaperProps:{className:z()("side-panel-drawer",{open:p},n),style:{position:"absolute"}},BackdropProps:{style:{position:"absolute"}},ModalProps:{container:document.getElementById("drawer-container"),style:{position:"absolute"}},variant:"permanent",anchor:"right",className:z()("side-panel-drawer",{open:p},n),"data-componentid":l},u),c.createElement("div",{className:"side-panel-drawer-panel"},c.createElement("div",{className:"side-panel-drawer-panel-controls",onClick:function(e){p?(m(!1),s&&s(e,"backdropClick")):m(!0)}},c.createElement("div",{className:"side-panel-drawer-panel-controls-chevron"},i||c.createElement(Sr,{height:16,width:16})),r&&c.createElement("div",{className:"side-panel-drawer-panel-controls-label"},c.createElement(_.Z,null,r))),c.createElement("div",{className:"side-panel-drawer-panel-content"},o))))};Ir.defaultProps={"data-componentid":"side-panel-drawer"};const Cr=Ir;var wr=function(e){return e.Classic="classic",e.Visual="visual",e}({}),Nr=n(19552),Rr={};Rr.styleTagTransform=_t(),Rr.setAttributes=Ct(),Rr.insert=St().bind(null,"head"),Rr.domAPI=Tt(),Rr.insertStyleElement=Nt();yt()(Nr.Z,Rr);Nr.Z&&Nr.Z.locals&&Nr.Z.locals;function _r(e){return _r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_r(e)}function Lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(n),!0).forEach((function(t){kr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=_r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=_r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_r(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Ur=function(e){var t,n=e.legacyBuilder,i=e.onIDPCreateWizardTrigger,o=e.readOnly,r=e["data-componentid"],a=(0,W.$)().t,l=(0,p.I0)(),s=Ae(),d=s.applicationMetaData,f=s.isAdaptiveAuthAvailable,g=s.isAuthenticationSequenceDefault,h=s.isVisualEditorEnabled,b=s.isLegacyEditorEnabled,E=s.refetchApplication,y=s.authenticationSequence,A=s.preferredAuthenticationFlowBuilderMode,T=s.setPreferredAuthenticationFlowBuilderMode,S=s.isConditionalAuthenticationEnabled,I=s.updateAuthenticationSequence,k=s.isSystemApplication,M=s.onActiveFlowModeChange,x=(0,u.Z)().setAiGeneratedLoginFlow,U=o?[{id:0,label:a("authenticationFlow:modes.legacy.label"),mode:wr.Classic}]:[{id:0,label:a("authenticationFlow:modes.legacy.label"),mode:wr.Classic},{id:1,label:a("authenticationFlow:modes.visual.label"),mode:wr.Visual}],D=(0,p.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.applications})),Z=(0,H.cr)(D,Pn),G=(0,H.cr)(D,kn),Y=(0,m.EV)(null==D||null===(t=D.subFeatures)||void 0===t||null===(t=t.applicationAuthenticationScript)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),Q=G&&!Y,J=(0,p.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),X=Mr((0,c.useState)(U[0]),2),te=X[0],ne=X[1],ie=Mr((0,c.useState)(null),2),oe=ie[0],re=ie[1],ae=Mr((0,c.useState)(g),1)[0],le=Mr((0,c.useState)(!1),2),ce=le[0],se=le[1],ue=(0,O.Z)().conditionalAuthPremiumFeature,de=o||ue;(0,c.useEffect)((function(){var e,t;h&&b||(h&&!o?(ne(U[1]),M(null===(e=U[1])||void 0===e?void 0:e.mode)):(ne(U[0]),M(null===(t=U[0])||void 0===t?void 0:t.mode)))}),[h,b]),(0,c.useEffect)((function(){if(A){var e=U.find((function(e){return e.mode===A}));ne(e),M(null==e?void 0:e.mode)}}),[A]);var pe=function(e,t){if(G)me(e,t);else{var n,i={},o=Pr(Pr({},(0,$.Z)(e)),{},{type:t?P.a1.DEFAULT:P.a1.USER_DEFINED});if(!f||!S||j.isEmptyScript(y.script))o.script=j.generateScript((null==y||null===(n=y.steps)||void 0===n?void 0:n.length)+1).join("\n");J!==F.$B.SUBORGANIZATION||Z||(o.script=""),I(Pr(Pr({},e),{},{script:o.script})),i=k?{authenticationSequence:o,name:null==d?void 0:d.name}:{authenticationSequence:o},ge(null==e?void 0:e.steps)&&(0,L.bz)(null==d?void 0:d.id,i).then((function(){l((0,B.V_)({description:a("applications:notifications.updateAuthenticationFlow.success.description"),level:V.QU.SUCCESS,message:a("applications:notifications.updateAuthenticationFlow.success.message")}))})).catch((function(e){var t,n;"APP-60001"!==(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code)?null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.description?l((0,B.V_)({description:e.response.data.description,level:V.QU.ERROR,message:a("applications:notifications.updateAuthenticationFlow.error.message")})):l((0,B.V_)({description:a("applications:notifications.updateAuthenticationFlow.genericError.description"),level:V.QU.ERROR,message:a("applications:notifications.updateAuthenticationFlow.genericError.message")})):l((0,B.V_)({description:a("applications:notifications.updateAuthenticationFlow.invalidScriptError.description"),level:V.QU.ERROR,message:a("applications:notifications.updateAuthenticationFlow.invalidScriptError.message")}))})).finally((function(){x(void 0),E()}))}},me=function(e,t){J!==F.$B.SUBORGANIZATION||Z||I(Pr(Pr({},e),{},{script:void 0}));var n={},i=t?"":null==e?void 0:e.script,o=Pr(Pr({},(0,$.Z)(e)),{},{script:void 0,type:t?P.a1.DEFAULT:P.a1.USER_DEFINED});n=k?{authenticationSequence:o,name:null==d?void 0:d.name}:{authenticationSequence:o},ge(null==e?void 0:e.steps)&&(t?(0,L.Cl)(null==d?void 0:d.id,i,!Q&&!ue).then((function(){(0,L.bz)(null==d?void 0:d.id,n).then((function(){l((0,B.V_)({description:a("applications:notifications.updateAuthenticationFlow.success.description"),level:V.QU.SUCCESS,message:a("applications:notifications.updateAuthenticationFlow.success.message")}))})).catch((function(e){fe(e)}))})).catch((function(e){fe(e)})).finally((function(){x(void 0),E()})):(0,L.bz)(null==d?void 0:d.id,n).then((function(){(0,L.Cl)(null==d?void 0:d.id,i,!Q&&!ue).then((function(){l((0,B.V_)({description:a("applications:notifications.updateAuthenticationFlow.success.description"),level:V.QU.SUCCESS,message:a("applications:notifications.updateAuthenticationFlow.success.message")}))})).catch((function(e){fe(e)}))})).catch((function(e){fe(e)})).finally((function(){x(void 0),E()})))},fe=function(e){var t,n;"APP-60001"!==(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code)?null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.description?l((0,B.V_)({description:e.response.data.description,level:V.QU.ERROR,message:a("applications:notifications.updateAuthenticationFlow.error.message")})):l((0,B.V_)({description:a("applications:notifications.updateAuthenticationFlow.genericError.description"),level:V.QU.INFO,message:a("applications:notifications.updateAuthenticationFlow.genericError.message")})):l((0,B.V_)({description:a("applications:notifications.updateAuthenticationFlow.invalidScriptError.description"),level:V.QU.ERROR,message:a("applications:notifications.updateAuthenticationFlow.invalidScriptError.message")}))},ge=function(e){return 1===e.length&&1===e[0].options.length&&e[0].options[0].authenticator===v.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME?(l((0,B.V_)({description:a("applications:notifications.updateOnlyIdentifierFirstError.description"),level:V.QU.WARNING,message:a("applications:notifications.updateOnlyIdentifierFirstError.message")})),!1):!(1===e.length&&e[0].options.length>1&&he(e[0].options))||(l((0,B.V_)({description:a("applications:notifications.updateIdentifierFirstInFirstStepError.description"),level:V.QU.WARNING,message:a("applications:notifications.updateIdentifierFirstInFirstStepError.message")})),!1)},he=function(e){return e.some((function(e){return e.authenticator===v.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME}))};return c.createElement(C.Z,{className:"sign-in-method-split-view","data-componentid":r},c.createElement(Cr,{open:ae,className:z()("predefined-side-panel-drawer",{hidden:te.id===U[0].id}),panel:c.createElement(bo,{showAdaptiveLoginTemplates:f}),panelControlsLabel:a("authenticationFlow:predefinedFlows.panelHeader")},c.createElement("div",{id:"drawer-container",style:{position:"relative"}},c.createElement(C.Z,null,b&&h&&c.createElement(C.Z,null,c.createElement(R.Z,{value:te.id,onChange:function(e,t){re(U[t]),se(!0)},"aria-label":"basic tabs example"},U.map((function(e){return c.createElement(w.Z,{key:e.id,label:c.createElement("div",{className:"beta-feature-tab-item"},c.createElement(_.Z,{sx:{fontWeight:500}},e.label)),"data-componentid":"".concat(r,"-").concat(e.id,"-tab")})})))),c.createElement(N.Z,{index:0,value:te.id,"data-componentid":"".concat(r,"-legacy-builder")},c.createElement("div",{className:"ui basic very padded segment sign-on-methods-tab-content"},n)),c.createElement(N.Z,{index:1,value:te.id,className:"visual-editor-tab-panel","data-componentid":"".concat(r,"-visual-builder")},c.createElement(K.tV,null,c.createElement($n,{onIDPCreateWizardTrigger:i,className:"visual-editor",onUpdate:function(e,t){return pe(e,t)}})),f&&c.createElement(hr,{readOnly:de||Q}),f&&S&&!Q&&c.createElement("div",{className:"visual-editor-update-button-container"},c.createElement(q.KM,{variant:"contained",className:"update-button","data-componentid":"".concat(r,"-update-button"),onClick:function(){return pe(y)}},a("authenticationFlow:visualEditor.actions.update.label"))))))),ce&&c.createElement(ee,{mode:oe,open:ce,onPrimaryActionClick:function(){ne(oe),re(null),se(!1),E(),T(null==oe?void 0:oe.mode)},onClose:function(){re(null),se(!1)}}))};Ur.defaultProps={"data-componentid":"authentication-flow-builder",readOnly:!1};const Dr=Ur;var Zr=n(37746),jr=n(87029),Fr=n(28676),Hr=function(e){var t;return null==e||null===(t=e.defaultAuthenticator)||void 0===t||null===(t=t.tags)||void 0===t?void 0:t.includes("Custom")},Vr=function(e){var t;return null==e||null===(t=e.defaultAuthenticator)||void 0===t||null===(t=t.tags)||void 0===t?void 0:t.includes("2FA")};function Br(e){return Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Br(e)}var qr=["script"];function Gr(e){return function(e){if(Array.isArray(e))return Qr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(n),!0).forEach((function(t){Wr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Br(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Br(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Br(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||Yr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e,t){if(e){if("string"==typeof e)return Qr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qr(e,t):void 0}}function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const Jr=function(e){var t=e.application,n=e.authenticators,i=e.children,o=e.isSystemApplication,r=e.onUpdate,a=e.onAuthenticatorsRefetch,l=e.hiddenAuthenticators,s=e.authenticationSequence,u=(0,Zr.Z)().isAdaptiveAuthenticationAvailable,d=(0,p.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.applications})),m=(0,H.cr)(d,Pn),f=(0,p.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),g=(0,L.Tl)().data,h=(0,A.Z)().UIConfig,E=null==h?void 0:h.connectionResourcesUrl,y=(0,W.$)().t,T=(0,p.I0)(),O=Kr((0,c.useState)((0,$.Z)(null==t?void 0:t.authenticationSequence)),2),S=O[0],I=O[1],C=Kr((0,c.useState)(!1),2),w=C[0],N=C[1],R=Kr((0,c.useState)({enterprise:[],external:[],internal:[],local:[],recovery:[],secondFactor:[],social:[],twoFactorCustom:[]}),2),_=R[0],M=R[1],x=Kr((0,c.useState)({height:0,width:0}),2),U=x[0],D=x[1];(0,c.useEffect)((function(){var e;null!=t&&null!==(e=t.authenticationSequence)&&void 0!==e&&e.script||I($r($r({},S),{},{script:K.script}))}),[]),(0,c.useEffect)((function(){s&&I(s)}),[s]),(0,c.useEffect)((function(){if(n&&Array.isArray(n)&&n[0]&&n[1]){var e=n[0],t=n[1],i=[],o=[],r=[],a=[],l=[],c=[],s=[],u=[];e.forEach((function(e){e.name===v.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME?a.push(e):k.jo.SECOND_FACTOR_AUTHENTICATORS.includes(e.id)?r.push(e):Hr(e)?Vr(e)?s.push(e):c.push(e):u.push(e)})),t.forEach((function(e){var t,n,a,c,s,u;e.image=b.Zs.isOrganizationSSOConnection(null===(t=e.defaultAuthenticator)||void 0===t?void 0:t.authenticatorId)?ue.C.getAuthenticatorIcon(null!==(n=null===(a=e.federatedAuthenticators)||void 0===a?void 0:a.defaultAuthenticatorId)&&void 0!==n?n:null===(c=e.defaultAuthenticator)||void 0===c?void 0:c.authenticatorId):b.Zs.resolveConnectionResourcePath(E,e.image),Hr(e)?l.push(e):null!==(s=k.jo.SECOND_FACTOR_AUTHENTICATORS)&&void 0!==s&&s.includes(null==e||null===(u=e.defaultAuthenticator)||void 0===u?void 0:u.authenticatorId)?null==r||r.push(e):k.jo.SOCIAL_AUTHENTICATORS.includes(e.defaultAuthenticator.authenticatorId)?i.push(e):o.push(e)})),M({enterprise:o,external:l,internal:c,local:u,recovery:a,secondFactor:r,social:i,twoFactorCustom:s})}}),[n]);var Z=(0,c.useMemo)((function(){return!(f===jr.$B.SUBORGANIZATION&&!m)&&u}),[u,f]),F=(0,c.useMemo)((function(){return!(null==d?void 0:d.disabledFeatures).includes("applications.loginFlow.visualEditor")}),[d]),q=(0,c.useMemo)((function(){return!(null==d?void 0:d.disabledFeatures).includes("applications.loginFlow.legacyEditor")}),[d]),G=(0,c.useMemo)((function(){var e;return null==S||null===(e=S.steps)||void 0===e?void 0:e.every((function(e){return!(0,Te.Z)(e.options)}))}),[S]),z=function(){T((0,B.V_)({description:y("applications:notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.description"),level:V.QU.WARNING,message:y("applications:notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.message")}))},K=(0,c.useMemo)((function(){return $r($r({},Zi),{},{attributeStepId:1,requestPathAuthenticators:[],subjectStepId:1,type:P.a1.DEFAULT})}),[]),Y=(0,c.useMemo)((function(){K.script;var e=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(K,qr);return(0,Fr.Z)(e,S)}),[S,K]),Q=(0,c.useCallback)((function(e,t){D((function(n){return $r($r({},n),{},Wr({},e,t))}))}),[]);return c.createElement(ve.Provider,{value:{adaptiveAuthTemplates:g,addSignInOption:function(e,t){var n,i,o=Object.values(_).flat().find((function(e){var n;return e.id===t||(null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name)===t}));if(o){var r=Gr(null==S?void 0:S.steps),a=function(e,t){return!(null==t?void 0:t.some((function(t){var n;return"LOCAL"===t.idp?t.authenticator===(null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name):t.idp===(null==e?void 0:e.displayName)})))||(T((0,B.V_)({description:y("applications:notifications.duplicateAuthenticationStep.genericError.description"),level:V.QU.WARNING,message:y("applications:notifications.duplicateAuthenticationStep.genericError.message")})),!1)}(o,null===(n=r[e])||void 0===n?void 0:n.options);k.jo.HANDLER_AUTHENTICATORS.includes(t);var l=k.jo.FIRST_FACTOR_AUTHENTICATORS.includes(t),c=k.jo.SECOND_FACTOR_AUTHENTICATORS.includes(t)||function(e){return Hr(e)&&Vr(e)}(o),s=Ge.isSecondFactorAdditionValid(o.defaultAuthenticator.authenticatorId,e,r);if(!c||(l||0!==e&&s)&&(!l||0===e||s)){if((!Me.tZ.signInMethod.authenticatorSelection.customAuthenticatorAdditionValidation||Me.tZ.signInMethod.authenticatorSelection.customAuthenticatorAdditionValidation(t,e,T))&&a){var u=o.authenticators.find((function(e){return e.authenticatorId===o.defaultAuthenticator.authenticatorId}));null===(i=r[e])||void 0===i||null===(i=i.options)||void 0===i||i.push({authenticator:u.name,idp:o.idp}),I($r($r({},S),{},{steps:r}))}}else T((0,B.V_)({description:y("applications:notifications.secondFactorAuthenticatorToFirstStep.genericError.description"),level:V.QU.WARNING,message:y("applications:notifications.secondFactorAuthenticatorToFirstStep.genericError.message")}))}},addSignInStep:function(){var e=Gr(null==S?void 0:S.steps),t=S.script;j.isDefaultScript(t,e.length)&&(t=j.generateScript(e.length+2).join("\n")),e.push({id:e.length+1,options:[]}),I($r($r({},S),{},{script:t,steps:e}))},applicationMetaData:t,authenticationSequence:S,authenticators:_,defaultAuthenticationSequence:K,hiddenAuthenticators:l,isAdaptiveAuthAvailable:Z,isAuthenticationSequenceDefault:Y,isConditionalAuthenticationEnabled:w,isLegacyEditorEnabled:q,isSystemApplication:o,isValidAuthenticationFlow:G,isVisualEditorEnabled:F,onActiveFlowModeChange:function(e){I(null==t?void 0:t.authenticationSequence)},onConditionalAuthenticationToggle:function(e){return N(e)},refetchApplication:function(){return r(t.id)},refetchAuthenticators:a,removeSignInOption:function(e,t){var n,i=Gr(null==S?void 0:S.steps),o=i[e],r=null===(n=o.options)||void 0===n?void 0:n.find((function(e){return e.authenticator===t})),a=-1;(null==r?void 0:r.authenticator)!==v.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME&&(null==r?void 0:r.authenticator)!==v.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME&&(null==r?void 0:r.authenticator)!==v.$.AUTHENTICATOR_NAMES.SMS_OTP_AUTHENTICATOR_NAME||Ge.hasSpecificAuthenticatorInCurrentStep(v.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME,e,i)&&Ge.countTwoFactorAuthenticatorsInCurrentStep(e,i)<2&&o.options.map((function(e,t){e.authenticator===v.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME&&(a=t)}));var l=Kr(Ge.getLeftAndRightSideSteps(e,i),2),c=l[0],s=l[1];if(Ge.hasSpecificFactorsInSteps(Gr(k.jo.SECOND_FACTOR_AUTHENTICATORS),s)){var u=$r({},r),d=Ge.countSpecificFactorInSteps(Gr(k.jo.SECOND_FACTOR_AUTHENTICATORS),s)===Ge.countSpecificFactorInSteps([v.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME,v.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME],s),p=[].concat(Gr(k.jo.FIRST_FACTOR_AUTHENTICATORS),[v.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME]).includes(u.authenticator),m=[].concat(Gr(k.jo.TOTP_HANDLERS),Gr(k.jo.EMAIL_OTP_HANDLERS)).includes(u.authenticator),f=Ge.getImmediateStepHavingSpecificFactors(k.jo.SECOND_FACTOR_AUTHENTICATORS,i);if(p||m){var g=0,h=0;if(i[e].options.filter((function(e){k.jo.FIRST_FACTOR_AUTHENTICATORS.includes(e.authenticator)&&g++,[].concat(Gr(k.jo.TOTP_HANDLERS),Gr(k.jo.EMAIL_OTP_HANDLERS)).includes(e.authenticator)&&h++})),d&&h<=1||!d&&g<=1)if(!(d?Ge.hasSpecificFactorsInSteps([].concat(Gr(k.jo.TOTP_HANDLERS),Gr(k.jo.EMAIL_OTP_HANDLERS)),c):Ge.hasSpecificFactorsInSteps(k.jo.FIRST_FACTOR_AUTHENTICATORS,c))){var b=Kr(Ge.getLeftAndRightSideSteps(f,i),1)[0];if((d?Ge.countSpecificFactorInSteps([].concat(Gr(k.jo.TOTP_HANDLERS),Gr(k.jo.EMAIL_OTP_HANDLERS)),b):Ge.countSpecificFactorInSteps(k.jo.FIRST_FACTOR_AUTHENTICATORS,b))<=1)return void z()}}}-1!==a&&i[e].options.splice(a,1);var E=i[e].options.findIndex((function(e){return e.authenticator===t}));-1!==E&&i[e].options.splice(E,1),I($r($r({},S),{},{steps:i}))},removeSignInStep:function(e){var t=Gr(null==S?void 0:S.steps),n=S.script;if(t.length<=1)T((0,B.V_)({description:y("applications:notifications.authenticationStepMin.genericError.description"),level:V.QU.WARNING,message:y("applications:notifications.authenticationStepMin.genericError.message")}));else{var i=Kr(Ge.getLeftAndRightSideSteps(e,t),3),o=i[0],r=i[1],a=i[2],l=Ge.hasSpecificFactorsInSteps(k.jo.SECOND_FACTOR_AUTHENTICATORS,r),c=Ge.countSpecificFactorInSteps([v.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME],r),s=Ge.countSpecificFactorInSteps(k.jo.SECOND_FACTOR_AUTHENTICATORS,r)+Ge.countSpecificFactorInSteps(k.jo.FIRST_FACTOR_AUTHENTICATORS,r);if(l)if(!(s===c?Ge.hasSpecificFactorsInSteps(k.jo.TOTP_HANDLERS,o):Ge.hasSpecificFactorsInSteps(k.jo.FIRST_FACTOR_AUTHENTICATORS,o)||Ge.checkImmediateStepHavingSpecificFactors(k.jo.FIRST_FACTOR_AUTHENTICATORS,a)))return void T((0,B.V_)({description:y("applications:notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.description"),level:V.QU.WARNING,message:y("applications:notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.message")}));j.isDefaultScript(n,t.length)&&(n=j.generateScript(t.length).join("\n")),t.splice(e,1),t.forEach((function(e,t){return e.id=t+1})),I($r($r({},S),{},{script:n,steps:t}))}},revertAuthenticationSequenceToDefault:function(){I(K)},updateAuthenticationSequence:function(e){I($r($r($r({},S),(0,$.Z)(e)),{},{type:P.a1.USER_DEFINED}))},updateVisualEditorFlowNodeMeta:Q,visualEditorFlowNodeMeta:U}},i)};var Xr=n(30639),ea=n(85686),ta=n(16590),na=n(23750),ia=n(36940),oa=n(26060),ra=n.n(oa),aa=n(64704),la=n(86885),ca=n(71551),sa=n(39114),ua=n(50988),da=n(66638),pa=n(23744),ma=n(58934),fa=n(19980);function ga(e){return function(e){if(Array.isArray(e))return ba(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||va(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ha(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||va(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function va(e,t){if(e){if("string"==typeof e)return ba(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ba(e,t):void 0}}function ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Ea=(0,c.forwardRef)((function(e,t){var n=e.defaultActiveIndexes,i=e.onTemplateSelect,o=e.templates,r=e.title,a=e.visible,l=e.isELKConfigureClicked,s=e.onELKModalClose,u=e.readOnly,d=e["data-componentid"],m=(0,W.$)().t,f=ha((0,c.useState)(n),2),g=f[0],h=f[1],v=ha((0,c.useState)(null),2),b=v[0],E=v[1],y=ha((0,c.useState)(!1),2),A=y[0],T=y[1],O=ha((0,c.useState)(!1),2),S=O[0],I=O[1],C=ha((0,c.useState)(void 0),2),w=C[0],N=C[1],R=ha((0,c.useState)(void 0),2),_=R[0],L=R[1],P=ha((0,c.useState)(void 0),2),k=P[0],M=P[1],x=ha((0,c.useState)(!1),2),U=x[0],D=x[1],Z=(0,p.I0)(),j=function(e,t){var n=t.index,i=ga(g);if(i.includes(n)){var o=i.indexOf(n);i.splice(o,1)}else i.push(n);h(i)},F=function(e){var t={operation:"UPDATE",properties:[]};for(var n in e)t.properties.push({name:oi.e.decodeConnectorPropertyName(n),value:e[n]});Xn.K.connectorToggleName[null==w?void 0:w.name]&&Xn.K.autoEnableConnectorToggleProperty&&t.properties.push({name:oi.e.decodeConnectorPropertyName(Xn.K.connectorToggleName[null==w?void 0:w.name]),value:"true"}),D(!0),(0,ti.u9)(t,_,k).then((function(){Z((0,B.V_)({description:m("extensions:manage.serverConfigurations.analytics.form.notification.success.description"),level:V.QU.SUCCESS,message:m("governanceConnectors:notifications.updateConnector.success.message")}))})).catch((function(e){var t,n;null!=e&&e.response&&null!=e&&null!==(t=e.response)&&void 0!==t&&t.data&&null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.detail?Z((0,B.V_)({description:m("extensions:manage.serverConfigurations.analytics.form.notification.error.description"),level:V.QU.ERROR,message:m("governanceConnectors:notifications.updateConnector.error.message")})):Z((0,B.V_)({description:m("governanceConnectors:notifications.updateConnector.genericError.description"),level:V.QU.ERROR,message:m("governanceConnectors:notifications.updateConnector.genericError.message")}))})).finally((function(){D(!1),H()}))},H=function(){T(!1),s()};(0,c.useEffect)((function(){l&&z()}),[l]);var G,z=function(){!function(){var e=ni.v.OTHER_SETTINGS_CONNECTOR_CATEGORY_ID,t=ni.v.ANALYTICS_ENGINE_CONNECTOR_ID;L(e),M(t),I(!0),(0,ti.PP)(e,t).then((function(e){N(e)})).catch((function(e){var t,n,i;null!=e&&e.response&&null!=e&&null!==(t=e.response)&&void 0!==t&&t.data&&null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.detail?Z((0,B.V_)({description:m("governanceConnectors:notifications.getConnector.error.description",{description:null==e||null===(i=e.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description}),level:V.QU.ERROR,message:m("governanceConnectors:notifications.getConnector.error.message")})):Z((0,B.V_)({description:m("governanceConnectors:notifications.getConnector.genericError.description"),level:V.QU.ERROR,message:m("governanceConnectors:notifications.getConnector.genericError.message")}))})).finally((function(){I(!1)}))}(),T(!0)};return c.createElement(c.Fragment,null,b&&c.createElement(vi,{template:b,open:!!b,onClose:function(){E(null)}}),c.createElement(ua.Z,{as:fa.Z,ref:t,className:"script-templates-panel",animation:"overlay",icon:"labeled",direction:"right",vertical:!0,secondary:!0,visible:a,"data-componentid":d},r&&"string"==typeof r?c.createElement(q.X6,{as:"h6",bold:!0},r):r,o&&o instanceof Array&&o.length>0?c.createElement(ma.Z,{as:ca.Z,className:"template-category-menu","data-componentid":"".concat(d,"-accordion"),fluid:!0,secondary:!0,vertical:!0},(0,pa.Z)(o,"order").map((function(e,t){return(null==e?void 0:e.templates)&&e.templates instanceof Array&&c.createElement(ca.Z.Item,{key:t},c.createElement(ma.Z.Title,{active:g.includes(t),className:"category-name",content:e.displayName,index:t,icon:c.createElement(Ce.Z,{className:"angle right caret-icon"}),onClick:j,"data-componentid":"".concat(d,"-accordion-title-").concat(t)}),c.createElement(ma.Z.Content,{className:"template-list",active:g.includes(t),"data-componentid":"".concat(d,"-accordion-content-").concat(t)},e.templates.map((function(e,t){return c.createElement(ca.Z.Item,{key:t,className:"template-list-item","data-componentid":e.name},c.createElement(q.GI,{trigger:c.createElement("div",{className:"template-name"},e.name),content:e.title||e.name}),c.createElement("div",{className:"actions"},e.name===Mn&&c.createElement(q.u,{compact:!0,trigger:c.createElement(Ce.Z,{className:"add-button",name:"cog",onClick:function(){z()}}),content:m("common:configure")}),c.createElement(q.u,{compact:!0,trigger:c.createElement(Ce.Z,{className:"add-button",name:"info circle",onClick:function(){E(e)},"data-componentid":"".concat(e.name,"-info")}),content:m("applications:edit.sections.signOnMethod.sections.templateDescription.popupContent")}),!u&&c.createElement(q.u,{compact:!0,trigger:c.createElement(Ce.Z,{className:"add-button",name:"add",onClick:function(){return i(e)},"data-componentid":"".concat(e.name,"-add")}),content:m("common:add")})))}))))}))):null),c.createElement(Ie.Z,{open:A,onClose:H,size:"small",dimmer:"blurring"},c.createElement(Ie.Z.Header,null,null==w?void 0:w.friendlyName,c.createElement(q.X6,{subHeading:!0,ellipsis:!0,as:"h6"},m("governanceConnectors:connectorSubHeading",{name:null==w?void 0:w.friendlyName}))),c.createElement(Ie.Z.Content,{className:"elk-analytics-modal",scrolling:!0},S?c.createElement(q.pO,{inline:"centered",active:!0}):c.createElement(ii.Z,{onSubmit:F,triggerSubmission:function(e){G=e},initialValues:w,isConnectorEnabled:!0,isSubmitting:U,hideUpdateButton:!0,isModalForm:!0})),c.createElement(Ie.Z.Actions,null,c.createElement(Pe.Z,null,c.createElement(Pe.Z.Row,{column:1},c.createElement(Pe.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(q.Qj,{"data-testid":"".concat(d,"-cancel-button"),floated:"left",onClick:function(){return H()}},m("apiResources:tabs.scopes.form.cancelButton"))),c.createElement(Pe.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(q.KM,{"data-testid":"".concat(d,"-finish-button"),floated:"right",onClick:function(){return G()},loading:U},m("common:update"))))))))}));Ea.defaultProps={"data-componentid":"script-templates-side-panel",defaultActiveIndexes:[-1],visible:!1};var ya=n(97152),Aa={};Aa.styleTagTransform=_t(),Aa.setAttributes=Ct(),Aa.insert=St().bind(null,"head"),Aa.domAPI=Tt(),Aa.insertStyleElement=Nt();yt()(ya.Z,Aa);ya.Z&&ya.Z.locals&&ya.Z.locals;function Ta(e){return Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(e)}function Oa(){Oa=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,a=Object.create(r.prototype),l=new _(i||[]);return o(a,"_invoke",{value:C(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",g="completed",h={};function v(){}function b(){}function E(){}var y={};s(y,a,(function(){return this}));var A=Object.getPrototypeOf,T=A&&A(A(L([])));T&&T!==n&&i.call(T,a)&&(y=T);var O=E.prototype=v.prototype=Object.create(y);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,r,a,l){var c=d(e[o],e,r);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Ta(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var r;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return r=r?r.then(o,o):o()}})}function C(t,n,i){var o=p;return function(r,a){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===r)throw a;return{value:e,done:!0}}for(i.method=r,i.arg=a;;){var l=i.delegate;if(l){var c=w(l,i);if(c){if(c===h)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?g:m,s.arg===h)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=g,i.method="throw",i.arg=s.arg)}}}function w(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,w(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var r=d(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Ta(t)+" is not iterable")}return b.prototype=E,o(O,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=s(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new I(u(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(O),s(O,c,"Generator"),s(O,a,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=L,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;R(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:L(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}function Sa(e,t,n,i,o,r,a){try{var l=e[r](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,o)}function Ia(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ca(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ca(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var wa=function(e){var t,n,i,o,r=e.authenticationSequence,a=e.onTemplateSelect,l=e.onScriptChange,s=e.readOnly,u=e.authenticationSteps,d=e.isDefaultScript,f=e.onAdaptiveScriptReset,g=e["data-componentid"],h=(0,W.$)().t,v=(0,q.fQ)().getLink,b=(0,p.I0)(),E=(0,c.useRef)(null),y=(0,c.useRef)(null),A=Ia((0,c.useState)(void 0),2),S=A[0],I=A[1],C=Ia((0,c.useState)(void 0),2),w=C[0],N=C[1],R=Ia((0,c.useState)(!0),2),P=R[0],M=R[1],x=Ia((0,c.useState)(void 0),2),U=x[0],D=x[1],Z=Ia((0,c.useState)(!0),2),F=Z[0],G=Z[1],z=Ia((0,c.useState)(void 0),2),K=z[0],Q=z[1],J=Ia((0,c.useState)(void 0),2),X=J[0],ee=J[1],te=Ia((0,c.useState)(!1),2),ne=te[0],oe=te[1],re=Ia((0,c.useState)(!1),2),ae=re[0],le=re[1],ce=Ia((0,c.useState)(!1),2),se=ce[0],ue=ce[1],pe=Ia((0,c.useState)(!1),2),fe=pe[0],ge=pe[1],he=Ia((0,c.useState)(!1),2),ve=he[0],be=he[1],Ee=Ia((0,c.useState)(!1),2),ye=Ee[0],Se=Ee[1],Ie=Ia((0,c.useState)(void 0),2),we=Ie[0],Re=Ie[1],_e=Ia((0,c.useState)(!1),2),Le=_e[0],Pe=_e[1],Me=Ia((0,c.useState)(!1),2),xe=Me[0],Ue=Me[1],De=Ia((0,c.useState)(null),2),Ze=De[0],je=De[1],Fe=Ia((0,c.useState)([]),2),He=Fe[0],Ve=Fe[1],Be=Ia((0,c.useState)([]),2),qe=Be[0],Ge=Be[1],ze=Ia((0,c.useState)(!0),2),$e=ze[0],We=ze[1],Ke=Ia((0,c.useState)(!1),2),Ye=Ke[0],Qe=Ke[1],Je=Ia((0,c.useState)(void 0),2),Xe=Je[0],et=Je[1],tt=Ae(),nt=tt.isConditionalAuthenticationEnabled,it=tt.onConditionalAuthenticationToggle,ot=T.l.getInstance(),rt=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),at=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.applications})),lt=(0,m.EV)(null==rt||null===(t=rt.secretsManagement)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.create),ct=(0,m.EV)(null==rt||null===(n=rt.secretsManagement)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.read),st=(0,H.cr)(null==rt?void 0:rt.applications,Pn),ut=(0,H.cr)(at,kn),dt=(0,m.EV)(null==at||null===(i=at.subFeatures)||void 0===i||null===(i=i.applicationAuthenticationScript)||void 0===i||null===(i=i.scopes)||void 0===i?void 0:i.update),pt=ut&&!dt,mt=(0,O.Z)().conditionalAuthPremiumFeature,ft=s||mt;(0,c.useEffect)((function(){ct&&gt()}),[]);var gt=function(){(Xr.F.getOrganizationType()===jr.$B.SUPER_ORGANIZATION||Xr.F.getOrganizationType()===jr.$B.FIRST_LEVEL_ORGANIZATION||Xr.F.getOrganizationType()===jr.$B.TENANT||Xr.F.getOrganizationType()===jr.$B.SUBORGANIZATION&&st)&&(We(!0),(0,jo.pR)({params:{secretType:Ho.H0}}).then((function(e){Ve(e.data),Ge(e.data)})).catch((function(e){var t,n;e.response&&e.response.data&&e.response.data.description?b((0,B.V_)({description:null===(t=e.response.data)||void 0===t?void 0:t.description,level:V.QU.ERROR,message:null===(n=e.response.data)||void 0===n?void 0:n.message})):b((0,B.V_)({description:h("secrets:errors.generic.description"),level:V.QU.ERROR,message:h("secrets:errors.generic.message")}))})).finally((function(){We(!1)})))},ht=function(){gt()},vt=function(){Se(!1),ht()};(0,c.useEffect)((function(){(0,L.im)().then((function(e){I(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?b((0,B.V_)({description:e.response.data.description,level:V.QU.ERROR,message:ia.ru.API_RETRIEVAL_ERROR_ALERT_MESSAGE})):b((0,B.V_)({description:k.jo.ADAPTIVE_AUTH_TEMPLATES_FETCH_ERROR,level:V.QU.ERROR,message:ia.ru.API_RETRIEVAL_ERROR_ALERT_MESSAGE}))}))}),[]);var Et=function(){var e,t="100%";P&&(t="calc(100% - ".concat(null==E||null===(e=E.current)||void 0===e||null===(e=e.ref)||void 0===e||null===(e=e.current)||void 0===e?void 0:e.offsetWidth,"px)"));y.current&&(y.current.style.width=t)};(0,c.useEffect)((function(){Et()}),[P]),(0,c.useEffect)((function(){Et()})),(0,c.useEffect)((function(){var e;s?it(!0):null==r||!r.script||j.isDefaultScript(r.script,null==r||null===(e=r.steps)||void 0===e?void 0:e.length)?it(!1):it(!0)}),[r]),(0,c.useEffect)((function(){Tt(null==r?void 0:r.script)}),[null==r?void 0:r.steps,null==r?void 0:r.script,u]);var yt,At,Tt=function(e){var t,n;if(nt||D(void 0),!e&&0===(null==r||null===(t=r.steps)||void 0===t?void 0:t.length))return D(j.getDefaultScript()),void oe(!1);if(!e&&(null==r||null===(n=r.steps)||void 0===n?void 0:n.length)>0)return D(j.generateScript(u+1)),void oe(!1);if(ta.StringUtils.isValidJSONString(e)){if(ne&&!ae&&j.minifyScript(K)!==j.minifyScript(JSON.parse(e)))return;return oe(!0),D(JSON.parse(e)),void le(!1)}return e&&function(e){for(var t=!1,n=X>u?X:u;n>0;n--)if(j.isDefaultScript(e,n)){t=!0;break}return t}(e)&&j.minifyScript(K)===j.minifyScript(U)||e&&j.isDefaultScript(null!=K?K:e,null!=X?X:u)&&j.minifyScript(K)!==j.minifyScript(U)?(ee(u),D(j.generateScript(u+1)),void oe(!1)):e&&!j.isDefaultScript(null!=K?K:e,null!=X?X:u)?(ee(u),j.minifyScript(K)!==j.minifyScript(e)&&j.minifyScript(K)!==j.minifyScript(U)?void D(null!=K?K:e):(D(ra().js((0,da.jr)(e))),void oe(!1))):void(d?Ot():(D(e),oe(!1)))},Ot=function(){D(""),oe(!1),f(),it(!1)},St=[{content:c.createElement("div",{className:"tour-step"},c.createElement(q.X6,{bold:!0,as:"h6"},h("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.heading")),c.createElement(q.xv,null,h("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.content.0")),c.createElement(q.xv,null,c.createElement(Y.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.content.1"},"Click on the ",c.createElement(q.EK,null,"Next")," button to learn about the process."))),disableBeacon:!0,placement:"top",target:'[data-tourid="conditional-auth"]'},{content:c.createElement("div",{className:"tour-step"},c.createElement(q.X6,{bold:!0,as:"h6"},h("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.1.heading")),c.createElement(q.xv,null,h("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.1.content.0"))),disableBeacon:!0,placement:"right",target:'[data-tourid="add-authentication-options-button"]'},{content:c.createElement("div",{className:"tour-step"},c.createElement(q.X6,{bold:!0,as:"h6"},h("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.2.heading")),c.createElement(q.xv,null,c.createElement(Y.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.2.content.0"},"Click here if you need to add more steps to the flow. Once you add a new step,",c.createElement(q.EK,null,"executeStep(STEP_NUMBER);")," will appear on the script editor."))),disableBeacon:!0,placement:"right",target:'[data-tourid="add-new-step-button"]'}],It=function(){var e,t=(e=Oa().mark((function e(){return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Xe){e.next=19;break}return e.prev=1,e.next=4,(0,jo.c8)({params:{secretName:Xe.secretName,secretType:Xe.type}});case 4:b((0,B.V_)({description:h("secrets:alerts.deleteSecret.description",{secretName:Xe.secretName,secretType:Xe.type}),level:V.QU.SUCCESS,message:h("secrets:alerts.deleteSecret.message")})),e.next=13;break;case 7:if(e.prev=7,e.t0=e.catch(1),!(e.t0.response&&e.t0.response.data&&e.t0.response.data.description)){e.next=12;break}return b((0,B.V_)({description:e.t0.response.data.description,level:V.QU.ERROR,message:e.t0.response.data.message})),e.abrupt("return");case 12:b((0,B.V_)({description:h("secrets:errors.generic.description"),level:V.QU.ERROR,message:h("secrets:errors.generic.message")}));case 13:return e.prev=13,ht(),Qe(!1),et(void 0),e.finish(13);case 19:case"end":return e.stop()}}),e,null,[[1,7,13,19]])})),function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){Sa(r,i,o,a,l,"next",e)}function l(e){Sa(r,i,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),Ct=function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=Po.W.getUserPreferences();if(!(0,Te.Z)(n)){var i=(0,$.Z)(n);(0,ko.Z)(null==i||null===(e=i.identityAppsSettings)||void 0===e?void 0:e.devPortal,k.jo.CONDITIONAL_AUTH_TOUR_STATUS_STORAGE_KEY,t),Po.W.setUserPreferences(i)}},wt=function(){var e,t=Po.W.getUserPreferences();return!(0,Te.Z)(t)&&(0,aa.Z)(null==t||null===(e=t.identityAppsSettings)||void 0===e?void 0:e.devPortal,k.jo.CONDITIONAL_AUTH_TOUR_STATUS_STORAGE_KEY,!1)},Nt=c.createElement(q.cV,{onClose:function(){Qe(!1),et(void 0)},onSecondaryActionClick:function(){Qe(!1),et(void 0)},onPrimaryActionClick:It,open:Ye,type:"negative",assertionHint:h("secrets:modals.deleteSecret.assertionHint"),assertionType:"checkbox",primaryAction:h("secrets:modals.deleteSecret.primaryActionButtonText"),secondaryAction:h("secrets:modals.deleteSecret.secondaryActionButtonText"),"data-componentid":"".concat(g,"-delete-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(q.cV.Header,{"data-componentid":"".concat(g,"-delete-confirmation-modal-header")},h("secrets:modals.deleteSecret.title")),c.createElement(q.cV.Message,{attached:!0,negative:!0,"data-componentid":"".concat(g,"-delete-confirmation-modal-message")},h("secrets:modals.deleteSecret.warningMessage")),c.createElement(q.cV.Content,{"data-componentid":"".concat(g,"-delete-confirmation-modal-content")},h("secrets:modals.deleteSecret.content")));return c.createElement(c.Fragment,null,c.createElement("div",{className:"conditional-auth-section"},c.createElement(q.el,{fluid:!0,"data-componentid":"".concat(g,"-accordion"),className:"conditional-auth-accordion"},c.createElement(q.el.Title,{"data-componentid":"".concat(g,"-accordion-title"),active:nt,content:c.createElement(c.Fragment,null,c.createElement("div",{className:"conditional-auth-accordion-title"},!ft&&!pt&&c.createElement(sa.Z,{toggle:!0,"data-tourid":"conditional-auth",onChange:function(){nt?ue(!0):(ot.publish("application-sign-in-method-enable-conditional-authentication"),it(!0))},checked:nt,className:"conditional-auth-accordion-toggle"}),c.createElement("div",{className:"conditional-auth-accordion-title-text"},c.createElement(q.X6,{as:"h5",compact:!0,className:"heading"},h("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.heading"+(s?".readOnly":".readWrite")),s&&c.createElement(q.GI,{basic:!0,inverted:!0,position:"top center",content:c.createElement("p",null,h("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.tooltip.readOnly")),trigger:c.createElement(Ce.Z,{className:"warning-sign",name:"warning sign",color:"yellow"})}),ft&&c.createElement(ke.Z,{icon:c.createElement(bt.nb,null),label:h(me.j.PREMIUM),className:"oxygen-menu-item-chip oxygen-chip-premium",style:{height:"fit-content"}})),c.createElement(q.xv,{muted:!0,compact:!0},h("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.description"),c.createElement(q.eb,{link:v("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.learnMore")},h("common:learnMore"))))),c.createElement(la.ZP,{continuous:!0,disableOverlay:!0,showSkipButton:!0,callback:function(e){e.status!==la.Q_.FINISHED&&e.status!==la.Q_.SKIPPED||Ct()},run:!!nt&&!1===wt(),steps:St,styles:{buttonClose:{display:"none"},tooltipContent:{paddingBottom:1}},locale:{back:h("common:back"),close:h("common:close"),last:h("common:done"),next:h("common:next"),skip:h("common:skip")}}),mt&&c.createElement(To,null)),hideChevron:!0}),c.createElement(q.el.Content,{active:nt,className:"conditional-auth-accordion-content","data-componentid":"".concat(g,"-accordion-content")},!(mt&&(null==r||!r.script))&&c.createElement(ua.Z.Pushable,{className:"script-editor-with-template-panel no-border"},!ft&&c.createElement(Ea,{onELKModalClose:function(){return Pe(!1)},isELKConfigureClicked:Le,title:h("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.templates.heading"),ref:E,onTemplateSelect:function(e){N(e),ge(!0)},templates:(null==S?void 0:S.templatesJSON)&&Object.values(S.templatesJSON),visible:P,readOnly:ft,"data-componentid":"".concat(g,"-script-templates-side-panel")}),c.createElement(ua.Z.Pusher,null,c.createElement("div",{className:"script-editor-container",ref:y},!mt&&c.createElement(ca.Z,{attached:"top",className:"action-panel",secondary:!0},c.createElement(ca.Z.Menu,{position:"right"},void 0===(At=v("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.apiReference"))?null:c.createElement(ca.Z.Item,{className:"action p-3",href:At,target:"_blank"},c.createElement(q.u,{compact:!0,trigger:c.createElement(q.zx,{labelPosition:"left"},c.createElement(q.dn,{className:"p-1 mr-1",transparent:!0,defaultIcon:!0,size:"micro",icon:(0,de.YT)().openBookIcon,"data-componentid":"".concat(g,"-code-editor-open-documentation")}),c.createElement("p",null,h("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.apiDocumentation"))),content:h("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.goToApiDocumentation"),size:"mini"})),(null==rt||null===(o=rt.secretsManagement)||void 0===o?void 0:o.enabled)&&ct&&c.createElement(ca.Z.Item,{className:"action ".concat(xe?"selected-secret":"")},c.createElement("div",null,c.createElement(c.Fragment,null,c.createElement(q.dn,{hoverable:!0,transparent:!0,defaultIcon:!0,size:"micro",hoverType:"rounded",icon:(0,de.YT)().keyIcon,"data-componentid":"".concat(g,"-code-editor-secret-selection"),onClick:function(e){je(e.currentTarget),Ue(!0)}}),c.createElement(Mo.ZP,{anchorEl:Ze,open:xe,onClose:function(){je(null),Ue(!1),Ge(He)},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},"data-componentid":"".concat(g,"-popover")},!$e&&He.length>0&&c.createElement("div",{className:"secret-search-input-container"},c.createElement(Ne.Z,{"data-componentid":"".concat(g,"-secret-search"),icon:"search",iconPosition:"left",className:"secret-search-input",placeholder:h("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.search"),onChange:function(e){var t;null!==(t=e.currentTarget)&&void 0!==t&&t.value?Ge(He.filter((function(t){return t.secretName.toLowerCase().includes(e.currentTarget.value.toLowerCase())}))):Ge(He)},onClick:function(e){return e.stopPropagation()}})),c.createElement(Uo.Z,{"data-componentid":"".concat(g,"-secret-list"),className:"secrets-dropdown"},$e?c.createElement(Do.Z,{className:"create-new-secret-dropdown-item-loading","data-componentid":"".concat(g,"-list-loader")},c.createElement(No.Z,{size:20})):qe.length>0?qe.map((function(e,t){return c.createElement(c.Fragment,null,c.createElement(Do.Z,{key:e.secretId,"data-componentid":"".concat(g,"-list-item-").concat(e.secretId)},c.createElement(Zo.Z,{primary:c.createElement(_.Z,{noWrap:!0},e.secretName),secondary:c.createElement(_.Z,{noWrap:!0},e.description)}),c.createElement(Kt.Z,{onClick:function(){return function(e){var t=null==we?void 0:we.getDoc(),n='"'.concat(e.secretName,'"');if(t.somethingSelected())t.replaceSelection(n);else{var i=t.getCursor();t.replaceRange(n,i)}}(e)},"data-componentid":"".concat(g,"-secret-add")},c.createElement(bt.pO,{size:14})),c.createElement(Kt.Z,{onClick:function(){!function(e){et(e),Qe(!0)}(e)},"data-componentid":"".concat(g,"-secret-delete")},c.createElement(bt.XH,{size:14}))),t!==(null==qe?void 0:qe.length)-1&&c.createElement(Gt.Z,null))})):c.createElement(Do.Z,{className:"create-new-secret-dropdown-empty-placeholder","data-componentid":"".concat(g,"-empty-placeholder")},c.createElement(Zo.Z,null,c.createElement(_.Z,{variant:"body1",align:"center",gutterBottom:!0},h("authenticationFlow:scriptEditor.secretSelector.emptyPlaceholder.header")),c.createElement(Gt.Z,null),c.createElement(_.Z,{variant:"caption"},c.createElement(Y.c,{i18nKey:"authenticationFlow:scriptEditor.secretSelector.emptyPlaceholder.description"},"You can securely store sensitive information, such as API keys and other secrets, for use in conditional authentication scripts. Once stored, these secrets can be referenced in your scripts using the syntax",c.createElement(xo.Z,{variant:"caption"},"secrets.{secret_name}"),".")))),(null==rt||null===(yt=rt.secretsManagement)||void 0===yt?void 0:yt.enabled)&&lt&&!$e&&(Xr.F.getOrganizationType()===jr.$B.SUPER_ORGANIZATION||Xr.F.getOrganizationType()===jr.$B.FIRST_LEVEL_ORGANIZATION||Xr.F.getOrganizationType()===jr.$B.TENANT||Xr.F.getOrganizationType()===jr.$B.SUBORGANIZATION&&st)&&c.createElement(c.Fragment,null,c.createElement(Gt.Z,null),c.createElement(Do.Z,{onClick:function(){return null},disableGutters:!0,disablePadding:!0},c.createElement(ie.Z,{fullWidth:!0,color:"primary",className:"create-new-secret-button",startIcon:c.createElement(bt.pO,{size:14}),onClick:function(){je(null),Ue(!1),Se(!0)},"data-componentid":"".concat(g,"-create-new-secret-button")},h("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.create"))))))))),c.createElement(ca.Z.Item,{className:"action"},c.createElement(q.u,{compact:!0,trigger:c.createElement("div",null,c.createElement(q.dn,{hoverable:!0,transparent:!0,defaultIcon:!0,size:"micro",hoverType:"rounded",icon:(0,de.YT)().maximize,onClick:function(){be(!ve)},"data-componentid":"".concat(g,"-code-editor-\n                                                                            fullscreen-toggle")})),content:function(){var e=h("common:goFullScreen");return ve&&setTimeout((function(){e=h("common:exitFullScreen")}),500),e},size:"mini"})),c.createElement(ca.Z.Item,{className:"action"},c.createElement(q.u,{compact:!0,trigger:c.createElement("div",null,c.createElement(q.dn,{hoverable:!0,defaultIcon:!0,transparent:!0,size:"micro",hoverType:"rounded",icon:F?(0,de.YT)().lightMode:(0,de.YT)().darkMode,onClick:function(){G(!F)},"data-componentid":"".concat(g,"-code-editor-mode-toggle")})),content:h(F?"common:lightMode":"common:darkMode"),size:"mini"})),!ft&&c.createElement(ca.Z.Item,{onClick:function(){M(!P)},className:"action hamburger","data-componentid":"".concat(g,"-script-template-sidebar-toggle")},c.createElement(Ce.Z,{name:"bars"})))),c.createElement("div",{className:"code-editor-wrapper"},c.createElement(q.pq,{editorDidMount:function(e){Re(e)},lint:!0,allowFullScreen:!0,controlledFullScreenMode:!1,triggerFullScreen:ve,language:"javascript",sourceCode:U,options:{lineWrapping:!0},onChange:function(e,t,n){Q(n),l(n)},onFullScreenToggle:function(e){be(e),function(){var e=j.sourceToString(K);if(e!==j.sourceToString(U)){var t=null==we?void 0:we.doc.getCursor();D(e.split(k.jo.LINE_BREAK)),null==we||we.doc.setCursor(t)}}()},theme:F?"dark":"light",readOnly:ft,translations:{copyCode:h("common:copyToClipboard"),exitFullScreen:h("common:exitFullScreen"),goFullScreen:h("common:goFullScreen")},"data-componentid":"".concat(g,"-code-editor")}))))))),ye&&c.createElement(Fo.Z,{onClose:vt}),Ye&&Nt),se&&c.createElement(q.cV,{onClose:function(){return ue(!1)},type:"warning",open:se,primaryAction:h("common:confirm"),secondaryAction:h("common:cancel"),onSecondaryActionClick:function(){return ue(!1)},onPrimaryActionClick:function(){ue(!1),Ot()},"data-componentid":"".concat(g,"-delete-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(q.cV.Header,{"data-componentid":"".concat(g,"-reset-confirmation-modal-header")},h("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.heading")),c.createElement(q.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(g,"-reset-confirmation-modal-message")},h("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.message")),c.createElement(q.cV.Content,{"data-componentid":"".concat(g,"-reset-confirmation-modal-content")},c.createElement(Y.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.content"},"This action will reset the adaptive authentication script back to default. Click ",c.createElement(q.EK,null,"Confirm")," to proceed."))),fe&&c.createElement(q.cV,{onClose:function(){return ge(!1)},type:"warning",open:fe,primaryAction:h("common:confirm"),secondaryAction:h("common:cancel"),onSecondaryActionClick:function(){ge(!1),N(void 0)},onPrimaryActionClick:function(){var e;ge(!1),e=w,ot.publish("application-sign-in-method-conditional-authentication-template",{type:(0,Oe.Z)(e.name)}),le(!0),a(e),N(void 0)},"data-componentid":"".concat(g,"-adaptive-script-template-change-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(q.cV.Header,{"data-componentid":"".concat(g,"-reset-confirmation-modal-header")},h("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.heading")),c.createElement(q.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(g,"-reset-confirmation-modal-message")},h("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.message")),c.createElement(q.cV.Content,{"data-componentid":"".concat(g,"-reset-confirmation-modal-content")},w.name===Mn&&c.createElement(c.Fragment,null,c.createElement(q.xv,null,c.createElement(Y.c,{i18nKey:"governanceConnectors:connectorCategories.otherSettings.connectors.elasticAnalyticsEngine.warningModal.configure"},"(",c.createElement(q.rU,{onClick:function(){return Pe(!0)},external:!1},"Configure"),"ELK Analytics settings for proper functionality.)")),c.createElement(q.xv,null,c.createElement(Y.c,{i18nKey:"governanceConnectors:connectorCategories.otherSettings.connectors.elasticAnalyticsEngine.warningModal.reassure"},"You can update your settings anytime.")," (",c.createElement(q.EK,null,c.createElement(bt.UG,{size:14})),")")),c.createElement(Y.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.changeConfirmation.content"},"The selected template will replace the existing script in the editor and the step configuration. Your current progress will be lost. Click ",c.createElement(q.EK,null,"Confirm")," to proceed."))))};wa.defaultProps={"data-componentid":"script-based-flow"};var Na=n(50250),Ra=n(719);function _a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return La(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?La(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function La(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Pa=function(e){var t=e.authenticators,n=e.className,i=e.onStepDelete,o=e.onAddAuthenticationClick,r=e.onStepOptionAuthenticatorChange,a=e.onStepOptionDelete,l=e.readOnly,s=e.showStepDeleteAction,u=e.showStepMeta,d=e.step,p=e.stepIndex,m=e.subjectStepId,f=e.attributeStepId,g=e.onSubjectCheckboxChange,E=e.onAttributeCheckboxChange,y=e.updateAuthenticationStep,T=e["data-componentid"],O=(0,W.$)().t,S=(0,A.Z)().UIConfig,I=null==S?void 0:S.connectionResourcesUrl,C=z()("authentication-step-container timeline-body",n),w=_a((0,c.useState)(!1),2),N=w[0],R=w[1],_=_a((0,c.useState)(!1),2),L=_[0],P=_[1],k=_a((0,c.useState)(null),2),M=k[0],x=k[1],U=Ae().isConditionalAuthenticationEnabled;(0,c.useEffect)((function(){var e=!1;d.options.map((function(t){[v.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME,v.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME,v.$.AUTHENTICATOR_NAMES.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_NAME].includes(t.authenticator)?R(!1):R(!0),[v.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME,v.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME,v.$.AUTHENTICATOR_NAMES.SMS_OTP_AUTHENTICATOR_NAME,v.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME].includes(t.authenticator)&&(e=!0)})),P(e)}),[JSON.stringify(d.options)]);var D,Z=(0,c.useMemo)((function(){return m===p+1}),[m,p]),j=(0,c.useMemo)((function(){return f===p+1}),[f,p]),F=(0,c.useMemo)((function(){var e=!1;return d.options.map((function(t,n){t.authenticator===v.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME&&(e=!0,x(n))})),e}),[JSON.stringify(d.options)]);return c.createElement("div",{className:"timeline-item"},c.createElement("div",{className:"timeline-badge"},d.id),c.createElement("div",{className:C,"data-componentid":T},u&&c.createElement("div",{className:"authentication-step-actions"},c.createElement(q.X6,{className:"step-header",bold:"500",as:"h6"},O("common:step")," ",d.id),!l&&s&&c.createElement(Ce.Z,{className:"delete-button",name:"cancel",onClick:function(){return i(p)},"data-componentid":"".concat(T,"-delete-button")})),c.createElement("div",{className:"authentication-step with-extension ".concat(d.options&&d.options instanceof Array&&d.options.length>0?"":"empty-placeholder-container")},d.options&&d.options instanceof Array&&d.options.length>0?c.createElement(c.Fragment,null,d.options.map((function(e,n){return function(e,n,i){if(t&&t instanceof Array&&t.length>0){var o,s,u,d,p=null;return(p=e.idp===v.$.LOCAL_IDP_IDENTIFIER?t.find((function(t){return t.defaultAuthenticator.name===e.authenticator})):(null==e?void 0:e.authenticator)===h.$.AUTHENTICATOR_NAMES.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_NAME?null==t?void 0:t.find((function(e){return(null==e?void 0:e.id)===en.F.getOrganizationAuthenticator().id})):t.find((function(t){return t.idp===e.idp})))?c.createElement(q.GI,{wide:!0,style:{minWidth:"200px"},key:n,hoverable:!0,disabled:!(null!==(o=p)&&void 0!==o&&o.authenticators&&p.authenticators instanceof Array&&p.authenticators.length>1),trigger:c.createElement("div",{className:"authenticator-item-wrapper","data-componentid":"".concat(T,"-option"),hidden:(null===(s=p)||void 0===s?void 0:s.id)===v.$.AUTHENTICATOR_IDS.BACKUP_CODE_AUTHENTICATOR_ID},c.createElement(_e.Z,{fluid:!0,className:"basic-card authenticator-card"},c.createElement(_e.Z.Content,null,!l&&c.createElement(Re.Z,{basic:!0,floating:!0,circular:!0,className:"close-button",size:"mini",onClick:!l&&function(){return a(n,i)},"data-componentid":"".concat(T,"-close-button")},c.createElement(q.dn,{transparent:!0,size:"nano",icon:(0,de.s_)().crossIcon})),c.createElement(q.dn,{square:!0,inline:!0,className:"card-image",size:"micro",spaced:"right",floated:"left",icon:p.idp===Na.Xi.LOCAL||b.Zs.isOrganizationSSOConnection(null===(u=p.defaultAuthenticator)||void 0===u?void 0:u.authenticatorId)?p.image:b.Zs.resolveConnectionResourcePath(I,p.image),"data-componentid":"".concat(T,"-image"),transparent:!0}),c.createElement("span",{"data-componentid":"".concat(T,"-option-name")},p.displayName)))),content:c.createElement("div",null,c.createElement(Re.Z,{attached:"top"},O("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.selectAuthenticator")),c.createElement(Le.Z,{"data-componentid":"".concat(T,"-authenticator-selection")},null===(d=p)||void 0===d||null===(d=d.authenticators)||void 0===d?void 0:d.map((function(t){return c.createElement(Le.Z.Field,{key:t.authenticatorId},c.createElement(Ra.Z,{label:t.name,name:t.name,value:t.authenticatorId,checked:t.name===e.authenticator,onChange:function(){return r(n,i,t)}}))}))))}):null}}(e,p,n)})),!l&&c.createElement(q.Qj,{"data-tourid":"add-authentication-options-button",className:"authenticator-item-wrapper",onClick:o},c.createElement(Ce.Z,{name:"plus"}),O("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.addAuthentication"))):!l&&c.createElement(c.Fragment,null,c.createElement(q.Qj,{fluid:!0,"data-tourid":"add-authentication-options-button",onClick:o},c.createElement(Ce.Z,{name:"plus"}),O("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.addAuthentication")),c.createElement(q.$J,{subtitle:[O("applications:placeholders.emptyAuthenticatorStep.subtitles.0")],"data-componentid":"".concat(T,"-empty-placeholder")}))),!l&&u&&d.options&&d.options instanceof Array&&d.options.length>0&&c.createElement("div",{className:"checkboxes-extension"},N?c.createElement(c.Fragment,null,(D=!1,d.options.map((function(e){e.authenticator!==v.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME||U||(D=!0)})),D?c.createElement(q.u,{trigger:c.createElement(sa.Z,{label:O("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.subjectIdentifierFrom.label"),checked:Z,"data-componentid":"".concat(T,"-subject-step-checkbox"),onChange:function(){return g(p+1)},readOnly:!0}),content:O("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.idf.tooltipText"),"data-componentid":"".concat(T,"-subject-step-tooltip"),basic:!0}):c.createElement(sa.Z,{label:O("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.subjectIdentifierFrom.label"),checked:Z,"data-componentid":"".concat(T,"-subject-step-checkbox"),onChange:function(){return g(p+1)},readOnly:Z})),d.options.some((function(e){return e.authenticator===v.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME&&!U}))?c.createElement(q.u,{trigger:c.createElement(sa.Z,{label:O("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.attributesFrom.label"),checked:j,"data-componentid":"".concat(T,"-attribute-step-checkbox"),onChange:function(){return E(p+1)},readOnly:!0}),content:O("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.idf.tooltipText"),"data-componentid":"".concat(T,"-attribute-step-tooltip"),basic:!0}):c.createElement(sa.Z,{label:O("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.attributesFrom.label"),checked:j,"data-componentid":"".concat(T,"-attribute-step-checkbox"),onChange:function(){return E(p+1)},readOnly:j})):null,L?c.createElement(sa.Z,{label:O("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.enableBackupCodes.label"),checked:F,onChange:function(){F?a(p,M):y(p,v.$.AUTHENTICATOR_IDS.BACKUP_CODE_AUTHENTICATOR_ID)}}):null)))};function ka(e){return function(e){if(Array.isArray(e))return Ua(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||xa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xa(e,t){if(e){if("string"==typeof e)return Ua(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ua(e,t):void 0}}function Ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Pa.defaultProps={"data-componentid":"authentication-step"};var Da=function(e){var t,n=e.authenticators,i=e.authenticationSequence,o=e.onIDPCreateWizardTrigger,r=e.onUpdate,a=e.readOnly,l=e.triggerUpdate,s=e.updateSteps,u=e.onAuthenticationSequenceChange,d=e.isApplicationShared,f=e["data-componentid"],g=(0,W.$)().t,b=(0,p.I0)(),E=Ma((0,c.useState)([]),2),y=E[0],A=E[1],O=Ma((0,c.useState)([]),2),S=O[0],I=O[1],C=Ma((0,c.useState)([]),2),w=C[0],N=C[1],R=Ma((0,c.useState)([]),2),_=R[0],L=R[1],M=Ma((0,c.useState)([]),2),x=M[0],U=M[1],D=Ma((0,c.useState)([]),2),Z=D[0],j=D[1],F=Ma((0,c.useState)([]),2),H=F[0],G=F[1],z=Ma((0,c.useState)([]),2),$=z[0],K=z[1],Y=Ma((0,c.useState)([]),2),Q=Y[0],J=Y[1],X=Ma((0,c.useState)(1),2),ee=X[0],te=X[1],ne=Ma((0,c.useState)(1),2),ie=ne[0],oe=ne[1],re=Ma((0,c.useState)(!1),2),ae=re[0],le=re[1],ce=Ma((0,c.useState)(!1),2),se=ce[0],ue=ce[1],de=Ma((0,c.useState)(1),2),pe=de[0],me=de[1],fe=Ma((0,c.useState)(!1),2),ge=fe[0],he=fe[1],ve=Ma((0,c.useState)(0),2),be=ve[0],Ee=ve[1],ye=Ma((0,c.useState)(0),2),Ae=ye[0],Oe=ye[1],Se=Ma((0,c.useState)(0),2),Ie=Se[0],Ce=Se[1],we=(0,c.useRef)(null),Ne=T.l.getInstance(),Re=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),_e=(0,m.EV)(null==Re||null===(t=Re.identityProviders)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.create);(0,c.useEffect)((function(){if(n&&Array.isArray(n)&&n[0]&&n[1]){var e=n[0],t=n[1],i=[],o=[],r=[],a=[],l=[],c=[],s=[],u=[];e.forEach((function(e){e.name===v.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME?u.push(e):k.jo.SECOND_FACTOR_AUTHENTICATORS.includes(e.id)?s.push(e):Ge.isCustomAuthenticator(e)?Ge.isSecondFactorAuthenticator(e)?l.push(e):a.push(e):c.push(e)})),t.forEach((function(e){k.jo.SOCIAL_AUTHENTICATORS.includes(e.defaultAuthenticator.authenticatorId)?i.push(e):k.jo.SECOND_FACTOR_AUTHENTICATORS.includes(e.defaultAuthenticator.authenticatorId)?s.push(e):Ge.isCustomAuthenticator(e)?r.push(e):o.push(e)})),L(s),U(u),N(c),A(o),I(i),j(r),G(a),K(l)}}),[n]),(0,c.useEffect)((function(){i&&(J(null==i?void 0:i.steps),te(null==i?void 0:i.subjectStepId),oe(null==i?void 0:i.attributeStepId))}),[i]),(0,c.useEffect)((function(){l&&(Fe()&&r({attributeStepId:ie,requestPathAuthenticators:[],steps:Q,subjectStepId:ee,type:P.a1.USER_DEFINED}))}),[l]),(0,c.useEffect)((function(){if(null!=we&&we.current)try{we.current.scrollLeft=we.current.scrollWidth}catch(e){}}),[Q]),(0,c.useEffect)((function(){ka(Q).some((function(e){return!(0,Te.Z)(e.options)}))?u(!1,Q):u(!0,Q)}),[Q]);var Le=function(e,t){var n,i=[].concat(ka(w),ka(y),ka(S),ka(_),ka(x),ka(Z),ka(H),ka($)).find((function(e){return e.id===t}));if(i){var o=ka(Q);e===o.length&&(o.push({id:o.length+1,options:[]}),s(!0));var r=function(e,t){var n,i=t.some((function(t){var n;return t.authenticator===(null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name)})),o=k.jo.EIDP_AUTHENTICATORS.includes(null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name);return i&&o&&(i=t.some((function(t){return t.idp===(null==e?void 0:e.idp)}))),!i||(b((0,B.V_)({description:g("applications:notifications.duplicateAuthenticationStep.genericError.description"),level:V.QU.WARNING,message:g("applications:notifications.duplicateAuthenticationStep.genericError.message")})),!1)}(i,o[e].options),a=k.jo.FIRST_FACTOR_AUTHENTICATORS.includes(t),l=k.jo.SECOND_FACTOR_AUTHENTICATORS.includes(t)||Hr(i)&&Vr(i),c=Ge.isSecondFactorAdditionValid(null==i||null===(n=i.defaultAuthenticator)||void 0===n?void 0:n.authenticatorId,e,o);if(k.jo.HANDLER_AUTHENTICATORS.includes(t)&&le(!0),!l||(a||0!==e&&c)&&(!a||0===e||c)){if((!Me.tZ.signInMethod.authenticatorSelection.customAuthenticatorAdditionValidation||Me.tZ.signInMethod.authenticatorSelection.customAuthenticatorAdditionValidation(t,e,b))&&r){var u=i.authenticators.find((function(e){return e.authenticatorId===i.defaultAuthenticator.authenticatorId}));o[e].options.push({authenticator:u.name,idp:i.idp}),He(),J(o)}}else b((0,B.V_)({description:g("applications:notifications.secondFactorAuthenticatorToFirstStep.genericError.description"),level:V.QU.WARNING,message:g("applications:notifications.secondFactorAuthenticatorToFirstStep.genericError.message")}))}},Pe=function(e,t){var n=ka(Q),i=n[e],o=i.options[t].authenticator;if(0===e&&o===h.$.AUTHENTICATOR_NAMES.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_NAME&&d)b((0,B.V_)({description:g("applications:notifications.authenticationStepDeleteErrorDueToAppShared.genericError.description"),level:V.QU.WARNING,message:g("applications:notifications.authenticationStepDeleteErrorDueToAppShared.genericError.message")}));else{if((o===v.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME||o===v.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME||o===v.$.AUTHENTICATOR_NAMES.SMS_OTP_AUTHENTICATOR_NAME)&&Ge.hasSpecificAuthenticatorInCurrentStep(v.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME,e,n)&&Ge.countTwoFactorAuthenticatorsInCurrentStep(e,n)<2)return i.options.map((function(e,t){e.authenticator===v.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME&&Oe(t)})),Ce(t),Ee(e),void ue(!0);var r=Ma(Ge.getLeftAndRightSideSteps(e,n),2),a=r[0],l=r[1];if(Ge.hasSpecificFactorsInSteps(ka(k.jo.SECOND_FACTOR_AUTHENTICATORS),l)){var c=n[e].options[t],s=Ge.countSpecificFactorInSteps(ka(k.jo.SECOND_FACTOR_AUTHENTICATORS),l)===Ge.countSpecificFactorInSteps([v.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME,v.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME],l),u=[].concat(ka(k.jo.FIRST_FACTOR_AUTHENTICATORS),[v.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME]).includes(c.authenticator),p=[].concat(ka(k.jo.TOTP_HANDLERS),ka(k.jo.EMAIL_OTP_HANDLERS)).includes(c.authenticator),m=Ge.getImmediateStepHavingSpecificFactors(k.jo.SECOND_FACTOR_AUTHENTICATORS,n);if(u||p){var f=0,E=0;if(n[e].options.filter((function(e){k.jo.FIRST_FACTOR_AUTHENTICATORS.includes(e.authenticator)&&f++,[].concat(ka(k.jo.TOTP_HANDLERS),ka(k.jo.EMAIL_OTP_HANDLERS)).includes(e.authenticator)&&E++})),s&&E<=1||!s&&f<=1&&u)if(!(s?Ge.hasSpecificFactorsInSteps([].concat(ka(k.jo.TOTP_HANDLERS),ka(k.jo.EMAIL_OTP_HANDLERS)),a):Ge.hasSpecificFactorsInSteps(k.jo.FIRST_FACTOR_AUTHENTICATORS,a))){var y=Ma(Ge.getLeftAndRightSideSteps(m,n),1)[0];if((s?Ge.countSpecificFactorInSteps([].concat(ka(k.jo.TOTP_HANDLERS),ka(k.jo.EMAIL_OTP_HANDLERS)),y):Ge.countSpecificFactorInSteps(k.jo.FIRST_FACTOR_AUTHENTICATORS,y))<=1)return void ke()}}}n[e].options.splice(t,1),J(n)}},ke=function(){b((0,B.V_)({description:g("applications:notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.description"),level:V.QU.WARNING,message:g("applications:notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.message")}))},xe=function(e,t,n){var i=ka(Q);i[e].options[t].authenticator=n.name,J(i)},Ue=function(e){var t=ka(Q);if(t.length<=1)b((0,B.V_)({description:g("applications:notifications.authenticationStepMin.genericError.description"),level:V.QU.WARNING,message:g("applications:notifications.authenticationStepMin.genericError.message")}));else{var n=Ma(Ge.getLeftAndRightSideSteps(e,t),3),i=n[0],o=n[1],r=n[2],a=Ge.hasSpecificFactorsInSteps(k.jo.SECOND_FACTOR_AUTHENTICATORS,o),l=Ge.countSpecificFactorInSteps([v.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME],o),c=Ge.countSpecificFactorInSteps(k.jo.SECOND_FACTOR_AUTHENTICATORS,o)+Ge.countSpecificFactorInSteps(k.jo.FIRST_FACTOR_AUTHENTICATORS,o);if(a)if(!(c===l?Ge.hasSpecificFactorsInSteps(k.jo.TOTP_HANDLERS,i):Ge.hasSpecificFactorsInSteps(k.jo.FIRST_FACTOR_AUTHENTICATORS,i)||Ge.checkImmediateStepHavingSpecificFactors(k.jo.FIRST_FACTOR_AUTHENTICATORS,r)))return void b((0,B.V_)({description:g("applications:notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.description"),level:V.QU.WARNING,message:g("applications:notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.message")}));t.splice(e,1),t.forEach((function(e,t){return e.id=t+1})),J(t),s(!1)}},De=function(e){return e.some((function(e){return e.authenticator===v.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME}))},Ze=function(e){te(e)},je=function(e){oe(e)},Fe=function(){var e=ka(Q);return e.find((function(e){return(0,Te.Z)(e.options)}))?(b((0,B.V_)({description:g("applications:notifications.emptyAuthenticationStep.genericError.description"),level:V.QU.WARNING,message:g("applications:notifications.emptyAuthenticationStep.genericError.message")})),!1):1===e.length&&1===e[0].options.length&&e[0].options[0].authenticator===v.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME?(b((0,B.V_)({description:g("applications:notifications.updateOnlyIdentifierFirstError.description"),level:V.QU.WARNING,message:g("applications:notifications.updateOnlyIdentifierFirstError.message")})),!1):!(1===e.length&&e[0].options.length>1&&De(e[0].options))||(b((0,B.V_)({description:g("applications:notifications.updateIdentifierFirstInFirstStepError.description"),level:V.QU.WARNING,message:g("applications:notifications.updateIdentifierFirstInFirstStepError.message")})),!1)},He=function(){Q.forEach((function(e){De(e.options)&&(ee===e.id&&e.id<Q.length&&te(ee+1),ie===e.id&&e.id<Q.length&&oe(ie+1))}))};return c.createElement("div",{className:"authentication-flow-wrapper","data-componentid":f},c.createElement("div",{className:"authentication-flow-section timeline"},c.createElement("div",{className:"timeline-button start"},c.createElement(q.dn,{size:"x50",transparent:!0,icon:(0,Qe.m9)().startButton})),c.createElement("div",{className:"authentication-steps-section",ref:we},Q&&Q instanceof Array&&Q.length>0?Q.map((function(e,t){return c.createElement(c.Fragment,{key:t},c.createElement(Pa,{authenticators:[].concat(ka(w),ka(y),ka(S),ka(_),ka(x),ka(Z),ka(H),ka($)),onStepDelete:Ue,onStepOptionAuthenticatorChange:xe,onAddAuthenticationClick:function(){he(!0),me(t)},onStepOptionDelete:Pe,showStepMeta:Q.length>1,showStepDeleteAction:Q.length>1,step:e,stepIndex:t,readOnly:a,subjectStepId:ee,attributeStepId:ie,onAttributeCheckboxChange:je,onSubjectCheckboxChange:Ze,"data-componentid":"".concat(f,"-authentication-step-").concat(t),updateAuthenticationStep:Le}))})):null),!a&&c.createElement("div",{className:"timeline-button add"},c.createElement(q.GI,{trigger:c.createElement("div",null,c.createElement(q.dn,{link:!0,transparent:!0,size:"mini",fill:"primary",icon:(0,Qe.m9)().addButton,onClick:function(){var e=ka(Q);He(),e.push({id:e.length+1,options:[]}),Ne.publish("application-sign-in-method-click-add-new-step"),J(e),s(!0)},"data-tourid":"add-new-step-button"})),position:"left center",content:"Add a new authentication step"})),c.createElement("div",{className:"timeline-button done"},c.createElement(q.dn,{size:"x50",transparent:!0,icon:(0,Qe.m9)().doneButton}))),ge&&c.createElement(ct,{authenticationSteps:Q,allowSocialLoginAddition:_e,currentStep:pe,open:ge,onModalSubmit:function(e){e.map((function(e){Le(pe,e.id)})),he(!1)},onClose:function(){return he(!1)},header:g("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.heading"),authenticators:{enterprise:y,external:Z,internal:H,local:w,recovery:x,secondFactor:_,social:S,twoFactorCustom:$},showStepSelector:!1,stepCount:Q.length,onIDPCreateWizardTrigger:o}),ae&&c.createElement(q.cV,{onClose:function(){return le(!1)},type:"warning",open:ae,primaryAction:g("common:confirm"),secondaryAction:g("common:cancel"),onPrimaryActionClick:function(){return le(!1)},"data-componentid":"".concat(f,"-handler-disclaimer-modal"),closeOnDimmerClick:!1},c.createElement(q.cV.Header,{"data-componentid":"".concat(f,"-delete-confirmation-modal-header")},g("applications:confirmations.handlerAuthenticatorAddition.header")),c.createElement(q.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(f,"-delete-confirmation-modal-message")},g("applications:confirmations.handlerAuthenticatorAddition.message")),c.createElement(q.cV.Content,{"data-componentid":"".concat(f,"-delete-confirmation-modal-content")},g("applications:confirmations.handlerAuthenticatorAddition.content"))),se&&c.createElement(q.cV,{onClose:function(){return ue(!1)},type:"negative",open:se,primaryAction:g("common:continue"),secondaryAction:g("common:cancel"),onPrimaryActionClick:function(){Pe(be,Ae),Pe(be,Ie),ue(!1)},onSecondaryActionClick:function(){return ue(!1)},"data-componentid":"".concat(f,"-backupcode-delete-confirm-modal"),closeOnDimmerClick:!1},c.createElement(q.cV.Header,{"data-componentid":"".concat(f,"-backupcode-delete-confirmation-modal-header")},g("applications:confirmations.backupCodeAuthenticatorDelete.header")),c.createElement(q.cV.Content,{"data-componentid":"".concat(f,"-backupcode-delete-confirmation-modal-content")},g("applications:confirmations.backupCodeAuthenticatorDelete.content"))))};Da.defaultProps={"data-componentid":"step-based-flow"};const Za=JSON.parse('{"steps":[{"id":1,"options":[{"idp":"LOCAL","authenticator":"BasicAuthenticator"}]}]}');var ja=n(6769),Fa={};Fa.styleTagTransform=_t(),Fa.setAttributes=Ct(),Fa.insert=St().bind(null,"head"),Fa.domAPI=Tt(),Fa.insertStyleElement=Nt();yt()(ja.Z,Fa);ja.Z&&ja.Z.locals&&ja.Z.locals;function Ha(e){return Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ha(e)}function Va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Va(Object(n),!0).forEach((function(t){qa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qa(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ha(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ha(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ha(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ga(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return za(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?za(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var $a=function(e){var t,n=e.appId,i=e.applicationName,o=e.authenticators,r=e.authenticationSequence,a=e.clientId,l=e.isLoading,s=e.setIsLoading,d=e.onIDPCreateWizardTrigger,f=e.onReset,g=e.onUpdate,h=e.readOnly,b=e.isApplicationShared,A=e["data-componentid"],O=(0,W.$)().t,S=(0,q.fQ)().getLink,I=(0,p.I0)(),C=Ae(),w=C.isConditionalAuthenticationEnabled,N=C.isSystemApplication,R=(0,u.Z)().setAiGeneratedLoginFlow,_=(0,p.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),P=Ga((0,c.useState)(void 0),2),k=P[0],M=P[1],x=(0,Zr.Z)().isAdaptiveAuthenticationAvailable,U=Ga((0,c.useState)(!1),2),D=U[0],Z=U[1],F=Ga((0,c.useState)(void 0),2),G=F[0],z=F[1],$=Ga((0,c.useState)(1),2),K=$[0],Q=$[1],J=Ga((0,c.useState)(!1),2),X=J[0],ee=J[1],te=Ga((0,c.useState)(!1),2),ne=te[0],ie=te[1],oe=Ga((0,c.useState)(),2),re=oe[0],ae=oe[1],le=Ga((0,c.useState)(!1),2),ce=le[0],se=le[1],ue=Ga((0,c.useState)(void 0),2),de=ue[0],pe=ue[1],me=Ga((0,c.useState)(null),2),fe=me[0],ge=me[1],he=(0,p.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.applications})),ve=(0,H.cr)(he,Pn),be=(0,H.cr)(he,kn),Ee=(0,m.EV)(null==he||null===(t=he.subFeatures)||void 0===t||null===(t=t.applicationAuthenticationScript)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),ye=be&&!Ee,Te=T.l.getInstance();(0,c.useEffect)((function(){var e=Ge.isConnectionsJITUPConflictWithMFA({federatedAuthenticators:o&&o[1],steps:re,subjectStepId:null==r?void 0:r.subjectStepId});pe(e);var t=Ge.isFederatedConflictWithSMSOTP({federatedAuthenticators:o&&o[1],steps:re,subjectStepId:null==r?void 0:r.subjectStepId});ge(t)}),[K,o,re]),(0,c.useEffect)((function(){D&&Z(!1)}),[D]),(0,c.useEffect)((function(){h||(0,na.Rz)(v.$.AUTHENTICATOR_IDS.FIDO_AUTHENTICATOR_ID).then((function(e){var t=null==e?void 0:e.properties,n=null==t?void 0:t.find((function(e){return"FIDO.EnablePasskeyProgressiveEnrollment"===e.name})),i="true"===(null==n?void 0:n.value);se(i)}))}),[]),(0,c.useEffect)((function(){r&&null!=r&&r.steps&&Array.isArray(r.steps)&&(M(r),Q(r.steps.length))}),[r]);var Se,Ie=function(e,t){var o;be?Ne(e,t):(o=t?{authenticationSequence:Ba(Ba({},Za),{},{script:""})}:{authenticationSequence:Ba(Ba({},e),{},{script:G})},N&&(o.name=i),s(!0),(0,L.bz)(n,o).then((function(){I((0,B.V_)({description:O("applications:notifications.updateAuthenticationFlow.success.description"),level:V.QU.SUCCESS,message:O("applications:notifications.updateAuthenticationFlow.success.message")})),g(n)})).catch((function(e){Re(e)})).finally((function(){s(!1),R(void 0)})))},Ne=function(e,t){var o;o=t?{authenticationSequence:Ba(Ba({},Za),{},{script:void 0})}:{authenticationSequence:Ba(Ba({},e),{},{script:void 0})},N&&(o.name=i),t?(0,L.Cl)(n,"",!ye).then((function(){(0,L.bz)(n,o).then((function(){I((0,B.V_)({description:O("applications:notifications.updateAuthenticationFlow.success.description"),level:V.QU.SUCCESS,message:O("applications:notifications.updateAuthenticationFlow.success.message")})),g(n)})).catch((function(e){Re(e)}))})).catch((function(e){Re(e)})).finally((function(){s(!1),R(void 0)})):(0,L.bz)(n,o).then((function(){var e=!ye&&(w||""===G);(0,L.Cl)(n,G,e).then((function(){I((0,B.V_)({description:O("applications:notifications.updateAuthenticationFlow.success.description"),level:V.QU.SUCCESS,message:O("applications:notifications.updateAuthenticationFlow.success.message")})),g(n)})).catch((function(e){Re(e)}))})).catch((function(e){Re(e)})).finally((function(){s(!1),R(void 0)}))},Re=function(e){var t;e.response&&"APP-60001"===(null===(t=e.response.data)||void 0===t?void 0:t.code)?I((0,B.V_)({description:c.createElement("p",null,c.createElement(Y.c,{i18nKey:"applications:notifications.conditionalScriptLoopingError.description"},"Looping constructs such as ",c.createElement(q.EK,null,"for"),", ",c.createElement(q.EK,null,"while")," and,",c.createElement(q.EK,null,"forEach")," are not allowed in the conditional authentication script.")),level:V.QU.ERROR,message:O("applications:notifications.conditionalScriptLoopingError.message")})):e.response&&e.response.data&&e.response.data.description?I((0,B.V_)({description:e.response.data.description,level:V.QU.ERROR,message:O("applications:notifications.updateAuthenticationFlow.error.message")})):I((0,B.V_)({description:O("applications:notifications.updateAuthenticationFlow.genericError.description"),level:V.QU.ERROR,message:O("applications:notifications.updateAuthenticationFlow.genericError.message")}))},_e=function(){j.isEmptyScript(G)&&(!x||_===jr.$B.SUBORGANIZATION&&!ve?z(""):ee(!0)),Te.compute((function(){var e={"script-based":!j.isDefaultScript(G,K),"step-based":[]};re.forEach((function(t){var n={};Array.isArray(null==t?void 0:t.options)&&t.options.length>0&&(t.options.forEach((function(e,t){n[t]=(0,Oe.Z)(null==e?void 0:e.authenticator)})),e["step-based"].push(n))})),Te.publish("application-sign-in-method-click-update-button",{"client-id":a,type:e})})),Z(!0)};return c.createElement("div",null,c.createElement("div",null,c.createElement(q.X6,{as:"h4",className:"display-inline-block"},O("applications:edit.sections.signOnMethod.sections.customization.heading")),!h&&(!ye||j.isEmptyScript(null==r?void 0:r.script))&&c.createElement("div",{className:"display-inline-block floated right"},c.createElement(q.Qj,{className:"pr-0",onClick:function(){Te.publish("application-revert-sign-in-method-default",{"client-id":a}),Ie(null,!0),f()}},c.createElement(Ce.Z,{name:"refresh"}),O("applications:edit.sections.signOnMethod.sections.customization.revertToDefaultButton.label")),c.createElement(q.kW,{inline:!0,popup:!0},O("applications:edit.sections.signOnMethod.sections.customization.revertToDefaultButton.hint")))),c.createElement(we.Z,{hidden:!0}),function(){var e;if(null==r?void 0:r.steps.some((function(e){return!(null==e||!e.options.find((function(e){return(null==e?void 0:e.authenticator)===v.$.AUTHENTICATOR_NAMES.FIDO_AUTHENTICATOR_NAME})))})))return ce?!(null==r||null===(e=r.steps[0])||void 0===e||!e.options.find((function(e){return(null==e?void 0:e.authenticator)===v.$.AUTHENTICATOR_NAMES.FIDO_AUTHENTICATOR_NAME})))?c.createElement(q.v0,{type:"info",content:c.createElement(c.Fragment,null,O("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentEnabled"),c.createElement("p",null,c.createElement(Y.c,{i18nKey:O("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.passkeyAsFirstStepWhenprogressiveEnrollmentEnabled")},c.createElement("strong",null,"Note : ")," For on-the-fly user enrollment with passkeys, use the ",c.createElement("strong",null,"Passkeys Progressive Enrollment")," template in",c.createElement("strong",null," Conditional Authentication")," section."),c.createElement(q.eb,{link:S("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},O("common:learnMore"))))}):c.createElement(q.v0,{type:"info",content:c.createElement(c.Fragment,null,O("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentEnabled"),c.createElement("p",null,c.createElement(Y.c,{i18nKey:O("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.passkeyIsNotFirstStepWhenprogressiveEnrollmentEnabled")},"Users can enroll passkeys on-the-fly. If users wish to enroll multiple passkeys they should do so via ",c.createElement("strong",null,"My Account"),"."),c.createElement(q.eb,{link:S("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},O("common:learnMore"))))}):c.createElement(q.v0,{type:"info",content:c.createElement(c.Fragment,null,c.createElement(Y.c,{i18nKey:O("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentDisabled")},c.createElement(q.rU,{external:!1,onClick:function(){y.m.push(E.$.getPaths().get("IDP_EDIT").replace(":id",v.$.AUTHENTICATOR_IDS.FIDO_AUTHENTICATOR_ID))}},"Passkey progressive enrollment"),"\xa0 is disabled. Users must enroll their passkeys through ",c.createElement("strong",null,"My Account")," to use passwordless sign-in."),c.createElement(q.eb,{link:S("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},O("common:learnMore")))})}(),null!=de&&de.conflicting||null==fe||!fe.conflicting||null==fe||!fe.idpList.length?null:(Se=fe.idpList,c.createElement(q.v0,{"data-componentid":"jit-provisioning-mfa-in-sequence-warning-message",type:"info",content:c.createElement(c.Fragment,null,Se.length>1?c.createElement(c.Fragment,null,c.createElement(Y.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.federatedSMSOTPConflictNote.multipleIdps"},"Asgardeo requires the user's profile containing the",c.createElement("i",null," mobile number")," to configure",c.createElement("strong",null," SMS OTP")," with the following connections."),c.createElement("ul",{className:"mb-3"},null==Se?void 0:Se.map((function(e){var t=e.name;return c.createElement("li",{key:t},c.createElement("strong",null,t))})))):c.createElement(c.Fragment,null,c.createElement(Y.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.federatedSMSOTPConflictNote.singleIdp",values:{idpName:Se[0].name}},"Asgardeo requires the user's profile containing the",c.createElement("i",null," mobile number")," to configure ",c.createElement("strong",null," SMS OTP "),"with ",c.createElement("strong",null,Se[0].name)," connection.")))})),c.createElement(Da,{isApplicationShared:b,authenticators:o,authenticationSequence:k,isLoading:l,onUpdate:Ie,triggerUpdate:D,readOnly:h,updateSteps:function(e){Q(e?K+1:K-1)},onIDPCreateWizardTrigger:d,onAuthenticationSequenceChange:function(e,t){ie(e),ae(t)},"data-componentid":"".concat(A,"-step-based-flow")}),c.createElement(we.Z,{className:"x1",hidden:!0}),null!=de&&de.conflicting&&null!=de&&de.idpList.length?function(){var e=de.idpList,t=e.length>1;return c.createElement(q.v0,{"data-componentid":"jit-provisioning-mfa-in-sequence-warning-message",type:"warning",header:"Warning",content:c.createElement(c.Fragment,null,t?c.createElement(c.Fragment,null,"Currently, Just-in-Time (JIT) user provisioning is ",c.createElement("strong",null,"disabled")," for the following connections:",c.createElement("ul",{className:"mb-3"},null==e?void 0:e.map((function(e,t){var n=e.name;return c.createElement("li",{key:t},c.createElement("strong",null,n))})))):c.createElement(c.Fragment,null,"Currently, Just-in-Time(JIT) user provisioning is disabled for the ",c.createElement("strong",null,e[0].name)," connection."),t?c.createElement(c.Fragment,null,"To use MFA with these connections, ",c.createElement("em",null,"enable JIT provisioning")," or use an ",c.createElement("em",null,"authentication script")," to skip the MFA options for these connections during user login."):c.createElement(c.Fragment,null,"To use MFA with this connection, ",c.createElement("em",null,"enable JIT provisioning")," or use an ",c.createElement("em",null,"authentication script")," to skip the MFA options for this connection during user login."),c.createElement(q.eb,{link:S("develop.connections.edit.advancedSettings.jit")},"Learn More"))})}():null,c.createElement(we.Z,{className:"x2"}),x&&!(_===jr.$B.SUBORGANIZATION&&!ve)&&c.createElement(wa,{authenticationSequence:k,isLoading:l,onTemplateSelect:function(e){if(e){ee(!1);var t=Ba({},k);if(e.code&&(t=Ba(Ba({},t),{},{script:JSON.stringify(e.code)})),e.defaultAuthenticators){for(var n=[],i=0,o=Object.entries(e.defaultAuthenticators);i<o.length;i++){var r=Ga(o[i],2),a=r[0],l=r[1];n.push({id:parseInt(a,10),options:l.local.map((function(e){return{authenticator:e,idp:"LOCAL"}}))})}t=Ba(Ba({},t),{},{attributeStepId:1,steps:n,subjectStepId:1})}M(t)}},onScriptChange:function(e){z(e)},readOnly:h||ye,authenticationSteps:K,isDefaultScript:X,onAdaptiveScriptReset:function(){return ee(!0)},"data-componentid":"".concat(A,"-script-based-flow")}),h?null:c.createElement(c.Fragment,null,c.createElement(we.Z,{hidden:!0}),c.createElement(q.KM,{onClick:_e,"data-componentid":"".concat(A,"-update-button"),disabled:ne||l,loading:l},O("common:update"))))};$a.defaultProps={"data-componentid":"sign-in-method-customization"};var Wa=function(e){var t,n=e.isLoading,i=e.onLoginFlowSelect,o=e.hiddenOptions,r=e.clientId,a=e["data-componentid"],l=(0,W.$)().t,s=(0,q.kH)().isMobileViewport,u=Ae().hiddenAuthenticators,d=(0,pe.Z)().deploymentConfig,p=T.l.getInstance();return c.createElement(fa.Z,{"data-componentid":a,loading:n,className:"sign-in-method-landing",basic:!0},c.createElement(Pe.Z,null,c.createElement(Pe.Z.Row,null,c.createElement(Pe.Z.Column,{width:16},c.createElement(q.X6,{as:"h2",textAlign:s?"center":"left"},l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.heading")))),c.createElement(Pe.Z.Row,{className:"pt-5"},c.createElement(Pe.Z.Column,{computer:8,tablet:16,mobile:16,className:"flow-options-column"},c.createElement("div",{className:"pr-3"},!o.includes(P.Tb.DEFAULT)&&c.createElement(c.Fragment,null,c.createElement(q.X6,{as:"h4"},l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.headings.default")),c.createElement(q.rJ,{fluid:!0,"data-componentid":"basic-configuration-flow-card",image:(0,Qe.C4)().basic,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.defaultConfig.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.defaultConfig.description"),onClick:function(){p.publish("application-begin-sign-in-default-configuration",{"client-id":r}),i(P.Tb.DEFAULT)},showSetupGuideButton:!1,showCardAction:!1})),c.createElement(q.X6,{as:"h4"},l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.headings.multiFactorLogin")),!o.includes(P.Tb.SECOND_FACTOR_TOTP)&&c.createElement(q.rJ,{fluid:!0,"data-componentid":"totp-mfa-flow-card",image:(0,Qe.C4)().totp,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.totp.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.totp.description"),onClick:function(){p.publish("application-begin-sign-in-totp-mfa",{"client-id":r}),i(P.Tb.SECOND_FACTOR_TOTP)},showSetupGuideButton:!1,showCardAction:!1}),!o.includes(P.Tb.SECOND_FACTOR_EMAIL_OTP)&&c.createElement(q.rJ,{fluid:!0,"data-componentid":"email-otp-mfa-flow-card",image:(0,Qe.C4)().emailOTP,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTP.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTP.description"),onClick:function(){p.publish("application-begin-sign-in-email-otp-mfa",{"client-id":r}),i(P.Tb.SECOND_FACTOR_EMAIL_OTP)},showSetupGuideButton:!1,showCardAction:!1}),!o.includes(P.Tb.SECOND_FACTOR_SMS_OTP)&&c.createElement(q.rJ,{fluid:!0,"data-componentid":"sms-otp-mfa-flow-card",image:(0,Qe.C4)().smsOTP,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.smsOTP.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.smsOTP.description"),onClick:function(){p.publish("application-begin-sign-in-sms-otp-mfa",{"client-id":r}),i(P.Tb.SECOND_FACTOR_SMS_OTP)},showSetupGuideButton:!1,showCardAction:!1}))),c.createElement(Pe.Z.Column,{computer:8,tablet:16,mobile:16,className:"flow-options-column"},c.createElement("div",{className:"pl-3"},c.createElement(q.X6,{as:"h4"},l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.headings.passwordlessLogin")),!(null!=o&&o.includes(P.Tb.FIDO_LOGIN))&&!(null!=u&&u.includes(v.$.AUTHENTICATOR_NAMES.FIDO_AUTHENTICATOR_NAME))&&c.createElement(q.rJ,{fluid:!0,"data-componentid":"usernameless-flow-card",image:(0,Qe.C4)().fido,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.description"),onClick:function(){p.publish("application-begin-sign-in-biometrics-password-less",{"client-id":r}),i(P.Tb.FIDO_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!(null!=o&&o.includes(P.Tb.MAGIC_LINK))&&!(null!=u&&u.includes(v.$.AUTHENTICATOR_NAMES.MAGIC_LINK_AUTHENTICATOR_NAME))&&c.createElement(q.rJ,{fluid:!0,"data-componentid":"magic-link-flow-card",image:(0,Qe.C4)().magicLink,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.magicLink.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.magicLink.description"),onClick:function(){p.publish("application-begin-sign-in-magiclink-password-less",{"client-id":r}),i(P.Tb.MAGIC_LINK)},showSetupGuideButton:!1,showCardAction:!1}),!(null!=o&&o.includes(P.Tb.EMAIL_OTP))&&!(null!=u&&u.includes(v.$.AUTHENTICATOR_IDS.EMAIL_OTP_AUTHENTICATOR_ID))&&c.createElement(q.rJ,{fluid:!0,"data-componentid":"email-otp-flow-card",image:(0,Qe.C4)().emailOTP,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTPFirstFactor.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTPFirstFactor.description"),onClick:function(){p.publish("application-begin-sign-in-email-otp-password-less",{"client-id":r}),i(P.Tb.EMAIL_OTP)},showSetupGuideButton:!1,showCardAction:!1}),!(null!=o&&o.includes(P.Tb.SMS_OTP))&&!(null!=u&&u.includes(v.$.AUTHENTICATOR_IDS.SMS_OTP_AUTHENTICATOR_ID))&&c.createElement(q.rJ,{fluid:!0,"data-componentid":"sms-otp-flow-card",image:(0,Qe.C4)().smsOTP,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.smsOTPFirstFactor.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.smsOTPFirstFactor.description"),onClick:function(){p.publish("application-begin-sign-in-sms-otp-password-less",{"client-id":r}),i(P.Tb.SMS_OTP)},showSetupGuideButton:!1,showCardAction:!1}),(!o.includes(P.Tb.GOOGLE_LOGIN)||!o.includes(P.Tb.FACEBOOK_LOGIN)||!o.includes(P.Tb.GITHUB_LOGIN)||!o.includes(P.Tb.MICROSOFT_LOGIN)||!o.includes(P.Tb.APPLE_LOGIN))&&c.createElement(c.Fragment,null,c.createElement(q.X6,{as:"h4"},l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.headings.socialLogin")),!o.includes(P.Tb.GOOGLE_LOGIN)&&c.createElement(q.rJ,{fluid:!0,"data-componentid":"google-login-flow-card",imageSize:"mini",image:(0,Qe.C4)().google,header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.google.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.google.description"),onClick:function(){p.publish("application-begin-sign-in-google-social-login",{type:r}),i(P.Tb.GOOGLE_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!o.includes(P.Tb.GITHUB_LOGIN)&&c.createElement(q.rJ,{fluid:!0,"data-componentid":"github-login-flow-card",imageSize:"mini",image:(0,Qe.C4)().github,header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.github.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.github.description"),onClick:function(){return i(P.Tb.GITHUB_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!o.includes(P.Tb.FACEBOOK_LOGIN)&&c.createElement(q.rJ,{fluid:!0,"data-componentid":"facebook-login-flow-card",imageSize:"mini",image:(0,Qe.C4)().facebook,header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.facebook.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.facebook.description"),onClick:function(){return i(P.Tb.FACEBOOK_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!o.includes(P.Tb.MICROSOFT_LOGIN)&&c.createElement(q.rJ,{fluid:!0,"data-componentid":"microsoft-login-flow-card",imageSize:"mini",image:(0,Qe.C4)().microsoft,header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.microsoft.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.microsoft.description"),onClick:function(){p.publish("application-begin-sign-in-microsoft-social-login",{type:r}),i(P.Tb.MICROSOFT_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!o.includes(P.Tb.APPLE_LOGIN)&&c.createElement(q.rJ,{fluid:!0,"data-componentid":"apple-login-flow-card",imageSize:"mini",image:(0,Qe.C4)().apple,header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.apple.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.apple.description"),onClick:function(){return i(P.Tb.APPLE_LOGIN)},showSetupGuideButton:!1,showCardAction:!1,disabledHint:l("console:develop.pages.authenticationProviderTemplate.disabledHint.apple"),disabled:(null===(t=new URL(null==d?void 0:d.serverOrigin))||void 0===t?void 0:t.hostname)===g.f.LOCAL_SERVER_URL})))))))};Wa.defaultProps={"data-componentid":"sign-in-method-landing",hiddenOptions:[P.Tb.FACEBOOK_LOGIN,P.Tb.GITHUB_LOGIN]};const Ka=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"AppleOIDCAuthenticator","idp":"<APPLE_IDP>"}]}]}'),Ya=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"email-otp-authenticator","idp":"LOCAL"}]}]}'),Qa=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"FacebookAuthenticator","idp":"<FACEBOOK_IDP>"}]}]}'),Ja=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GithubAuthenticator","idp":"<GITHUB_IDP>"}]}]}'),Xa=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GoogleOIDCAuthenticator","idp":"<GOOGLE_IDP>"}]}]}'),el=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"MagicLinkAuthenticator","idp":"LOCAL"}]}]}'),tl=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"OpenIDConnectAuthenticator","idp":"Microsoft"}]}]}'),nl=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"FIDOAuthenticator","idp":"LOCAL"}]}]}'),il=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"email-otp-authenticator","idp":"LOCAL"}]}]}'),ol=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"sms-otp-authenticator","idp":"LOCAL"}]}]}'),rl=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"totp","idp":"LOCAL"}]}]}'),al=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"sms-otp-authenticator","idp":"LOCAL"}]}]}');function ll(e){return ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(e)}function cl(e){return function(e){if(Array.isArray(e))return fl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ml(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ul(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(n),!0).forEach((function(t){dl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ll(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ll(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ll(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||ml(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ml(e,t){if(e){if("string"==typeof e)return fl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fl(e,t):void 0}}function fl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var gl=null,hl=function(e){var t,n=e.application,i=e.appId,o=e.authenticationSequence,r=e.clientId,a=e.isLoading,l=e.onUpdate,s=e.readOnly,u=e.isSystemApplication,d=e.hiddenAuthenticators,C=e["data-componentid"],w=(0,W.$)().t,N=(0,A.Z)().UIConfig,R=(0,p.I0)(),_=null==N?void 0:N.connectionResourcesUrl,L="true"===(null==n||null===(t=n.advancedConfigurations)||void 0===t||null===(t=t.additionalSpProperties)||void 0===t||null===(t=t.find((function(e){return"isAppShared"===(null==e?void 0:e.name)})))||void 0===t?void 0:t.value),M=(0,p.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.identityProviders})),x=(0,H.cr)(M,g.f.FEATURE_DICTIONARY.get(g.F.LocalEmailOTPAuthenticator)),U=(0,H.cr)(M,g.f.FEATURE_DICTIONARY.get(g.F.LocalSMSOTPAuthenticator)),D=pl((0,c.useState)(void 0),2),Z=D[0],F=D[1],G=pl((0,c.useState)(void 0),2),z=G[0],K=G[1],Q=pl((0,c.useState)(void 0),2),J=Q[0],X=Q[1],ee=pl((0,c.useState)(void 0),2),te=ee[0],ne=ee[1],ie=pl((0,c.useState)(void 0),2),oe=ie[0],re=ie[1],ae=pl((0,c.useState)(void 0),2),le=ae[0],ce=ae[1],se=pl((0,c.useState)(void 0),2),ue=se[0],de=se[1],pe=pl((0,c.useState)(void 0),2),me=pe[0],fe=pe[1],ge=pl((0,c.useState)(!1),2),he=ge[0],ve=ge[1],be=pl((0,c.useState)(!0),2),Ee=be[0],ye=be[1],Ae=pl((0,c.useState)(!1),2),Oe=Ae[0],Se=Ae[1],Ie=pl((0,c.useState)(void 0),2),Ce=Ie[0],Ne=Ie[1],Re=pl((0,c.useState)(o),2),_e=Re[0],Le=Re[1],Pe=pl((0,c.useState)(void 0),2),ke=Pe[0],Me=Pe[1],xe=pl((0,c.useState)(void 0),2),Ue=xe[0],De=xe[1],Ze=pl((0,c.useState)(!1),2),je=Ze[0],Fe=Ze[1],He=pl((0,c.useState)(void 0),2),Ve=He[0],Be=He[1],qe=T.l.getInstance(),Ge=(0,O.Z)().setConditionalAuthPremiumFeature,ze=(0,ea.Z)().tierName,$e=(0,m.Ac)("console.application.signIn.adaptiveAuth"),We=(0,m.wY)("console.application.signIn.adaptiveAuth");(0,c.useEffect)((function(){$e===m.iK.DISABLED&&null!=We&&We.includes(m.yM.PREMIUM)?Ge(!0):Ge(!1)}),[ze]),(0,c.useEffect)((function(){Ke().finally(),ta.LocalStorageUtils.setValueInLocalStorage(k.jo.AUTHENTICATORS_LOCAL_STORAGE_KEY,JSON.stringify([]))}),[]),(0,c.useEffect)((function(){o&&Le(o)}),[o]);var Ke=function(e){return ye(!0),I.z.getAllAuthenticators().then((function(t){var n=[],i=[],o=[],r=[],a=[];t[1].filter((function(e){e.defaultAuthenticator.authenticatorId===h.$.AUTHENTICATOR_IDS.GOOGLE_OIDC_AUTHENTICATOR_ID?n.push(e):e.defaultAuthenticator.authenticatorId===h.$.AUTHENTICATOR_IDS.GITHUB_AUTHENTICATOR_ID?i.push(e):e.defaultAuthenticator.authenticatorId===h.$.AUTHENTICATOR_IDS.FACEBOOK_AUTHENTICATOR_ID?o.push(e):e.defaultAuthenticator.authenticatorId===h.$.AUTHENTICATOR_IDS.MICROSOFT_AUTHENTICATOR_ID&&e.description===S.WL?r.push(e):e.defaultAuthenticator.authenticatorId===h.$.AUTHENTICATOR_IDS.APPLE_AUTHENTICATOR_ID&&a.push(e)})),ne(n),re(i),ce(o),de(r),fe(a),t[1].push(Xr.F.getOrganizationAuthenticator()),X(t),e&&e(t,n,i,o,r,a)})).catch((function(e){var t,n;e.response&&e.response.data&&e.response.data.description?R((0,B.V_)({description:null===(t=e.response.data)||void 0===t?void 0:t.description,level:V.QU.ERROR,message:null===(n=e.response.data)||void 0===n?void 0:n.message})):R((0,B.V_)({description:w("secrets:errors.generic.description"),level:V.QU.ERROR,message:w("secrets:errors.generic.message")}))})).finally((function(){ye(!1)}))},Ye=function(e,t,n,i,r,a){if(e)if(e===P.Tb.DEFAULT)qe.publish("application-sign-in-method-click-add",{type:"default"}),Le(ul(ul({},o),(0,$.Z)(Za)));else if(e===P.Tb.SECOND_FACTOR_TOTP)qe.publish("application-sign-in-method-click-add",{type:"second-factor-totp"}),Le(ul(ul({},o),(0,$.Z)(rl)));else if(e===P.Tb.SECOND_FACTOR_EMAIL_OTP)qe.publish("application-sign-in-method-click-add",{type:"second-factor-email-otp"}),Le(ul(ul({},o),(0,$.Z)(il)));else if(e===P.Tb.SECOND_FACTOR_SMS_OTP)qe.publish("application-sign-in-method-click-add",{type:"second-factor-sms-otp"}),Le(ul(ul({},o),(0,$.Z)(ol)));else if(e===P.Tb.FIDO_LOGIN)qe.publish("application-sign-in-method-click-add",{type:"first-factor-fido"}),Le(ul(ul({},o),(0,$.Z)(nl)));else if(e===P.Tb.GOOGLE_LOGIN){if(qe.publish("application-sign-in-method-click-add",{type:"google-login"}),K(P.Tb.GOOGLE_LOGIN),(0,Te.Z)(t))return void ve(!0);if(t.length>1)return Ne(t[0]),void Se(!0);1===t.length&&Le(ul(ul({},o),Qe(t[0].idp,P.Tb.GOOGLE_LOGIN)))}else if(e===P.Tb.GITHUB_LOGIN){if(qe.publish("application-sign-in-method-click-add",{type:"github-login"}),K(P.Tb.GITHUB_LOGIN),(0,Te.Z)(n))return void ve(!0);if(n.length>1)return Ne(n[0]),void Se(!0);1===n.length&&Le(ul(ul({},o),Qe(n[0].idp,P.Tb.GITHUB_LOGIN)))}else if(e===P.Tb.FACEBOOK_LOGIN){if(qe.publish("application-sign-in-method-click-add",{type:"facebook-login"}),K(P.Tb.FACEBOOK_LOGIN),(0,Te.Z)(i))return void ve(!0);if(i.length>1)return Ne(i[0]),void Se(!0);1===i.length&&Le(ul(ul({},o),Qe(i[0].idp,P.Tb.FACEBOOK_LOGIN)))}else if(e===P.Tb.MICROSOFT_LOGIN){if(qe.publish("application-sign-in-method-click-add",{type:"microsoft-login"}),K(P.Tb.MICROSOFT_LOGIN),(0,Te.Z)(r))return void ve(!0);if(r.length>1)return Ne(r[0]),void Se(!0);1===r.length&&Le(ul(ul({},o),Qe(r[0].idp,P.Tb.MICROSOFT_LOGIN)))}else if(e===P.Tb.APPLE_LOGIN){if(qe.publish("application-sign-in-method-click-add",{type:"apple-login"}),K(P.Tb.APPLE_LOGIN),(0,Te.Z)(a))return void ve(!0);if(a.length>1)return Ne(a[0]),void Se(!0);1===a.length&&Le(ul(ul({},o),Qe(a[0].idp,P.Tb.APPLE_LOGIN)))}else e===P.Tb.MAGIC_LINK?(qe.publish("application-sign-in-method-click-add",{type:"magic-link-login"}),Le(ul(ul({},o),(0,$.Z)(el)))):e===P.Tb.EMAIL_OTP?(qe.publish("application-sign-in-method-click-add",{type:"email-otp-login"}),Le(ul(ul({},o),(0,$.Z)(Ya)))):e===P.Tb.SMS_OTP&&(qe.publish("application-sign-in-method-click-add",{type:"sms-otp-login"}),Le(ul(ul({},o),(0,$.Z)(al))));else Le(o);F(e)},Qe=function(e,t){var n={},i=null;return t===P.Tb.GOOGLE_LOGIN?(n=(0,$.Z)(Xa),i=h.$.AUTHENTICATOR_NAMES.GOOGLE_OIDC_AUTHENTICATOR_NAME):t===P.Tb.GITHUB_LOGIN?(n=(0,$.Z)(Ja),i=h.$.AUTHENTICATOR_NAMES.GITHUB_AUTHENTICATOR_NAME):t===P.Tb.FACEBOOK_LOGIN?(n=(0,$.Z)(Qa),i=h.$.AUTHENTICATOR_NAMES.FACEBOOK_AUTHENTICATOR_NAME):t===P.Tb.MICROSOFT_LOGIN?(n=(0,$.Z)(tl),i=h.$.AUTHENTICATOR_NAMES.MICROSOFT_AUTHENTICATOR_NAME):t===P.Tb.APPLE_LOGIN&&(n=(0,$.Z)(Ka),i=h.$.AUTHENTICATOR_NAMES.APPLE_AUTHENTICATOR_NAME),n.steps[0].options.forEach((function(t){t.authenticator===i&&(t.idp=e)})),n},Je=function(){F(void 0),K(void 0),ve(!1),Se(!1),Ne(void 0),Le(o),De(void 0),Be(void 0),Fe(!1)};return c.createElement(Jr,{application:(0,$.Z)(n),isSystemApplication:u,authenticators:J,hiddenAuthenticators:d,onAuthenticatorsRefetch:function(){return Ke()},onUpdate:l,isLoading:Ee,readOnly:s,authenticationSequence:_e},c.createElement(Dr,{legacyBuilder:function(){if(a||Ee)return c.createElement(q.pO,{inline:"centered",active:!0});if(!s&&!Z&&function(){var e,t,n;if(1!==(null==o||null===(e=o.steps)||void 0===e?void 0:e.length)||1!==(null===(t=o.steps[0].options)||void 0===t?void 0:t.length))return!1;var i=o.steps[0].options[0].authenticator===v.$.AUTHENTICATOR_NAMES.BASIC_AUTHENTICATOR_NAME,r=!o.script||j.isDefaultScript(o.script,null===(n=o.steps)||void 0===n?void 0:n.length);return i&&r&&o.type===P.a1.DEFAULT}()){var e=[P.Tb.FACEBOOK_LOGIN,P.Tb.GITHUB_LOGIN];return x||e.push(P.Tb.SECOND_FACTOR_EMAIL_OTP,P.Tb.EMAIL_OTP),U||e.push(P.Tb.SECOND_FACTOR_SMS_OTP,P.Tb.SMS_OTP),c.createElement(Wa,{readOnly:s,clientId:r,onLoginFlowSelect:function(e){Ye(e,te,oe,le,ue,me)},hiddenOptions:e,"data-componentid":"".concat(C,"-landing")})}return c.createElement($a,{appId:i,applicationName:null==n?void 0:n.name,isApplicationShared:L,authenticators:J,clientId:r,authenticationSequence:_e,onIDPCreateWizardTrigger:function(e,t,n){Me(n),Be("EXTERNAL"),De(e),ve(!1),Fe(!0),gl=t},onUpdate:l,onReset:Je,"data-componentid":C,isLoading:Ee,setIsLoading:ye,readOnly:s})}(),onIDPCreateWizardTrigger:function(e,t,n){Me(n),Be("EXTERNAL"),De(e),ve(!1),Fe(!0),gl=t},readOnly:s}),je&&function(){if(Ue)return c.createElement(f.zy,{isModalOpen:je,handleModalVisibility:function(e){return Fe(e)},type:Ue,selectedTemplate:ke,onIDPCreate:function(){Ke((function(e,t,n,i,o,r){De(void 0),Fe(!1),gl&&gl(),"INTERNAL"===Ve&&Ye(z,t,n,i,o,r)})).finally()},onWizardClose:function(){De(void 0),Be(void 0),Fe(!1)}})}(),he&&function(){var e=null,t=null;if(z===P.Tb.GOOGLE_LOGIN)e=g.f.CONNECTION_TEMPLATE_IDS.GOOGLE,t=h.$.AUTHENTICATOR_DISPLAY_NAMES.GOOGLE_OIDC_AUTHENTICATOR_DISPLAY_NAME;else if(z===P.Tb.GITHUB_LOGIN)e=g.f.CONNECTION_TEMPLATE_IDS.GITHUB,t=h.$.AUTHENTICATOR_DISPLAY_NAMES.GITHUB_AUTHENTICATOR_DISPLAY_NAME;else if(z===P.Tb.FACEBOOK_LOGIN)e=g.f.CONNECTION_TEMPLATE_IDS.FACEBOOK,t=h.$.AUTHENTICATOR_DISPLAY_NAMES.FACEBOOK_AUTHENTICATOR_DISPLAY_NAME;else if(z===P.Tb.MICROSOFT_LOGIN)e=g.f.CONNECTION_TEMPLATE_IDS.MICROSOFT,t=h.$.AUTHENTICATOR_DISPLAY_NAMES.MICROSOFT_AUTHENTICATOR_DISPLAY_NAME;else{if(z!==P.Tb.APPLE_LOGIN)return null;e=g.f.CONNECTION_TEMPLATE_IDS.APPLE,t=h.$.AUTHENTICATOR_DISPLAY_NAMES.APPLE_AUTHENTICATOR_DISPLAY_NAME}return c.createElement(q.cV,{type:"info",onClose:function(){return ve(!1)},open:he,primaryAction:w("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.primaryButton"),secondaryAction:w("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.secondaryButton"),onSecondaryActionClick:function(){return ve(!1)},onPrimaryActionClick:function(){De(e),ve(!1),Fe(!0),Be("INTERNAL")},"data-componentid":"".concat(C,"-add-missing-authenticator-modal"),closeOnDimmerClick:!1},c.createElement(q.cV.Header,null,w("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.heading",{authenticator:t})),c.createElement(q.cV.Message,{attached:!0,info:!0},w("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.message",{authenticator:t})),c.createElement(q.cV.Content,null,c.createElement(Y.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.body",tOptions:{authenticator:t}},"You do not have an active Social Connection configured with ",c.createElement(q.EK,null," ",t,"Authenticator"),". Click on the ",c.createElement("strong",null,"Configure")," button to register a new",c.createElement(q.EK,null,t," Social Connection")," or navigate to the ",c.createElement("a",{onClick:function(){y.m.push(E.$.getPaths().get("IDP"))},className:"external-link link pointing primary"},"Connections")," section manually.")))}(),Oe&&function(){var e=null,t=[];if(z===P.Tb.GOOGLE_LOGIN)t=cl(te),e=h.$.AUTHENTICATOR_DISPLAY_NAMES.GOOGLE_OIDC_AUTHENTICATOR_DISPLAY_NAME;else if(z===P.Tb.GITHUB_LOGIN)t=cl(oe),e=h.$.AUTHENTICATOR_DISPLAY_NAMES.GITHUB_AUTHENTICATOR_DISPLAY_NAME;else if(z===P.Tb.FACEBOOK_LOGIN)t=cl(le),e=h.$.AUTHENTICATOR_DISPLAY_NAMES.FACEBOOK_AUTHENTICATOR_DISPLAY_NAME;else if(z===P.Tb.MICROSOFT_LOGIN)t=cl(ue),e=h.$.AUTHENTICATOR_DISPLAY_NAMES.MICROSOFT_AUTHENTICATOR_DISPLAY_NAME;else{if(z!==P.Tb.APPLE_LOGIN)return null;t=cl(me),e=h.$.AUTHENTICATOR_DISPLAY_NAMES.APPLE_AUTHENTICATOR_DISPLAY_NAME}return c.createElement(q.cV,{type:"warning",className:"duplicate-social-authenticator-selection-modal",onClose:function(){return Se(!1)},open:Oe,primaryAction:w("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.primaryButton"),secondaryAction:w("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.secondaryButton"),onSecondaryActionClick:function(){return Se(!1)},onPrimaryActionClick:function(){Le(ul(ul({},o),Qe(Ce.idp,z))),F(z),Se(!1)},"data-componentid":"".concat(C,"-duplicate-authenticator-selection-modal"),closeOnDimmerClick:!1},c.createElement(q.cV.Header,null,w("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.heading",{authenticator:e})),c.createElement(q.cV.Message,{attached:!0,warning:!0},w("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.message",{authenticator:e})),c.createElement(q.cV.Content,{scrolling:!0},c.createElement(q.xv,null,c.createElement(Y.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.body",tOptions:{authenticator:e}},"You have multiple Social Connections configured with ",c.createElement(q.EK,null,e,"Authenticator"),". Select the desired one from the selection below to proceed.")),c.createElement(we.Z,{hidden:!0}),c.createElement("div",{className:"authenticator-grid"},t.filter((function(e){return e.name!==v.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME})).map((function(e,t){return c.createElement(q.WL,{key:t,multilineLabel:!0,className:"authenticator-card",size:"tiny",selected:(null==Ce?void 0:Ce.id)===e.id,image:b.Zs.resolveConnectionResourcePath(_,e.image),label:e.displayName,labelEllipsis:!0,"data-componentid":"".concat(C,"-authenticator-").concat(e.name),onClick:function(){return Ne(e)}})})))))}())};hl.defaultProps={"data-componentid":"sign-on-methods"};var vl=function(e){var t=e.application,n=e.appId,i=e.authenticationSequence,o=e.clientId,r=e.isLoading,a=e.onUpdate,l=e.readOnly,m=e.isSystemApplication,f=e.hiddenAuthenticators,g=e["data-componentid"],h=(0,u.Z)().aiGeneratedLoginFlow,v=(0,d.z)().isSubOrganization,b=(0,p.v9)((function(e){var t;return null===(t=e.config.ui.features)||void 0===t||null===(t=t.applications)||void 0===t?void 0:t.disabledFeatures})),E=i;return null!=b&&b.includes(s.X7)||v()||(E=null!=h?h:i),c.createElement(hl,{application:t,appId:n,authenticationSequence:E,clientId:o,isLoading:r,onUpdate:a,readOnly:l,isSystemApplication:m,hiddenAuthenticators:f,"data-componentid":g})};vl.defaultProps={"data-componentid":"sign-on-methods-wrapper"};var bl=function(e){var t=e.application,n=e.appId,i=e.authenticationSequence,o=e.clientId,r=e.isLoading,a=e.onUpdate,l=e.readOnly,s=e.isSystemApplication,u=e.hiddenAuthenticators,d=e["data-componentid"];return c.createElement(vl,{application:t,appId:n,authenticationSequence:i,clientId:o,isLoading:r,onUpdate:a,readOnly:l,isSystemApplication:s,hiddenAuthenticators:u,"data-componentid":d})};bl.defaultProps={"data-componentid":"sign-on-methods"}},23852:(e,t,n)=>{function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,l(i.key),i)}}function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}n.d(t,{S:()=>c});var c=r((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));a(c,"ADD_NEW_ROLE_FORM_ID","add-new-console-role-wizard-form"),a(c,"ROLE_ASSIGNMENTS_ROLE_ID","roleAssignments"),a(c,"ROLE_V1_API_RESOURCES_COLLECTION_NAME","rolesV1"),a(c,"ROLE_API_RESOURCES_COLLECTION_NAME","roles"),a(c,"ORG_ROLE_ASSIGNMENTS_ROLE_ID","org_roleAssignments"),a(c,"ORG_ROLE_V1_API_RESOURCES_COLLECTION_NAME","org_rolesV1"),a(c,"ORG_ROLE_API_RESOURCES_COLLECTION_NAME","org_roles"),a(c,"ADMINISTRATOR","Administrator")},93545:(e,t,n)=>{n.d(t,{J:()=>u});var i=n(16590),o=n(96334),r=n(44194),a=n(89141),l=n(10742);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var u=function(e){var t=e.triggerCertificateUpload,n=e.onSubmit,s=e.setShowFinishButton,u=e["data-componentid"],d=void 0===u?"add-certificate-form":u,p=c((0,r.useState)(""),2),m=p[0],f=p[1],g=c((0,r.useState)(""),2),h=g[0],v=g[1],b=c((0,r.useState)(""),2),E=b[0],y=b[1],A=c((0,r.useState)(null),2),T=A[0],O=A[1],S=c((0,r.useState)(null),2),I=S[0],C=S[1],w=c((0,r.useState)(""),2),N=w[0],R=w[1];(0,r.useEffect)((function(){""!==N&&n(N)}),[N]);var _=function(e,t,n,o,r,a){f(t),y(n),v(o),O(r),C(a),R(btoa(i.CertificateManagementUtils.enclosePem(e.certificate)))};return r.createElement(r.Fragment,null,r.createElement(o.Es,{"data-testid":"".concat(d,"-form")},r.createElement(a.Z,null,r.createElement(a.Z.Row,{columns:1},r.createElement(a.Z.Column,{mobile:16,tablet:16,computer:16},r.createElement(l.e,{submit:_,triggerSubmit:t,pemData:E,nameData:m,fileDecodedData:h,fileData:T,forgeCertificateData:I,"data-testid":"".concat(d,"-upload"),hideAliasInput:!0,setShowFinishButton:s}))))))}},3192:(e,t,n)=>{n.d(t,{Rh:()=>d,af:()=>u});var i=n(2292),o=n(14092),r=n(76271),a=n(96124),l=n(43939),c=n(6833),s=i.AsgardeoSPAClient.getInstance().httpRequest.bind(i.AsgardeoSPAClient.getInstance()),u=function(e,t,n,i){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l={headers:{Accept:"application/json","Content-Type":"application/json"},method:c.f2.GET,params:{filter:n,limit:e,offset:t,requiredAttributes:i},url:r.h.getState().config.endpoints.identityProviders},s=(0,a.Z)(o?l:null),u=s.data,d=s.error;return{data:u,error:d,isLoading:!d&&!u,isValidating:s.isValidating,mutate:s.mutate}},d=function(){var e={headers:{Accept:"application/json","Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:c.f2.GET,url:r.h.getState().config.endpoints.localAuthenticators};return s(e).then((function(e){if(200!==e.status)throw new l.u(o.Y.ERROR_MESSAGES.LOCAL_AUTHENTICATORS_FETCH_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new l.u(o.Y.ERROR_MESSAGES.LOCAL_AUTHENTICATORS_FETCH_ERROR,e.stack,e.code,e.request,e.response,e.config)}))}},30331:(e,t,n)=>{n.d(t,{z:()=>R});var i=n(46448),o=n(14092),r=n(12533),a=n(43939),l=n(76004),c=n.n(l),s=n(50699),u=n(3192),d=n(48023),p=n(50250),m=n(64704),f=n(64643),g=n(36619);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function v(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,E(i.key),i)}}function E(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=h(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}var y=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"getAuthenticatorDescription",value:function(e){var t;return(0,m.Z)((v(v(v(v(v(v(v(v(v(v(t={},r.$.AUTHENTICATOR_IDS.BASIC_AUTHENTICATOR_ID,"Login users with username and password credentials."),r.$.AUTHENTICATOR_IDS.IDENTIFIER_FIRST_AUTHENTICATOR_ID,"Get users Identity first to control the authentication flow."),r.$.AUTHENTICATOR_IDS.FIDO_AUTHENTICATOR_ID,"Login users with passkey, FIDO security key or biometrics."),r.$.AUTHENTICATOR_IDS.TOTP_AUTHENTICATOR_ID,"Two-factor authentication using Time-Based One Time passcode."),d.$.AUTHENTICATOR_IDS.GOOGLE_OIDC_AUTHENTICATOR_ID,"Login users with existing Google accounts."),d.$.AUTHENTICATOR_IDS.GITHUB_AUTHENTICATOR_ID,"Login users with existing GitHub accounts."),d.$.AUTHENTICATOR_IDS.FACEBOOK_AUTHENTICATOR_ID,"Login users with existing Facebook accounts."),d.$.AUTHENTICATOR_IDS.TWITTER_AUTHENTICATOR_ID,"Login users with existing Twitter accounts."),d.$.AUTHENTICATOR_IDS.OIDC_AUTHENTICATOR_ID,"Authenticate users with Enterprise OIDC connections."),d.$.AUTHENTICATOR_IDS.SAML_AUTHENTICATOR_ID,"Authenticate users with Enterprise SAML connections."),v(v(v(v(v(v(v(v(v(t,r.$.AUTHENTICATOR_IDS.EMAIL_OTP_AUTHENTICATOR_ID,"Email users a one-time passcode to log in passwordless."),d.$.AUTHENTICATOR_IDS.EMAIL_OTP_AUTHENTICATOR_ID,"Two-factor authentication using one-time passcode sent via email."),r.$.AUTHENTICATOR_IDS.SMS_OTP_AUTHENTICATOR_ID,"Two-factor authentication using SMS one-time passcode."),r.$.AUTHENTICATOR_IDS.MAGIC_LINK_AUTHENTICATOR_ID,"Email users a magic link to log in passwordless"),d.$.AUTHENTICATOR_IDS.APPLE_AUTHENTICATOR_ID,"Login users with their Apple IDs."),r.$.AUTHENTICATOR_IDS.BACKUP_CODE_AUTHENTICATOR_ID,"Two-factor authentication recovery option."),r.$.AUTHENTICATOR_IDS.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_ID,"Limit the number of active user sessions."),r.$.AUTHENTICATOR_IDS.X509_CERTIFICATE_AUTHENTICATOR_ID,"Authenticate clients using client certificates."),r.$.AUTHENTICATOR_IDS.PUSH_AUTHENTICATOR_ID,"Two-factor authentication via mobile push notifications.")),e)}},{key:"getAuthenticatorTypeDisplayName",value:function(e){return(0,m.Z)(v(v(v(v(v({},g.Xi.ENTERPRISE,"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.authenticatorGroups.enterprise.heading"),g.Xi.LOCAL,"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.authenticatorGroups.basic.heading"),g.Xi.SECOND_FACTOR,"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.authenticatorGroups.mfa.heading"),g.Xi.SOCIAL,"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.authenticatorGroups.social.heading"),g.Xi.RECOVERY,"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.authenticatorGroups.backupCodes.heading"),e)}},{key:"getAuthenticatorIcon",value:function(e){var t,n,i,o,a,l,c,s,u,d,p,g,h,b=(0,m.Z)((v(v(v(v(v(v(v(v(v(v(h={},r.$.AUTHENTICATOR_IDS.IDENTIFIER_FIRST_AUTHENTICATOR_ID,null===(t=(0,f.C4)())||void 0===t?void 0:t.identifierFirst),r.$.AUTHENTICATOR_IDS.JWT_BASIC_AUTHENTICATOR_ID,null===(n=(0,f.C4)())||void 0===n?void 0:n.jwtBasic),r.$.AUTHENTICATOR_IDS.FIDO_AUTHENTICATOR_ID,null===(i=(0,f.C4)())||void 0===i?void 0:i.fido),r.$.AUTHENTICATOR_IDS.X509_CERTIFICATE_AUTHENTICATOR_ID,null===(o=(0,f.C4)())||void 0===o?void 0:o.x509),r.$.AUTHENTICATOR_IDS.TOTP_AUTHENTICATOR_ID,null===(a=(0,f.C4)())||void 0===a?void 0:a.totp),r.$.AUTHENTICATOR_IDS.BASIC_AUTHENTICATOR_ID,null===(l=(0,f.C4)())||void 0===l?void 0:l.basic),r.$.AUTHENTICATOR_IDS.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_ID,null===(c=(0,f.C4)())||void 0===c?void 0:c.sessionExecutor),r.$.AUTHENTICATOR_IDS.EMAIL_OTP_AUTHENTICATOR_ID,null===(s=(0,f.C4)())||void 0===s?void 0:s.emailOTP),r.$.AUTHENTICATOR_IDS.SMS_OTP_AUTHENTICATOR_ID,null===(u=(0,f.C4)())||void 0===u?void 0:u.smsOTP),r.$.AUTHENTICATOR_IDS.MAGIC_LINK_AUTHENTICATOR_ID,null===(d=(0,f.C4)())||void 0===d?void 0:d.magicLink),v(v(h,r.$.AUTHENTICATOR_IDS.BACKUP_CODE_AUTHENTICATOR_ID,null===(p=(0,f.C4)())||void 0===p?void 0:p.backupCode),r.$.AUTHENTICATOR_IDS.PUSH_AUTHENTICATOR_ID,null===(g=(0,f.C4)())||void 0===g?void 0:g.push)),e);return null!=b?b:(0,f.C4)().default}},{key:"getCustomAuthenticatorIcon",value:function(e){var t;return null!=e&&e.image?e.image:null===(t=(0,f.C4)())||void 0===t?void 0:t.customAuthenticator}},{key:"getAuthenticatorCategory",value:function(e){var t;return(0,m.Z)((v(v(v(v(v(v(v(v(v(v(t={},r.$.AUTHENTICATOR_IDS.IDENTIFIER_FIRST_AUTHENTICATOR_ID,"Predefined"),r.$.AUTHENTICATOR_IDS.FIDO_AUTHENTICATOR_ID,"Predefined"),r.$.AUTHENTICATOR_IDS.MAGIC_LINK_AUTHENTICATOR_ID,"Predefined"),r.$.AUTHENTICATOR_IDS.TOTP_AUTHENTICATOR_ID,"Predefined"),r.$.AUTHENTICATOR_IDS.PUSH_AUTHENTICATOR_ID,"Predefined"),d.$.AUTHENTICATOR_IDS.GOOGLE_OIDC_AUTHENTICATOR_ID,"Google"),d.$.AUTHENTICATOR_IDS.GITHUB_AUTHENTICATOR_ID,"GitHub"),d.$.AUTHENTICATOR_IDS.FACEBOOK_AUTHENTICATOR_ID,"Facebook"),d.$.AUTHENTICATOR_IDS.TWITTER_AUTHENTICATOR_ID,"Twitter"),d.$.AUTHENTICATOR_IDS.OIDC_AUTHENTICATOR_ID,"OIDC"),v(v(v(v(v(t,d.$.AUTHENTICATOR_IDS.SAML_AUTHENTICATOR_ID,"SAML"),r.$.AUTHENTICATOR_IDS.EMAIL_OTP_AUTHENTICATOR_ID,"Predefined"),r.$.AUTHENTICATOR_IDS.SMS_OTP_AUTHENTICATOR_ID,"Predefined"),d.$.AUTHENTICATOR_IDS.APPLE_AUTHENTICATOR_ID,"Apple"),d.$.AUTHENTICATOR_IDS.HYPR_AUTHENTICATOR_ID,"HYPR")),e)}},{key:"getAllowedFilterTags",value:function(){return[p.Yn.MULTI_FACTOR,p.Yn.PASSWORDLESS,p.Yn.OIDC,p.Yn.SOCIAL,p.Yn.SAML,p.Yn.PASSKEY]}},{key:"getAuthenticatorTemplateName",value:function(e){var t;return(0,m.Z)((v(v(v(v(v(v(v(v(v(v(t={},r.$.AUTHENTICATOR_NAMES.BASIC_AUTHENTICATOR_NAME,"username-and-password"),r.$.AUTHENTICATOR_IDS.BASIC_AUTHENTICATOR_ID,"username-and-password"),r.$.AUTHENTICATOR_IDS.FIDO_AUTHENTICATOR_ID,"fido"),r.$.AUTHENTICATOR_IDS.TOTP_AUTHENTICATOR_ID,"totp"),r.$.AUTHENTICATOR_IDS.SMS_OTP_AUTHENTICATOR_ID,"sms-otp"),r.$.AUTHENTICATOR_IDS.EMAIL_OTP_AUTHENTICATOR_ID,"email-otp"),r.$.AUTHENTICATOR_IDS.PUSH_AUTHENTICATOR_ID,"push"),r.$.AUTHENTICATOR_IDS.IDENTIFIER_FIRST_AUTHENTICATOR_ID,"identifier-first"),d.$.AUTHENTICATOR_IDS.GOOGLE_OIDC_AUTHENTICATOR_ID,"google"),d.$.AUTHENTICATOR_IDS.GITHUB_AUTHENTICATOR_ID,"github"),v(v(v(v(v(t,d.$.AUTHENTICATOR_IDS.FACEBOOK_AUTHENTICATOR_ID,"facebook"),d.$.AUTHENTICATOR_IDS.TWITTER_AUTHENTICATOR_ID,"twitter"),d.$.AUTHENTICATOR_IDS.OIDC_AUTHENTICATOR_ID,"enterprise-oidc"),d.$.AUTHENTICATOR_IDS.SAML_AUTHENTICATOR_ID,"enterprise-saml"),d.$.AUTHENTICATOR_IDS.APPLE_AUTHENTICATOR_ID,"apple")),e)}}],(t=null)&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function T(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return(t=N(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,N(i.key),i)}}function N(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=A(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:t+""}var R=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"getAllAuthenticators",value:function(e){var t,n,l,d=function(){return(0,u.Rh)()},p=function(e){var t;return null==e||null===(t=e.tags)||void 0===t?void 0:t.includes("Custom")},m=function(e){return p(e)?y.getCustomAuthenticatorIcon(e):y.getAuthenticatorIcon(e.id)};return c().all(e?[d()]:[d(),(t={},n=0,l=function(){return(0,i.E6)(15,n,'isEnabled eq "true"',"federatedAuthenticators,provisioning").then((function(e){return t=(0,s.Z)(t)?I({},e):I(I({},t),{},{identityProviders:[].concat(T(t.identityProviders),T(e.identityProviders||[]))}),!(0,s.Z)(e.links)&&e.links[0].rel&&"next"===e.links[0].rel?(n+=15,l()):Promise.resolve(t)}))},l())]).then(c().spread((function(e,t){var n=[];e.forEach((function(e){e.isEnabled&&n.push({authenticators:[{authenticatorId:e.id,isEnabled:e.isEnabled,name:e.name}],defaultAuthenticator:{authenticatorId:e.id,isEnabled:e.isEnabled,name:e.name,tags:e.tags?e.tags:[]},description:p(e)?null==e?void 0:e.description:y.getAuthenticatorDescription(e.id),displayName:e.displayName,id:e.id,idp:r.$.LOCAL_IDP_IDENTIFIER,image:m(e),isEnabled:e.isEnabled,name:e.name})}));var i=[];return null!=t&&t.identityProviders&&t.identityProviders instanceof Array&&t.identityProviders.length>0&&t.identityProviders.forEach((function(e){var t,n;if(!(0,s.Z)(null==e||null===(t=e.federatedAuthenticators)||void 0===t?void 0:t.authenticators)&&null!=e&&null!==(n=e.federatedAuthenticators)&&void 0!==n&&n.defaultAuthenticatorId){var o=e.federatedAuthenticators.authenticators.find((function(t){return t.authenticatorId===e.federatedAuthenticators.defaultAuthenticatorId}));i.push({authenticators:e.federatedAuthenticators.authenticators,defaultAuthenticator:o,description:(0,s.Z)(e.description)?y.getAuthenticatorDescription(null==o?void 0:o.authenticatorId):e.description,displayName:e.name,id:e.id,idp:e.name,image:e.image?e.image:y.getAuthenticatorIcon(e.id),isEnabled:e.isEnabled,name:e.name,provisioning:e.provisioning})}})),Promise.resolve([n,i])}))).catch((function(e){throw new a.u(o.Y.ERROR_MESSAGES.COMBINED_AUTHENTICATOR_FETCH_ERROR,e.stack,e.code,e.request,e.response,e.config)}))}}],(t=null)&&w(e.prototype,t),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}()},78852:(e,t,n)=>{n.d(t,{c:()=>u});var i,o=n(60507);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}var u=l((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));i=u,c(u,"IMPERSONATION_CONFIG_FETCH_ERROR_CODE","IC-00001"),c(u,"IMPERSONATION_CONFIG_FETCH_INVALID_STATUS_CODE_ERROR_CODE","IC-00002"),c(u,"IMPERSONATION_CONFIG_UPDATE_ERROR_CODE","IC-00003"),c(u,"IMPERSONATION_CONFIG_REVERT_INVALID_STATUS_CODE_ERROR_CODE","IC-00004"),c(u,"IMPERSONATION_CONFIG_REVERT_ERROR_CODE","IC-00005"),c(u,"DEFAULT_SUBJECT_TOKEN_EXPIRY_TIME",180),c(u,"ErrorMessages",{IMPERSONATION_CONFIG_FETCH_ERROR_CODE:new o.O(i.IMPERSONATION_CONFIG_FETCH_ERROR_CODE,"An error occurred while fetching the Impersonation configurations.","Error while fetching the Impersonation configurations",null),IMPERSONATION_CONFIG_FETCH_INVALID_STATUS_CODE_ERROR_CODE:new o.O(i.IMPERSONATION_CONFIG_FETCH_INVALID_STATUS_CODE_ERROR_CODE,"Received an invalid status code while fetching the Impersonation configurations.","Invalid Status Code while fetching the Impersonation configurations",null),IMPERSONATION_CONFIG_REVERT_ERROR_CODE:new o.O(i.IMPERSONATION_CONFIG_REVERT_ERROR_CODE,"An error occurred while reverting the impersonation configurations.","Error while reverting the impersonation configurations",null),IMPERSONATION_CONFIG_REVERT_INVALID_STATUS_CODE_ERROR_CODE:new o.O(i.IMPERSONATION_CONFIG_REVERT_INVALID_STATUS_CODE_ERROR_CODE,"Received an invalid status code while reverting the impersonation configurations.","Invalid Status Code while reverting the impersonation configurations.",null),IMPERSONATION_CONFIG_UPDATE_ERROR_CODE:new o.O(i.IMPERSONATION_CONFIG_UPDATE_ERROR_CODE,"An error occurred while updating the Impersonation configurations.","Error while updating the Impersonation configurations",null)})},13098:(e,t,n)=>{n.d(t,{Uf:()=>a,VR:()=>s,X7:()=>u,bV:()=>l,q$:()=>r,r:()=>c});var i=n(10479),o=n(47245),r=function(){var e=(0,i.$)().t,t=(0,o.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.productName}));return[e("ai:aiLoginFlow.screens.loading.facts.0",{productName:t}),e("ai:aiLoginFlow.screens.loading.facts.1",{productName:t}),e("ai:aiLoginFlow.screens.loading.facts.2",{productName:t})]},a=function(){var e=(0,i.$)().t;return{generating_login_flow_authenticators:e("ai:aiLoginFlow.screens.loading.states.7"),generating_login_flow_script:e("ai:aiLoginFlow.screens.loading.states.5"),generation_of_login_flow_authenticators_complete:e("ai:aiLoginFlow.screens.loading.states.8"),generation_of_login_flow_script_complete:e("ai:aiLoginFlow.screens.loading.states.6"),login_flow_generation_complete:e("ai:aiLoginFlow.screens.loading.states.10"),optimization_and_validation_complete:e("ai:aiLoginFlow.screens.loading.states.2"),optimizing_and_validating_final_login_flow:e("ai:aiLoginFlow.screens.loading.states.9"),optimizing_and_validating_user_query:e("ai:aiLoginFlow.screens.loading.states.1"),retrieval_of_examples_complete:e("ai:aiLoginFlow.screens.loading.states.4"),retrieving_examples:e("ai:aiLoginFlow.screens.loading.states.3")}},l={generating_login_flow_authenticators:97,generating_login_flow_script:95,generation_of_login_flow_authenticators_complete:98,generation_of_login_flow_script_complete:96,login_flow_generation_complete:100,optimization_and_validation_complete:40,optimizing_and_validating_final_login_flow:99,optimizing_and_validating_user_query:20,retrieval_of_examples_complete:90,retrieving_examples:70},c=8e3,s=100,u="applications.loginFlow.ai"},87857:(e,t,n)=>{n.d(t,{Z:()=>o});var i=(0,n(44194).createContext)(null);i.displayName="AILoginFlowContext";const o=i},2697:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(44194),o=n(87857);const r=function(){var e=(0,i.useContext)(o.Z);if(void 0===e)throw new Error("useAILoginFlow must be used within a AILoginFlowProvider");return e}},51570:(e,t,n)=>{n.d(t,{Z:()=>He});var i=n(24484),o=n(21257),r=n(6833),a=n(82406),l=n(44194),c=n(10479),s=n(47245),u=n(96124),d=n(76271),p=n(16422),m=n(65966),f=n(26170),g=n(29775),h=n(80115),v=n(69837),b=n(17308),E=n(26653),y=n(86989),A=n(82160),T=n(18365),O=n(45002),S=n(65612),I=n(7603),C=n(50342),w=n(55007),N=n(66132),R=n(90375),_=n(11107),L=n(681),P=n(20494),k=n(59673),M=n(78768),x=n(9821),U=n(917),D=n(30331),Z=n(12533);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function F(){F=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,a=Object.create(r.prototype),l=new _(i||[]);return o(a,"_invoke",{value:C(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",g="completed",h={};function v(){}function b(){}function E(){}var y={};s(y,a,(function(){return this}));var A=Object.getPrototypeOf,T=A&&A(A(L([])));T&&T!==n&&i.call(T,a)&&(y=T);var O=E.prototype=v.prototype=Object.create(y);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,r,a,l){var c=d(e[o],e,r);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==j(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var r;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return r=r?r.then(o,o):o()}})}function C(t,n,i){var o=p;return function(r,a){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===r)throw a;return{value:e,done:!0}}for(i.method=r,i.arg=a;;){var l=i.delegate;if(l){var c=w(l,i);if(c){if(c===h)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?g:m,s.arg===h)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=g,i.method="throw",i.arg=s.arg)}}}function w(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,w(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var r=d(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(j(t)+" is not iterable")}return b.prototype=E,o(O,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=s(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new I(u(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(O),s(O,c,"Generator"),s(O,a,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=L,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;R(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:L(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}function H(e,t,n,i,o,r,a){try{var l=e[r](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,o)}function V(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return G(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const z=function(){var e,t=(0,U.Z)().UIConfig,n=B((0,l.useState)(!0),2),i=n[0],o=n[1],r=B((0,l.useState)({enterprise:[],local:[],recovery:[],secondFactor:[],social:[]}),2),a=r[0],c=r[1],s=V(null!==(e=null==t?void 0:t.hiddenAuthenticators)&&void 0!==e?e:[]);(0,l.useEffect)((function(){u()}),[]);var u=function(){var e,t=(e=F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),D.z.getAllAuthenticators().then((function(e){var t=e[0],n=e[1],i=[],o=[],r=[],a=[],l=[];t.forEach((function(e){s.includes(e.name)||(e.name===Z.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME?a.push({description:e.description,idp:e.idp,name:e.name}):x.jo.SECOND_FACTOR_AUTHENTICATORS.includes(e.id)?r.push({description:e.description,idp:e.idp,name:e.name}):l.push({description:e.description,idp:e.idp,name:e.name}))})),n.forEach((function(e){var t,n;s.includes(e.name)||(x.jo.SOCIAL_AUTHENTICATORS.includes(e.defaultAuthenticator.authenticatorId)?i.push({description:e.description,idp:e.idp,name:null==e||null===(t=e.defaultAuthenticator)||void 0===t?void 0:t.name}):o.push({description:e.description,idp:e.idp,name:null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name}))})),c({enterprise:o,local:l,recovery:a,secondFactor:r,social:i})})).finally((function(){o(!1)}));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){H(r,i,o,a,l,"next",e)}function l(e){H(r,i,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return{filteredAuthenticators:a,loading:i}};var $=n(6894);function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const Y=function(){var e=W((0,l.useState)({claimURI:null,error:null}),2),t=e[0],n=e[1];return(0,l.useEffect)((function(){(0,$.WN)({"exclude-hidden-claims":!0,filter:null,limit:null,offset:null,sort:null}).then((function(e){var t=e.map((function(e){return{claimURI:e.claimURI,description:e.description}}));n({claimURI:t,error:null})})).catch((function(e){n({claimURI:null,error:e})}))}),[]),t};var Q=n(2697),J=n(2292),X=n(43939),ee=J.AsgardeoSPAClient.getInstance().httpRequest.bind(J.AsgardeoSPAClient.getInstance());const te=function(e,t,n,i){var o={data:{available_authenticators:n,user_claims:t,user_query:e},headers:{Accept:"application/json","Content-Type":"application/json","Trace-Id":i},method:r.f2.POST,url:"".concat(d.h.getState().config.endpoints.applications,"/loginflow/generate")};return ee(o).then((function(e){if(200!==e.status&&202!==e.status)throw new Error("Failed to generate login flow: ".concat(e.statusText));return e.data})).catch((function(e){var t,n,i=(null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||"Unknown error occurred";throw new X.u(i,e.stack,null===(n=e.response)||void 0===n?void 0:n.status,e.request,e.response,e.config)}))};function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function ie(){ie=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,a=Object.create(r.prototype),l=new _(i||[]);return o(a,"_invoke",{value:C(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",g="completed",h={};function v(){}function b(){}function E(){}var y={};s(y,a,(function(){return this}));var A=Object.getPrototypeOf,T=A&&A(A(L([])));T&&T!==n&&i.call(T,a)&&(y=T);var O=E.prototype=v.prototype=Object.create(y);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,r,a,l){var c=d(e[o],e,r);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==ne(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var r;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return r=r?r.then(o,o):o()}})}function C(t,n,i){var o=p;return function(r,a){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===r)throw a;return{value:e,done:!0}}for(i.method=r,i.arg=a;;){var l=i.delegate;if(l){var c=w(l,i);if(c){if(c===h)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?g:m,s.arg===h)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=g,i.method="throw",i.arg=s.arg)}}}function w(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,w(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var r=d(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(ne(t)+" is not iterable")}return b.prototype=E,o(O,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=s(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new I(u(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(O),s(O,c,"Generator"),s(O,a,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=L,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;R(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:L(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}function oe(e,t,n,i,o,r,a){try{var l=e[r](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,o)}const re=function(){var e=(0,s.I0)(),t=(0,c.$)().t,n=(0,Q.Z)(),i=n.setGeneratingLoginFlow,o=n.setOperationId,l=function(){var n,l=(n=ie().mark((function n(l,c,s,u){return ie().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",te(l,c,s,u).then((function(e){o(e.operation_id),i(!0)})).catch((function(n){422!==(null==n?void 0:n.code)?429!==(null==n?void 0:n.code)?e((0,a.V_)({description:t("ai:aiLoginFlow.notifications.generateError.description"),level:r.QU.ERROR,message:n.message||t("ai:aiLoginFlow.notifications.generateError.message")})):e((0,a.V_)({description:t("ai:aiLoginFlow.notifications.generateLimitError.description"),level:r.QU.ERROR,message:t("ai:aiLoginFlow.notifications.generateLimitError.message")})):e((0,a.V_)({description:t("ai:aiLoginFlow.notifications.generateInputError.description"),level:r.QU.ERROR,message:t("ai:aiLoginFlow.notifications.generateInputError.message")}))})));case 1:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(i,o){var r=n.apply(e,t);function a(e){oe(r,i,o,a,l,"next",e)}function l(e){oe(r,i,o,a,l,"throw",e)}a(void 0)}))});return function(e,t,n,i){return l.apply(this,arguments)}}();return l};var ae=function(e){return e.FULL="banner-full",e.INPUT="banner-input",e.COLLAPSED="banner-collapsed",e.NULL="null",e}({}),le=n(51835),ce=n.n(le),se=n(27975),ue=n.n(se),de=n(55900),pe=n.n(de),me=n(21555),fe=n.n(me),ge=n(3621),he=n.n(ge),ve=n(5062),be=n.n(ve),Ee=n(18708),ye={};ye.styleTagTransform=be(),ye.setAttributes=fe(),ye.insert=pe().bind(null,"head"),ye.domAPI=ue(),ye.insertStyleElement=he();ce()(Ee.Z,ye);Ee.Z&&Ee.Z.locals&&Ee.Z.locals;function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function Te(){Te=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,a=Object.create(r.prototype),l=new _(i||[]);return o(a,"_invoke",{value:C(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",g="completed",h={};function v(){}function b(){}function E(){}var y={};s(y,a,(function(){return this}));var A=Object.getPrototypeOf,T=A&&A(A(L([])));T&&T!==n&&i.call(T,a)&&(y=T);var O=E.prototype=v.prototype=Object.create(y);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,r,a,l){var c=d(e[o],e,r);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Ae(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var r;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return r=r?r.then(o,o):o()}})}function C(t,n,i){var o=p;return function(r,a){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===r)throw a;return{value:e,done:!0}}for(i.method=r,i.arg=a;;){var l=i.delegate;if(l){var c=w(l,i);if(c){if(c===h)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?g:m,s.arg===h)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=g,i.method="throw",i.arg=s.arg)}}}function w(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,w(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var r=d(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Ae(t)+" is not iterable")}return b.prototype=E,o(O,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=s(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new I(u(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(O),s(O,c,"Generator"),s(O,a,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=L,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;R(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:L(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}function Oe(e,t,n,i,o,r,a){try{var l=e[r](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,o)}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ie(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Ce=function(e){var t,n=e["data-componentid"],i=(0,c.$)().t,o=(0,s.v9)((function(e){return e.config.ui.features.applications})),u=(0,s.v9)((function(e){var t;return null===(t=e.config.ui.features)||void 0===t?void 0:t.ai})),d=(0,w.EV)(null==o||null===(t=o.scopes)||void 0===t?void 0:t.update),x=(0,s.I0)(),U=(0,Q.Z)(),D=U.bannerState,Z=U.isGeneratingLoginFlow,j=U.promptHistory,F=U.updatePromptHistory,H=U.userPrompt,V=U.setBannerState,B=U.setUserPrompt,q=(0,P.fQ)().getLink,G=z(),$=G.filteredAuthenticators,W=G.loading,K=Y(),J=K.claimURI,X=K.error,ee=re(),te=Se((0,l.useState)(!1),2),ne=te[0],ie=te[1],oe=Se((0,l.useState)(!1),2),le=oe[0],ce=oe[1],se=Se((0,l.useState)(!1),2),ue=se[0],de=se[1],pe=Se((0,l.useState)(""),2),me=pe[0],fe=pe[1],ge=null==u?void 0:u.enabled,he=function(){var e,t=(e=Te().mark((function e(){var t,n,o;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H){e.next=2;break}return e.abrupt("return");case 2:if(!X){e.next=5;break}return x((0,a.V_)({description:(null==X||null===(t=X.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.description)||i("console:manage.features.claims.local.notifications.getClaims.genericError.description"),level:r.QU.ERROR,message:(null==X||null===(n=X.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message)||i("console:manage.features.claims.local.notifications.getClaims.genericError.message")})),e.abrupt("return");case 5:if(0!==$.local.length||0!==$.enterprise.length||0!==$.recovery.length||0!==$.secondFactor.length||0!==$.social.length){e.next=8;break}return x((0,a.V_)({description:i("ai:aiLoginFlow.notifications.noAuthenticators.description"),level:r.QU.WARNING,message:i("ai:aiLoginFlow.notifications.noAuthenticators.message")})),e.abrupt("return");case 8:return ie(!0),F(H),o=(0,M.Z)(),e.next=13,ee(H,J,$,o);case 13:V(ae.INPUT),ie(!1);case 15:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){Oe(r,i,o,a,l,"next",e)}function l(e){Oe(r,i,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return Z?null:d?l.createElement(l.Fragment,null,l.createElement(g.Z,{in:D===ae.FULL},l.createElement(_.Z,{title:i("ai:aiLoginFlow.banner.full.heading"),description:i(ge?"ai:aiLoginFlow.banner.full.subheading":"ai:subscribeToAI"),actionButtonText:i("ai:aiLoginFlow.banner.full.button"),onActionButtonClick:function(){V(ae.INPUT)},titleLabel:l.createElement(N.Z,{featureFlags:null==u?void 0:u.featureFlags,featureKey:R.Z.FEATURE_FLAG_KEY_MAP.AI_APPLICATION_LOGIN_FLOW_BANNER,type:"chip"}),hideAction:!ge})),l.createElement(g.Z,{in:D===ae.INPUT||D===ae.COLLAPSED},l.createElement(L.Z,{title:i("ai:aiLoginFlow.banner.input.heading"),description:l.createElement(l.Fragment,null,i("ai:aiLoginFlow.banner.input.subheading"),l.createElement(P.eb,{link:q("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.ai.learnMore")},l.createElement(k.c,{i18nKey:"common:learnMore"},"Learn more"))),titleLabel:l.createElement(N.Z,{featureFlags:null==u?void 0:u.featureFlags,featureKey:R.Z.FEATURE_FLAG_KEY_MAP.AI_APPLICATION_LOGIN_FLOW_BANNER,type:"chip"})},l.createElement(I.Z,{name:"loginFlowInput","data-componentid":"login-flow-ai-input-field",className:"login-flow-ai-input-field",placeholder:i("ai:aiLoginFlow.banner.input.placeholder"),fullWidth:!0,multiline:!0,maxRows:4,size:"small",value:H,onChange:function(e){var t;return B(null==e||null===(t=e.target)||void 0===t?void 0:t.value)},onKeyDown:function(e){"Enter"===(null==e?void 0:e.key)&&null!=e&&e.shiftKey||"Enter"===(null==e?void 0:e.key)&&(null==e||e.preventDefault(),he())},inputProps:{maxlength:1e3},InputProps:{className:"login-flow-ai-input-field-inner",endAdornment:ne||W?l.createElement(y.Z,{className:"m-3"},l.createElement(f.Z,{color:"primary",size:20})):l.createElement(h.Z,{onClick:function(){return he()},disabled:!(null!=H&&H.trim())},l.createElement(m.Z,{className:"login-flow-ai-input-button-icon\n                                                ".concat(null!=H&&H.trim()?"":"disabled")}))}}),l.createElement(y.Z,{className:"login-flow-ai-disclaimer"},l.createElement(C.Z,{variant:"caption"},i("ai:aiLoginFlow.disclaimer"),l.createElement(P.eb,{link:q("common.termsOfService")},i("ai:aiLoginFlow.termsAndConditions")))),(null==j?void 0:j.length)>0&&!ne&&l.createElement(v.Z,{className:"login-flow-ai-banner-history-container",disableGutters:!0,elevation:0,sx:{"&:before":{display:"none"}},onChange:function(){return ce(!le)}},l.createElement(E.Z,{className:"login-flow-ai-banner-history-title"},l.createElement(A.Z,{startIcon:l.createElement(p.Z,null),variant:"contained",color:"secondary",size:"small",className:"login-flow-ai-banner-history-button","data-componentid":"login-flow-ai-banner-history-button"},i("ai:aiLoginFlow.promptsHistory"))),l.createElement(b.Z,{className:"login-flow-ai-banner-history-card-container"},l.createElement(y.Z,null,l.createElement(S.Z,{container:!0,spacing:2},j.map((function(e,t){return l.createElement(S.Z,{xs:4,key:t},l.createElement(T.Z,{className:"login-flow-ai-banner-history-card","data-componentid":"login-flow-ai-banner-history-card-".concat(t),onClick:function(){return function(e){if(H&&H!==e)return fe(e),void de(!0);B(e)}(e)}},l.createElement(O.Z,null,l.createElement(C.Z,{color:"text.secondary",variant:"body2",className:"login-flow-ai-banner-history-card-text"},e.length>200?"".concat(e.substring(0,200),"..."):e))))})))))),l.createElement(P.cV,{onClose:function(){return de(!1)},type:"warning",open:ue,primaryAction:i("common:confirm"),secondaryAction:i("common:cancel"),onSecondaryActionClick:function(){return de(!1)},onPrimaryActionClick:function(){B(me),de(!1)},"data-componentid":"".concat(n,"-propmt-replace-confirmation-modal"),closeOnDimmerClick:!1},l.createElement(P.cV.Header,{"data-componentid":"".concat(n,"-propmt-replace-confirmation-modal-header")},i("ai:aiLoginFlow.confirmations.replacePrompt.header")),l.createElement(P.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(n,"-propmt-replace-confirmation-modal-message")},i("ai:aiLoginFlow.confirmations.replacePrompt.message")),l.createElement(P.cV.Content,{"data-componentid":"".concat(n,"-propmt-replace-confirmation-modal-content")},i("ai:aiLoginFlow.confirmations.replacePrompt.content")))))):null};Ce.defaultProps={"data-componentid":"login-flow-ai-banner"};const we=Ce;var Ne=n(22945);function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Le=n(13098);function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ke(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ke(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const Me=function(){var e=(0,c.$)().t,t=(0,s.I0)(),n=(0,Le.Uf)(),i=(0,Q.Z)(),o=i.setGeneratingLoginFlow,p=i.setLoginFlowGenerationCompleted,m=(0,Le.q$)(),f=function(){var e=Re((0,l.useState)(!0),2),t=e[0],n=e[1],i=(0,Q.Z)(),o=i.setLoginFlowGenerationCompleted,a=i.operationId,c={headers:{Accept:"application/json","Content-Type":"application/json"},method:r.f2.GET,url:"".concat(d.h.getState().config.endpoints.applications,"/loginflow/status/").concat(a)},s=(0,u.Z)(c,{shouldRetryOnError:!1}),p=s.data,m=s.error,f=s.isValidating,g=s.mutate;return(0,l.useEffect)((function(){var e,t=setInterval((function(){var e;f||null!=p&&null!==(e=p.status)&&void 0!==e&&e.login_flow_generation_complete||g()}),1e3);return null!=p&&null!==(e=p.status)&&void 0!==e&&e.login_flow_generation_complete?(n(!1),clearInterval(t),o(!0)):n(!0),function(){return clearInterval(t)}}),[p,f]),{data:p,error:m,isLoading:t,isValidating:f,mutate:g}}(),g=f.data,h=f.error,v=Pe((0,l.useState)(0),2),b=v[0],E=v[1],y=Pe((0,l.useState)(0),2),A=y[0],T=y[1],O=Le.bV;(0,l.useEffect)((function(){var e=S(),t=setInterval((function(){E((function(n){return n>=e?(clearInterval(t),e):n+1}))}),Le.VR);return function(){return clearInterval(t)}}),[g]),(0,l.useEffect)((function(){var e=setInterval((function(){T((A+1)%m.length)}),Le.r);return function(){return clearInterval(e)}}),[A]),(0,l.useEffect)((function(){h&&t((0,a.V_)({description:e("ai:aiLoginFlow.notifications.generateStatusError.description"),level:r.QU.ERROR,message:e("ai:aiLoginFlow.notifications.generateStatusError.message")}))}),[h]);var S=function(){if(!g)return 0;var e=0;return Object.entries(g.status).forEach((function(t){var n=Pe(t,2),i=n[0];n[1]&&O[i]>e&&(e=O[i])})),e};return l.createElement(Ne.Z,{currentLoadingState:function(){if(!g)return e("ai:aiLoginFlow.screens.loading.states.0");var t="ai:aiLoginFlow.screens.loading.states.0";return Object.entries(g.status).forEach((function(e){var i=Pe(e,2),o=i[0];i[1]&&n[o]&&(t=n[o])})),e(t)}(),currentProgress:b,fact:m[A],handleGenerateCancel:function(){o(!1),p(!1)}})};var xe=n(87857),Ue=function(e){return e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.IN_PROGRESS="IN_PROGRESS",e}({});function De(e){return function(e){if(Array.isArray(e))return Fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||je(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||je(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){if(e){if("string"==typeof e)return Fe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(e,t):void 0}}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const He=function(e){var t=e.children,n=(0,c.$)().t,p=(0,s.I0)(),m=(0,o.z)().isSubOrganization,f=(0,s.v9)((function(e){var t;return null===(t=e.config.ui.features)||void 0===t||null===(t=t.applications)||void 0===t?void 0:t.disabledFeatures})),g=Ze((0,l.useState)(void 0),2),h=g[0],v=g[1],b=Ze((0,l.useState)(),2),E=b[0],y=b[1],A=Ze((0,l.useState)(!1),2),T=A[0],O=A[1],S=Ze((0,l.useState)(!1),2),I=S[0],C=S[1],w=Ze((0,l.useState)([]),2),N=w[0],R=w[1],_=Ze((0,l.useState)(""),2),L=_[0],P=_[1],k=Ze((0,l.useState)(ae.FULL),2),M=k[0],x=k[1],U=(0,i.Z)().conditionalAuthPremiumFeature,D=function(e,t){var n={headers:{Accept:"application/json","Content-Type":"application/json"},method:r.f2.GET,url:"".concat(d.h.getState().config.endpoints.applications,"/loginflow/result/").concat(e)},i=(0,u.Z)(t?n:null,{shouldRetryOnError:!1}),o=i.data,a=i.error,c=i.isLoading,s=i.isValidating,p=i.mutate;return(0,l.useEffect)((function(){t&&p()}),[t]),{data:o,error:a,isLoading:c,isValidating:s,mutate:p}}(E,I),Z=D.data,j=D.error;(0,l.useEffect)((function(){if(j)return O(!1),C(!1),void p((0,a.V_)({description:n("ai:aiLoginFlow.notifications.generateResultError.description"),level:r.QU.ERROR,message:n("ai:aiLoginFlow.notifications.generateResultError.message")}));if((null==Z?void 0:Z.status)!==Ue.FAILED)(null==Z?void 0:Z.status)===Ue.COMPLETED&&"type"in Z.data&&F(Z.data);else{O(!1),C(!1);var e="error"in Z.data?Z.data.error:n("ai:aiLoginFlow.notifications.generateResultFailed.message");p((0,a.V_)({description:e,level:r.QU.ERROR,message:n("ai:aiLoginFlow.notifications.generateResultFailed.message")}))}}),[Z,I]);var F=function(e){U&&(e.script=null),v(e),O(!1),C(!1)};return l.createElement(xe.Z.Provider,{value:{aiGeneratedLoginFlow:h,bannerState:M,handleGenerate:F,isGeneratingLoginFlow:T,loginFlowGenerationCompleted:I,operationId:E,promptHistory:N,setAiGeneratedLoginFlow:v,setBannerState:x,setGeneratingLoginFlow:O,setLoginFlowGenerationCompleted:C,setOperationId:y,setUserPrompt:P,updatePromptHistory:function(e){N.includes(e)?R([e].concat(De(N.filter((function(t){return t!==e}))))):R([e].concat(De(N.slice(0,2))))},userPrompt:L}},T?l.createElement(Me,null):l.createElement(l.Fragment,null,!(null!=f&&f.includes(Le.X7))&&!m()&&l.createElement("div",{className:"mb-2"},l.createElement(we,null)),t))}},54388:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(47149),o=n(16590),r=n(79438),a=n(50699),l=n(44194),c=n(10479),s=n(37077),u=n(8058);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=d(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var v="governance-connectors-analytics-form",b=function(e){var t=e.hideUpdateButton,n=e.initialValues,d=e.onSubmit,p=e.readOnly,f=e.isConnectorEnabled,h=e.isModalForm,b=e.isSubmitting,E=e.triggerSubmission,y=e["data-componentid"],A=(0,c.$)().t,T=g((0,l.useState)(void 0),2),O=T[0],S=T[1];(0,l.useEffect)((function(){if(!(0,a.Z)(null==n?void 0:n.properties)){var e=null;n.properties.map((function(t){switch(t.name){case i.v.ANALYTICS_HOST:e=m(m({},e),{},{receiver:t.value});break;case i.v.ANALYTICS_BASIC_AUTH_ENABLE:e=m(m({},e),{},{basicAuthEnabled:o.CommonUtils.parseBoolean(t.value)});break;case i.v.ANALYTICS_BASIC_AUTH_USERNAME:e=m(m({},e),{},{basicAuthUsername:t.value});break;case i.v.ANALYTICS_BASIC_AUTH_PASSWORD:e=m(m({},e),{},{basicAuthPassword:t.value});break;case i.v.ANALYTICS_HTTP_CONNECTION_TIMEOUT:e=m(m({},e),{},{httpConnectionTimeout:t.value?parseInt(t.value):0});break;case i.v.ANALYTICS_HTTP_READ_TIMEOUT:e=m(m({},e),{},{httpReadTimeout:t.value?parseInt(t.value):0});break;case i.v.ANALYTICS_HTTP_CONNECTION_REQUEST_TIMEOUT:e=m(m({},e),{},{httpConnectionRequestTimeout:t.value?parseInt(t.value):0});break;case i.v.ANALYTICS_HOSTNAME_VERIFICATION:e=m(m({},e),{},{hostNameVerfier:t.value})}})),S(e)}}),[n]);return O?l.createElement("div",{className:"connector-form analytics"},l.createElement(r.l0,{id:v,initialValues:O,onSubmit:function(e){return d(function(e){return{"__secret__adaptive_authentication.elastic.basicAuth.password":e.basicAuthPassword,"adaptive_authentication.elastic.HTTPConnectionRequestTimeout":e.httpConnectionRequestTimeout,"adaptive_authentication.elastic.HTTPConnectionTimeout":e.httpConnectionTimeout,"adaptive_authentication.elastic.HTTPReadTimeout":e.httpReadTimeout,"adaptive_authentication.elastic.basicAuth.enabled":e.basicAuthEnabled,"adaptive_authentication.elastic.basicAuth.username":e.basicAuthUsername,"adaptive_authentication.elastic.hostnameVerfier":e.hostNameVerfier,"adaptive_authentication.elastic.receiver":e.receiver}}(e))},uncontrolledForm:!1,triggerSubmit:function(e){return E(e)}},l.createElement(r.gN.Input,{ariaLabel:"Analytics Host URL",inputType:"default",name:"receiver",label:A("extensions:manage.serverConfigurations.analytics.form.fields.hostUrl.label"),placeholder:A("extensions:manage.serverConfigurations.analytics.form.fields.hostUrl.placeholder"),required:!0,maxLength:null,minLength:null,readOnly:p,width:h?16:12,disabled:!f,"data-componentid":"".concat(y,"-analytics-host-url"),hint:A("extensions:manage.serverConfigurations.analytics.form.fields.hostUrl.hint")}),l.createElement(r.gN.Checkbox,{ariaLabel:"Analytics Enable Basic Auth",name:"basicAuthEnabled",label:A("extensions:manage.serverConfigurations.analytics.form.fields.hostBasicAuthEnable.label"),required:!1,readOnly:p,width:h?16:12,disabled:!f,"data-componentid":"".concat(y,"-analytics-success"),hint:A("extensions:manage.serverConfigurations.analytics.form.fields.hostBasicAuthEnable.hint"),toggle:!0}),l.createElement(r.gN.Input,{ariaLabel:"Analytics Host Username",inputType:"default",name:"basicAuthUsername",label:A("extensions:manage.serverConfigurations.analytics.form.fields.hostUsername.label"),placeholder:A("extensions:manage.serverConfigurations.analytics.form.fields.hostUsername.placeholder"),required:!0,maxLength:null,minLength:null,readOnly:p,width:h?16:12,disabled:!f,"data-componentid":"".concat(y,"-host-username"),hint:A("extensions:manage.serverConfigurations.analytics.form.fields.hostUsername.hint")}),l.createElement(r.gN.Input,{ariaLabel:"Analytics Host Password",inputType:"password",type:"password",name:"basicAuthPassword",label:A("extensions:manage.serverConfigurations.analytics.form.fields.hostPassword.label"),placeholder:A("extensions:manage.serverConfigurations.analytics.form.fields.hostPassword.placeholder"),required:!0,maxLength:null,minLength:null,readOnly:p,width:h?16:12,disabled:!f,hint:A("extensions:manage.serverConfigurations.analytics.form.fields.hostPassword.hint"),"data-componentid":"".concat(y,"-host-password")}),l.createElement(r.gN.Input,{ariaLabel:"Analytics HTTP Connection Timeout",inputType:"number",min:u.X.ANALYTICS_FORM_FIELD_CONSTRAINTS.TIMEOUT_MIN_LENGTH,name:"httpConnectionTimeout",label:A("extensions:manage.serverConfigurations.analytics.form.fields.hostConnectionTimeout.label"),placeholder:A("extensions:manage.serverConfigurations.analytics.form.fields.hostConnectionTimeout.placeholder"),required:!0,maxLength:null,minLength:u.X.ANALYTICS_FORM_FIELD_CONSTRAINTS.TIMEOUT_MIN_LENGTH,readOnly:p,width:h?16:12,labelPosition:"right",disabled:!f,hint:A("extensions:manage.serverConfigurations.analytics.form.fields.hostConnectionTimeout.hint"),"data-componentid":"".concat(y,"-host-connection-timeout")},l.createElement("input",null),l.createElement(s.Z,{content:"milliseconds"})),l.createElement(r.gN.Input,{ariaLabel:"Analytics HTTP Read Timeout",inputType:"number",min:u.X.ANALYTICS_FORM_FIELD_CONSTRAINTS.TIMEOUT_MIN_LENGTH,name:"httpReadTimeout",label:A("extensions:manage.serverConfigurations.analytics.form.fields.hostReadTimeout.label"),placeholder:A("extensions:manage.serverConfigurations.analytics.form.fields.hostReadTimeout.placeholder"),required:!0,maxLength:null,minLength:u.X.ANALYTICS_FORM_FIELD_CONSTRAINTS.TIMEOUT_MIN_LENGTH,readOnly:p,width:h?16:12,labelPosition:"right",disabled:!f,hint:A("extensions:manage.serverConfigurations.analytics.form.fields.hostReadTimeout.hint"),"data-componentid":"".concat(y,"-host-read-timeout")},l.createElement("input",null),l.createElement(s.Z,{content:"milliseconds"})),l.createElement(r.gN.Input,{ariaLabel:"Analytics HTTP Connection Request Timeout",inputType:"number",min:u.X.ANALYTICS_FORM_FIELD_CONSTRAINTS.TIMEOUT_MIN_LENGTH,name:"httpConnectionRequestTimeout",label:A("extensions:manage.serverConfigurations.analytics.form.fields.hostConnectionRequestTimeout.label"),placeholder:A("extensions:manage.serverConfigurations.analytics.form.fields.hostConnectionRequestTimeout.placeholder"),required:!0,maxLength:null,minLength:u.X.ANALYTICS_FORM_FIELD_CONSTRAINTS.TIMEOUT_MIN_LENGTH,readOnly:p,width:h?16:12,labelPosition:"right",disabled:!f,hint:A("extensions:manage.serverConfigurations.analytics.form.fields.hostConnectionRequestTimeout.hint"),"data-componentid":"".concat(y,"-host-connection-request-timeout")},l.createElement("input",null),l.createElement(s.Z,{content:"milliseconds"})),l.createElement(r.gN.Input,{ariaLabel:"Analytics Host Name Verification",inputType:"default",name:"hostNameVerfier",label:A("extensions:manage.serverConfigurations.analytics.form.fields.hostNameVerification.label"),placeholder:A("extensions:manage.serverConfigurations.analytics.form.fields.hostNameVerification.placeholder"),required:!0,maxLength:null,minLength:null,readOnly:p,width:h?16:12,disabled:!f,hint:A("extensions:manage.serverConfigurations.analytics.form.fields.hostNameVerification.hint"),"data-componentid":"".concat(y,"-host-name-verifier")}),l.createElement(r.gN.Button,{form:v,size:"small",buttonType:"primary_btn",ariaLabel:"Analytics config update button",name:"update-button","data-componentid":"".concat(y,"-submit-button"),disabled:b,loading:b,label:A("common:update"),hidden:!f||p||t}))):null};b.defaultProps={"data-componentid":"analytics-edit-form",hideUpdateButton:!1}},97130:(e,t,n)=>{n.d(t,{Z:()=>ne});var i=n(62210),o=n(11589),r=n(86727),a=n(87973),l=n(90248),c=n(20450),s=n(92077),u=n(57085),d=n(53682),p=n(24049),m=n(34292),f=n(72225),g=n(20043),h=n(72137),v=n(37880),b=n(23852),E=n(35932),y=n(13550),A=n(37746),T=n(92529),O=n(6833),S=n(82406),I=n(20494),C=n(37626),w=n(50699),N=n(44194),R=n(10479),_=n(71619),L=n(47245),P=n(51835),k=n.n(P),M=n(27975),x=n.n(M),U=n(55900),D=n.n(U),Z=n(21555),j=n.n(Z),F=n(3621),H=n.n(F),V=n(5062),B=n.n(V),q=n(46233),G={};G.styleTagTransform=B(),G.setAttributes=j(),G.insert=D().bind(null,"head"),G.domAPI=x(),G.insertStyleElement=H();k()(q.Z,G);q.Z&&q.Z.locals&&q.Z.locals;var z=n(84374);function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},W.apply(null,arguments)}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=$(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||ee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){if(e){if("string"==typeof e)return te(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const ne=function(e){var t=e["data-componentid"],n=void 0===t?"org-selective-share-with-selective-roles-edit":t,P=e.applicationId,k=e.applicationRolesList,M=e.roleSelections,x=e.setRoleSelections,U=e.addedRoles,D=e.setAddedRoles,Z=e.removedRoles,j=e.setRemovedRoles,F=e.shareAllRoles,H=e.selectedItems,V=void 0===H?[]:H,B=e.setSelectedItems,q=void 0===B?function(){}:B,G=e.addedOrgs,$=void 0===G?[]:G,K=e.setAddedOrgs,ee=void 0===K?function(){}:K,te=e.removedOrgs,ne=void 0===te?[]:te,ie=e.setRemovedOrgs,oe=void 0===ie?function(){}:ie,re=e.newlyAddedCommonRoles,ae=void 0===re?[]:re,le=e.newlyRemovedCommonRoles,ce=void 0===le?[]:le,se=e.shouldShareWithFutureChildOrgsMap,ue=void 0===se?{}:se,de=e.setShouldShareWithFutureChildOrgsMap,pe=void 0===de?function(){}:de,me=e.clearAdvancedRoleSharing,fe=void 0!==me&&me,ge=e.disableOrgSelection,he=void 0!==ge&&ge,ve=e.enableAdminRole,be=void 0!==ve&&ve,Ee=(0,L.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t||null===(t=t.organization)||void 0===t?void 0:t.id})),ye=(0,R.$)().t,Ae=(0,L.I0)(),Te=(0,A.Z)().isOrganizationManagementEnabled,Oe=X((0,N.useState)([]),2),Se=Oe[0],Ie=Oe[1],Ce=X((0,N.useState)(!1),2),we=Ce[0],Ne=Ce[1],Re=X((0,N.useState)(),2),_e=Re[0],Le=Re[1],Pe=X((0,N.useState)(),2),ke=Pe[0],Me=Pe[1],xe=X((0,N.useState)(),2),Ue=xe[0],De=xe[1],Ze=X((0,N.useState)(),2),je=Ze[0],Fe=Ze[1],He=X((0,N.useState)([]),2),Ve=He[0],Be=He[1],qe=X((0,N.useState)(),2),Ge=qe[0],ze=qe[1],$e=X((0,N.useState)({}),2),We=$e[0],Ke=$e[1],Ye=X((0,N.useState)(!1),2),Qe=Ye[0],Je=Ye[1],Xe=(0,h.Z)(P,!(0,w.Z)(P),!0,null,"roles"),et=Xe.data,tt=Xe.isLoading,nt=Xe.error,it=(0,T.Z)(Te,null,15,(0,w.Z)(ke)?null:ke,null,!1,!1),ot=it.data,rt=it.error,at=(0,T.Z)(Te&&!(0,w.Z)(Ue),"parentId eq '".concat(Ue,"'"),null,null,null,!1,!1),lt=at.data,ct=at.error,st=(0,h.Z)(P,!(0,w.Z)(P)&&!(0,w.Z)(je),!0,"id eq '".concat(je,"'"),null,1,null,null,"sharingMode"),ut=st.data,dt=st.error,pt=tt;(0,N.useEffect)((function(){var e;if((null==et||null===(e=et.organizations)||void 0===e?void 0:e.length)>0){var t=et.organizations.map((function(e){return e.id}));q(t)}else q([])}),[et]),(0,N.useEffect)((function(){var e;if((null==ot||null===(e=ot.organizations)||void 0===e?void 0:e.length)>0){var t,n=vt(ot.organizations);if(Ie((function(e){if(0===e.length)return n;var t=e.map((function(e){return e.id})),i=n.filter((function(e){return!t.includes(e.id)}));return 0===i.length?e:[].concat(J(e),J(i))})),(null==ot||null===(t=ot.links)||void 0===t?void 0:t.length)>0){var i=ot.links.find((function(e){return"next"===e.rel}));i?(Le(i.href),Ne(!0)):(Le(void 0),Ne(!1))}else Ne(!1);var o={};ot.organizations.forEach((function(e){o[e.id]=Y(Y({},e),{},{parentId:Ee})})),Ke(o),Fe(ot.organizations[0].id),1!==ot.organizations.length||ot.organizations[0].hasChildren?Je(!1):Je(!0)}else Fe(void 0),Ie([])}),[ot]),(0,N.useEffect)((function(){var e;if((null==lt||null===(e=lt.organizations)||void 0===e?void 0:e.length)>0){var t=vt(null==lt?void 0:lt.organizations),n=(0,v.pe)(Se,Ue,t);Ie(n);var i=(0,v.z0)(Ue,lt.organizations,M,be?[b.S.ADMINISTRATOR]:[]);x((function(e){return Y(Y({},e),i)}))}}),[lt]),(0,N.useEffect)((function(){var e;if((null==ot||null===(e=ot.organizations)||void 0===e?void 0:e.length)>0&&(null==k?void 0:k.length)>0){var t=(0,v.zW)(ot.organizations,k,be?[b.S.ADMINISTRATOR]:[],fe);x((function(e){var n=Y({},e);return Object.keys(t).forEach((function(e){(0,w.Z)(n[e])&&(n[e]=t[e])})),n}))}}),[ot,k,fe]),(0,N.useEffect)((function(){var e;if(!(0,w.Z)(je)){var t=M[je]||[],n=[];if((null==ut||null===(e=ut.organizations)||void 0===e?void 0:e.length)>0){var i,o,r=ut.organizations[0],a=null==r||null===(i=r.sharingMode)||void 0===i?void 0:i.policy;if(n=(null==r?void 0:r.roles)||[],ze(null!=a?a:E.wD.SELECTED_ORG_ONLY),n.length>0)if((0,w.Z)(t))t=n.map((function(e){return Y(Y({},e),{},{selected:!fe})}));else t=null===(o=t)||void 0===o?void 0:o.map((function(e){var t,i=!1,o=null===(t=n)||void 0===t?void 0:t.some((function(t){return t.displayName===e.displayName}));return!fe&&o&&(i=!0),Y(Y({},e),{},{selected:i})}))}if(t=t.map((function(e){var t,i,o,r=!fe&&(null===(t=n)||void 0===t?void 0:t.some((function(t){return t.displayName===e.displayName})));return(null==ae?void 0:ae.some((function(t){return t.displayName===e.displayName})))&&(r=!0),(null==ce?void 0:ce.some((function(t){return t.displayName===e.displayName})))&&(r=!1),(null===(i=U[je])||void 0===i?void 0:i.some((function(t){return t.displayName===e.displayName})))&&(r=!0),(null===(o=Z[je])||void 0===o?void 0:o.some((function(t){return t.displayName===e.displayName})))&&(r=!1),be&&e.displayName===b.S.ADMINISTRATOR&&(r=!0),Y(Y({},e),{},{selected:r})})),be){var l=t.findIndex((function(e){return e.displayName===b.S.ADMINISTRATOR}));l>0&&t.unshift(t.splice(l,1)[0])}x((function(e){return Y(Y({},e),{},Q({},je,t))}))}}),[ut]),(0,N.useEffect)((function(){(nt||dt)&&Ae((0,S.V_)({description:ye("applications:edit.sections.sharedAccess.notifications.fetchApplicationOrgTree.genericError.description"),level:O.QU.ERROR,message:ye("applications:edit.sections.sharedAccess.notifications.fetchApplicationOrgTree.genericError.message")}))}),[nt,dt]),(0,N.useEffect)((function(){(ct||rt)&&Ae((0,S.V_)({description:ye("applications:edit.sections.sharedAccess.notifications.fetchOrganizations.genericError.description"),level:O.QU.ERROR,message:ye("applications:edit.sections.sharedAccess.notifications.fetchOrganizations.genericError.message")}))}),[ct,rt]);var mt,ft,gt,ht,vt=function(e){var t={},n=Y({},We);return e.forEach((function(e){var i,o;(t[e.id]={children:e.hasChildren?[{children:[],id:"".concat(e.name,"-temp-child"),label:"Loading..."}]:[],id:e.id,label:e.name,parentId:null!==(i=e.parentId)&&void 0!==i?i:Ue},n[e.id])||(n[e.id]={hasChildren:e.hasChildren,id:e.id,name:e.name,parentId:null!==(o=e.parentId)&&void 0!==o?o:Ue,ref:e.ref,status:e.status})})),Ke(n),e.map((function(e){return t[e.id]}))},bt=function(e,t){(0,v.qZ)(e,We).forEach((function(e){var n=M[e];if(n){var i=n.filter((function(e){return e.displayName!==t.displayName}));x((function(t){return Y(Y({},t),{},Q({},e,i))})),bt(e,t)}}))},Et=function(e){var t=We[e];if(t){var n=We[t.parentId];n&&(V.includes(n.id)||(q((function(e){return[].concat(J(e),[n.id])})),Et(n.id),$.includes(n.id)||ee((function(e){return[].concat(J(e),[n.id])}))))}},yt=function(e){var t=We[e];if(t&&t.hasChildren){var n=(0,v.qZ)(e,We);q((function(e){return e.filter((function(e){return!n.includes(e)}))})),ne.includes(e)||oe((function(t){return[].concat(J(t),[e])})),At(e),n.forEach((function(e){yt(e)}))}},At=function(e){var t=Z[e];U[e]&&D((function(t){var n=Y({},t);return delete n[e],n})),t&&j((function(t){var n=Y({},t);return delete n[e],n}))},Tt=function(e){var t=(0,v.qZ)(e,We);(null==t?void 0:t.length)>0&&t.forEach((function(e){Be((function(t){return t.filter((function(t){return t!==e}))})),Tt(e)}))},Ot=function(e,t,n){if("selectOption"===t){var i,o,r,a=null==n?void 0:n.option;if((0,w.Z)(a))return;var l=null===(i=M[je])||void 0===i?void 0:i.map((function(e){return(null==e?void 0:e.displayName)===(null==a?void 0:a.displayName)?Y(Y({},e),{},{selected:!0}):e}));x((function(e){return Y(Y({},e),{},Q({},je,l))}));var c={audience:{display:null==a||null===(o=a.audience)||void 0===o?void 0:o.display,type:null==a||null===(r=a.audience)||void 0===r?void 0:r.type},displayName:a.displayName};s=je,u=a,(0,v.qZ)(s,We).forEach((function(e){var t=M[e]||[];if(!t.some((function(e){return e.displayName===u.displayName}))){var n=[].concat(J(t),[Y(Y({},u),{},{selected:!1})]);x((function(t){return Y(Y({},t),{},Q({},e,n))}))}})),function(e,t){(Z[e]||[]).some((function(e){return e.displayName===t.displayName}))?j((function(n){var i,o=(null===(i=n[e])||void 0===i?void 0:i.filter((function(e){return e.displayName!==t.displayName})))||[];return Y(Y({},n),{},Q({},e,o))})):D((function(n){var i,o=(null===(i=n[e])||void 0===i?void 0:i.map((function(e){var t,n;return{audience:{display:null===(t=e.audience)||void 0===t?void 0:t.display,type:null===(n=e.audience)||void 0===n?void 0:n.type},displayName:e.displayName}})))||[];return o.some((function(e){return e.displayName===t.displayName}))?n:Y(Y({},n),{},Q({},e,[].concat(J(o),[t])))}))}(je,c)}var s,u;if("removeOption"===t){var d,p,m,f=null==n?void 0:n.option;if((0,w.Z)(f))return;if(be&&f.displayName===b.S.ADMINISTRATOR)return;var g=null===(d=M[je])||void 0===d?void 0:d.map((function(e){return(null==e?void 0:e.displayName)===(null==f?void 0:f.displayName)?Y(Y({},e),{},{selected:!1}):e}));x((function(e){return Y(Y({},e),{},Q({},je,g))}));var h={audience:{display:null==f||null===(p=f.audience)||void 0===p?void 0:p.display,type:null==f||null===(m=f.audience)||void 0===m?void 0:m.type},displayName:f.displayName};bt(je,f),function(e,t){(U[e]||[]).some((function(e){return e.displayName===t.displayName}))?D((function(n){var i,o=(null===(i=n[e])||void 0===i?void 0:i.filter((function(e){return e.displayName!==t.displayName})))||[];return Y(Y({},n),{},Q({},e,o))})):j((function(n){var i=n[e]||[];return i.some((function(e){return e.displayName===t.displayName}))?n:Y(Y({},n),{},Q({},e,[].concat(J(i),[t])))}))}(je,h)}};return N.createElement(p.Z,{container:!0,xs:12,className:"roles-selective-share-container"},pt?N.createElement(p.Z,{container:!0,xs:12,padding:1,className:"roles-selective-share-left-panel",justifyContent:"center",alignItems:"center"},N.createElement(s.Z,{size:30})):Se.length>0?N.createElement(N.Fragment,null,!Qe&&N.createElement(p.Z,{xs:12,md:4,lg:3,padding:1,className:"roles-selective-share-left-panel",id:"scrollableOrgContainer"},N.createElement(_.Z,{dataLength:Se.length,next:function(){var e=null==_e?void 0:_e.split("after=");e.length<2?Ne(!1):Me(e[1])},hasMore:we,loader:N.createElement(m.Z,null),scrollableTarget:"scrollableOrgContainer"},N.createElement(i.q,{"data-componentid":"".concat(n,"-tree-view"),className:"roles-selective-share-tree-view",items:Se,expandedItems:Ve,expansionTrigger:he?"content":"iconContainer",onItemExpansionToggle:function(e,t,n){n?(De(t),Be((function(e){return[].concat(J(e),[t])}))):(Be((function(e){return e.filter((function(e){return e!==t}))})),Tt(t))},onItemSelectionToggle:function(e,t,n){return function(e,t){t?(V.includes(e)||q((function(t){return[].concat(J(t),[e])})),$.includes(e)||ee((function(t){return[].concat(J(t),[e])})),oe((function(t){return t.filter((function(t){return t!==e}))})),Et(e)):(q((function(t){return t.filter((function(t){return t!==e}))})),ne.includes(e)||oe((function(t){return[].concat(J(t),[e])})),ee((function(t){return t.filter((function(t){return t!==e}))})),At(e),yt(e))}(t,n)},onItemClick:function(e,t){Fe(t)},selectedItems:he?je:V,checkboxSelection:!he,disableSelection:he,multiSelect:!he,selectionPropagation:{descendants:!1,parents:!1},slots:{item:z.P}}))),N.createElement(C.M,{mode:"wait"},N.createElement(p.Z,{xs:12,md:Qe?12:8,lg:Qe?12:9,paddingX:2,paddingY:1,className:"roles-selective-share-right-panel"},!Qe&&(0,w.Z)(je)?N.createElement(a.Z,{className:"role-list-container center"},ye("applications:edit.sections.sharedAccess.selectAnOrganizationToMangage")):Qe||he||V.includes(je)?N.createElement(a.Z,{className:"role-list-container"},N.createElement(g.Z,{variant:"h5"},"".concat(ye("applications:edit.sections.sharedAccess.sharingSettings")),N.createElement(u.Z,{sx:{marginLeft:"5px"}},null===(mt=We[je])||void 0===mt?void 0:mt.name)),N.createElement(g.Z,{variant:"body1"},ye("applications:edit.sections.sharedAccess.sharedRoles")),F?N.createElement(o.Z,{severity:"info","data-componentid":"".concat(n,"-no-roles-alert")},ye("applications:edit.sections.sharedAccess.allRolesSharingMessage")):(0,w.Z)(M[je])?N.createElement(o.Z,{severity:"info","data-componentid":"".concat(n,"-no-roles-alert")},ye("applications:edit.sections.sharedAccess.noRolesAvailableForOrg")):N.createElement(r.Z,{fullWidth:!0,multiple:!0,disableClearable:!0,"data-componentid":"".concat(n,"-autocomplete"),size:"small",placeholder:ye("applications:edit.sections.sharedAccess.modes.shareWithSelectedPlaceholder"),options:null!==(ft=M[je])&&void 0!==ft?ft:[],value:M[je].filter((function(e){return e.selected})),onChange:function(e,t,n,i){Ot(0,n,i)},noOptionsText:ye("common:noResultsFound"),getOptionLabel:function(e){return null==e?void 0:e.displayName},isOptionEqualToValue:function(e,t){return(null==e?void 0:e.displayName)===t.displayName},getOptionDisabled:function(e){return be&&e.displayName===b.S.ADMINISTRATOR},renderInput:function(e){return N.createElement(f.Z,W({},e,{size:"small",className:"role-select-autocomplete",placeholder:ye("applications:edit.sections.sharedAccess.searchAvailableRolesPlaceholder"),"data-componentid":"".concat(n,"-role-search-input")}))},renderTags:function(e,t){return e.map((function(e,n){return N.createElement(c.Z,W({},t({index:n}),{key:n,label:e.displayName,disabled:be&&e.displayName===b.S.ADMINISTRATOR}))}))}}),!he&&N.createElement(d.Z,{control:N.createElement(l.Z,{defaultChecked:!0}),label:"Share application and roles with future child organizations","data-componentid":"".concat(n,"-share-with-future-child-checkbox"),checked:null!==(gt=null!==(ht=ue[je])&&void 0!==ht?ht:Ge===E.wD.SELECTED_ORG_WITH_ALL_EXISTING_AND_FUTURE_CHILDREN)&&void 0!==gt&&gt,onChange:function(e,t){var n;n=t,pe((function(e){return Y(Y({},e),{},Q({},je,n))}))}})):N.createElement(a.Z,{className:"role-list-container center"},ye("applications:edit.sections.sharedAccess.toManageOrganizationSelectLeftPanel"))))):N.createElement(p.Z,{xs:12,padding:1,className:"roles-selective-share-all-roles",id:"scrollableOrgContainer"},N.createElement(a.Z,{"data-componentid":"".concat(n,"-no-orgs"),display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"},N.createElement(I.$J,{className:"p-0","data-componentid":"".concat(n,"-empty-list-placeholder"),image:(0,y.jF)().emptyList,imageSize:"mini",subtitle:[ye("organizations:placeholders.emptyList.subtitles.0")]}))))}},1475:(e,t,n)=>{n.d(t,{r:()=>m});var i,o,r,a,l,c,s=n(44194),u=["title","titleId"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},d.apply(null,arguments)}var p=function(e,t){var n=e.title,p=e.titleId,m=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,u);return s.createElement("svg",d({id:"spin-wheel-icon",className:"icon",height:14,viewBox:"0 0 512 512",width:14,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":p},m),n?s.createElement("title",{id:p},n):null,i||(i=s.createElement("path",{className:"path primary",d:"m90.050781 395.949219c-7.167969 0-14.058593 1.789062-20.171875 5.148437-32.203125-41.28125-49.878906-92.5625-49.878906-145.097656 0-130.132812 105.867188-236 236-236 15.820312 0 31.632812 1.574219 47 4.679688 5.40625 1.09375 10.6875-2.40625 11.78125-7.820313s-2.40625-10.6875-7.820312-11.785156c-16.667969-3.367188-33.8125-5.074219-50.960938-5.074219-68.378906 0-132.667969 26.628906-181.019531 74.980469-48.351563 48.351562-74.980469 112.640625-74.980469 181.019531 0 57.519531 19.53125 113.652344 55.089844 158.652344-4.578125 6.839844-7.039063 14.878906-7.039063 23.296875 0 11.21875 4.371094 21.765625 12.304688 29.695312 7.929687 7.933594 18.476562 12.304688 29.695312 12.304688s21.765625-4.371094 29.699219-12.304688c7.933594-7.929687 12.300781-18.480469 12.300781-29.699219 0-11.214843-4.367187-21.765624-12.300781-29.695312-7.933594-7.933594-18.480469-12.300781-29.699219-12.300781zm15.554688 57.554687c-4.152344 4.15625-9.679688 6.445313-15.554688 6.445313s-11.398437-2.289063-15.554687-6.445313-6.445313-9.679687-6.445313-15.554687c0-5.878907 2.289063-11.402344 6.445313-15.558594 4.152344-4.15625 9.679687-6.441406 15.554687-6.441406s11.398438 2.289062 15.554688 6.441406c4.15625 4.15625 6.445312 9.679687 6.445312 15.558594 0 5.875-2.289062 11.398437-6.445312 15.554687zm0 0"})),o||(o=s.createElement("path",{className:"path primary",d:"m456.902344 97.335938c10.871094-16.308594 9.125-38.605469-5.253906-52.984376-7.933594-7.929687-18.480469-12.300781-29.699219-12.300781s-21.765625 4.371094-29.699219 12.300781c-7.933594 7.933594-12.300781 18.480469-12.300781 29.699219s4.367187 21.765625 12.300781 29.699219 18.480469 12.300781 29.699219 12.300781c7.167969 0 14.058593-1.789062 20.171875-5.148437 32.203125 41.285156 49.878906 92.5625 49.878906 145.097656 0 130.132812-105.867188 236-236 236-15.664062 0-31.328125-1.542969-46.550781-4.589844-5.414063-1.082031-10.683594 2.429688-11.769531 7.84375-1.082032 5.417969 2.429687 10.683594 7.84375 11.769532 16.511718 3.300781 33.496093 4.976562 50.476562 4.976562 68.378906 0 132.667969-26.628906 181.019531-74.980469 48.351563-48.351562 74.980469-112.640625 74.980469-181.019531 0-57.523438-19.535156-113.660156-55.097656-158.664062zm-50.507813-7.726563c-4.15625-4.15625-6.445312-9.679687-6.445312-15.558594 0-5.875 2.289062-11.398437 6.445312-15.554687 4.152344-4.15625 9.679688-6.445313 15.554688-6.445313s11.402343 2.289063 15.558593 6.445313c8.574219 8.578125 8.574219 22.535156 0 31.113281-4.15625 4.152344-9.683593 6.441406-15.558593 6.441406-5.878907 0-11.402344-2.289062-15.554688-6.441406zm0 0"})),r||(r=s.createElement("path",{className:"path primary",d:"m214.734375 428c0 5.523438 4.480469 10 10 10h62.527344c5.523437 0 10-4.476562 10-10v-19.386719c13.148437-3.539062 25.71875-8.75 37.53125-15.554687l13.6875 13.6875c1.875 1.875 4.417969 2.929687 7.074219 2.929687 2.648437 0 5.195312-1.054687 7.070312-2.933593l44.195312-44.226563c3.902344-3.90625 3.902344-10.238281 0-14.140625l-13.671874-13.671875c6.804687-11.8125 12.015624-24.382813 15.554687-37.53125h19.3125c5.523437 0 10-4.476563 10-10v-62.527344c0-5.523437-4.476563-10-10-10h-19.316406c-3.539063-13.144531-8.746094-25.714843-15.550781-37.527343l13.597656-13.597657c1.875-1.875 2.929687-4.421875 2.929687-7.074219-.003906-2.652343-1.058593-5.199218-2.933593-7.074218l-44.230469-44.195313c-3.902344-3.902343-10.234375-3.902343-14.140625.003907l-13.578125 13.582031c-11.8125-6.804688-24.382813-12.015625-37.53125-15.554688v-19.207031c0-5.523438-4.476563-10-10-10h-62.527344c-5.519531 0-10 4.476562-10 10v19.210938c-13.144531 3.535156-25.714844 8.746093-37.527344 15.550781l-13.582031-13.582031c-3.902344-3.902344-10.234375-3.90625-14.140625-.003907l-44.226563 44.199219c-1.878906 1.875-2.933593 4.417969-2.933593 7.070312 0 2.652344 1.054687 5.199219 2.929687 7.074219l13.597656 13.597657c-6.804687 11.8125-12.015624 24.378906-15.554687 37.527343h-19.277344c-5.523437 0-10 4.476563-10 9.996094l-.035156 62.527344c-.003906 2.652343 1.050781 5.199219 2.925781 7.074219s4.417969 2.929687 7.074219 2.929687h19.3125c3.539063 13.148437 8.75 25.71875 15.554687 37.53125l-13.671874 13.671875c-3.902344 3.902344-3.90625 10.234375 0 14.140625l44.195312 44.226563c1.875 1.875 4.417969 2.933593 7.070312 2.933593h.003907c2.652343 0 5.195312-1.054687 7.070312-2.929687l13.683594-13.6875c11.816406 6.804687 24.386719 12.015625 37.53125 15.554687zm-33.609375-55.972656c-3.957031-2.558594-9.164062-2.003906-12.5 1.328125l-12.175781 12.175781-30.058594-30.082031 12.164063-12.167969c3.332031-3.332031 3.886718-8.539062 1.328124-12.496094-9.066406-14.03125-15.441406-29.410156-18.941406-45.714844-.992187-4.605468-5.0625-7.898437-9.777344-7.898437h-17.175781l.023438-42.527344h17.152343c4.714844 0 8.785157-3.289062 9.777344-7.898437 3.5-16.300782 9.875-31.679688 18.941406-45.710938 2.558594-3.957031 2.003907-9.164062-1.328124-12.496094l-12.085938-12.089843 30.082031-30.058594 12.074219 12.078125c3.335938 3.332031 8.539062 3.882812 12.5 1.328125 14.027344-9.066406 29.40625-15.441406 45.710938-18.941406 4.605468-.992188 7.898437-5.066407 7.898437-9.777344v-17.078125h42.527344v17.074219c0 4.714843 3.289062 8.789062 7.898437 9.777343 16.300782 3.503907 31.683594 9.875 45.710938 18.941407 3.957031 2.558593 9.164062 2.007812 12.496094-1.328125l12.078124-12.074219 30.082032 30.058594-12.085938 12.085937c-3.335937 3.335938-3.886718 8.542969-1.328125 12.5 9.066407 14.03125 15.4375 29.410156 18.941407 45.710938.988281 4.609375 5.0625 7.898437 9.777343 7.898437h17.183594v42.527344h-17.183594c-4.714843 0-8.785156 3.292969-9.777343 7.898437-3.5 16.300782-9.875 31.683594-18.941407 45.710938-2.558593 3.960938-2.003906 9.167969 1.328125 12.5l12.164063 12.164062-30.058594 30.082032-12.175781-12.171875c-3.335938-3.335938-8.542969-3.886719-12.5-1.328125-14.03125 9.066406-29.410156 15.4375-45.710938 18.941406-4.609375.992188-7.898437 5.0625-7.898437 9.777344v17.253906h-42.527344v-17.253906c0-4.710938-3.292969-8.785156-7.898437-9.777344-16.300782-3.5-31.679688-9.875-45.710938-18.941406zm0 0"})),a||(a=s.createElement("path",{className:"path secondary",d:"m338.628906 256c0-45.5625-37.066406-82.628906-82.628906-82.628906s-82.628906 37.066406-82.628906 82.628906 37.066406 82.628906 82.628906 82.628906 82.628906-37.066406 82.628906-82.628906zm-145.257812 0c0-34.535156 28.09375-62.628906 62.628906-62.628906s62.628906 28.097656 62.628906 62.628906-28.09375 62.628906-62.628906 62.628906-62.628906-28.09375-62.628906-62.628906zm0 0"})),l||(l=s.createElement("path",{className:"path secondary",d:"m348.078125 37.820312c2.632813 0 5.210937-1.070312 7.070313-2.929687 1.859374-1.871094 2.929687-4.449219 2.929687-7.082031 0-2.617188-1.066406-5.199219-2.929687-7.070313-1.859376-1.859375-4.4375-2.929687-7.070313-2.929687-2.640625 0-5.207031 1.070312-7.066406 2.929687-1.863281 1.871094-2.933594 4.441407-2.933594 7.070313 0 2.640625 1.070313 5.210937 2.933594 7.082031 1.859375 1.859375 4.425781 2.929687 7.066406 2.929687zm0 0"})),c||(c=s.createElement("path",{className:"path secondary",d:"m164.359375 474.359375c-2.628906 0-5.210937 1.070313-7.070313 2.929687-1.859374 1.859376-2.929687 4.441407-2.929687 7.070313 0 2.640625 1.070313 5.210937 2.929687 7.070313 1.859376 1.859374 4.441407 2.929687 7.070313 2.929687s5.210937-1.070313 7.070313-2.929687c1.859374-1.859376 2.929687-4.441407 2.929687-7.070313s-1.070313-5.210937-2.929687-7.070313c-1.859376-1.859374-4.441407-2.929687-7.070313-2.929687zm0 0"})))},m=(0,s.forwardRef)(p);n.p},49091:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(81611),o=n.n(i),r=n(83948),a=n.n(r)()(o());a.push([e.id,".access-token-attribute-option-checkbox{padding:4px}",""]);const l=a},40365:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(81611),o=n.n(i),r=n(83948),a=n.n(r)()(o());a.push([e.id,".conditional-auth-premium-banner{margin-top:2px;font-weight:100}.conditional-auth-premium-banner .conditional-auth-premium-banner-link{cursor:pointer}",""]);const l=a},99710:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(81611),o=n.n(i),r=n(83948),a=n.n(r)()(o());a.push([e.id,".hybrid-flow-heading{margin-top:0 !important;margin-right:1rem !important}.access-token-attributes-feature-banner{padding-top:1rem !important}.access-token-attributes-dropdown{padding-top:1rem !important}.access-token-attributes-dropdown-input input{border:none !important;width:auto !important}.access-token-attributes-dropdown-input .MuiInputBase-root{margin-top:.5em !important}.access-token-attributes-dropdown-input .MuiFormLabel-root{font-size:.92857143em !important}",""]);const l=a},97152:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(81611),o=n.n(i),r=n(83948),a=n.n(r)()(o());a.push([e.id,".secrets-dropdown{width:300px;max-height:300px;overflow-y:auto}.secret-search-input-container{margin:10px}.secret-search-input{width:100%}.create-new-secret-dropdown-item-loading{justify-content:center}.conditional-auth-accordion-title-text .heading{display:flex;gap:4px}.conditional-auth-accordion-title-text .heading .warning-sign{font-size:16px}",""]);const l=a},6769:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(81611),o=n.n(i),r=n(83948),a=n.n(r)()(o());a.push([e.id,".passkey-adaptive-script-accordion-content{padding-left:calc(1.25em + .25rem) !important}.passkey-adaptive-script-accordion-content .code-segment{margin-top:10px}",""]);const l=a},31515:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(81611),o=n.n(i),r=n(83948),a=n.n(r)()(o());a.push([e.id,":root{--asg-auth-flow-builder-react-flow-canvas-background: #f8f7f5;--asg-auth-flow-builder-react-flow-handle-color: #696969}.visual-editor{height:63vh}.visual-editor.with-panel{width:calc(100% - var(--asg-auth-flow-builder-side-panel-drawer-mini-width))}.visual-editor .react-flow{background-color:var(--asg-auth-flow-builder-react-flow-canvas-background)}.visual-editor .react-flow .react-flow__handle{opacity:0}.visual-editor .update-button{position:absolute;right:0;bottom:0;margin:15px;z-index:9;box-shadow:#fff 0px 0px 12px 20px}.visual-editor .sign-in-box-node .oxygen-sign-in .oxygen-sign-in-logo{max-height:32px}.visual-editor .visual-editor-info-message{position:absolute;z-index:9;width:100%;border-radius:0}",""]);const l=a},13389:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(81611),o=n.n(i),r=n(83948),a=n.n(r)()(o());a.push([e.id,".add-step-button-wrapper{position:absolute;font-size:12px;pointer-events:all}.add-step-button.MuiButtonBase-root{height:36px;width:36px;color:var(--oxygen-palette-common-white);background-color:var(--asg-auth-flow-builder-react-flow-handle-color);box-shadow:none}.add-step-button.MuiButtonBase-root:hover,.add-step-button.MuiButtonBase-root:active{background-color:var(--asg-auth-flow-builder-react-flow-handle-color);box-shadow:0px 3px 5px -1px rgba(0,0,0,.2),0px 6px 10px 0px rgba(0,0,0,.14),0px 1px 18px 0px rgba(0,0,0,.12)}.add-step-button.MuiButtonBase-root .oxygen-icon{width:20px;height:20px}",""]);const l=a},9090:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(81611),o=n.n(i),r=n(83948),a=n.n(r)()(o());a.push([e.id,".done-node.MuiFab-root{pointer-events:none;box-shadow:none;color:var(--oxygen-palette-common-white);background-color:rgba(0,0,0,0);display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:center;align-items:center;background:var(--oxygen-customComponents-Chip-properties-new-background)}.done-node.MuiFab-root .oxygen-typography{margin-left:5px;color:var(--oxygen-palette-common-white)}.done-node.MuiFab-root svg{height:30px;width:30px;fill:var(--oxygen-customComponents-Chip-properties-new-border-color)}.done-node.MuiFab-root svg path{stroke:var(--oxygen-customComponents-Chip-properties-new-border-color);stroke-width:var(--oxygen-customComponents-Chip-properties-icon-stroke-width)}",""]);const l=a},93616:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(81611),o=n.n(i),r=n(83948),a=n.n(r)()(o());a.push([e.id,":root{--asg-auth-flow-builder-flows-basic-sign-in-option-controls-border: 2px dashed var(--oxygen-palette-divider)}.sign-in-box-node .oxygen-sign-in{display:flex;flex-flow:column nowrap;align-content:center;justify-content:center;align-items:center;text-align:left}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-box{padding:32px;width:350px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-logo{max-height:50px;margin-bottom:30px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-header{margin-bottom:32px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-sub-header{margin-bottom:16px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-form .oxygen-text-field{margin-bottom:20px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-form .oxygen-sign-in-cta{margin:16px 0}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-form .oxygen-sign-in-sign-up-link{font-size:14px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-form .oxygen-sign-in-sign-up-link-action{margin-left:5px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options{margin-top:16px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-sign-in-option .remove-button{position:absolute;z-index:999;right:29px;margin-top:-8px;background:#fff;width:20px;border:1px solid var(--oxygen-palette-divider);height:20px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-sign-in-option .remove-button svg{fill:var(--oxygen-palette-text-secondary)}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-sign-in-option .remove-button:hover{box-shadow:var(--oxygen-shadows-0)}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-sign-in-option:not(:last-child){margin-bottom:16px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button{background:var(--oxygen-palette-common-white);color:var(--oxygen-palette-common-black);width:100%;display:flex;align-items:center;justify-content:center;box-shadow:0 0 1px 0 rgba(0,0,0,.12),0 1px 1px 0 rgba(0,0,0,.24)}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button:hover{color:rgba(0,0,0,.8)}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button .oxygen-sign-in-option-image{height:20px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button.oxygen-sign-in-option-add{background:rgba(0,0,0,0);box-shadow:none;border:var(--asg-auth-flow-builder-flows-basic-sign-in-option-controls-border);animation:pulsing-success 1500ms cubic-bezier(0, 0, 0.2, 1) infinite}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button.oxygen-sign-in-option-add .pulsating-badge{margin-left:14px}.sign-in-box-node .remove-button{position:absolute;z-index:999;right:-12px;margin-top:-10px;background:#fff;border:1px solid var(--oxygen-palette-divider);width:25px;height:25px}.sign-in-box-node .remove-button svg{fill:var(--oxygen-palette-text-secondary)}.sign-in-box-node .remove-button:hover{box-shadow:var(--oxygen-shadows-0)}.sign-in-box-node .additional-behaviors{margin-top:15px}.sign-in-box-node .step-id{margin-bottom:10px}@keyframes pulsing-success{0%{box-shadow:0 0 0 0 rgba(76,175,80,.5)}70%{box-shadow:0 0 0 8px rgba(76,175,80,0)}100%{box-shadow:0 0 0 0 rgba(76,175,80,0)}}.basic-sign-in-option-controls-wrapper .basic-sign-in-option-controls{display:flex;flex-direction:row;justify-content:flex-end;gap:10px;margin-right:-10px;margin-left:-10px;margin-bottom:10px}.basic-sign-in-option-controls-wrapper .basic-sign-in-option-controls .action-button{width:20px;height:20px}.basic-sign-in-option-controls-wrapper .basic-sign-in-option-controls .action-button svg{fill:var(--oxygen-palette-text-secondary)}.basic-sign-in-option-controls-wrapper .basic-sign-in-option-control-fields{border:var(--asg-auth-flow-builder-flows-basic-sign-in-option-controls-border);padding:10px 10px 0 10px;margin-right:-10px;margin-left:-10px}.totp-fragment .pin-code-input-fields,.sms-otp-fragment .pin-code-input-fields{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:center;align-items:center;gap:12px;text-align:center}.totp-fragment .pin-code-input-fields .MuiInputBase-input,.sms-otp-fragment .pin-code-input-fields .MuiInputBase-input{text-align:center}.email-otp-fragment .otp-input .MuiFormLabel-root{text-wrap:wrap}.sms-otp-fragment .oxygen-sign-in-action-group .oxygen-sign-in-cta:first-child,.email-otp-fragment .oxygen-sign-in-action-group .oxygen-sign-in-cta:first-child{margin-bottom:0px}.push-fragment .resend-button{color:#fff}.active-sessions-limit-fragment table,.active-sessions-limit-fragment th,.active-sessions-limit-fragment td{border:1px solid var(--oxygen-palette-divider);border-collapse:collapse;border-style:inset;text-align:center;font-size:1rem}.active-sessions-limit-fragment table{width:100%;margin-bottom:10px}",""]);const l=a},90810:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(81611),o=n.n(i),r=n(83948),a=n.n(r)()(o());a.push([e.id,":root{--asg-auth-flow-builder-flows-side-panel-toolbar-height: var(--asg-auth-flow-builder-side-panel-toolbar-height);--asg-auth-flow-builder-flows-side-panel-category-heading-height: 48px}.predefined-flows-side-panel{height:inherit}.predefined-flows-side-panel .predefined-flows-side-panel-content{height:calc(100% - var(--asg-auth-flow-builder-flows-side-panel-toolbar-height));border-left:1px solid var(--oxygen-palette-divider)}.predefined-flows-side-panel .predefined-flows-side-panel-content.full-height{height:100%}.predefined-flows-side-panel .toolbar-container{border-bottom:1px solid var(--oxygen-palette-divider);border-left:1px solid var(--oxygen-palette-divider)}.predefined-flows-side-panel .toolbar-container .oxygen-typography{font-weight:500}.predefined-flows-side-panel .toolbar-container .oxygen-toolbar{background-color:var(--oxygen-palette-common-white)}.predefined-flows-side-panel .predefined-flow-categories{box-shadow:none;background-color:var(--asg-auth-flow-builder-flows-side-panel-drawer-content-background);overflow:hidden;transition:height .3s ease-in-out}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category-heading{background:linear-gradient(180deg, #ffffff 0%, #f7f7f9 100%);box-shadow:inset 0px -1px 0px 0px #dee0e7,0 1px 1px 0 rgba(0,0,0,.06)}.predefined-flows-side-panel .predefined-flow-categories:not(:first-child) .predefined-flow-category-heading{border-top:1px solid var(--oxygen-palette-divider)}.predefined-flows-side-panel .predefined-flow-categories.expanded{height:50%}.predefined-flows-side-panel .predefined-flow-categories.expanded .MuiCollapse-root{height:calc(100% - var(--asg-auth-flow-builder-flows-side-panel-category-heading-height)) !important;overflow:auto}.predefined-flows-side-panel .predefined-flow-categories.full-height{height:calc(100% - var(--asg-auth-flow-builder-flows-side-panel-category-heading-height))}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category{margin-top:20px}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items{display:flex;flex-wrap:wrap;margin-top:15px;flex-direction:row;gap:10px}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:flex-start;align-items:center;border:1px solid var(--oxygen-palette-divider);border-radius:var(--oxygen-shape-borderRadius);background-color:var(--oxygen-palette-common-white)}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence.full-width{width:100%}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence:not(.no-hover):hover{cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,.09) !important}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step{align-items:center;display:flex;flex-direction:row;flex-wrap:wrap;gap:8px;padding:10px 15px;justify-content:flex-start;align-content:center;width:100%}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step.adaptive-auth-template{display:flex;justify-content:space-between}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step.adaptive-auth-template .label{display:flex;flex-direction:row;align-content:center;align-items:center;gap:5px}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step.adaptive-auth-template .actions{display:flex;gap:5px;flex-direction:row;flex-wrap:nowrap;align-content:center;align-items:center;justify-content:center}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step.adaptive-auth-template .actions .add-button{padding:5px;min-width:40px;border-radius:var(--oxygen-shape-borderRadius);font-size:12px}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step .predefined-flow-sequence-step-option{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:center;align-items:center;gap:5px;padding:2px 8px}",""]);const l=a},79842:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(81611),o=n.n(i),r=n(83948),a=n.n(r)()(o());a.push([e.id,".script-based-flow-switch .oxygen-accordion{border-bottom-right-radius:0;border-top-right-radius:0;border-top-left-radius:0;border-top:1px solid var(--oxygen-palette-divider)}.script-based-flow-switch .script-based-flow-switch-accordion-summary{display:flex;align-items:center}.script-based-flow-switch .script-based-flow-switch-accordion-summary .script-based-flow-switch-text{margin-left:10px}.script-based-flow-switch .script-based-flow-switch-accordion-details{border:1px solid var(--oxygen-palette-divider);padding-right:0;background:#f7f7f7;border-radius:8px;margin-right:10px;margin-left:10px}.script-based-flow-switch .title{display:flex;gap:4px}",""]);const l=a},49488:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(81611),o=n.n(i),r=n(83948),a=n.n(r)()(o());a.push([e.id,".script-editor-panel{height:100%;width:calc(100% - 16px)}.script-editor-panel .script-editor{border:1px solid var(--oxygen-palette-divider);height:500px}.script-editor-toolbar-container .oxygen-toolbar{display:flex;justify-content:space-between;align-items:center;align-content:center;flex-wrap:nowrap;flex-direction:row;padding-left:0;padding-right:0}.script-editor-toolbar-container .oxygen-toolbar .actions{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;align-items:center;gap:10px}.script-editor-toolbar-container .oxygen-toolbar .actions .editor-theme-select .MuiSelect-select{padding:6px 15px;min-width:150px}.full-screen-script-editor-container{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);width:95%;height:90%;padding:32px}.full-screen-script-editor-container .script-editor-toolbar-container{background-color:var(--oxygen-palette-common-white);padding-left:15px;padding-right:15px;border-top-right-radius:var(--oxygen-shape-borderRadius);border-top-left-radius:var(--oxygen-shape-borderRadius)}",""]);const l=a},61039:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(81611),o=n.n(i),r=n(83948),a=n.n(r)()(o());a.push([e.id,".secret-selection-menu-trigger{border-radius:var(--oxygen-shape-borderRadius);padding:3px 15px}.create-new-secret-dropdown{box-shadow:#cbcedb 0px 8px 24px;margin-top:8px}.create-new-secret-dropdown .oxygen-list{padding:0}.create-new-secret-dropdown .oxygen-list .oxygen-list-item{max-width:300px;gap:10px}.create-new-secret-dropdown .oxygen-list .oxygen-list-item .MuiListItemText-root{margin-right:20px}.create-new-secret-dropdown .oxygen-list .create-new-secret-button{border-radius:0;min-height:50px}.create-new-secret-dropdown .create-new-secret-dropdown-empty-placeholder .oxygen-divider{margin:10px 0}.create-new-secret-dropdown .create-new-secret-dropdown-item-loading{min-height:50px;justify-content:center}",""]);const l=a},36439:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(81611),o=n.n(i),r=n(83948),a=n.n(r)()(o());a.push([e.id,":root{--asg-auth-flow-builder-side-panel-drawer-width: 480px;--asg-auth-flow-builder-side-panel-drawer-mini-width: 32px;--asg-auth-flow-builder-side-panel-drawer-content-background: #fcfcfc;--asg-auth-flow-builder-side-panel-toolbar-height: 48px}.side-panel-drawer{width:var(--asg-auth-flow-builder-side-panel-drawer-width);flex-shrink:0;white-space:nowrap;box-sizing:border-box;border-top:1px solid var(--oxygen-palette-divider);border-right:1px solid var(--oxygen-palette-divider);border-bottom:1px solid var(--oxygen-palette-divider)}.side-panel-drawer .MuiDrawer-paper{background:var(--oxygen-palette-customComponents-Navbar-background)}.side-panel-drawer:not(.open){width:calc(var(--asg-auth-flow-builder-side-panel-drawer-mini-width) + 2px);transition:width 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;overflow:hidden}.side-panel-drawer:not(.open) .MuiDrawer-paper{width:calc(var(--asg-auth-flow-builder-side-panel-drawer-mini-width) + 2px);transition:width 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;overflow:hidden}.side-panel-drawer:not(.open) .side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-chevron .MuiButtonBase-root svg{transform:rotate(0deg)}.side-panel-drawer-collapsible-hamburger{display:flex;align-items:center;justify-content:flex-start;padding:0 8px;min-height:var(--oxygen-customComponents-Header-properties-min-height)}.side-panel-drawer-collapsible-hamburger .oxygen-icon-button{height:48px;width:48px}.side-panel-drawer.open{width:var(--asg-auth-flow-builder-side-panel-drawer-width);transition:width 225ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;overflow:hidden}.side-panel-drawer.open .MuiDrawer-paper{width:var(--asg-auth-flow-builder-side-panel-drawer-width);transition:width 225ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;overflow:hidden}.side-panel-drawer.open .side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-chevron svg{transform:rotate(180deg)}.side-panel-drawer-panel{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;height:100%}.side-panel-drawer-panel .side-panel-drawer-panel-controls{display:flex;background-color:var(--asg-auth-flow-builder-side-panel-drawer-content-background);flex-direction:column}.side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-chevron{height:calc(var(--asg-auth-flow-builder-side-panel-toolbar-height) + 4px);display:flex;padding:8px;align-items:center}.side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-chevron svg{transition:transform .3s ease}.side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-label{height:100%;display:flex;flex-direction:column;flex-wrap:nowrap;align-content:center;justify-content:center;align-items:center}.side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-label .oxygen-typography{position:absolute;transform:rotate(270deg)}.side-panel-drawer-panel .side-panel-drawer-panel-controls:hover{cursor:pointer;background-color:rgba(var(--oxygen-palette-action-activeChannel)/var(--oxygen-palette-action-hoverOpacity))}.side-panel-drawer-panel .side-panel-drawer-panel-content{background-color:var(--asg-auth-flow-builder-side-panel-drawer-content-background);height:100%}",""]);const l=a},19552:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(81611),o=n.n(i),r=n(83948),a=n.n(r)()(o());a.push([e.id,".sign-in-method-split-view{border:1px solid var(--oxygen-palette-divider);border-radius:8px;display:flex}.sign-in-method-split-view .beta-feature-tab-item{display:flex;flex-direction:row;gap:8px;align-items:center}.sign-in-method-split-view .oxygen-tabs .oxygen-chip-beta{text-transform:uppercase}.sign-in-method-split-view .oxygen-tab-panel{padding:0}.sign-in-method-split-view .predefined-side-panel-drawer{border-top-right-radius:8px;border-bottom-right-radius:8px}.sign-in-method-split-view .predefined-side-panel-drawer.hidden{display:none}.sign-in-method-split-view .revert-to-default-button{right:0;box-shadow:0 0 2px 1px rgba(0,0,0,.08);position:absolute;z-index:5;margin:15px;border:none;background:#fefefe;display:flex;justify-content:center;align-items:center;height:30px;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;padding:8px 15px;gap:10px;border-radius:var(--oxygen-shape-borderRadius);transition:margin-top .2s ease-in-out}.sign-in-method-split-view .visual-editor-update-button-container{display:flex;justify-content:flex-end;padding:16px;gap:16px}.non-interactive{pointer-events:none}",""]);const l=a},18708:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(81611),o=n.n(i),r=n(83948),a=n.n(r)()(o());a.push([e.id,".login-flow-ai-banner-input{background-size:cover;background-repeat:no-repeat;background-position:right top;display:flex;flex-direction:column;justify-content:space-between;padding:30px 25px 0px;border-radius:8px}.login-flow-ai-banner-history-container{background:rgba(0,0,0,0);width:100%}.login-flow-ai-banner-history-title{padding:0px}.login-flow-ai-banner-history-card-container{padding:0px;margin:0px}.login-flow-ai-banner-history-card{max-height:130px;padding:.5rem;height:100%}.login-flow-ai-banner-history-card-text{display:block;text-overflow:ellipsis;word-wrap:break-word;overflow:hidden;max-height:5.1rem}.login-flow-ai-banner-history-button{padding:3px 10px;font-size:.8rem}.login-flow-ai-banner-caret-icon{transition-duration:.5s;transition-property:transform}.login-flow-ai-banner-caret-icon.close-icon{transform:rotate(-180deg);-webkit-transform:rotate(-180deg)}.login-flow-ai-banner-caret-icon.open-icon{transform:rotate(0deg);-webkit-transform:rotate(0deg)}.login-flow-ai-input-field{margin-top:1rem;width:60%}.login-flow-ai-input-field-inner{min-height:76px;background-color:#fff}.login-flow-ai-input-field-inner textarea::-webkit-scrollbar{width:2px}.login-flow-ai-input-field-inner textarea::-webkit-scrollbar-track{background:#f1f1f1}.login-flow-ai-input-field-inner textarea::-webkit-scrollbar-thumb{background-color:#e0e0e0;border-radius:10px}.login-flow-ai-input-button-icon{color:var(--oxygen-palette-gradients-primary-stop2)}.login-flow-ai-input-button-icon.disabled{color:#cdcdcd}.login-flow-ai-disclaimer{display:flex;width:60%;color:#8d91a3;margin-top:5px;margin-left:2px}",""]);const l=a},46233:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(81611),o=n.n(i),r=n(83948),a=n.n(r)()(o());a.push([e.id,".roles-selective-share-container{border:1px solid var(--oxygen-palette-grey-300);border-radius:var(--oxygen-shape-borderRadius);padding:10px}.roles-selective-share-container .role-select-autocomplete .MuiFormControl-root .MuiInputBase-root{min-height:50px}.roles-selective-share-container .roles-selective-share-left-panel{height:300px;overflow:auto;border-radius:var(--oxygen-shape-borderRadius) 0 0 var(--oxygen-shape-borderRadius);border-right:1px solid var(--oxygen-palette-grey-300)}.roles-selective-share-container .roles-selective-share-right-panel{height:300px;overflow-x:auto;overflow-y:hidden;border-radius:0 var(--oxygen-shape-borderRadius) var(--oxygen-shape-borderRadius) 0}.roles-selective-share-container .roles-selective-share-all-roles{height:300px;overflow:auto}.roles-selective-share-container .role-list-container{display:flex;flex-direction:column;flex-wrap:wrap;gap:12px;height:280px;align-content:flex-start}.roles-selective-share-container .role-list-container.center{justify-content:center;align-items:center;align-content:center}",""]);const l=a}}]);