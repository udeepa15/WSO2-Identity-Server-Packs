"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[8407],{66132:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(758),o=n(44194),a=n(10479),i=n(60191),s=n(29314);const c=function(e){var t=e.featureKey,n=e.featureFlags,c=e.featureConfig,l=e.featureName,u=e.type,m=void 0===u?"chip":u,d=(0,a.$)().t,f=(0,i.Z)(t,n,c,l),p=function(e){switch(e){case s.j.BETA:return"oxygen-chip-beta";case s.j.NEW:return"oxygen-chip-new";case s.j.COMING_SOON:return"oxygen-chip-coming-soon";case s.j.EXPERIMENTAL:case s.j.PREVIEW:return"oxygen-chip-experimental";default:return""}};return f?function(e){switch(m){case"chip":return o.createElement(r.Z,{size:"small",sx:{marginLeft:1},label:d(e),className:p(e)});case"ribbon":return o.createElement("div",{className:"ribbon "+p(e)},o.createElement("span",{className:"MuiChip-label"},d(e)));default:return o.createElement(r.Z,{size:"small",sx:{marginLeft:1},label:d(e),className:"oxygen-chip-beta"})}}(s.j[f]):null}},60191:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(44194);const o=function(e,t,n,o){return(0,r.useMemo)((function(){if(!e)return null;var r,a;if(t)return null!==(r=null===(a=t.find((function(t){return t.feature===e})))||void 0===a?void 0:a.flag)&&void 0!==r?r:null;if(n&&o){var i,s,c=n[o];return c&&(null!==(i=null===(s=c.featureFlags)||void 0===s||null===(s=s.find((function(t){return t.feature===e})))||void 0===s?void 0:s.flag)&&void 0!==i)?i:null}return null}),[e,o,t,n])}},94045:(e,t,n)=>{n.d(t,{Z:()=>T});var r=n(51021),o=n(86105),a=n(61444),i=n(20494),s=n(41516),c=n(44194),l=n(10479),u=n(47245),m=n(38643),d=n(86456),f=n(77757),p=n(89141),v=n(62508),E=n(47149),g=n(66534),y=function(e){return"true"===e.value||"false"===e.value?i.pg:i._V},_=function(e){return"true"===e.value||"false"===e.value},O=function(e){return e.name.startsWith("__secret__")?"password":"text"},b=function(e){return e?void 0:a.I18n.instance.t("common:required")},S=function(e){var t=e.connector,n=e.isSubmitting,a=e.handleSubmit,d=e["data-testid"],S=e.props.properties,T=(0,u.v9)((function(t){return t.form[e.form].values})),C=(0,l.$)(),R=C.t,A=C.i18n,N=(0,u.v9)((function(e){return e.config.ui.features})),h=(0,u.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),I=(0,c.useMemo)((function(){var e;return!(0,o.Xr)(null==N?void 0:N.attributeDialects,null==N||null===(e=N.attributeDialects)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.update,h)}),[N,h]);return c.createElement(f.Z,{onSubmit:a},c.createElement(p.Z,{padded:!0},null==S?void 0:S.map((function(n,o){var a="governanceConnectors:connectorCategories."+(0,s.Z)(null==t?void 0:t.category)+".connectors."+(0,s.Z)(null==t?void 0:t.name)+".properties."+(0,s.Z)(null==n?void 0:n.name)+".label",l=null==n?void 0:n.displayName;A.exists(a)&&(l=R(a));var u="governanceConnectors:connectorCategories."+(0,s.Z)(null==t?void 0:t.category)+".connectors."+(0,s.Z)(null==t?void 0:t.name)+".properties."+(0,s.Z)(null==n?void 0:n.name)+".hint",f=null==n?void 0:n.description;return A.exists(u)&&(f=R(u)),c.createElement(p.Z.Row,{columns:2,className:r.KL.intendSettings&&"pl-3",key:o},c.createElement(p.Z.Column,{mobile:12,tablet:12,computer:10,className:!r.KL.intendSettings&&"pl-0"},_(n)?c.createElement("label",null,l):c.createElement(m.Z,{name:g.e.encodeConnectorPropertyName(n.name),component:y(n),type:O(n),required:!0,width:12,placeholder:n.value,"data-testid":"".concat(d,"-").concat(n.name),label:null!=l?l:null==n?void 0:n.displayName,validate:[b],readOnly:I}),""!==n.description&&c.createElement(i.kW,null,f)),c.createElement(p.Z.Column,{mobile:4,tablet:4,computer:6,className:!r.KL.intendSettings&&"pl-0"},_(n)&&c.createElement(m.Z,{name:g.e.encodeConnectorPropertyName(n.name),component:i.pg,type:O(n),width:10,placeholder:n.value,"data-testid":"".concat(d,"-").concat(n.name),label:T[g.e.encodeConnectorPropertyName(n.name)]?R("governanceConnectors:enabled"):R("governanceConnectors:disabled"),onChange:function(t,r){n.name===E.v.RE_CAPTCHA_ALWAYS_ENABLE&&r&&e.change(g.e.encodeConnectorPropertyName(E.v.RE_CAPTCHA_AFTER_MAX_FAILED_ATTEMPTS_ENABLE),!1),n.name===E.v.RE_CAPTCHA_AFTER_MAX_FAILED_ATTEMPTS_ENABLE&&r&&e.change(g.e.encodeConnectorPropertyName(E.v.RE_CAPTCHA_ALWAYS_ENABLE),!1)},readOnly:I})),c.createElement(v.Z,{hidden:!0}))})),c.createElement(p.Z.Row,{columns:1,className:r.KL.intendSettings&&"pl-3"},c.createElement(p.Z.Column,{mobile:16,tablet:16,computer:14,className:!r.KL.intendSettings&&"pl-0"},!I&&c.createElement(i.KM,{"data-testid":"".concat(d,"-update-button"),type:"submit",loading:n,disabled:n},R("common:update"))))))};const T=(0,d.Z)({enableReinitialize:!0,validate:function(e){var t={},n=g.e.encodeConnectorPropertyName(E.v.ALLOWED_IDLE_TIME_SPAN_IN_DAYS);return parseInt(e[n])<0&&(t[n]=a.I18n.instance.t("governanceConnectors:form.errors.positiveIntegers")),RegExp(/^(?:\d+,)+\d+$/).test(e[g.e.encodeConnectorPropertyName(E.v.ALERT_SENDING_TIME_PERIODS_IN_DAYS)])||(t[g.e.encodeConnectorPropertyName(E.v.ALERT_SENDING_TIME_PERIODS_IN_DAYS)]=a.I18n.instance.t("governanceConnectors:form.errors.format")),E.v.MULTI_ATTRIBUTE_CLAIM_LIST_REGEX_PATTERN.test(e[g.e.encodeConnectorPropertyName(E.v.MULTI_ATTRIBUTE_CLAIM_LIST)])||(t[g.e.encodeConnectorPropertyName(E.v.MULTI_ATTRIBUTE_CLAIM_LIST)]=a.I18n.instance.t("governanceConnectors:form.errors.format")),t}})(S);S.defaultProps={"data-testid":"dynamic-connector-form"}},77065:(e,t,n)=>{n.d(t,{f:()=>m});var r=n(47149);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var c,l,u,m=i((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));c=m,l="allowedConnectorFields",u=[r.v.ASK_PASSWORD_ENABLE,r.v.ASK_PASSWORD_LOCK_ON_CREATION,r.v.ASK_PASSWORD_ACCOUNT_ACTIVATION,r.v.ASK_PASSWORD_OTP_EXPIRY_TIME,r.v.ASK_PASSWORD_EMAIL_OTP,r.v.ASK_PASSWORD_SMS_OTP,r.v.ASK_PASSWORD_OTP_USE_LOWERCASE,r.v.ASK_PASSWORD_OTP_USE_NUMERIC,r.v.ASK_PASSWORD_OTP_USE_UPPERCASE,r.v.ASK_PASSWORD_OTP_LENGTH,r.v.EMAIL_VERIFICATION_OTP],(l=s(l))in c?Object.defineProperty(c,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[l]=u},54388:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(47149),o=n(16590),a=n(79438),i=n(50699),s=n(44194),c=n(10479),l=n(37077),u=n(8058);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var g="governance-connectors-analytics-form",y=function(e){var t=e.hideUpdateButton,n=e.initialValues,m=e.onSubmit,d=e.readOnly,p=e.isConnectorEnabled,E=e.isModalForm,y=e.isSubmitting,_=e.triggerSubmission,O=e["data-componentid"],b=(0,c.$)().t,S=v((0,s.useState)(void 0),2),T=S[0],C=S[1];(0,s.useEffect)((function(){if(!(0,i.Z)(null==n?void 0:n.properties)){var e=null;n.properties.map((function(t){switch(t.name){case r.v.ANALYTICS_HOST:e=f(f({},e),{},{receiver:t.value});break;case r.v.ANALYTICS_BASIC_AUTH_ENABLE:e=f(f({},e),{},{basicAuthEnabled:o.CommonUtils.parseBoolean(t.value)});break;case r.v.ANALYTICS_BASIC_AUTH_USERNAME:e=f(f({},e),{},{basicAuthUsername:t.value});break;case r.v.ANALYTICS_BASIC_AUTH_PASSWORD:e=f(f({},e),{},{basicAuthPassword:t.value});break;case r.v.ANALYTICS_HTTP_CONNECTION_TIMEOUT:e=f(f({},e),{},{httpConnectionTimeout:t.value?parseInt(t.value):0});break;case r.v.ANALYTICS_HTTP_READ_TIMEOUT:e=f(f({},e),{},{httpReadTimeout:t.value?parseInt(t.value):0});break;case r.v.ANALYTICS_HTTP_CONNECTION_REQUEST_TIMEOUT:e=f(f({},e),{},{httpConnectionRequestTimeout:t.value?parseInt(t.value):0});break;case r.v.ANALYTICS_HOSTNAME_VERIFICATION:e=f(f({},e),{},{hostNameVerfier:t.value})}})),C(e)}}),[n]);return T?s.createElement("div",{className:"connector-form analytics"},s.createElement(a.l0,{id:g,initialValues:T,onSubmit:function(e){return m(function(e){return{"__secret__adaptive_authentication.elastic.basicAuth.password":e.basicAuthPassword,"adaptive_authentication.elastic.HTTPConnectionRequestTimeout":e.httpConnectionRequestTimeout,"adaptive_authentication.elastic.HTTPConnectionTimeout":e.httpConnectionTimeout,"adaptive_authentication.elastic.HTTPReadTimeout":e.httpReadTimeout,"adaptive_authentication.elastic.basicAuth.enabled":e.basicAuthEnabled,"adaptive_authentication.elastic.basicAuth.username":e.basicAuthUsername,"adaptive_authentication.elastic.hostnameVerfier":e.hostNameVerfier,"adaptive_authentication.elastic.receiver":e.receiver}}(e))},uncontrolledForm:!1,triggerSubmit:function(e){return _(e)}},s.createElement(a.gN.Input,{ariaLabel:"Analytics Host URL",inputType:"default",name:"receiver",label:b("extensions:manage.serverConfigurations.analytics.form.fields.hostUrl.label"),placeholder:b("extensions:manage.serverConfigurations.analytics.form.fields.hostUrl.placeholder"),required:!0,maxLength:null,minLength:null,readOnly:d,width:E?16:12,disabled:!p,"data-componentid":"".concat(O,"-analytics-host-url"),hint:b("extensions:manage.serverConfigurations.analytics.form.fields.hostUrl.hint")}),s.createElement(a.gN.Checkbox,{ariaLabel:"Analytics Enable Basic Auth",name:"basicAuthEnabled",label:b("extensions:manage.serverConfigurations.analytics.form.fields.hostBasicAuthEnable.label"),required:!1,readOnly:d,width:E?16:12,disabled:!p,"data-componentid":"".concat(O,"-analytics-success"),hint:b("extensions:manage.serverConfigurations.analytics.form.fields.hostBasicAuthEnable.hint"),toggle:!0}),s.createElement(a.gN.Input,{ariaLabel:"Analytics Host Username",inputType:"default",name:"basicAuthUsername",label:b("extensions:manage.serverConfigurations.analytics.form.fields.hostUsername.label"),placeholder:b("extensions:manage.serverConfigurations.analytics.form.fields.hostUsername.placeholder"),required:!0,maxLength:null,minLength:null,readOnly:d,width:E?16:12,disabled:!p,"data-componentid":"".concat(O,"-host-username"),hint:b("extensions:manage.serverConfigurations.analytics.form.fields.hostUsername.hint")}),s.createElement(a.gN.Input,{ariaLabel:"Analytics Host Password",inputType:"password",type:"password",name:"basicAuthPassword",label:b("extensions:manage.serverConfigurations.analytics.form.fields.hostPassword.label"),placeholder:b("extensions:manage.serverConfigurations.analytics.form.fields.hostPassword.placeholder"),required:!0,maxLength:null,minLength:null,readOnly:d,width:E?16:12,disabled:!p,hint:b("extensions:manage.serverConfigurations.analytics.form.fields.hostPassword.hint"),"data-componentid":"".concat(O,"-host-password")}),s.createElement(a.gN.Input,{ariaLabel:"Analytics HTTP Connection Timeout",inputType:"number",min:u.X.ANALYTICS_FORM_FIELD_CONSTRAINTS.TIMEOUT_MIN_LENGTH,name:"httpConnectionTimeout",label:b("extensions:manage.serverConfigurations.analytics.form.fields.hostConnectionTimeout.label"),placeholder:b("extensions:manage.serverConfigurations.analytics.form.fields.hostConnectionTimeout.placeholder"),required:!0,maxLength:null,minLength:u.X.ANALYTICS_FORM_FIELD_CONSTRAINTS.TIMEOUT_MIN_LENGTH,readOnly:d,width:E?16:12,labelPosition:"right",disabled:!p,hint:b("extensions:manage.serverConfigurations.analytics.form.fields.hostConnectionTimeout.hint"),"data-componentid":"".concat(O,"-host-connection-timeout")},s.createElement("input",null),s.createElement(l.Z,{content:"milliseconds"})),s.createElement(a.gN.Input,{ariaLabel:"Analytics HTTP Read Timeout",inputType:"number",min:u.X.ANALYTICS_FORM_FIELD_CONSTRAINTS.TIMEOUT_MIN_LENGTH,name:"httpReadTimeout",label:b("extensions:manage.serverConfigurations.analytics.form.fields.hostReadTimeout.label"),placeholder:b("extensions:manage.serverConfigurations.analytics.form.fields.hostReadTimeout.placeholder"),required:!0,maxLength:null,minLength:u.X.ANALYTICS_FORM_FIELD_CONSTRAINTS.TIMEOUT_MIN_LENGTH,readOnly:d,width:E?16:12,labelPosition:"right",disabled:!p,hint:b("extensions:manage.serverConfigurations.analytics.form.fields.hostReadTimeout.hint"),"data-componentid":"".concat(O,"-host-read-timeout")},s.createElement("input",null),s.createElement(l.Z,{content:"milliseconds"})),s.createElement(a.gN.Input,{ariaLabel:"Analytics HTTP Connection Request Timeout",inputType:"number",min:u.X.ANALYTICS_FORM_FIELD_CONSTRAINTS.TIMEOUT_MIN_LENGTH,name:"httpConnectionRequestTimeout",label:b("extensions:manage.serverConfigurations.analytics.form.fields.hostConnectionRequestTimeout.label"),placeholder:b("extensions:manage.serverConfigurations.analytics.form.fields.hostConnectionRequestTimeout.placeholder"),required:!0,maxLength:null,minLength:u.X.ANALYTICS_FORM_FIELD_CONSTRAINTS.TIMEOUT_MIN_LENGTH,readOnly:d,width:E?16:12,labelPosition:"right",disabled:!p,hint:b("extensions:manage.serverConfigurations.analytics.form.fields.hostConnectionRequestTimeout.hint"),"data-componentid":"".concat(O,"-host-connection-request-timeout")},s.createElement("input",null),s.createElement(l.Z,{content:"milliseconds"})),s.createElement(a.gN.Input,{ariaLabel:"Analytics Host Name Verification",inputType:"default",name:"hostNameVerfier",label:b("extensions:manage.serverConfigurations.analytics.form.fields.hostNameVerification.label"),placeholder:b("extensions:manage.serverConfigurations.analytics.form.fields.hostNameVerification.placeholder"),required:!0,maxLength:null,minLength:null,readOnly:d,width:E?16:12,disabled:!p,hint:b("extensions:manage.serverConfigurations.analytics.form.fields.hostNameVerification.hint"),"data-componentid":"".concat(O,"-host-name-verifier")}),s.createElement(a.gN.Button,{form:g,size:"small",buttonType:"primary_btn",ariaLabel:"Analytics config update button",name:"update-button","data-componentid":"".concat(O,"-submit-button"),disabled:y,loading:y,label:b("common:update"),hidden:!p||d||t}))):null};y.defaultProps={"data-componentid":"analytics-edit-form",hideUpdateButton:!1}},21385:(e,t,n)=>{n.d(t,{M:()=>r});var r=function(e){return e.EMAIL_LINK="emailLink",e.EMAIL_OTP="emailOTP",e.SMS_OTP="smsOTP",e}({})},30229:(e,t,n)=>{n.d(t,{y:()=>r});var r=function(e){return e.EMAIL_OTP="emailOTP",e.EMAIL_LINK="emailLink",e.SMS_OTP="smsOTP",e}({})},98407:(e,t,n)=>{n.r(t),n.d(t,{ConnectorEditPage:()=>yn,default:()=>_n});var r=n(55007),o=n(60486),a=n(40838),i=n(29246),s=n(86989),c=n(82160),l=n(18365),u=n(82460),m=n(50342),d=n(66132),f=n(90375),p=n(44194),v=n(47245),E=n(44867),g=n(51835),y=n.n(g),_=n(27975),O=n.n(_),b=n(55900),S=n.n(b),T=n(21555),C=n.n(T),R=n(3621),A=n.n(R),N=n(5062),h=n.n(N),I=n(73735),L={};L.styleTagTransform=h(),L.setAttributes=C(),L.insert=S().bind(null,"head"),L.domAPI=O(),L.insertStyleElement=A();y()(I.Z,L);I.Z&&I.Z.locals&&I.Z.locals;const P=function(e){var t=e["data-componentid"],n=void 0===t?"registration-flow-builder-banner":t,r=(0,v.v9)((function(e){var t;return null===(t=e.config.ui.features)||void 0===t?void 0:t.ai}));return p.createElement(l.Z,{sx:{backgroundImage:"url(".concat(E.Z,")")},className:"registration-flow-builder-banner","data-componentid":n},p.createElement(u.Z,{direction:{md:"row",sm:"column",xs:"column"},spacing:{md:4,sm:2,xs:1},justifyContent:"space-between",alignItems:"center"},p.createElement(s.Z,null,p.createElement(m.Z,{variant:"h5"},"Construct your ideal self registration experience with our new"," ",p.createElement("span",{className:"text-gradient primary"},"Registration Flow Builder"),p.createElement(d.Z,{featureFlags:null==r?void 0:r.featureFlags,featureKey:f.Z.FEATURE_FLAG_KEY_MAP.FLOWS_TYPES_REGISTRATION,type:"chip"})),p.createElement(m.Z,{variant:"body1"},"Provide a seamless onboarding experience to your users by customizing the registration flow to suit your organization's needs.")),p.createElement(c.Z,{onClick:function(){return a.m.push(o.$.getPaths().get("REGISTRATION_FLOW_BUILDER"))},color:"primary",variant:"contained"},"Explore")))};var w=n(86105),x=n(6833),M=n(82406),U=n(20494),F=n(10479),D=n(59673),k=n(39114),V=n(89141),j=n(72857),X=n(26154),Y=n(41206),G=n(21257),W=n(4717),Z=n(8058),B=n(47149),K=n(42177),H=n(16590),q=n(79438),$=n(50699);function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ee(r.key),r)}}function J(e,t,n){return t&&Q(e.prototype,t),n&&Q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ee(e){var t=function(e,t){if("object"!=z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==z(t)?t:t+""}var te,ne,re,oe=J((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));te=oe,ne="allowedConnectorFields",re=[B.v.ADMIN_FORCE_PASSWORD_RESET_EMAIL_LINK,B.v.ADMIN_FORCE_PASSWORD_RESET_EMAIL_OTP,B.v.ADMIN_FORCE_PASSWORD_RESET_SMS_OTP,B.v.ADMIN_FORCED_PASSWORD_RESET_EXPIRY_TIME],(ne=ee(ne))in te?Object.defineProperty(te,ne,{value:re,enumerable:!0,configurable:!0,writable:!0}):te[ne]=re;var ae=n(21385),ie=n(60363),se={};se.styleTagTransform=h(),se.setAttributes=C(),se.insert=S().bind(null,"head"),se.domAPI=O(),se.insertStyleElement=A();y()(ie.Z,se);ie.Z&&ie.Z.locals&&ie.Z.locals;function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ce(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ce(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var pe="governance-connectors-ask-password-form",ve=function(e){var t=e.initialValues,n=e.onSubmit,r=e.readOnly,o=e.isConnectorEnabled,a=e.isSubmitting,i=e["data-componentid"],s=void 0===i?"ask-password-edit-form":i,c=(0,F.$)().t,l=de((0,p.useState)(void 0),2),u=l[0],m=l[1],d=de((0,p.useState)(ae.M.EMAIL_LINK),2),f=d[0],v=d[1],E=[{label:"extensions:manage.serverConfigurations.accountRecovery.forcedPasswordRecovery.form.fields.enableEmailLinkBasedReset.label",value:ae.M.EMAIL_LINK},{label:"extensions:manage.serverConfigurations.accountRecovery.forcedPasswordRecovery.form.fields.enableEmailOTPBasedReset.label",value:ae.M.EMAIL_OTP},{label:"extensions:manage.serverConfigurations.accountRecovery.forcedPasswordRecovery.form.fields.enableSMSOTPBasedReset.label",value:ae.M.SMS_OTP}];(0,p.useEffect)((function(){var e,n;if(!(0,$.Z)(null==t?void 0:t.properties)){var r=null;t.properties.map((function(e){if(oe.allowedConnectorFields.includes(null==e?void 0:e.name))switch(e.name){case B.v.ADMIN_FORCE_PASSWORD_RESET_EMAIL_LINK:r=ue(ue({},r),{},{enableEmailLink:H.CommonUtils.parseBoolean(e.value)});break;case B.v.ADMIN_FORCE_PASSWORD_RESET_EMAIL_OTP:r=ue(ue({},r),{},{enableEmailOtp:H.CommonUtils.parseBoolean(e.value)});break;case B.v.ADMIN_FORCED_PASSWORD_RESET_EXPIRY_TIME:r=ue(ue({},r),{},{expiryTime:e.value});break;case B.v.ADMIN_FORCE_PASSWORD_RESET_SMS_OTP:r=ue(ue({},r),{},{enableSmsOtp:H.CommonUtils.parseBoolean(e.value)})}})),m(r);var o=ae.M.EMAIL_LINK;null!==(e=r)&&void 0!==e&&e.enableSmsOtp?o=ae.M.SMS_OTP:null!==(n=r)&&void 0!==n&&n.enableEmailOtp&&(o=ae.M.EMAIL_OTP),v(o)}}),[t]);return u?p.createElement("div",{className:"connector-form admin-forced-password-reset-form"},p.createElement(q.l0,{id:pe,uncontrolledForm:!1,initialValues:u,onSubmit:function(e){return n(function(e){return{"Recovery.AdminPasswordReset.ExpiryTime":void 0!==e.expiryTime?e.expiryTime:null==u?void 0:u.expiryTime,"Recovery.AdminPasswordReset.OTP":void 0!==f?f===ae.M.EMAIL_OTP:null==u?void 0:u.enableEmailOtp,"Recovery.AdminPasswordReset.Offline":!1,"Recovery.AdminPasswordReset.RecoveryLink":void 0!==f?f===ae.M.EMAIL_LINK:null==u?void 0:u.enableEmailLink,"Recovery.AdminPasswordReset.SMSOTP":void 0!==f?f===ae.M.SMS_OTP:null==u?void 0:u.enableSmsOtp}}(e))}},p.createElement(U.X6,{as:"h6",className:"sub-header"},c("extensions:manage.serverConfigurations.accountRecovery.forcedPasswordRecovery.form.subheading")),E.map((function(e){return p.createElement(q.gN.Radio,{className:"ui radio checkbox",key:e.value,ariaLabel:c(e.label),label:c(e.label),name:"recoveryOption",type:"radio",value:e.value,checked:f===e.value,listen:function(){return v(e.value)},readOnly:r,"data-componentid":"".concat(s,"-email-recovery-option-").concat(e.value)})})),p.createElement(q.gN.Input,{className:"sub-header",ariaLabel:"expiryTime",inputType:"number",name:"expiryTime",min:Z.X.FORCED_PASSWORD_RESET_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE,max:Z.X.FORCED_PASSWORD_RESET_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE,label:c("extensions:manage.serverConfigurations.accountRecovery.forcedPasswordRecovery.form.fields.expiryTime.label"),placeholder:c("extensions:manage.serverConfigurations.accountRecovery.forcedPasswordRecovery.form.fields.expiryTime.placeholder"),required:!1,maxLength:Z.X.FORCED_PASSWORD_RESET_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_LENGTH,minLength:Z.X.FORCED_PASSWORD_RESET_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_LENGTH,readOnly:r,width:10,labelPosition:"right","data-componentid":"".concat(s,"-expiry-time")},p.createElement("input",null),p.createElement("label",{className:"ui label"},"mins")),p.createElement(U.kW,null,c("extensions:manage.serverConfigurations.accountRecovery.forcedPasswordRecovery.form.fields.expiryTime.hint")),p.createElement(q.gN.Button,{form:pe,size:"small",buttonType:"primary_btn",ariaLabel:"Self registration update button",name:"update-button","data-componentid":"".concat(s,"-submit-button"),disabled:!o||a,loading:a,label:c("common:update"),hidden:!o||r}))):null},Ee=n(54388),ge=n(758),ye=n(29314),_e=n(34194),Oe=n(62508),be=n(77065),Se=n(30229),Te=n(21499),Ce={};Ce.styleTagTransform=h(),Ce.setAttributes=C(),Ce.insert=S().bind(null,"head"),Ce.domAPI=O(),Ce.insertStyleElement=A();y()(Te.Z,Ce);Te.Z&&Te.Z.locals&&Te.Z.locals;function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Re(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Re(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Le(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Pe="governance-connectors-ask-password-form",we=function(e){var t=e.initialValues,n=e.onSubmit,r=e.readOnly,o=e.isConnectorEnabled,a=e.isSubmitting,i=e["data-componentid"],s=void 0===i?"ask-password-edit-form":i,c=(0,F.$)().t,l=Ie((0,p.useState)(void 0),2),u=l[0],m=l[1],d=Ie((0,p.useState)(!1),2),f=d[0],E=d[1],g=Ie((0,p.useState)(!1),2),y=g[0],_=g[1],O=Ie((0,p.useState)(!1),2),b=O[0],S=O[1],T=Ie((0,p.useState)(!1),2),C=T[0],R=T[1],A=Ie((0,p.useState)(Se.y.EMAIL_LINK),2),N=A[0],h=A[1],I=(0,v.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.showSmsOtpAskPasswordFeatureStatusChip})),L=[{label:"extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.emailAskPasswordOptions.emailLink.label",value:Se.y.EMAIL_LINK},{label:"extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.emailAskPasswordOptions.emailOtp.label",value:Se.y.EMAIL_OTP},{label:"extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.emailAskPasswordOptions.smsOtp.label",value:Se.y.SMS_OTP}];(0,p.useEffect)((function(){var e,n,r,o,a,i;if(!(0,$.Z)(null==t?void 0:t.properties)){var s=null;t.properties.map((function(e){if(be.f.allowedConnectorFields.includes(null==e?void 0:e.name))switch(e.name){case B.v.ASK_PASSWORD_ENABLE:s=Ne(Ne({},s),{},{enableInviteUserToSetPassword:H.CommonUtils.parseBoolean(e.value)});break;case B.v.ASK_PASSWORD_LOCK_ON_CREATION:s=Ne(Ne({},s),{},{enableAccountLockOnCreation:H.CommonUtils.parseBoolean(e.value)});break;case B.v.ASK_PASSWORD_ACCOUNT_ACTIVATION:s=Ne(Ne({},s),{},{enableAccountActivationEmail:H.CommonUtils.parseBoolean(e.value)});break;case B.v.ASK_PASSWORD_OTP_EXPIRY_TIME:s=Ne(Ne({},s),{},{expiryTime:e.value});break;case B.v.ASK_PASSWORD_EMAIL_OTP:s=Ne(Ne({},s),{},{enableEmailOtp:H.CommonUtils.parseBoolean(e.value)});break;case B.v.ASK_PASSWORD_SMS_OTP:s=Ne(Ne({},s),{},{enableSmsOtp:H.CommonUtils.parseBoolean(e.value)});break;case B.v.ASK_PASSWORD_OTP_USE_LOWERCASE:s=Ne(Ne({},s),{},{otpUseLowercase:H.CommonUtils.parseBoolean(e.value)});break;case B.v.ASK_PASSWORD_OTP_USE_NUMERIC:s=Ne(Ne({},s),{},{otpUseNumeric:H.CommonUtils.parseBoolean(e.value)});break;case B.v.ASK_PASSWORD_OTP_USE_UPPERCASE:s=Ne(Ne({},s),{},{otpUseUppercase:H.CommonUtils.parseBoolean(e.value)});break;case B.v.ASK_PASSWORD_OTP_LENGTH:s=Ne(Ne({},s),{},{otpLength:e.value})}})),m(s),E(null===(e=s)||void 0===e?void 0:e.enableInviteUserToSetPassword),_(null===(n=s)||void 0===n?void 0:n.otpUseUppercase),S(null===(r=s)||void 0===r?void 0:r.otpUseLowercase),R(null===(o=s)||void 0===o?void 0:o.otpUseNumeric),null!==(a=s)&&void 0!==a&&a.enableSmsOtp?h(Se.y.SMS_OTP):null!==(i=s)&&void 0!==i&&i.enableEmailOtp?h(Se.y.EMAIL_OTP):h(Se.y.EMAIL_LINK)}}),[t]);return u?p.createElement("div",{className:"connector-form ask-password-form"},p.createElement(q.l0,{id:Pe,initialValues:u,onSubmit:function(e){return n(function(e){return{"EmailVerification.AskPassword.AccountActivation":void 0!==e.enableAccountActivationEmail?e.enableAccountActivationEmail:null==u?void 0:u.enableAccountActivationEmail,"EmailVerification.AskPassword.EmailOTP":N===Se.y.EMAIL_OTP,"EmailVerification.AskPassword.ExpiryTime":void 0!==e.expiryTime?e.expiryTime:null==u?void 0:u.expiryTime,"EmailVerification.AskPassword.SMSOTP":N===Se.y.SMS_OTP,"EmailVerification.Enable":void 0!==e.enableInviteUserToSetPassword?e.enableInviteUserToSetPassword:null==u?void 0:u.enableInviteUserToSetPassword,"EmailVerification.LockOnCreation":void 0!==e.enableAccountLockOnCreation?e.enableAccountLockOnCreation:null==u?void 0:u.enableAccountLockOnCreation,"EmailVerification.OTP.OTPLength":void 0!==e.otpLength?e.otpLength:null==u?void 0:u.otpLength,"EmailVerification.OTP.UseLowercaseCharactersInOTP":void 0!==e.otpUseLowercase?e.otpUseLowercase:null==u?void 0:u.otpUseLowercase,"EmailVerification.OTP.UseNumbersInOTP":void 0!==e.otpUseNumeric?e.otpUseNumeric:null==u?void 0:u.otpUseNumeric,"EmailVerification.OTP.UseUppercaseCharactersInOTP":void 0!==e.otpUseUppercase?e.otpUseUppercase:null==u?void 0:u.otpUseUppercase}}(e))},validate:function(e){var t={expiryTime:void 0,otpLength:void 0};if(e.expiryTime||"0"===e.expiryTime||"-1"===e.expiryTime)if(_e.I.isInteger(e.expiryTime)){var n=parseInt(e.expiryTime,10);-1!==n&&0!==n&&(n<1||n>Z.X.ASK_PASSWORD_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE)&&(t.expiryTime=c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.expiryTime.validations.range"))}else t.expiryTime=c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.expiryTime.validations.invalid");else t.expiryTime=c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.expiryTime.validations.empty");return e.otpLength?_e.I.isInteger(e.otpLength)?(parseInt(e.otpLength,10)<4||parseInt(e.otpLength,10)>10)&&(t.otpLength=c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.askPasswordOtpLength.validations.range")):t.otpLength=c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.askPasswordOtpLength.validations.invalid"):t.otpLength=c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.askPasswordOtpLength.validations.empty"),t},uncontrolledForm:!1},p.createElement(U.X6,{as:"h5"},c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.emailAskPasswordOptions.header")),L.map((function(e){return p.createElement(q.gN.Radio,{key:e.value,ariaLabel:c(e.label),label:c(e.label),name:"askPasswordOption",type:"radio",value:e.value,checked:N===e.value,listen:function(){return h(e.value)},disabled:!f,readOnly:r,"data-componentid":"".concat(s,"-ask-password-option-").concat(e.value)})})),p.createElement("br",null),p.createElement(q.gN.Input,{ariaLabel:"expiryTime",inputType:"number",name:"expiryTime",min:-1,max:Z.X.ASK_PASSWORD_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE,label:c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.expiryTime.label"),placeholder:c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.expiryTime.placeholder")+" (-1: indefinite, 0: immediate)",required:!1,maxLength:Z.X.ASK_PASSWORD_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_LENGTH,minLength:Z.X.ASK_PASSWORD_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_LENGTH,readOnly:r,width:10,labelPosition:"right",disabled:!f,"data-componentid":"".concat(s,"-link-expiry-time")},p.createElement("input",null),p.createElement("label",{className:"ui label"},"mins")),p.createElement(U.kW,null,c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.expiryTime.hint"),p.createElement("br",null),c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.expiryTime.hintSub"),p.createElement("br",null)),p.createElement("br",null),p.createElement(q.gN.Checkbox,{ariaLabel:"enableAccountActivationEmail",name:"enableAccountActivationEmail",label:c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.enableAccountActivationEmail.label"),required:!1,readOnly:r,width:10,disabled:!f,"data-componentid":"".concat(s,"-account-activation-email")}),p.createElement(U.kW,null,c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.enableAccountActivationEmail.hint")),p.createElement("br",null),p.createElement(q.gN.Checkbox,{ariaLabel:"enableAccountLockOnCreation",name:"enableAccountLockOnCreation",label:c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.enableAccountLockOnCreation.label"),required:!1,readOnly:r,width:10,disabled:!f,"data-componentid":"".concat(s,"-account-lock-on-creation")}),p.createElement(U.kW,null,c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.enableAccountLockOnCreation.hint")),p.createElement(Oe.Z,null),p.createElement(U.X6,{as:"h4"},c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.otpConfigHeading"),I&&p.createElement(ge.Z,{label:c(ye.j.BETA),className:"oxygen-menu-item-chip oxygen-chip-beta"})),p.createElement(q.gN.Checkbox,{ariaLabel:"otpUseUppercase",name:"otpUseUppercase",label:c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.askPasswordOtpUseUppercase.label"),required:!1,readOnly:r,width:10,disabled:!f||y&&!b&&!C||N===Se.y.EMAIL_LINK,listen:function(e){return _(e)},"data-componentid":"".concat(s,"-sms-otp-uppercase")}),p.createElement(U.kW,null,c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.askPasswordOtpUseUppercase.hint")),p.createElement("br",null),p.createElement(q.gN.Checkbox,{ariaLabel:"otpUseLowercase",name:"otpUseLowercase",label:c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.askPasswordOtpUseLowercase.label"),required:!1,readOnly:r,width:10,disabled:!f||!y&&b&&!C||N===Se.y.EMAIL_LINK,listen:function(e){return S(e)},"data-componentid":"".concat(s,"-sms-otp-lowercase")}),p.createElement(U.kW,null,c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.askPasswordOtpUseLowercase.hint")),p.createElement("br",null),p.createElement(q.gN.Checkbox,{ariaLabel:"otpUseNumeric",name:"otpUseNumeric",label:c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.askPasswordOtpUseNumeric.label"),required:!1,readOnly:r,width:10,disabled:!f||!y&&!b&&C||N===Se.y.EMAIL_LINK,listen:function(e){return R(e)},"data-componentid":"".concat(s,"-sms-otp-numeric")}),p.createElement(U.kW,null,c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.askPasswordOtpUseNumeric.hint")),p.createElement("br",null),p.createElement(q.gN.Input,{ariaLabel:"otpLength",inputType:"number",name:"otpLength",min:Z.X.ASK_PASSWORD_FORM_FIELD_CONSTRAINTS.OTP_CODE_LENGTH_MIN_VALUE,max:Z.X.ASK_PASSWORD_FORM_FIELD_CONSTRAINTS.OTP_CODE_LENGTH_MAX_VALUE,label:c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.askPasswordOtpLength.label"),placeholder:"OTP Length",required:!1,maxLength:Z.X.ASK_PASSWORD_FORM_FIELD_CONSTRAINTS.OTP_CODE_LENGTH_MAX_LENGTH,minLength:Z.X.ASK_PASSWORD_FORM_FIELD_CONSTRAINTS.OTP_CODE_LENGTH_MIN_LENGTH,readOnly:r,width:10,labelPosition:"right",disabled:!f||N===Se.y.EMAIL_LINK,"data-componentid":"".concat(s,"-otp-length")},p.createElement("input",null),p.createElement("label",{className:"ui label"},"characters")),p.createElement(U.kW,null,c("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.form.fields.askPasswordOtpLength.hint")),p.createElement("br",null),p.createElement(q.gN.Button,{form:Pe,size:"small",buttonType:"primary_btn",ariaLabel:"Ask password update button",name:"update-button","data-componentid":"".concat(s,"-submit-button"),disabled:a,loading:a,label:c("common:update"),hidden:!o||r}))):null},xe=n(917),Me=n(96122),Ue=n(58934),Fe=n(73432),De=n(37077),ke=n(19178),Ve={};Ve.styleTagTransform=h(),Ve.setAttributes=C(),Ve.insert=S().bind(null,"head"),Ve.domAPI=O(),Ve.insertStyleElement=A();y()(ke.Z,Ve);ke.Z&&ke.Z.locals&&ke.Z.locals;function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=je(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==je(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ze(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ze(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Be=[B.v.ACCOUNT_LOCK_ENABLE,B.v.MAX_FAILED_LOGIN_ATTEMPTS_TO_ACCOUNT_LOCK,B.v.ACCOUNT_LOCK_TIME,B.v.ACCOUNT_LOCK_TIME_INCREMENT_FACTOR,B.v.ACCOUNT_LOCK_INTERNAL_NOTIFICATION_MANAGEMENT,B.v.NOTIFY_USER_ON_ACCOUNT_LOCK_INCREMENT],Ke="governance-connectors-login-attempt-security-form",He=function(e){var t,n,r=e.initialValues,o=e.onSubmit,a=e.readOnly,i=e.isConnectorEnabled,s=e.isSubmitting,c=e["data-testid"],l=(0,F.$)().t,u=(0,xe.Z)().UIConfig,m=We((0,p.useState)(void 0),2),d=m[0],f=m[1],v=We((0,p.useState)(void 0),2),E=v[0],g=v[1],y=We((0,p.useState)(void 0),2),_=y[0],O=y[1],b=We((0,p.useState)(void 0),2),S=b[0],T=b[1],C=We((0,p.useState)(void 0),2),R=C[0],A=C[1],N=We((0,p.useState)(void 0),2),h=N[0],I=N[1],L=We((0,p.useState)(void 0),2),P=L[0],w=L[1],x=We((0,p.useState)(void 0),2),M=x[0],D=x[1];(0,p.useEffect)((function(){if(!(0,$.Z)(null==r?void 0:r.properties)){var e=null;r.properties.map((function(t){Be.includes(t.name)&&(t.name===B.v.MAX_FAILED_LOGIN_ATTEMPTS_TO_ACCOUNT_LOCK?(e=Ye(Ye({},e),{},{maxFailedAttempts:t.value}),O(t.value)):t.name===B.v.ACCOUNT_LOCK_TIME?(e=Ye(Ye({},e),{},{accountLockTime:0===parseInt(t.value)?B.v.ACCOUNT_LOCK_TIME_DEFAULT:t.value}),T(0===parseInt(t.value)?B.v.ACCOUNT_LOCK_TIME_DEFAULT:t.value),w(0===parseInt(t.value))):t.name===B.v.ACCOUNT_LOCK_TIME_INCREMENT_FACTOR?(e=Ye(Ye({},e),{},{accountLockIncrementFactor:t.value}),A(t.value)):(null==t?void 0:t.name)===B.v.NOTIFY_USER_ON_ACCOUNT_LOCK_INCREMENT?(e=Ye(Ye({},e),{},{notifyUserOnAccountLockIncrement:"true"===(null==t?void 0:t.value)}),I("true"===(null==t?void 0:t.value))):(null==t?void 0:t.name)===B.v.ACCOUNT_LOCK_INTERNAL_NOTIFICATION_MANAGEMENT&&g("true"===(null==t?void 0:t.value)))})),f(e)}}),[r]);var k=function(e,t){if(t){var n=M===t.index?-1:t.index;D(n)}},V=function(e){w(e),e&&T("0")},Y=function(){return p.createElement(Ue.Z,{"data-testid":c},p.createElement(Ue.Z.Title,{index:0,active:0===M,onClick:k,content:1===(0,Me.Z)(S)?"After 1 minute":"After "+S+" minutes"}),p.createElement(Ue.Z.Content,{active:0===M},p.createElement(Fe.Z,{bulleted:!0},p.createElement(Fe.Z.Item,null,l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.howItWorks.correctPassword.description")),p.createElement(Fe.Z.Item,null,1===(0,Me.Z)(_)?l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.howItWorks.incorrectPassword.description_singular",{lockIncrementRatio:R,maxAttempts:(0,Me.Z)(_)}):l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.howItWorks.incorrectPassword.description_plural",{lockIncrementRatio:R,maxAttempts:(0,Me.Z)(_)}),p.createElement(Oe.Z,{hidden:!0,className:"mb-0 mt-0"}),(0,Me.Z)(R)*(0,Me.Z)(S)==1?l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.howItWorks.example.description_singular",{lockDuration:S,lockIncrementRatio:R,lockTotalDuration:(0,Me.Z)(R)*(0,Me.Z)(S)}):l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.howItWorks.example.description_plural",{lockDuration:S,lockIncrementRatio:R,lockTotalDuration:(0,Me.Z)(R)*(0,Me.Z)(S)})))))};return d?p.createElement("div",{className:"connector-form login-attempt-security-form"},p.createElement(q.l0,{id:Ke,initialValues:d,onSubmit:function(e){return o(function(e){return{"account.lock.handler.On.Failure.Max.Attempts":void 0!==e.maxFailedAttempts?e.maxFailedAttempts:null==d?void 0:d.maxFailedAttempts,"account.lock.handler.Time":P?0:void 0!==e.accountLockTime?e.accountLockTime:null==d?void 0:d.accountLockTime,"account.lock.handler.login.fail.timeout.ratio":void 0!==e.accountLockIncrementFactor?e.accountLockIncrementFactor:null==d?void 0:d.accountLockIncrementFactor,"account.lock.handler.notification.manageInternally":!!i||E,"account.lock.handler.notification.notifyOnLockIncrement":void 0!==(null==e?void 0:e.notifyUserOnAccountLockIncrement)?"".concat(null==e?void 0:e.notifyUserOnAccountLockIncrement):"".concat(null==d?void 0:d.notifyUserOnAccountLockIncrement)}}(e))},validate:function(e){var t={accountLockIncrementFactor:void 0,accountLockTime:void 0,maxFailedAttempts:void 0,notifyUserOnAccountLockIncrement:void 0};return e.maxFailedAttempts?_e.I.isInteger(e.maxFailedAttempts)?parseInt(e.maxFailedAttempts,10)<Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.FAILED_ATTEMPTS_MIN_VALUE||parseInt(e.maxFailedAttempts,10)>Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.FAILED_ATTEMPTS_MAX_VALUE?t.maxFailedAttempts=l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.maxFailedAttempts.validations.range"):e.maxFailedAttempts&&!_e.I.isLengthValid(e.maxFailedAttempts,Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.FAILED_ATTEMPTS_MAX_LENGTH)&&(t.maxFailedAttempts=l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.maxFailedAttempts.validations.maxLengthReached")):t.maxFailedAttempts=l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.maxFailedAttempts.validations.invalid"):t.maxFailedAttempts=l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.maxFailedAttempts.validations.required"),e.accountLockTime?_e.I.isInteger(e.accountLockTime)?parseInt(e.accountLockTime,10)<Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.ACCOUNT_LOCK_TIME_MIN_VALUE&&!P||parseInt(e.accountLockTime,10)>Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.ACCOUNT_LOCK_TIME_MAX_VALUE?t.accountLockTime=l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.accountLockTime.validations.range"):e.accountLockTime&&!_e.I.isLengthValid(e.accountLockTime,Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.ACCOUNT_LOCK_TIME_MAX_LENGTH)&&(t.accountLockTime=l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.accountLockTime.validations.maxLengthReached")):t.accountLockTime=l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.accountLockTime.validations.invalid"):t.accountLockTime=l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.accountLockTime.validations.required"),e.accountLockIncrementFactor&&!_e.I.isInteger(e.accountLockIncrementFactor)?t.accountLockIncrementFactor=l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.accountLockIncrementFactor.validations.invalid"):parseInt(e.accountLockIncrementFactor,10)<Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.ACCOUNT_LOCK_INCREMENT_FACTOR_MIN_VALUE||parseInt(e.accountLockIncrementFactor,10)>Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.ACCOUNT_LOCK_INCREMENT_FACTOR_MAX_VALUE?t.accountLockIncrementFactor=l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.accountLockIncrementFactor.validations.range"):e.accountLockIncrementFactor&&!_e.I.isLengthValid(e.accountLockIncrementFactor,Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.ACCOUNT_LOCK_INCREMENT_FACTOR_MAX_LENGTH)&&(t.accountLockIncrementFactor=l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.accountLockIncrementFactor.validations.maxLengthReached")),t},uncontrolledForm:!1},p.createElement(q.gN.Input,{ariaLabel:"maxFailedAttempts",inputType:"number",name:"maxFailedAttempts",min:Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.FAILED_ATTEMPTS_MIN_VALUE,max:Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.FAILED_ATTEMPTS_MAX_VALUE,label:l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.maxFailedAttempts.label"),required:!0,placeholder:l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.maxFailedAttempts.placeholder"),listen:function(e){return O(e||d.maxFailedAttempts)},maxLength:Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.FAILED_ATTEMPTS_MAX_LENGTH,minLength:Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.FAILED_ATTEMPTS_MIN_LENGTH,width:10,disabled:!i,"data-testid":"".concat(c,"-max-failed-attempts"),readOnly:a}),p.createElement(U.kW,{className:"mb-5"},l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.maxFailedAttempts.hint")),p.createElement(U.X6,{as:"h5"},l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.accountLockDurationHeading")),p.createElement(Oe.Z,{hidden:!0,className:"mb-0 mt-0"}),p.createElement(q.gN.Radio,{className:"account-lock-duration-option",key:"1",name:"lockAccountForSpecifiedTime",ariaLabel:"lockAccountForSpecifiedTime",label:l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.lockAccountForSpecifiedTime.label"),checked:!P,disabled:!i,"data-testid":"".concat(c,"-lock-account-specified-time"),listen:function(){return V(!1)}}),p.createElement(q.gN.Input,{ariaLabel:"accountLockTime",inputType:"number",name:"accountLockTime",className:"account-lock-field",min:Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.ACCOUNT_LOCK_TIME_MIN_VALUE,max:Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.ACCOUNT_LOCK_TIME_MAX_VALUE,label:l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.accountLockTime.label"),required:!0,placeholder:l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.accountLockTime.placeholder"),listen:function(e){return T(e||d.accountLockTime)},maxLength:Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.ACCOUNT_LOCK_TIME_MAX_LENGTH,minLength:Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.ACCOUNT_LOCK_TIME_MIN_LENGTH,width:10,disabled:!i||P,labelPosition:"right","data-testid":"".concat(c,"-account-lock-time"),readOnly:a,hidden:P},p.createElement("input",null),p.createElement(De.Z,{content:"mins"})),p.createElement(U.kW,{className:"mb-5 account-lock-field",hidden:P},l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.accountLockTime.hint")),p.createElement(q.gN.Input,{className:"account-lock-field",ariaLabel:"accountLockIncrementFactor",inputType:"number",name:"accountLockIncrementFactor",min:Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.ACCOUNT_LOCK_INCREMENT_FACTOR_MIN_VALUE,max:Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.ACCOUNT_LOCK_INCREMENT_FACTOR_MAX_VALUE,label:l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.accountLockIncrementFactor.label"),required:!1,placeholder:l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.accountLockIncrementFactor.placeholder"),listen:function(e){return A(e||d.accountLockIncrementFactor)},maxLength:Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.ACCOUNT_LOCK_INCREMENT_FACTOR_MAX_LENGTH,minLength:Z.X.LOGINS_ATTEMPT_SECURITY_FORM_FIELD_CONSTRAINTS.ACCOUNT_LOCK_INCREMENT_FACTOR_MIN_LENGTH,width:10,disabled:!i||P,"data-testid":"".concat(c,"-account-lock-increment"),readOnly:a,hidden:P}),p.createElement(U.kW,{className:"mb-5 account-lock-field",hidden:P},l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.accountLockIncrementFactor.hint")),p.createElement(q.gN.Radio,{className:"account-lock-duration-option",key:"2",name:"lockAccountIndefiniteTime",ariaLabel:"lockAccountIndefiniteTime",label:l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.lockAccountIndefiniteTime.label"),checked:P,disabled:!i,"data-testid":"".concat(c,"-lock-account-indefinite-time"),listen:function(){return V(!0)}}),p.createElement(j.Z,{info:!0,className:"mb-5 connector-info"},p.createElement(X.Z,{name:"info circle"}),"How it works",p.createElement("p",null,p.createElement("strong",null,"Note : ")," The following example is based on the above configurations.",p.createElement("br",null),p.createElement("br",null),P?"User tries to login with an incorrect password ".concat(1===(0,Me.Z)(_)?"once":"in ".concat(_," consecutive attempts"),". User account will be locked indefinitely until \n                        the account is manually unlocked by an admin."):"User tries to login with an incorrect \n                        password ".concat(1===(0,Me.Z)(_)?"once":"in ".concat(_," consecutive attempts"),". \n                        User account will be locked for ").concat(S," ").concat(1===(0,Me.Z)(S)?"minute":"minutes","."),P?null:Y(),"`")),!(null!=u&&null!==(t=u.governanceConnectors)&&void 0!==t&&null!==(t=t.loginAttempts)&&void 0!==t&&null!==(t=t.disabledFeatures)&&void 0!==t&&t.includes("notifyUserOnAccountLockIncrement"))&&p.createElement(q.gN.Checkbox,{ariaLabel:"notifyUserOnAccountLockIncrement",name:"notifyUserOnAccountLockIncrement",label:l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.notifyUserOnAccountLockIncrement.label"),listen:function(e){return I(e)},checked:h,required:!1,readOnly:a,disabled:!i,width:10,"data-testid":"".concat(c,"-notify-user-on-account-lock-time-increase")}),!(null!=u&&null!==(n=u.governanceConnectors)&&void 0!==n&&null!==(n=n.loginAttempts)&&void 0!==n&&null!==(n=n.disabledFeatures)&&void 0!==n&&n.includes("notifyUserOnAccountLockIncrement"))&&p.createElement(U.kW,{className:"mb-5"},l("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.form.fields.notifyUserOnAccountLockIncrement.hint")),p.createElement(Oe.Z,{hidden:!0}),p.createElement(q.gN.Button,{form:Ke,size:"small",buttonType:"primary_btn",ariaLabel:"Login attempt security update button",name:"update-button","data-testid":"".concat(c,"-submit-button"),disabled:!i||s,loading:s,label:l("common:update"),hidden:!i||a}))):null};He.defaultProps={"data-testid":"login-attempts-security-edit-form"};var qe=n(66534);function $e(e){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(e)}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=$e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nt="governance-connectors-multi-attribute-login-form",rt=function(e){var t=e.initialValues,n=e.onSubmit,r=e.readOnly,o=e.isConnectorEnabled,a=e.isSubmitting,i=e["data-componentid"],s=(0,F.$)().t,c=et((0,p.useState)(void 0),2),l=c[0],u=c[1],m=et((0,p.useState)(void 0),2),d=m[0],f=m[1];(0,p.useEffect)((function(){if(!(0,$.Z)(null==t?void 0:t.properties)){var e=new Map,n=null;t.properties.map((function(t){e.set(t.name,t),n=Qe(Qe({},n),{},Je({},t.name,t.value))})),u(e),f(n)}}),[t]);return l?p.createElement(q.l0,{id:nt,uncontrolledForm:!0,initialValues:d,onSubmit:function(e){return n(function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&n!==B.v.MULTI_ATTRIBUTE_LOGIN_ENABLE&&(t=Qe(Qe({},t),{},Je({},qe.e.decodeConnectorPropertyName(n),e[n])));return t}(e))}},p.createElement(q.gN.Input,{ariaLabel:"account.multiattributelogin.handler.allowedattributes",inputType:"text",name:qe.e.encodeConnectorPropertyName("account.multiattributelogin.handler.allowedattributes"),type:"text",width:16,required:!0,placeholder:"Enter allowed attribute list",labelPosition:"top",minLength:3,maxLength:1e3,readOnly:r,initialValue:null==d?void 0:d["account.multiattributelogin.handler.allowedattributes"],"data-componentid":"".concat(i,"-allowed-attribute-list"),label:qe.e.resolveFieldLabel("Account Management","account.multiattributelogin.handler.allowedattributes","Allowed Attribute List"),disabled:!o,hint:qe.e.resolveFieldHint("Account Management","account.multiattributelogin.handler.allowedattributes","Allowed claim list separated by commas.")}),p.createElement(q.gN.Button,{form:nt,size:"small",buttonType:"primary_btn",ariaLabel:"Self registration update button",name:"update-button","data-componentid":"".concat(i,"-submit-button"),disabled:!o||a,loading:a,label:s("common:update"),hidden:!o||r})):null};function ot(e){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot(e)}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,st(r.key),r)}}function it(e,t,n){return t&&at(e.prototype,t),n&&at(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function st(e){var t=function(e,t){if("object"!=ot(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ot(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ot(t)?t:t+""}rt.defaultProps={"data-componentid":"multi-attribute-login-form"};var ct=it((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));!function(e,t,n){(t=st(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ct,"allowedConnectorFields",[B.v.NOTIFY_SUCCESS,B.v.RECOVERY_LINK_EXPIRY_TIME,B.v.RECOVERY_EMAIL_LINK_ENABLE,B.v.RECOVERY_EMAIL_OTP_ENABLE,B.v.RECOVERY_SMS_OTP_ENABLE,B.v.RECOVERY_SMS_EXPIRY_TIME,B.v.RECOVERY_OTP_USE_UPPERCASE,B.v.RECOVERY_OTP_USE_LOWERCASE,B.v.RECOVERY_OTP_USE_NUMERIC,B.v.RECOVERY_OTP_LENGTH,B.v.RECOVERY_MAX_RESEND_COUNT,B.v.RECOVERY_MAX_FAILED_ATTEMPTS_COUNT]);var lt=function(e){return e.EMAIL_OTP="emailOTP",e.EMAIL_LINK="emailLink",e}({}),ut=n(30672),mt={};mt.styleTagTransform=h(),mt.setAttributes=C(),mt.insert=S().bind(null,"head"),mt.domAPI=O(),mt.insertStyleElement=A();y()(ut.Z,mt);ut.Z&&ut.Z.locals&&ut.Z.locals;function dt(e){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt(e)}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=dt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var yt="governance-connectors-password-recovery-form",_t=function(e){var t=e.initialValues,n=e.onSubmit,r=e.readOnly,i=e.isConnectorEnabled,s=e.isSubmitting,c=e["data-componentid"],l=(0,F.$)().t,u=Et((0,p.useState)(void 0),2),m=u[0],d=u[1],f=Et((0,p.useState)(!1),2),v=f[0],E=f[1],g=Et((0,p.useState)(!1),2),y=g[0],_=g[1],O=Et((0,p.useState)(!1),2),b=O[0],S=O[1],T=Et((0,p.useState)(!1),2),C=T[0],R=T[1],A=Et((0,p.useState)(!1),2),N=A[0],h=A[1],I=Et((0,p.useState)(lt.EMAIL_LINK),2),L=I[0],P=I[1],w=[{label:"extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.emailRecoveryOptions.emailLink.label",value:lt.EMAIL_LINK},{label:"extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.emailRecoveryOptions.emailOtp.label",value:lt.EMAIL_OTP}];(0,p.useEffect)((function(){var e,n,r,o,a,i,s;if(!(0,$.Z)(null==t?void 0:t.properties)){var c=null;t.properties.map((function(e){if(ct.allowedConnectorFields.includes(null==e?void 0:e.name))switch(e.name){case B.v.NOTIFY_SUCCESS:c=pt(pt({},c),{},{notifySuccess:H.CommonUtils.parseBoolean(e.value)});break;case B.v.RECOVERY_LINK_EXPIRY_TIME:c=pt(pt({},c),{},{expiryTime:e.value});break;case B.v.RECOVERY_EMAIL_OTP_ENABLE:c=pt(pt({},c),{},{enableEmailOtpBasedRecovery:H.CommonUtils.parseBoolean(e.value)});break;case B.v.RECOVERY_EMAIL_LINK_ENABLE:c=pt(pt({},c),{},{enableEmailLinkBasedRecovery:H.CommonUtils.parseBoolean(e.value)});break;case B.v.RECOVERY_SMS_OTP_ENABLE:c=pt(pt({},c),{},{enableSMSBasedRecovery:H.CommonUtils.parseBoolean(e.value)});break;case B.v.RECOVERY_SMS_EXPIRY_TIME:c=pt(pt({},c),{},{smsOtpExpiryTime:e.value});break;case B.v.RECOVERY_OTP_USE_UPPERCASE:c=pt(pt({},c),{},{passwordRecoveryOtpUseUppercase:H.CommonUtils.parseBoolean(e.value)});break;case B.v.RECOVERY_OTP_USE_LOWERCASE:c=pt(pt({},c),{},{passwordRecoveryOtpUseLowercase:H.CommonUtils.parseBoolean(e.value)});break;case B.v.RECOVERY_OTP_USE_NUMERIC:c=pt(pt({},c),{},{passwordRecoveryOtpUseNumeric:H.CommonUtils.parseBoolean(e.value)});break;case B.v.RECOVERY_OTP_LENGTH:c=pt(pt({},c),{},{smsOtpLength:e.value});break;case B.v.RECOVERY_MAX_RESEND_COUNT:c=pt(pt({},c),{},{maxResendCount:e.value});break;case B.v.RECOVERY_MAX_FAILED_ATTEMPTS_COUNT:c=pt(pt({},c),{},{maxFailedAttemptCount:e.value})}})),d(c),E((null===(e=c)||void 0===e?void 0:e.enableEmailLinkBasedRecovery)||(null===(n=c)||void 0===n?void 0:n.enableEmailOtpBasedRecovery)),P(null!==(r=c)&&void 0!==r&&r.enableEmailOtpBasedRecovery?lt.EMAIL_OTP:lt.EMAIL_LINK),_(null===(o=c)||void 0===o?void 0:o.enableSMSBasedRecovery),S(null===(a=c)||void 0===a?void 0:a.passwordRecoveryOtpUseUppercase),R(null===(i=c)||void 0===i?void 0:i.passwordRecoveryOtpUseLowercase),h(null===(s=c)||void 0===s?void 0:s.passwordRecoveryOtpUseNumeric)}}),[t]);return m?p.createElement("div",{className:"connector-form password-recovery-form"},p.createElement(q.l0,{id:yt,initialValues:m,onSubmit:function(e){return n(function(e){return{"Recovery.ExpiryTime":void 0!==e.expiryTime?e.expiryTime:null==m?void 0:m.expiryTime,"Recovery.Notification.Password.ExpiryTime.smsOtp":void 0!==e.smsOtpExpiryTime?e.smsOtpExpiryTime:null==m?void 0:m.smsOtpExpiryTime,"Recovery.Notification.Password.MaxFailedAttempts":void 0!==e.maxFailedAttemptCount?e.maxFailedAttemptCount:null==m?void 0:m.maxFailedAttemptCount,"Recovery.Notification.Password.MaxResendAttempts":void 0!==e.maxResendCount?e.maxResendCount:null==m?void 0:m.maxResendCount,"Recovery.Notification.Password.OTP.OTPLength":void 0!==e.smsOtpLength?e.smsOtpLength:null==m?void 0:m.smsOtpLength,"Recovery.Notification.Password.OTP.SendOTPInEmail":void 0!==L?L===lt.EMAIL_OTP&&e.enableEmailBasedRecovery:null==m?void 0:m.enableEmailOtpBasedRecovery,"Recovery.Notification.Password.OTP.UseLowercaseCharactersInOTP":void 0!==e.passwordRecoveryOtpUseLowercase?e.passwordRecoveryOtpUseLowercase:null==m?void 0:m.passwordRecoveryOtpUseLowercase,"Recovery.Notification.Password.OTP.UseNumbersInOTP":void 0!==e.passwordRecoveryOtpUseNumeric?e.passwordRecoveryOtpUseNumeric:null==m?void 0:m.passwordRecoveryOtpUseNumeric,"Recovery.Notification.Password.OTP.UseUppercaseCharactersInOTP":void 0!==e.passwordRecoveryOtpUseUppercase?e.passwordRecoveryOtpUseUppercase:null==m?void 0:m.passwordRecoveryOtpUseUppercase,"Recovery.Notification.Password.emailLink.Enable":void 0!==L?L===lt.EMAIL_LINK&&e.enableEmailBasedRecovery:null==m?void 0:m.enableEmailLinkBasedRecovery,"Recovery.Notification.Password.smsOtp.Enable":void 0!==e.enableSMSBasedRecovery?!!e.enableSMSBasedRecovery:null==m?void 0:m.enableSMSBasedRecovery,"Recovery.NotifySuccess":void 0!==e.notifySuccess?!!e.notifySuccess:null==m?void 0:m.notifySuccess}}(e))},validate:function(e){var t={expiryTime:void 0,maxFailedAttemptCount:void 0,maxResendCount:void 0,smsOtpExpiryTime:void 0,smsOtpLength:void 0};return e.expiryTime?_e.I.isInteger(e.expiryTime)?parseInt(e.expiryTime,10)<Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE||parseInt(e.expiryTime,10)>Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE?t.expiryTime=l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.expiryTime.validations.range"):e.smsOtpExpiryTime&&!_e.I.isLengthValid(e.smsOtpExpiryTime,Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.SMS_OTP_EXPIRY_TIME_MAX_LENGTH)?t.smsOtpExpiryTime=l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.smsOtpExpiryTime.validations.maxLengthReached"):e.expiryTime&&!_e.I.isLengthValid(e.expiryTime,Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_LENGTH)?t.expiryTime=l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.expiryTime.validations.maxLengthReached"):e.smsOtpExpiryTime?_e.I.isInteger(e.smsOtpExpiryTime)?parseInt(e.smsOtpExpiryTime,10)<Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE||parseInt(e.smsOtpExpiryTime,10)>Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.SMS_OTP_EXPIRY_TIME_MAX_VALUE?t.smsOtpExpiryTime=l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.smsOtpExpiryTime.validations.range"):e.smsOtpLength?parseInt(e.smsOtpLength,10)<Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.SMS_OTP_CODE_LENGTH_MIN_VALUE||parseInt(e.smsOtpLength,10)>Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.SMS_OTP_CODE_LENGTH_MAX_VALUE?t.smsOtpLength=l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.passwordRecoveryOtpLength.validations.maxLengthReached"):e.maxResendCount?parseInt(e.maxResendCount,10)<Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.MAX_RESEND_COUNT_MIN_VALUE||parseInt(e.maxResendCount,10)>Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.MAX_RESEND_COUNT_MAX_VALUE?t.maxResendCount=l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.maxResendCount.validations.range"):e.maxFailedAttemptCount?(parseInt(e.maxFailedAttemptCount,10)<Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.MAX_FAILED_ATTEMPT_COUNT_MIN_VALUE||parseInt(e.maxFailedAttemptCount,10)>Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.MAX_FAILED_ATTEMPT_COUNT_MAX_VALUE)&&(t.maxFailedAttemptCount=l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.maxFailedAttemptCount.validations.range")):t.maxFailedAttemptCount=l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.maxFailedAttemptCount.validations.empty"):t.maxResendCount=l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.maxResendCount.validations.empty"):t.smsOtpLength=l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.passwordRecoveryOtpLength.validations.empty"):t.smsOtpExpiryTime=l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.smsOtpExpiryTime.validations.invalid"):t.smsOtpExpiryTime=l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.smsOtpExpiryTime.validations.empty"):t.expiryTime=l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.expiryTime.validations.invalid"):t.expiryTime=l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.expiryTime.validations.empty"),t},uncontrolledForm:!1},p.createElement(U.X6,{as:"h4"},l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.recoveryOptionHeading")),p.createElement(U.X6,{as:"h5"},l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.recoveryOptionSubHeadingEmail")),p.createElement(q.gN.Checkbox,{ariaLabel:"enableEmailBasedRecovery",name:"enableEmailBasedRecovery",label:l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.enableEmailBasedRecovery.label"),required:!1,readOnly:r,width:10,disabled:!i,defaultValue:v,listen:function(e){return E(e)},"data-testid":"".concat(c,"-email-based-recovery"),"data-componentid":"".concat(c,"-email-based-recovery")}),p.createElement(U.kW,null,l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.enableEmailBasedRecovery.hint")),p.createElement(U.X6,{as:"h6"},l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.emailRecoveryOptions.header")),w.map((function(e){return p.createElement(q.gN.Radio,{key:e.value,ariaLabel:l(e.label),label:l(e.label),name:"emailRecoveryOption",type:"radio",value:e.value,checked:L===e.value,listen:function(){return P(e.value)},disabled:!v,readOnly:r,"data-componentid":"".concat(c,"-email-recovery-option-").concat(e.value)})})),p.createElement("br",null),p.createElement(q.gN.Checkbox,{ariaLabel:"notifyRecoverySuccess",name:"notifySuccess",label:l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.notifySuccess.label"),required:!1,readOnly:r,width:10,disabled:!v,"data-testid":"".concat(c,"-notify-success"),"data-componentid":"".concat(c,"-notify-success")}),p.createElement(U.kW,null,l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.notifySuccess.hint")),p.createElement(q.gN.Input,{ariaLabel:"expiryTime",inputType:"number",name:"expiryTime",min:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE,max:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE,label:l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.expiryTime.label"),placeholder:l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.expiryTime.placeholder"),required:!1,maxLength:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_LENGTH,minLength:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_LENGTH,readOnly:r,width:10,labelPosition:"right",disabled:!v,"data-testid":"".concat(c,"-link-expiry-time"),"data-componentid":"".concat(c,"-link-expiry-time")},p.createElement("input",null),p.createElement("label",{className:"ui label"},"mins")),p.createElement(U.kW,null,l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.expiryTime.hint")),p.createElement(U.X6,{as:"h5"},l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.recoveryOptionSubHeadingSMS")),p.createElement(U.v0,{info:!0},p.createElement(X.Z,{name:"info circle"}),p.createElement(D.c,{i18nKey:"extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.smsProviderWarning"},"Ensure that an",p.createElement(U.rU,{external:!1,onClick:function(){a.m.push(o.$.getPaths().get("SMS_PROVIDER"))}},"SMS Provider"),"\xa0is configured for the OTP feature to work properly.")),p.createElement(q.gN.Checkbox,{ariaLabel:"enableSMSBasedRecovery",name:"enableSMSBasedRecovery",label:l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.enableSMSBasedRecovery.label"),required:!1,readOnly:r,width:10,disabled:!i,listen:function(e){return _(e)},"data-testid":"".concat(c,"-sms-based-recovery"),"data-componentid":"".concat(c,"-sms-based-recovery")}),p.createElement(U.kW,null,l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.enableSMSBasedRecovery.hint")),p.createElement(q.gN.Input,{ariaLabel:"smsOtpExpiryTime",inputType:"number",name:"smsOtpExpiryTime",min:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE,max:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.SMS_OTP_EXPIRY_TIME_MAX_VALUE,label:l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.smsOtpExpiryTime.label"),placeholder:l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.smsOtpExpiryTime.placeholder"),required:!1,maxLength:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.SMS_OTP_EXPIRY_TIME_MAX_LENGTH,minLength:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_LENGTH,readOnly:r,width:10,labelPosition:"right",disabled:!y,"data-testid":"".concat(c,"-sms-otp-expiry-time"),"data-componentid":"".concat(c,"-sms-otp-expiry-time")},p.createElement("input",null),p.createElement("label",{className:"ui label"},"mins")),p.createElement(U.kW,null,l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.smsOtpExpiryTime.hint")),p.createElement(Oe.Z,null),p.createElement(U.X6,{as:"h4"},l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.otpConfigHeading")),p.createElement(q.gN.Checkbox,{ariaLabel:"passwordRecoveryOtpUseUppercase",name:"passwordRecoveryOtpUseUppercase",label:l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.passwordRecoveryOtpUseUppercase.label"),required:!1,readOnly:r,width:10,disabled:!i||b&&!C&&!N,listen:function(e){return S(e)},"data-testid":"".concat(c,"-sms-otp-uppercase"),"data-componentid":"".concat(c,"-sms-otp-uppercase")}),p.createElement(U.kW,null,l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.passwordRecoveryOtpUseUppercase.hint")),p.createElement(q.gN.Checkbox,{ariaLabel:"passwordRecoveryOtpUseLowercase",name:"passwordRecoveryOtpUseLowercase",label:l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.passwordRecoveryOtpUseLowercase.label"),required:!1,readOnly:r,width:10,disabled:!i||!b&&C&&!N,listen:function(e){return R(e)},"data-testid":"".concat(c,"-sms-otp-lowercase"),"data-componentid":"".concat(c,"-sms-otp-lowercase")}),p.createElement(U.kW,null,l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.passwordRecoveryOtpUseLowercase.hint")),p.createElement(q.gN.Checkbox,{ariaLabel:"passwordRecoveryOtpUseNumeric",name:"passwordRecoveryOtpUseNumeric",label:l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.passwordRecoveryOtpUseNumeric.label"),required:!1,readOnly:r,width:10,disabled:!i||!b&&!C&&N,listen:function(e){return h(e)},"data-testid":"".concat(c,"-sms-otp-numeric"),"data-componentid":"".concat(c,"-sms-otp-numeric")}),p.createElement(U.kW,null,l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.passwordRecoveryOtpUseNumeric.hint")),p.createElement(q.gN.Input,{ariaLabel:"otpLength",inputType:"number",name:"smsOtpLength",min:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.SMS_OTP_CODE_LENGTH_MIN_VALUE,max:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.SMS_OTP_CODE_LENGTH_MAX_VALUE,label:l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.passwordRecoveryOtpLength.label"),placeholder:"OTP Length",required:!1,maxLength:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.SMS_OTP_CODE_LENGTH_MAX_LENGTH,minLength:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.SMS_OTP_CODE_LENGTH_MIN_LENGTH,readOnly:r,width:10,labelPosition:"right",disabled:!i,"data-testid":"".concat(c,"-otp-length"),"data-componentid":"".concat(c,"-otp-length")},p.createElement("input",null),p.createElement("label",{className:"ui label"},"characters")),p.createElement(U.kW,null,l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.passwordRecoveryOtpLength.hint")),p.createElement(Oe.Z,null),p.createElement(U.X6,{as:"h4"},l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.failedAttemptConfigHeading")),p.createElement(q.gN.Input,{ariaLabel:"maxFailedAttemptCount",inputType:"number",name:"maxFailedAttemptCount",min:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.MAX_FAILED_ATTEMPT_COUNT_MIN_VALUE,max:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.MAX_FAILED_ATTEMPT_COUNT_MAX_VALUE,label:l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.maxFailedAttemptCount.label"),placeholder:l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.maxFailedAttemptCount.placeholder"),required:!1,maxLength:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.MAX_FAILED_ATTEMPT_COUNT_MAX_LENGTH,minLength:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.MAX_FAILED_ATTEMPT_COUNT_MIN_LENGTH,readOnly:r,width:10,labelPosition:"right",disabled:!i,"data-testid":"".concat(c,"-max-fail-attempt-count"),"data-componentid":"".concat(c,"-max-fail-attempt-count")},p.createElement("input",null),p.createElement("label",{className:"ui label"},"attempts")),p.createElement(U.kW,null,l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.maxFailedAttemptCount.hint")),p.createElement(q.gN.Input,{ariaLabel:"maxResendCount",inputType:"number",name:"maxResendCount",min:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.MAX_RESEND_COUNT_MIN_VALUE,max:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.MAX_RESEND_COUNT_MAX_VALUE,label:l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.maxResendCount.label"),placeholder:l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.maxResendCount.placeholder"),required:!1,maxLength:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.MAX_RESEND_COUNT_MAX_LENGTH,minLength:Z.X.PASSWORD_RECOVERY_FORM_FIELD_CONSTRAINTS.MAX_RESEND_COUNT_MIN_LENGTH,readOnly:r,width:10,labelPosition:"right",disabled:!i,"data-testid":"".concat(c,"-otp-resend-count"),"data-componentid":"".concat(c,"-otp-resend-count")},p.createElement("input",null),p.createElement("label",{className:"ui label"},"attempts")),p.createElement(U.kW,null,l("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.form.fields.maxResendCount.hint")),p.createElement(q.gN.Button,{form:yt,size:"small",buttonType:"primary_btn",ariaLabel:"Password Recovery update button",name:"update-button","data-testid":"".concat(c,"-submit-button"),"data-componentid":"".concat(c,"-submit-button"),disabled:s,loading:s,label:l("common:update"),hidden:!i||r}))):null};_t.defaultProps={"data-componentid":"password-recovery-edit-form"};var Ot=n(63264),bt=n(22669),St=n(33839),Tt=n(64704);function Ct(e){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(e)}function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){Nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ct(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ct(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return It(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?It(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Lt="SelfRegistration.NotifyAccountConfirmation",Pt="SelfRegistration.AutoLogin.Enable",wt="SelfRegistration.LockOnCreation",xt="SelfRegistration.SendConfirmationOnCreation",Mt="SelfRegistration.ShowUsernameUnavailability",Ut=[B.v.SELF_REGISTRATION_ENABLE,B.v.SELF_SIGN_UP_NOTIFICATIONS_INTERNALLY_MANAGED,B.v.VERIFICATION_CODE_EXPIRY_TIME,B.v.RE_CAPTCHA,Lt,Pt,wt,Mt],Ft="governance-connectors-self-registration-form",Dt=function(e){var t=e.initialValues,n=e.onSubmit,r=e.readOnly,o=e.isConnectorEnabled,a=e.isSubmitting,i=e["data-testid"],s=(0,F.$)().t,c=ht((0,p.useState)(void 0),2),l=c[0],u=c[1],m=ht((0,p.useState)(void 0),2),d=m[0],f=m[1],E=ht((0,p.useState)(!1),2),g=E[0],y=E[1],_=ht((0,p.useState)(!1),2),O=_[0],b=_[1],S=ht((0,p.useState)(!1),2),T=S[0],C=S[1],R=ht((0,p.useState)(!1),2),A=R[0],N=R[1],h=ht((0,p.useState)(!1),2),I=h[0],L=h[1],P=ht((0,p.useState)(!0),2),w=P[0],x=P[1],M=ht((0,p.useState)(!0),2),k=M[0],V=M[1],j=ht((0,p.useState)(!1),2),X=j[0],Y=j[1],G=ht((0,p.useState)(!1),2),W=G[0],K=G[1],H=ht((0,p.useState)(!1),2),z=H[0],Q=H[1],J=(0,v.v9)((function(e){return e.profile.profileSchemas})),ee=(0,St.Wf)().data;(0,p.useEffect)((function(){var e,t,n=J.find((function(e){return"emails"===e.name}));n&&Q(null!==(e=null===(t=n.profiles)||void 0===t||null===(t=t.selfRegistration)||void 0===t?void 0:t.required)&&void 0!==e?e:n.required)}),[]),(0,p.useEffect)((function(){var e;ee&&K("true"===(null===(e=(0,bt.t$)(ee))||void 0===e?void 0:e.enableValidator))}),[ee]),(0,p.useEffect)((function(){if(!(0,$.Z)(null==t?void 0:t.properties)){var e=new Map,n=null;t.properties.map((function(t){Ot.KL.dynamicConnectors?(e.set(t.name,t),n=At(At({},n),{},Nt({},t.name,t.value))):Ut.includes(t.name)&&e.set(t.name,t),t.name===wt&&("false"===t.value?(C(!0),n=At(At({},n),{},{accountActivateImmediately:!0})):(y(!0),x(!1),n=At(At({},n),{},{signUpConfirmation:!0}))),t.name===Pt&&("false"===t.value?n=At(At({},n),{},{autoLogin:!1}):(N(!0),n=At(At({},n),{},{autoLogin:!0}))),t.name===B.v.VERIFICATION_CODE_EXPIRY_TIME&&(n=At(At({},n),{},{verificationLinkExpiryTime:t.value})),t.name===xt&&("false"===t.value?(y(!1),n=At(At({},n),{},{signUpConfirmation:!1})):(y(!0),n=At(At({},n),{},{signUpConfirmation:!0}))),t.name===Mt&&(b("true"===t.value),n=At(At({},n),{},{showUsernameUnavailability:"true"===t.value})),t.name===Lt&&(L("true"===t.value),n=At(At({},n),{},{notifyAccountConfirmation:t.value}))})),"false"===(0,Tt.Z)(n,xt)&&"false"===(0,Tt.Z)(n,wt)&&x(!0),"true"!==(0,Tt.Z)(n,"SelfRegistration.SendConfirmationOnCreation")&&"true"!==(0,Tt.Z)(n,"SelfRegistration.LockOnCreation")||(y(!0),n=At(At({},n),{},{signUpConfirmation:!0})),!0!==(0,Tt.Z)(n,"signUpConfirmation")&&(n.accountActivateImmediately=!1),u(e),f(n)}}),[t]);var te=function(e){y(e),k&&e?(x(!1),N(!1)):e?T?x(!0):(x(!1),N(!1)):x(!0),V(!1)};return l?p.createElement(q.l0,{id:Ft,uncontrolledForm:!1,validate:function(e){var t={verificationLinkExpiryTime:void 0};return e.verificationLinkExpiryTime?_e.I.isInteger(e.verificationLinkExpiryTime)?parseInt(e.verificationLinkExpiryTime,10)<Z.X.SELF_REGISTRATION_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE||parseInt(e.verificationLinkExpiryTime,10)>Z.X.SELF_REGISTRATION_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE?t.verificationLinkExpiryTime=s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form.fields.expiryTime.validations.range"):e.verificationLinkExpiryTime&&!_e.I.isLengthValid(e.verificationLinkExpiryTime,Z.X.SELF_REGISTRATION_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_LENGTH)&&(t.verificationLinkExpiryTime=s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form.fields.expiryTime.validations.maxLengthReached")):t.verificationLinkExpiryTime=s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form.fields.expiryTime.validations.invalid"):t.verificationLinkExpiryTime=s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form.fields.expiryTime.validations.empty"),t},initialValues:d,onSubmit:function(e){return n(function(e){var t={"SelfRegistration.AutoLogin.Enable":void 0!==e.autoLogin?!!A:null==l?void 0:l.get("SelfRegistration.AutoLogin.Enable").value,"SelfRegistration.LockOnCreation":!0!==e.accountActivateImmediately&&0!=g,"SelfRegistration.NotifyAccountConfirmation":void 0!==e.notifyAccountConfirmation?!!I:null==l?void 0:l.get("SelfRegistration.NotifyAccountConfirmation").value,"SelfRegistration.SendConfirmationOnCreation":void 0!==g?!!g:null==l?void 0:l.get("SelfRegistration.SendConfirmationOnCreation").value,"SelfRegistration.ShowUsernameUnavailability":void 0!==O?!!O:null==l?void 0:l.get("SelfRegistration.ShowUsernameUnavailability").value,"SelfRegistration.VerificationCode.ExpiryTime":void 0!==e.verificationLinkExpiryTime?e.verificationLinkExpiryTime:null==l?void 0:l.get("SelfRegistration.VerificationCode.ExpiryTime").value};if("false"===(null==l?void 0:l.get("SelfRegistration.Notification.InternallyManage").value)&&void 0!==g&&g&&(t=At(At({},t),{},{"SelfRegistration.Notification.InternallyManage":!0})),Ot.KL.dynamicConnectors){var n=["autoLogin","accountActivateImmediately","verificationLinkExpiryTime","showUsernameUnavailability","SelfRegistration.ShowUsernameUnavailability","signUpConfirmation","notifyAccountConfirmation","SelfRegistration.LockOnCreation","SelfRegistration.VerificationCode.ExpiryTime","SelfRegistration.SendConfirmationOnCreation","SelfRegistration","SelfRegistration.Notification.InternallyManage","SelfRegistration.ReCaptcha","SelfRegistration.AutoLogin.Enable","SelfRegistration.VerificationCode.SMSOTP.ExpiryTime","SelfRegistration.CallbackRegex","SelfRegistration.SMSOTP.Regex","SelfRegistration.OTP.SendOTPInEmail","SelfRegistration.OTP.UseUppercaseCharactersInOTP","SelfRegistration.OTP.UseLowercaseCharactersInOTP","SelfRegistration.OTP.UseNumbersInOTP","SelfRegistration.OTP.OTPLength","_url_listPurposeSelfSignUp","SelfRegistration.ResendConfirmationReCaptcha","SelfRegistration.AutoLogin.AliasName"];for(var r in e)n.includes(r)||(t=At(At({},t),{},Nt({},qe.e.decodeConnectorPropertyName(r),e[r])))}return t}(e))}},p.createElement(q.gN.Checkbox,{ariaLabel:"signUpConfirmation",name:"signUpConfirmation",label:s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form.fields.signUpConfirmation.label"),listen:function(e){var t;(t=e)&&A?Y(!0):te(t)},checked:g,required:!1,readOnly:r,disabled:!o||W&&!z||a,width:16,"data-testid":"".concat(i,"-notify-account-confirmation"),hint:g&&s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form.fields.signUpConfirmation.hint"),message:function(){var e;if(!g)return"true"===(null==l||null===(e=l.get(B.v.RE_CAPTCHA))||void 0===e?void 0:e.value)?{content:s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form.fields.signUpConfirmation.recommendationMsg"),type:"warning"}:{content:s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form.fields.signUpConfirmation.recommendationMsg")+s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form.fields.signUpConfirmation.botMsg"),type:"warning"}}()}),W&&!z&&p.createElement(U.xv,{compact:!0,weight:"300",className:"field-compact-description pb-3 pt-0",size:"13px"},s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.accountVerificationWarning")),g&&p.createElement(q.gN.Input,{ariaLabel:"verificationLinkExpiryTime",inputType:"number",name:"verificationLinkExpiryTime",min:Z.X.SELF_REGISTRATION_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE,max:Z.X.SELF_REGISTRATION_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE,width:10,label:s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form.fields.expiryTime.label"),required:!1,hidden:!1,placeholder:s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form.fields.expiryTime.placeholder"),maxLength:Z.X.SELF_REGISTRATION_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_LENGTH,labelPosition:"right",minLength:Z.X.SELF_REGISTRATION_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_LENGTH,readOnly:r,disabled:!o||a,"data-testid":"".concat(i,"-link-expiry-time")},p.createElement("input",null),p.createElement(De.Z,null,"mins")),g&&p.createElement(q.gN.Checkbox,{ariaLabel:"accountActivateImmediately",className:"toggle",name:"accountActivateImmediately",label:s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form.fields.activateImmediately.label"),required:!1,listen:function(e){return C(t=e),x(t),void(t||N(!1));var t},readOnly:r,disabled:!o||a,"data-testid":"".concat(i,"-account-activate-immediately"),message:{content:s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form.fields.activateImmediately.msg"),type:"info"}}),g&&p.createElement(q.gN.Checkbox,{ariaLabel:"showUsernameUnavailability",className:"toggle",name:"showUsernameUnavailability",label:s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form.fields.showUsernameUnavailability.label"),required:!1,listen:function(e){return b(e)},readOnly:r,disabled:!o||a,"data-testid":"".concat(i,"-handle-existing-username"),message:{content:s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form.fields.showUsernameUnavailability.msg"),type:"info"}}),p.createElement(q.gN.Checkbox,{ariaLabel:"autoLogin",name:"autoLogin",label:s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form.fields.enableAutoLogin.label"),listen:function(e){return N(e)},checked:A,readOnly:r,disabled:!o||!w,width:16,"data-componentid":"".concat(i,"-enable-auto-login"),hint:s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form.fields.enableAutoLogin.hint")}),p.createElement(q.gN.Checkbox,{ariaLabel:"SelfRegistration.NotifyAccountConfirmation",name:qe.e.encodeConnectorPropertyName("SelfRegistration.NotifyAccountConfirmation"),listen:function(e){return L(e)},label:qe.e.resolveFieldLabel("User Onboarding","SelfRegistration.NotifyAccountConfirmation","Send sign up confirmation email"),checked:I,readOnly:r,disabled:!o||a,width:16,"data-componentid":"".concat(i,"-enable-notification-sign-up-confirmation"),hint:qe.e.resolveFieldHint("User Onboarding","SelfRegistration.NotifyAccountConfirmation","Enable sending notification for self sign up confirmation.")}),p.createElement(q.gN.Button,{form:Ft,size:"small",buttonType:"primary_btn",ariaLabel:"Self registration update button",name:"update-button","data-testid":"".concat(i,"-submit-button"),disabled:!o||a,loading:a,label:s("common:update"),hidden:!o||r}),X&&p.createElement(U.cV,{onClose:function(){return Y(!1)},type:"warning",open:X,primaryAction:s("common:continue"),secondaryAction:s("common:cancel"),onSecondaryActionClick:function(){Y(!1)},onPrimaryActionClick:function(){Y(!1),te(!0)},closeOnDimmerClick:!1},p.createElement(U.cV.Header,null,s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form.fields.signUpConfirmation.confirmation.heading")),p.createElement(U.cV.Message,{attached:!0,warning:!0},s("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form.fields.signUpConfirmation.confirmation.message")),p.createElement(U.cV.Content,null,p.createElement(D.c,{i18nKey:"extensions:manage.serverConfigurations.userOnboarding.selfRegistration.form. fields.signUpConfirmation.confirmation.content"},"Auto login requires account to be activated immediately after the registration. When you proceed, auto login will be disabled. You can always re-enable it, when you select ",p.createElement("strong",null,"Activate account immediately")," option.")))):null};Dt.defaultProps={"data-testid":"self-registration-edit-form"};var kt=n(82070),Vt=n(76647),jt=n(17901),Xt=n(70339),Yt={};Yt.styleTagTransform=h(),Yt.setAttributes=C(),Yt.insert=S().bind(null,"head"),Yt.domAPI=O(),Yt.insertStyleElement=A();y()(Xt.Z,Yt);Xt.Z&&Xt.Z.locals&&Xt.Z.locals;function Gt(e){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(e)}function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){Bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Gt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ht(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ht(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const qt=function(e){var t,n,r,o,a=e.initialValues,i=e.onSubmit,s=e.readOnly,c=e.isSubmitting,l=e["data-componentid"],m=void 0===l?"sift-connector":l,d=(0,F.$)().t,f=Kt((0,p.useState)(null!==(t=null==a||null===(n=a.properties[0])||void 0===n?void 0:n.value)&&void 0!==t?t:""),2),v=f[0],E=f[1],g=Kt((0,p.useState)(!1),2),y=g[0],_=g[1];return p.createElement("div",{className:"sift-connector-form"},p.createElement(q.vy,{onSubmit:function(e){return i(function(e){var t=Bt({},B.v.SIFT_CONNECTOR_API_KEY_PROPERTY,"");if(0===Object.keys(e).length)return t;for(var n in e)t=Zt(Zt({},t),{},Bt({},qe.e.decodeConnectorPropertyName(n),e[n]));return t}(e))},"data-componentid":"".concat(m,"-configuration-form"),initialValues:Bt({},qe.e.encodeConnectorPropertyName(B.v.SIFT_CONNECTOR_API_KEY_PROPERTY),null!==(r=null==a||null===(o=a.properties[0])||void 0===o?void 0:o.value)&&void 0!==r?r:""),render:function(e){var t,n,r=e.handleSubmit,o=e.form;return p.createElement("form",{onSubmit:r},p.createElement(u.Z,{direction:"row",spacing:2,mb:3},p.createElement(q.SE,{className:"addon-field-wrapper",key:B.v.SIFT_CONNECTOR_API_KEY_PROPERTY,FormControlProps:{margin:"dense"},ariaLabel:"API Key Input","data-componentid":"".concat(m,"-configuration-form-api-key"),name:qe.e.encodeConnectorPropertyName(B.v.SIFT_CONNECTOR_API_KEY_PROPERTY),inputType:"password",type:y?"text":"password",label:d("governanceConnectors:connectorCategories.loginAttemptsSecurity.connectors.siftConnector.properties.siftConnectorApiKey.label"),placeholder:d("governanceConnectors:connectorCategories.loginAttemptsSecurity.connectors.siftConnector.properties.siftConnectorApiKey.placeholder"),component:q.xh,autoComplete:"new-password",InputProps:{endAdornment:p.createElement(Vt.Z,{position:"end"},p.createElement(X.Z,{link:!0,className:"list-icon reset-field-to-default-adornment",size:"small",color:"grey",name:y?"eye slash":"eye","data-testid":"view-button",onClick:function(){_(!y)}}))},initialValue:null!==(t=null==a||null===(n=a.properties[0])||void 0===n?void 0:n.value)&&void 0!==t?t:"",onChange:function(e){var t=e.target.value;E(t),o.change(qe.e.encodeConnectorPropertyName(B.v.SIFT_CONNECTOR_API_KEY_PROPERTY),t)},value:v}),v&&""!==v&&p.createElement(kt.Z,{className:"delete-button",onClick:function(){E(""),o.change(qe.e.encodeConnectorPropertyName(B.v.SIFT_CONNECTOR_API_KEY_PROPERTY),"")},"data-componentid":"".concat(m,"-configuration-form-api-key-delete-button")},p.createElement(jt.XH,null))),p.createElement(U.KM,{size:"small",disabled:c||s,loading:c,"data-componentid":"".concat(m,"-configuration-form-submit-button")},d("common:update")))}}))};var $t=n(91970);function zt(e){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(e)}function Qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,en(r.key),r)}}function Jt(e,t,n){return t&&Qt(e.prototype,t),n&&Qt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function en(e){var t=function(e,t){if("object"!=zt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zt(t)?t:t+""}var tn=Jt((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));function nn(e){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn(e)}function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){an(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function an(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=nn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}!function(e,t,n){(t=en(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(tn,"allowedConnectorFields",[B.v.USERNAME_RECOVERY_EMAIL_ENABLE,B.v.USERNAME_RECOVERY_SMS_ENABLE]);var ln="governance-connectors-username-recovery-form",un=function(e){var t=(0,F.$)().t,n=e.initialValues,r=e.onSubmit,i=e.readOnly,s=e.isSubmitting,c=e["data-componentid"],l=sn((0,p.useState)(void 0),2),u=l[0],m=l[1],d=(0,G.z)().isSubOrganization;(0,p.useEffect)((function(){if(!(0,$.Z)(null==n?void 0:n.properties)){var e=null;n.properties.map((function(t){if(tn.allowedConnectorFields.includes(null==t?void 0:t.name))switch(t.name){case B.v.USERNAME_RECOVERY_EMAIL_ENABLE:e=on(on({},e),{},{enableEmailBasedRecovery:H.CommonUtils.parseBoolean(t.value)});break;case B.v.USERNAME_RECOVERY_SMS_ENABLE:e=on(on({},e),{},{enableSMSBasedRecovery:H.CommonUtils.parseBoolean(t.value)})}})),m(e)}}),[n]);return u?p.createElement("div",{className:"connector-form"},p.createElement(q.l0,{id:ln,onSubmit:function(e){return r(function(e){var t,n;return{"Recovery.Notification.Username.Email.Enable":null!==(t=e.enableEmailBasedRecovery)&&void 0!==t?t:null==u?void 0:u.enableEmailBasedRecovery,"Recovery.Notification.Username.SMS.Enable":null!==(n=e.enableSMSBasedRecovery)&&void 0!==n?n:null==u?void 0:u.enableSMSBasedRecovery}}(e))},uncontrolledForm:!1,initialValues:u},p.createElement(U.X6,{as:"h4",className:"mb-5"},t("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.recoveryOptionHeading")),p.createElement(q.gN.Checkbox,{className:"mb-5",ariaLabel:"enableEmailBasedRecovery",name:"enableEmailBasedRecovery",label:t("extensions:manage.serverConfigurations.accountRecovery.usernameRecovery.form.fields.enableEmailBasedRecovery.label"),required:!1,readOnly:i,width:10,"data-componentid":"".concat(c,"-email-based-recovery")}),p.createElement($t.Z,{severity:"info"},d()?t("extensions:manage.serverConfigurations.accountRecovery.usernameRecovery.form.smsProviderWarningSubOrg"):p.createElement(D.c,{i18nKey:"extensions:manage.serverConfigurations.accountRecovery.usernameRecovery.form.smsProviderWarning"},"Ensure that an",p.createElement(U.rU,{external:!1,onClick:function(){a.m.push(o.$.getPaths().get("SMS_PROVIDER"))}},"SMS Provider"),"\xa0is configured for the SMS feature to work properly.")),p.createElement(q.gN.Checkbox,{className:"mt-3 mb-5",ariaLabel:"enableSMSBasedRecovery",name:"enableSMSBasedRecovery",label:t("extensions:manage.serverConfigurations.accountRecovery.usernameRecovery.form.fields.enableSMSBasedRecovery.label"),required:!1,readOnly:i,width:10,"data-componentid":"".concat(c,"-sms-based-recovery")}),p.createElement(q.gN.Button,{form:ln,size:"small",buttonType:"primary_btn",ariaLabel:"Username Recovery update button",name:"update-button","data-componentid":"".concat(c,"-submit-button"),disabled:s,loading:s,label:t("common:update")}))):null};un.defaultProps={"data-componentid":"username-recovery-edit-form"};var mn=n(94045),dn=function(e){var t,n,o,i,s=e.initialValues,c=e.onSubmit,l=e.connectorId,u=e.isConnectorEnabled,m=e.isSubmitting,d=e["data-testid"],f=(0,v.v9)((function(e){return e.config.ui.features})),E=(0,r.EV)(null===(t=f.governanceConnectors.scopes)||void 0===t?void 0:t.update),g=null===a.m||void 0===a.m||null===(n=a.m.location)||void 0===n||null===(n=n.pathname)||void 0===n?void 0:n.split("/"),y=g&&g[g.length-3];switch(l){case B.v.SELF_SIGN_UP_CONNECTOR_ID:return p.createElement(Dt,{onSubmit:c,initialValues:s,isConnectorEnabled:u,readOnly:!E,isSubmitting:m});case B.v.ACCOUNT_LOCKING_CONNECTOR_ID:return p.createElement(He,{onSubmit:c,initialValues:s,isConnectorEnabled:u,readOnly:!E,isSubmitting:m});case B.v.ACCOUNT_RECOVERY_CONNECTOR_ID:return"username"===y?p.createElement(un,{onSubmit:c,initialValues:s,readOnly:!E}):p.createElement(_t,{onSubmit:c,initialValues:s,isConnectorEnabled:u,readOnly:!E,isSubmitting:m});case B.v.ANALYTICS_ENGINE_CONNECTOR_ID:return p.createElement(Ee.Z,{onSubmit:c,initialValues:s,isConnectorEnabled:!0,readOnly:!E,isSubmitting:m});case B.v.ASK_PASSWORD_CONNECTOR_ID:return p.createElement(we,{onSubmit:c,initialValues:s,isConnectorEnabled:!0,readOnly:!E,isSubmitting:m});case B.v.MULTI_ATTRIBUTE_LOGIN_CONNECTOR_ID:return p.createElement(rt,{onSubmit:c,initialValues:s,isConnectorEnabled:u,readOnly:!E,isSubmitting:m});case B.v.ADMIN_FORCED_PASSWORD_RESET:return p.createElement(ve,{onSubmit:c,initialValues:s,isConnectorEnabled:u,readOnly:!E,isSubmitting:m});case B.v.SIFT_CONNECTOR_ID:return p.createElement(qt,{onSubmit:c,initialValues:s,readOnly:!E,isSubmitting:m});default:return p.createElement(mn.Z,{onSubmit:c,connector:s,props:s,initialValues:(o=s,i={},null==o||o.properties.map((function(e){"true"===e.value?i[qe.e.encodeConnectorPropertyName(e.name)]=!0:"false"===e.value?i[qe.e.encodeConnectorPropertyName(e.name)]=!1:i[qe.e.encodeConnectorPropertyName(e.name)]=e.value})),i),form:(0,K.Z)(null==s?void 0:s.friendlyName)+"-form","data-testid":"".concat(d,"-").concat(null==s?void 0:s.friendlyName,"-form"),isSubmitting:m})}};function fn(e){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn(e)}function pn(){pn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),s=new L(r||[]);return o(i,"_invoke",{value:A(e,n,s)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",v="completed",E={};function g(){}function y(){}function _(){}var O={};l(O,i,(function(){return this}));var b=Object.getPrototypeOf,S=b&&b(b(P([])));S&&S!==n&&r.call(S,i)&&(O=S);var T=_.prototype=g.prototype=Object.create(O);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function n(o,a,i,s){var c=m(e[o],e,a);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==fn(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function A(t,n,r){var o=d;return function(a,i){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=N(s,r);if(c){if(c===E)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var l=m(t,n,r);if("normal"===l.type){if(o=r.done?v:f,l.arg===E)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=v,r.method="throw",r.arg=l.arg)}}}function N(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),E;var a=m(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,E;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,E):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,E)}function h(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(h,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(fn(t)+" is not iterable")}return y.prototype=_,o(T,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:y,configurable:!0}),y.displayName=l(_,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,c,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},C(R.prototype),l(R.prototype,s,(function(){return this})),t.AsyncIterator=R,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new R(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(T),l(T,c,"Generator"),l(T,i,(function(){return this})),l(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,E):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),E}},t}function vn(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function En(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}dn.defaultProps={"data-testid":"connector-edit-settings-form-factory"};var yn=function(e){var t,n,s=e["data-testid"],c=(0,v.I0)(),l=(0,p.useRef)(null),u=(0,F.$)().t,m=(0,U.fQ)().getLink,d=(0,v.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.applications})),f=(0,v.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.registrationFlowBuilder})),E=(0,v.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.governanceConnectors})),g=En((0,p.useState)(!1),2),y=g[0],_=g[1],O=En((0,p.useState)(void 0),2),b=O[0],S=O[1],T=En((0,p.useState)(void 0),2),C=T[0],R=T[1],A=En((0,p.useState)(void 0),2),N=A[0],h=A[1],I=En((0,p.useState)(!1),2),L=I[0],K=I[1],H=En((0,p.useState)(!1),2),q=H[0],$=H[1],z=En((0,p.useState)(!0),2),Q=z[0],J=z[1],ee=(0,G.z)().isSubOrganization,te=(0,r.EV)(null==d||null===(t=d.governanceConnectors)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),ne=(0,r.EV)(null==f||null===(n=f.scopes)||void 0===n?void 0:n.read),re=a.m.location.pathname.split("/"),oe=re[re.length-3],ae=(0,w.cr)(E,Z.X.featureDictionary[Z.P.HIDE_INVITED_USER_REGISTRATION_TOGGLE]);(0,p.useEffect)((function(){te&&pe()}),[]);var ie,se=function(){c((0,M.V_)({description:ve(),level:x.QU.SUCCESS,message:u("governanceConnectors:notifications.updateConnector.success.message")}))},ce=function(){c((0,M.V_)({description:u("governanceConnectors:notifications.revertConnector.success.description"),level:x.QU.SUCCESS,message:u("governanceConnectors:notifications.revertConnector.success.message")}))},le=function(){c((0,M.V_)({description:u("governanceConnectors:notifications.revertConnector.error.description"),level:x.QU.ERROR,message:u("governanceConnectors:notifications.revertConnector.error.message")}))},ue=function(e){e.response&&e.response.data&&e.response.data.detail?c((0,M.V_)({description:Ee(e),level:x.QU.ERROR,message:u("governanceConnectors:notifications.updateConnector.error.message")})):c((0,M.V_)({description:u("governanceConnectors:notifications.updateConnector.genericError.description"),level:x.QU.ERROR,message:u("governanceConnectors:notifications.updateConnector.genericError.message")}))},me=function(e,t){K(t.checked),$(!0);var n,r={operation:"UPDATE",properties:[]};"username"===oe?r.properties.push({name:qe.e.decodeConnectorPropertyName(i.K.connectorToggleName[B.v.ACCOUNT_RECOVERY_BY_USERNAME]),value:t.checked.toString()}):r.properties.push({name:qe.e.decodeConnectorPropertyName(null!==(n=i.K.connectorToggleName[null==b?void 0:b.name])&&void 0!==n?n:null==b?void 0:b.name),value:t.checked.toString()});(0,W.u9)(r,C,N).then((function(){pe(),se()})).catch((function(e){ue(e)})).finally((function(){$(!1)}))},de=function(e,t){var n;K(t.checked);var r={operation:"UPDATE",properties:[]},o={operation:"UPDATE",properties:[]},a={operation:"UPDATE",properties:[]};r.properties.push({name:qe.e.decodeConnectorPropertyName(null!==(n=i.K.connectorToggleName[null==b?void 0:b.name])&&void 0!==n?n:null==b?void 0:b.name),value:t.checked.toString()}),r.properties.push({name:B.v.RE_CAPTCHA_AFTER_MAX_FAILED_ATTEMPTS_ENABLE,value:t.checked.toString()}),o.properties.push({name:B.v.RE_CAPTCHA,value:t.checked.toString()}),a.properties.push({name:B.v.PASSWORD_RECOVERY_NOTIFICATION_BASED_RE_CAPTCHA,value:t.checked.toString()}),B.v.ACCOUNT_RECOVERY_BY_USERNAME in i.K.connectorToggleName&&a.properties.push({name:B.v.USERNAME_RECOVERY_RE_CAPTCHA,value:t.checked.toString()}),(0,W.u9)(r,C,N).then((function(){(0,W.u9)(o,B.v.USER_ONBOARDING_CONNECTOR_ID,B.v.SELF_SIGN_UP_CONNECTOR_ID).then((function(){(0,W.u9)(a,B.v.ACCOUNT_MANAGEMENT_CONNECTOR_CATEGORY_ID,B.v.ACCOUNT_RECOVERY_CONNECTOR_ID).then((function(){se()}))}))})).catch((function(e){ue(e)}))},fe=function(){var e,t=(e=pn().mark((function e(){var t,n,r,o;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={properties:[null!==(t=i.K.connectorToggleName[null==b?void 0:b.name])&&void 0!==t?t:null==b?void 0:b.name,B.v.RE_CAPTCHA_AFTER_MAX_FAILED_ATTEMPTS_ENABLE]},r={properties:[B.v.RE_CAPTCHA]},o={properties:[B.v.PASSWORD_RECOVERY_NOTIFICATION_BASED_RE_CAPTCHA]},B.v.ACCOUNT_RECOVERY_BY_USERNAME in i.K.connectorToggleName&&o.properties.push(B.v.USERNAME_RECOVERY_RE_CAPTCHA),(0,W.Mo)(C,N,n).then((function(){(0,W.Mo)(B.v.USER_ONBOARDING_CONNECTOR_ID,B.v.SELF_SIGN_UP_CONNECTOR_ID,r).then((function(){(0,W.Mo)(B.v.ACCOUNT_MANAGEMENT_CONNECTOR_CATEGORY_ID,B.v.ACCOUNT_RECOVERY_CONNECTOR_ID,o).then((function(){ce()}))}))})).catch((function(){le()})).finally((function(){pe()}));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){vn(a,r,o,i,s,"next",e)}function s(e){vn(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),pe=function(){var e,t=re[re.length-2],n=re[re.length-1];R(t),h(n),e=n,i.K.backButtonDisabledConnectorIDs.includes(e)&&J(!1),_(!0),(0,W.PP)(t,n).then((function(e){S(e);var t=e.properties.find((function(t){return t.name===ge(e)}));K(!t||"true"===(null==t?void 0:t.value))})).catch((function(e){e.response&&e.response.data&&e.response.data.detail?c((0,M.V_)({description:u("governanceConnectors:notifications.getConnector.error.description",{description:e.response.data.description}),level:x.QU.ERROR,message:u("governanceConnectors:notifications.getConnector.error.message")})):c((0,M.V_)({description:u("governanceConnectors:notifications.getConnector.genericError.description"),level:x.QU.ERROR,message:u("governanceConnectors:notifications.getConnector.genericError.message")}))})).finally((function(){_(!1)}))},ve=function(){switch(null==b?void 0:b.id){case B.v.ACCOUNT_LOCKING_CONNECTOR_ID:return u("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.notification.success.description");case B.v.CAPTCHA_FOR_SSO_LOGIN_CONNECTOR_ID:return u("extensions:manage.serverConfigurations.accountSecurity.botDetection.notification.success.description");case B.v.SELF_SIGN_UP_CONNECTOR_ID:return u("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.notification.success.description");case B.v.ACCOUNT_RECOVERY_CONNECTOR_ID:return"username"===oe?"Successfully updated the username recovery configuration.":u("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.notification.success.description");case B.v.ANALYTICS_ENGINE_CONNECTOR_ID:return u("extensions:manage.serverConfigurations.analytics.form.notification.success.description");case B.v.ASK_PASSWORD_CONNECTOR_ID:return u("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.notification.success.description");case B.v.SIFT_CONNECTOR_ID:return u("governanceConnectors:connectorCategories.loginAttemptsSecurity.connectors.siftConnector.notifications.configurationUpdate.success.description");default:return u("governanceConnectors:notifications.updateConnector.success.description",{name:b.friendlyName})}},Ee=function(e){switch(null==b?void 0:b.id){case B.v.ACCOUNT_LOCKING_CONNECTOR_ID:return u("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.notification.error.description");case B.v.CAPTCHA_FOR_SSO_LOGIN_CONNECTOR_ID:return u("extensions:manage.serverConfigurations.accountSecurity.botDetection.notification.error.description");case B.v.SELF_SIGN_UP_CONNECTOR_ID:return u("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.notification.error.description");case B.v.ACCOUNT_RECOVERY_CONNECTOR_ID:return"username"===oe?"Error occurred while updating the username recovery configuration.":u("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.notification.error.description");case B.v.ANALYTICS_ENGINE_CONNECTOR_ID:return u("extensions:manage.serverConfigurations.analytics.form.notification.error.description");case B.v.SIFT_CONNECTOR_ID:return u("governanceConnectors:connectorCategories.loginAttemptsSecurity.connectors.siftConnector.notifications.configurationUpdate.error.description");default:return u("governanceConnectors:notifications.updateConnector.error.description",{description:e.response.data.description})}},ge=function(e){switch(null==e?void 0:e.id){case B.v.ACCOUNT_LOCKING_CONNECTOR_ID:return B.v.ACCOUNT_LOCK_ENABLE;case B.v.SELF_SIGN_UP_CONNECTOR_ID:return B.v.SELF_REGISTRATION_ENABLE;case B.v.CAPTCHA_FOR_SSO_LOGIN_CONNECTOR_ID:return B.v.RE_CAPTCHA_AFTER_MAX_FAILED_ATTEMPTS_ENABLE;case B.v.ORGANIZATION_SELF_SERVICE_CONNECTOR_ID:return B.v.ORGANIZATION_SELF_SERVICE_ENABLE;case B.v.MULTI_ATTRIBUTE_LOGIN_CONNECTOR_ID:return B.v.MULTI_ATTRIBUTE_LOGIN_ENABLE;case B.v.USER_EMAIL_VERIFICATION_CONNECTOR_ID:return B.v.EMAIL_VERIFICATION_ENABLED;default:return null}};return!y&&N?p.createElement(U.Xg,{title:function(e){switch(null==e?void 0:e.id){case B.v.ACCOUNT_LOCKING_CONNECTOR_ID:return u("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.heading");case B.v.ACCOUNT_RECOVERY_CONNECTOR_ID:return"username"===oe?"Username Recovery":u("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.heading");case B.v.CAPTCHA_FOR_SSO_LOGIN_CONNECTOR_ID:return u("extensions:manage.serverConfigurations.accountSecurity.botDetection.heading");case B.v.SELF_SIGN_UP_CONNECTOR_ID:return u("extensions:manage.serverConfigurations.userOnboarding.selfRegistration.heading");case B.v.ADMIN_FORCE_PASSWORD_RESET_CONNECTOR_ID:return"Admin Initiated Password Reset";case B.v.MULTI_ATTRIBUTE_LOGIN_CONNECTOR_ID:return"Alternative Login Identifiers";case B.v.ASK_PASSWORD_CONNECTOR_ID:return u("extensions:manage.serverConfigurations.userOnboarding.inviteUserToSetPassword.heading");case B.v.SIFT_CONNECTOR_ID:return"Fraud Detection";default:return null==e?void 0:e.friendlyName}}(b),description:function(e){switch(null==e?void 0:e.id){case B.v.ACCOUNT_LOCKING_CONNECTOR_ID:return p.createElement(p.Fragment,null,u("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.subHeading"),p.createElement(U.eb,{link:m("manage.loginSecurity.loginAttempts.learnMore")},u("common:learnMore")));case B.v.ACCOUNT_RECOVERY_CONNECTOR_ID:return"username"===oe?u("extensions:manage.serverConfigurations.accountRecovery.usernameRecovery.heading"):p.createElement("div",{style:{whiteSpace:"pre-line"}},u("extensions:manage.serverConfigurations.accountRecovery.passwordRecovery.subHeading"),p.createElement(U.eb,{link:m("manage.accountRecovery.passwordRecovery.learnMore")},u("common:learnMore")));case B.v.CAPTCHA_FOR_SSO_LOGIN_CONNECTOR_ID:return p.createElement(p.Fragment,null,u("extensions:manage.serverConfigurations.accountSecurity.botDetection.subHeading"),p.createElement(U.eb,{link:m("manage.loginSecurity.botDetection.learnMore")},u("common:learnMore")));case B.v.SELF_SIGN_UP_CONNECTOR_ID:return p.createElement(p.Fragment,null,p.createElement(D.c,{i18nKey:"extensions:manage.serverConfigurations.userOnboarding.selfRegistration.subHeading"},"When self registration is enabled, users can register via the",p.createElement("strong",null,"Register")," link on the application\u2019s Login page. This creates a new"," ",p.createElement("strong",null,"user")," account in the organization."),p.createElement(U.eb,{link:m("manage.selfRegistration.learnMore")},u("common:learnMore")));case B.v.USERNAME_RECOVERY:return"Enable self-service username recovery for users on the login page.The user will receive a usernmae reset link via email upon request.";case B.v.MULTI_ATTRIBUTE_LOGIN_CONNECTOR_ID:return"Configure alternative login identifiers and allow users to use username or configured login identifier in login and recovery flows.";case B.v.ASK_PASSWORD_CONNECTOR_ID:return"Allow users to set their own passwords during admin-initiated onboarding and configure related settings.";case B.v.SIFT_CONNECTOR_ID:return p.createElement(p.Fragment,null,"Configure Sift to detect and prevent fraudulent account activities.",p.createElement(U.eb,{link:m("manage.loginSecurity.siftConnector.learnMore")},u("common:learnMore")));default:return null!=e&&e.description?e.description:(null==e?void 0:e.friendlyName)&&u("governanceConnectors:connectorSubHeading",{name:null==e?void 0:e.friendlyName})}}(b),backButton:Q&&{"data-testid":"".concat(s,"-").concat(N,"-page-back-button"),onClick:function(){a.m.push(o.$.getPaths().get("LOGIN_AND_REGISTRATION"))},text:u("governanceConnectors:goBackLoginAndRegistration")},bottomMargin:!1,contentTopMargin:!0,pageHeaderMaxWidth:!0,"data-testid":"".concat(s,"-").concat(N,"-page-layout")},b.id===B.v.SELF_SIGN_UP_CONNECTOR_ID&&!ee()&&null!=f&&f.enabled&&ne?p.createElement(P,null):null,ge(b)?(ie=!1,N===B.v.CAPTCHA_FOR_SSO_LOGIN_CONNECTOR_ID&&(ie=!0),N!==B.v.ASK_PASSWORD_CONNECTOR_ID||ae?p.createElement(p.Fragment,null,p.createElement(k.Z,{label:u(L?"extensions:manage.serverConfigurations.generalEnabledLabel":"extensions:manage.serverConfigurations.generalDisabledLabel"),toggle:!0,onChange:ie?de:me,checked:L,readOnly:!te,"data-testId":"".concat(s,"-").concat(N,"-enable-toggle")})):p.createElement(p.Fragment,null)):null,function(e){var t=null;switch(null==e?void 0:e.id){case B.v.SELF_SIGN_UP_CONNECTOR_ID:t="";break;case B.v.ACCOUNT_LOCKING_CONNECTOR_ID:t=u("extensions:manage.serverConfigurations.accountSecurity.loginAttemptSecurity.info");break;case B.v.CAPTCHA_FOR_SSO_LOGIN_CONNECTOR_ID:t=p.createElement(p.Fragment,null,u("extensions:manage.serverConfigurations.accountSecurity.botDetection.info.heading"),p.createElement("ul",null,p.createElement("li",null,u("extensions:manage.serverConfigurations.accountSecurity.botDetection.info.subSection1")),p.createElement("li",null,u("extensions:manage.serverConfigurations.accountSecurity.botDetection.info.subSection2")),i.K.connectorToggleName[B.v.ACCOUNT_RECOVERY_BY_USERNAME]?p.createElement("li",null,u("extensions:manage.serverConfigurations.accountSecurity.botDetection.info.subSection4")):p.createElement(p.Fragment,null),p.createElement("li",null,u("extensions:manage.serverConfigurations.accountSecurity.botDetection.info.subSection3"))))}return t?p.createElement(V.Z,{className:"mt-2"},p.createElement(V.Z.Row,{columns:1},p.createElement(V.Z.Column,{width:10},p.createElement(j.Z,{info:!0,content:p.createElement(p.Fragment,null,p.createElement(X.Z,{name:"info circle"})," ",t," ")})))):null}(b),p.createElement(Y.R,{innerRef:l},p.createElement(V.Z,{className:"mt-3"},N!==B.v.CAPTCHA_FOR_SSO_LOGIN_CONNECTOR_ID?p.createElement(V.Z.Row,{columns:1},p.createElement(V.Z.Column,{width:16},p.createElement(U.pJ,{className:"form-wrapper",padded:"very"},p.createElement(dn,{onSubmit:function(e){var t={operation:"UPDATE",properties:[]};for(var n in e)t.properties.push({name:qe.e.decodeConnectorPropertyName(n),value:e[n]});i.K.connectorToggleName[null==b?void 0:b.name]&&i.K.autoEnableConnectorToggleProperty&&"account-recovery"!==(null==b?void 0:b.name)&&t.properties.push({name:qe.e.decodeConnectorPropertyName(i.K.connectorToggleName[null==b?void 0:b.name]),value:"true"}),$(!0),(0,W.u9)(t,C,N).then((function(){se(),pe()})).catch((function(e){ue(e)})).finally((function(){$(!1)}))},initialValues:b,connectorId:N||(null==b?void 0:b.categoryId),isConnectorEnabled:L,isSubmitting:q})))):null,p.createElement(V.Z.Row,{columns:1},p.createElement(V.Z.Column,{width:16},p.createElement(U.v9,{sectionHeader:u("common:dangerZone")},p.createElement(U.cN,{actionTitle:u("governanceConnectors:dangerZone.actionTitle"),header:u("governanceConnectors:dangerZone.heading"),subheader:u("governanceConnectors:dangerZone.subHeading"),onActionClick:function(){return N===B.v.CAPTCHA_FOR_SSO_LOGIN_CONNECTOR_ID?fe():function(){var e;$(!0);var t={properties:[]};null==b||null===(e=b.properties)||void 0===e||e.forEach((function(e){t.properties.push(e.name)})),(0,W.Mo)(C,N,t).then((function(){ce()})).catch((function(){le()})).finally((function(){$(!1),pe()}))}()},"data-testid":"".concat(s,"-").concat(N,"-danger-zone")}))))))):p.createElement(U.Me,{isLoading:y,className:"pt-5"})};yn.defaultProps={"data-testid":"governance-connectors-edit-page"};const _n=yn},33839:(e,t,n)=>{n.d(t,{Tf:()=>r.Tf,Wf:()=>r.Wf,sM:()=>r.sM});var r=n(3116)},3116:(e,t,n)=>{n.d(t,{Tf:()=>v,Wf:()=>E,sM:()=>p});var r=n(2292),o=n(96124),a=n(76271),i=n(87029),s=n(21257),c=n(43939),l=n(6833),u=n(44485);function m(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=r.AsgardeoSPAClient.getInstance().httpRequest.bind(r.AsgardeoSPAClient.getInstance()).bind(r.AsgardeoSPAClient.getInstance()),p=function(e,t,n){var r={data:[t,n,g(e),y(e)].filter((function(e){return null!=e})),headers:{Accept:"application/json","Content-Type":"application/json"},method:l.f2.PUT,url:a.h.getState().config.endpoints.validationServiceMgt};return f(r).then((function(e){if(200!==e.status)throw new c.u(u.Q0.CONFIGURATION_UPDATE_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new c.u(u.Q0.CONFIGURATION_STATUS_UPDATE_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},v=function(e){var t={data:{fields:e},headers:{Accept:"application/json","Content-Type":"application/json"},method:l.f2.POST,url:a.h.getState().config.endpoints.validationServiceMgt+"/revert"};return f(t).then((function(e){if(200!==e.status)throw new c.u(u.Q0.CONFIGURATION_REVERT_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new c.u(u.Q0.CONFIGURATION_REVERT_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},E=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,s.z)().organizationType,n={headers:{Accept:"application/json","Content-Type":"application/json"},method:l.f2.GET,params:{},url:t===i.$B.SUBORGANIZATION?a.h.getState().config.endpoints.validationServiceMgtSubOrg:a.h.getState().config.endpoints.validationServiceMgt},r=(0,o.Z)(e?n:null,{shouldRetryOnError:!1}),c=r.data,u=r.error;return{data:c,error:u,isLoading:!c&&!u,isValidating:r.isValidating,mutate:r.mutate}},g=function(e){if("username"!==e.field){var t=[{properties:[{key:"min.length",value:e.minLength?e.minLength:"8"},{key:"max.length",value:e.maxLength?e.maxLength:"30"}],validator:"LengthValidator"},{properties:[{key:"min.length",value:e.minNumbers?e.minNumbers:"1"}],validator:"NumeralValidator"},{properties:[{key:"min.length",value:e.minUpperCaseCharacters?e.minUpperCaseCharacters:"1"}],validator:"UpperCaseValidator"},{properties:[{key:"min.length",value:e.minLowerCaseCharacters?e.minLowerCaseCharacters:"8"}],validator:"LowerCaseValidator"},{properties:[{key:"min.length",value:e.minSpecialCharacters?e.minSpecialCharacters:"8"}],validator:"SpecialCharacterValidator"}];return e.uniqueCharacterValidatorEnabled&&Number(e.minUniqueCharacters)>0&&(t=[].concat(m(t),[{properties:[{key:"min.unique.character",value:e.minUniqueCharacters?e.minUniqueCharacters:"1"}],validator:"UniqueCharacterValidator"}])),e.consecutiveCharacterValidatorEnabled&&Number(e.maxConsecutiveCharacters)>0&&(t=[].concat(m(t),[{properties:[{key:"max.consecutive.character",value:e.maxConsecutiveCharacters?e.maxConsecutiveCharacters:"1"}],validator:"RepeatedCharacterValidator"}])),{field:"password",rules:t}}},y=function(e){if(e&&"password"!==(null==e?void 0:e.field)){var t=[];return"false"===(null==e?void 0:e.enableValidator)?t.push({properties:[{key:"enable.validator",value:"true"}],validator:"EmailFormatValidator"}):t.push({properties:[{key:"enable.validator",value:"true"},{key:"enable.special.characters",value:"".concat(!e.isAlphanumericOnly)}],validator:"AlphanumericValidator"},{properties:[{key:"min.length",value:e.minLength?e.minLength:"3"},{key:"max.length",value:e.maxLength?e.maxLength:"50"}],validator:"LengthValidator"}),{field:"username",rules:t}}}},44485:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}n.d(t,{Ps:()=>l,Pv:()=>m,Q0:()=>u});var l=a((function e(){i(this,e)}));s(l,"VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS",{MIN_LENGTH:1,MIN_VALUE:0,PASSWORD_MIN_LENGTH:1,PASSWORD_MIN_VALUE:5}),s(l,"FEATURE_DICTIONARY",(new Map).set("RULE_BASED_PASSWORD_EXPIRY","validation.ruleBasedPasswordExpiry"));var u=a((function e(){i(this,e)}));s(u,"CONFIGURATION_STATUS_UPDATE_ERROR","An error occurred while updating validation configurations."),s(u,"CONFIGURATION_REVERT_ERROR","An error occurred while reverting validation configurations."),s(u,"CONFIGURATION_UPDATE_INVALID_STATUS_CODE_ERROR","Received an invalid status code while updating validation configurations."),s(u,"CONFIGURATION_REVERT_INVALID_STATUS_CODE_ERROR","Received an invalid status code while reverting validation configurations.");var m=function(e){return e.USERNAME="username",e.PASSWORD="password",e}({})},73735:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81611),o=n.n(r),a=n(83948),i=n.n(a)()(o());i.push([e.id,".registration-flow-builder-banner{margin-bottom:var(--oxygen-spacing-4)}.registration-flow-builder-banner .text-gradient.primary{background:linear-gradient(270deg, var(--oxygen-palette-gradients-primary-stop2), var(--oxygen-palette-gradients-primary-stop1));background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0)}.registration-flow-builder-banner .MuiTypography-body1{font-size:15px;font-weight:400;color:var(--oxygen-palette-grey-500)}.registration-flow-builder-banner .oxygen-chip-experimental{margin-left:var(--oxygen-spacing-1)}",""]);const s=i},60363:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81611),o=n.n(r),a=n(83948),i=n.n(a)()(o());i.push([e.id,".connector-form.admin-forced-password-reset-form .sub-header{margin-bottom:10px;margin-top:10px}.connector-form.admin-forced-password-reset-form .radio{margin-bottom:7px}",""]);const s=i},21499:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81611),o=n.n(r),a=n(83948),i=n.n(a)()(o());i.push([e.id,".connector-form.ask-password-form .header{margin-bottom:20px;margin-top:10px}.connector-form.ask-password-form .sub-header{margin-bottom:10px;margin-top:10px}.connector-form.ask-password-form .radio{margin-bottom:7px}",""]);const s=i},19178:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81611),o=n.n(r),a=n(83948),i=n.n(a)()(o());i.push([e.id,".connector-form.login-attempt-security-form h5.ui.header.heading{margin-bottom:15px}.connector-form.login-attempt-security-form .account-lock-duration-option{margin-bottom:15px !important}.connector-form.login-attempt-security-form .account-lock-field{margin-left:50px}",""]);const s=i},30672:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81611),o=n.n(r),a=n(83948),i=n.n(a)()(o());i.push([e.id,".connector-form.password-recovery-form h4.ui.header.heading{margin-top:25px;margin-bottom:35px}.connector-form.password-recovery-form h5.ui.header.heading{margin-bottom:15px}.connector-form.password-recovery-form h6.ui.header.heading{margin-bottom:10px}.connector-form.password-recovery-form .ui-hint{margin-bottom:25px}.connector-form.password-recovery-form form>div>div:nth-child(5),.connector-form.password-recovery-form div:nth-child(6),.connector-form.password-recovery-form div:nth-child(7),.connector-form.password-recovery-form div:nth-child(8),.connector-form.password-recovery-form div:nth-child(9),.connector-form.password-recovery-form div:nth-child(10),.connector-form.password-recovery-form div:nth-child(11),.connector-form.password-recovery-form div:nth-child(12),.connector-form.password-recovery-form div:nth-child(17),.connector-form.password-recovery-form div:nth-child(18){margin-left:50px}.connector-form.password-recovery-form .MuiChip-root{margin-left:10px !important}.connector-form.password-recovery-form .message{margin-bottom:1.5em}",""]);const s=i},70339:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81611),o=n.n(r),a=n(83948),i=n.n(a)()(o());i.push([e.id,".sift-connector-form .oxygen-text-field{min-width:350px}.sift-connector-form .MuiIconButton-root{align-items:center;margin-left:9px;margin-top:22px}.sift-connector-form .delete-button{color:var(--negative-color);min-width:45px;max-height:45px;padding:0}",""]);const s=i}}]);