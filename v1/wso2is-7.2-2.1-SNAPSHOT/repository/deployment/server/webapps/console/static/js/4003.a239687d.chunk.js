"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[4003],{24003:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ne});var a=n(17901),i=n(55007),o=n(51314),l=n(25134),c=n(13550),r=n(60486),s=n(90302),u=n(40838),p=n(917),d=n(43974),m=n(51021),f=n(87029),v=n(41158),g=n(21257),h=n(57095),A=n(54484),E=n(86105),S=n(6833),y=n(82406),I=n(61444),T=n(20494),P=n(47513),O=n(90408),_=n(44194),R=n(10479),C=n(47245),b=n(73432),N=n(89141),U=n(26154),Z=n(10909),k=n(6567),L=n(39709),M=n(58379),x=n(9821),D=n(84548),G=n(51835),w=n.n(G),$=n(27975),z=n.n($),Q=n(55900),F=n.n(Q),V=n(21555),j=n.n(V),B=n(3621),Y=n.n(B),H=n(5062),K=n.n(H),W=n(91412),q={};q.styleTagTransform=K(),q.setAttributes=j(),q.insert=F().bind(null,"head"),q.domAPI=z(),q.insertStyleElement=Y();w()(W.Z,q);W.Z&&W.Z.locals&&W.Z.locals;function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,o,l,c=[],r=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;r=!1}else for(;!(r=(a=o.call(n)).done)&&(c.push(a.value),c.length!==t);r=!0);}catch(e){s=!0,i=e}finally{try{if(!r&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw i}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var ee=[{key:1,text:I.I18n.instance.t("common:name"),value:"name"},{key:2,text:I.I18n.instance.t("common:type"),value:"type"},{key:3,text:I.I18n.instance.t("common:createdOn"),value:"createdDate"},{key:4,text:I.I18n.instance.t("common:lastUpdatedOn"),value:"lastUpdated"}],te=function(e){var t,n,I,G,w=e["data-testid"],$=(0,R.$)().t,z=(0,T.fQ)().getLink,Q=(0,C.I0)(),F=(0,p.Z)().UIConfig,V=(0,C.v9)((function(e){return e.config.ui.features})),j=(0,C.v9)((function(e){var t;return null===(t=e.config.ui.features)||void 0===t||null===(t=t.applications)||void 0===t?void 0:t.disabledFeatures})),B=J((0,_.useState)(""),2),Y=B[0],H=B[1],K=J((0,_.useState)(ee[0]),2),W=K[0],q=K[1],X=J((0,_.useState)(0),2),te=X[0],ne=X[1],ae=J((0,_.useState)(s.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),ie=ae[0],oe=ae[1],le=J((0,_.useState)(!1),2),ce=le[0],re=le[1],se=(0,C.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t||null===(t=t.accountApp)||void 0===t?void 0:t.tenantQualifiedPath})),ue=J((0,_.useState)(r.$.DEFAULT_MY_ACCOUNT_STATUS),2),pe=ue[0],de=ue[1],me=J((0,_.useState)(void 0),2),fe=me[0],ve=(me[1],J((0,_.useState)(null),2)),ge=ve[0],he=ve[1],Ae=J((0,_.useState)(null),2),Ee=Ae[0],Se=Ae[1],ye=(0,g.z)().organizationType,Ie=d.l.getInstance(),Te=(0,k.Ok)("advancedConfigurations,templateId,clientId,issuer",ie,te,Y,!0,!0),Pe=Te.data,Oe=Te.isLoading,_e=Te.error,Re=Te.mutate,Ce=(0,k.az)("advancedConfigurations,templateId,clientId,issuer"),be=Ce.data,Ne=Ce.isLoading,Ue=Ce.error,Ze=(0,L.b)(Ee,!!Ee),ke=Ze.data,Le=Ze.isLoading,Me=Ze.error,xe=null==V?void 0:V.organizations,De=(0,E.cr)(xe,v.a5.FEATURE_DICTIONARY.get(f.nK.OrganizationApplicationCreation));(0,_.useEffect)((function(){var e;1===(null==be||null===(e=be.applications)||void 0===e?void 0:e.length)&&be.applications.forEach((function(e){Se(null==e?void 0:e.id)}))}),[be]),(0,_.useEffect)((function(){var e=r.$.DEFAULT_MY_ACCOUNT_STATUS;Oe||Le||Ne||ke&&(e=null==ke?void 0:ke.applicationEnabled),de(e)}),[Oe,Le,Ne,Ee]),(0,_.useEffect)((function(){_e&&(_e.response&&_e.response.data&&_e.response.data.description?Q((0,y.V_)({description:_e.response.data.description,level:S.QU.ERROR,message:$("applications:notifications.fetchApplications.error.message")})):Q((0,y.V_)({description:$("applications:notifications.fetchApplications.genericError.description"),level:S.QU.ERROR,message:$("applications:notifications.fetchApplications.genericError.message")})))}),[_e]),(0,_.useEffect)((function(){var e;Ue&&(null!=Ue&&null!==(e=Ue.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?Q((0,y.V_)({description:Ue.response.data.description,level:S.QU.ERROR,message:$("applications:notifications.fetchMyAccountApplication.error.message")})):Q((0,y.V_)({description:$("applications:notifications.fetchMyAccountApplication.genericError.description"),level:S.QU.ERROR,message:$("applications:notifications.fetchMyAccountApplication.genericError.message")})))}),[Ue]),(0,_.useEffect)((function(){var e;if(Me)if(null!=Me&&null!==(e=Me.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description){var t,n;if(404===(null===(t=Me.response)||void 0===t?void 0:t.status))return;Q((0,y.V_)({description:null!==(n=Me.response.data.description)&&void 0!==n?n:$("applications:myaccount.fetchMyAccountStatus.error.description"),level:S.QU.ERROR,message:$("applications:myaccount.fetchMyAccountStatus.error.message")}))}else Q((0,y.V_)({description:$("applications:myaccount.fetchMyAccountStatus.genericError.description"),level:S.QU.ERROR,message:$("applications:myaccount.fetchMyAccountStatus.genericError.message")}))}),[Me]),(0,_.useEffect)((function(){if(null!=Pe&&Pe.applications){var e=(0,P.Z)(Pe);e.count=e.count-(Pe.applications.length-e.applications.length),e.totalResults=e.totalResults-(Pe.applications.length-e.applications.length),he(e)}}),[Pe]);var Ge,we,$e,ze=function(e){H(e),ne(0)},Qe=function(){u.m.push(r.$.getPaths().get("APPLICATIONS_SETTINGS"))};return _.createElement(A.Z,{resourceType:h.P.APPLICATIONS,categories:o.z.SUPPORTED_CATEGORIES_INFO},_.createElement(T.Xg,{pageTitle:"Applications",action:(null==ge?void 0:ge.totalResults)>0?_.createElement(_.Fragment,null,ye!==f.$B.SUBORGANIZATION&&_.createElement(i.di,{when:null==V||null===(t=V.applications)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.create},!(null!=j&&j.includes(x.jo.FEATURE_DICTIONARY.get("APPLICATIONS_SETTINGS")))&&_.createElement(T.GI,{trigger:_.createElement(Z.Z,{"data-componentid":"applications-settings-button",icon:a.UG,onClick:Qe}),content:$("applications:forms.applicationsSettings.title"),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0})),(ye!==f.$B.SUBORGANIZATION||De)&&_.createElement(i.di,{when:null==V||null===(n=V.applications)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.create},_.createElement(T.KM,{onClick:function(){Ie.publish("application-click-new-application-button"),u.m.push(r.$.getPaths().get("APPLICATION_TEMPLATES"))},"data-testid":"".concat(w,"-list-layout-add-button")},_.createElement(U.Z,{name:"add"}),$("applications:list.actions.add")))):ye!==f.$B.SUBORGANIZATION?_.createElement(i.di,{when:null==V||null===(I=V.applications)||void 0===I||null===(I=I.scopes)||void 0===I?void 0:I.create},!(null!=j&&j.includes(x.jo.FEATURE_DICTIONARY.get("APPLICATIONS_SETTINGS")))&&_.createElement(T.GI,{trigger:_.createElement(Z.Z,{"data-componentid":"applications-settings-button",icon:a.UG,onClick:Qe}),content:$("applications:forms.applicationsSettings.title"),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0})):null,title:$("console:develop.pages.applications.title"),description:ye!==f.$B.SUBORGANIZATION?_.createElement("p",null,$("console:develop.pages.applications.subTitle"),_.createElement(T.eb,{link:z("develop.applications.learnMore")},$("common:learnMore"))):_.createElement("p",null,$("console:develop.pages.applications.alternateSubTitle"),_.createElement(T.eb,{link:z("develop.applications.learnMore")},$("common:learnMore"))),contentTopMargin:r.$.getTenant()===r.$.getSuperTenant(),"data-testid":"".concat(w,"-page-layout")},!Ne&&0!==(null==be||null===(G=be.applications)||void 0===G?void 0:G.length)&&(!m.tZ.advancedConfigurations.showMyAccount||null!=F&&null!==(we=F.legacyMode)&&void 0!==we&&we.applicationListSystemApps?null:_.createElement(T.pJ,{className:"mt-0 mb-5","data-componentid":"application-consumer-account-link"},_.createElement(b.Z,null,_.createElement(b.Z.Item,null,_.createElement(N.Z,{verticalAlign:"middle"},_.createElement(N.Z.Column,{floated:"left",mobile:16,computer:9,verticalAlign:"middle"},_.createElement(T.dn,{icon:(0,c.s_)().myAccountSolidIcon,floated:"left",size:"mini",spaced:"right",verticalAlign:"middle",inline:!0,square:!0,transparent:!0}),_.createElement(b.Z.Content,{verticalAlign:"middle"},_.createElement(b.Z.Header,{"data-componentid":"application-consumer-account-link-title",className:"my-account-title"},$("applications:myaccount.title"),(null===m.tZ||void 0===m.tZ||null===($e=m.tZ.advancedConfigurations)||void 0===$e?void 0:$e.showMyAccountStatus)&&_.createElement(U.Z,{color:pe?"green":"grey",name:pe?"check circle":"minus circle",className:"middle aligned ml-1"})),_.createElement(b.Z.Description,{"data-componentid":"application-consumer-account-link-description"},$("applications:myaccount.description"),_.createElement(T.eb,{link:z("develop.applications.myaccount.learnMore")},$("common:learnMore"))))),pe?_.createElement(T.GI,{trigger:_.createElement(N.Z.Column,{mobile:16,computer:6,className:"pr-0"},_.createElement(T.OR,{value:se,"data-componentid":"application-consumer-account-link-copy-field"})),content:$("applications:myaccount.popup"),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0}):null,_.createElement(N.Z.Column,{mobile:16,computer:1},_.createElement(T.GI,{trigger:_.createElement(Z.Z,{className:"my-account-settings-button","data-componentid":"navigate-to-my-account-settings-button",onClick:function(){var e,t,n;fe?u.m.push({pathname:r.$.getPaths().get("APPLICATION_EDIT").replace(":id",null==be||null===(e=be.applications[0])||void 0===e?void 0:e.id),search:"?".concat(x.jo.APP_STATE_STRONG_AUTH_PARAM_KEY,"=").concat(x.jo.APP_STATE_STRONG_AUTH_PARAM_VALUE)}):u.m.push({pathname:r.$.getPaths().get("APPLICATION_EDIT").replace(":id",null==be||null===(t=be.applications[0])||void 0===t?void 0:t.id),search:(null==be||null===(n=be.applications[0])||void 0===n?void 0:n.access)===D.Ch.READ?"?".concat(x.jo.APP_READ_ONLY_STATE_URL_SEARCH_PARAM_KEY,"=true"):""})}},_.createElement(a.UG,null)),content:$("applications:myaccount.settings"),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0}))))))),_.createElement(T.PS,{advancedSearch:_.createElement(l.n,{onFilter:ze,filterAttributeOptions:[{key:0,text:$("common:name"),value:"name"},{key:1,text:$("common:clientId"),value:"clientId"},{key:2,text:$("common:issuer"),value:"issuer"}],filterAttributePlaceholder:$("applications:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:$("applications:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:$("applications:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:$("applications:advancedSearch.placeholder"),style:{minWidth:"425px"},defaultSearchAttribute:"name",defaultSearchOperator:"co",predefinedDefaultSearchStrategy:"name co %search-value% or clientId co %search-value% or issuer co %search-value%",triggerClearQuery:ce,"data-testid":"".concat(w,"-list-advanced-search")}),currentListSize:null==ge?void 0:ge.count,isLoading:Oe||Ne,listItemLimit:ie,onItemsPerPageDropdownChange:function(e,t){oe(t.value)},onPageChange:function(e,t){ne((t.activePage-1)*ie)},onSortStrategyChange:function(e,t){q((0,O.Z)(ee,(function(e){return t.value===e.value})))},showPagination:!0,showTopActionPanel:Oe||Ne||!(!Y&&(null==ge?void 0:ge.totalResults)<=0),sortOptions:ee,sortStrategy:W,totalPages:Math.ceil((null==ge?void 0:ge.totalResults)/ie),totalListSize:null==ge?void 0:ge.totalResults,paginationOptions:{disableNextButton:(Ge=ge,!((null==Ge?void 0:Ge.startIndex)+(null==Ge?void 0:Ge.count)!==(null==Ge?void 0:Ge.totalResults)+1))},"data-testid":"".concat(w,"-list-layout")},_.createElement(M.d,{advancedSearch:_.createElement(l.n,{onFilter:ze,filterAttributeOptions:[{key:0,text:$("common:name"),value:"name"},{key:1,text:$("common:clientId"),value:"clientId"},{key:2,text:$("common:issuer"),value:"issuer"}],filterAttributePlaceholder:$("applications:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:$("applications:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:$("applications:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:$("applications:advancedSearch.placeholder"),style:{minWidth:"425px"},defaultSearchAttribute:"name",defaultSearchOperator:"co",predefinedDefaultSearchStrategy:"name co %search-value% or clientId co %search-value% or issuer co %search-value%",triggerClearQuery:ce,"data-testid":"".concat(w,"-list-advanced-search")}),featureConfig:V,isSetStrongerAuth:fe,isLoading:Oe||Ne,list:ge,onApplicationDelete:function(){Re()},onEmptyListPlaceholderActionClick:function(){u.m.push(r.$.getPaths().get("APPLICATION_TEMPLATES"))},onSearchQueryClear:function(){H(""),re(!ce)},searchQuery:Y,"data-testid":"".concat(w,"-list"),"data-componentid":"application"}))))};te.defaultProps={"data-componentid":"applications","data-testid":"applications"};const ne=te},91412:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(81611),i=n.n(a),o=n(83948),l=n.n(o)()(i());l.push([e.id,".my-account-settings-button{padding:11px !important}.my-account-title{margin-bottom:.25rem !important;display:flex !important}",""]);const c=l}}]);