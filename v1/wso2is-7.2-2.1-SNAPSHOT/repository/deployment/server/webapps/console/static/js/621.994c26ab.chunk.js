"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[621],{621:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(60486),r=n(40838),l=n(51021),i=n(10319),o=n(58613),c=n(6833),u=n(82406),d=n(20494),s=n(44194),m=n(10479),p=n(47245),f=n(93682),v=n(6894),g=n(31302),b=n(70104);function y(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l,i,o=[],c=!0,u=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=l.call(n)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(e){u=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw r}}return o}}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var S=function(e){var t,n=e.match,I=e["data-testid"],A=(0,p.I0)(),S=(0,m.$)().t,h=(0,o.Z)(),U=h.isLoading,L=h.mutateUserStoreList,T=h.userStoresList,C=n.params.id,M=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.hiddenUserStores})),P=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.systemReservedUserStores})),w=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.primaryUserStoreDomainName})),R=E((0,s.useState)(null),2),O=R[0],k=R[1],N=E((0,s.useState)(!1),2),$=N[0],_=N[1],G=b.Tc.GENERAL,j=(0,s.useMemo)((function(){var e=[];if((null===l.wO||void 0===l.wO?void 0:l.wO.primaryUserstoreName)===w&&e.push({id:w,name:w}),U||null==T||!T.length)return e;var t=T.filter((function(e){var t,n;return!(null!=M&&M.includes(null==e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase())||null!=P&&P.includes(null==e||null===(n=e.name)||void 0===n?void 0:n.toUpperCase()))})),n=[].concat(e,y(t.filter((function(t){return!e.some((function(e){var n,a;return(null==e||null===(n=e.name)||void 0===n?void 0:n.toUpperCase())===(null==t||null===(a=t.name)||void 0===a?void 0:a.toUpperCase())}))}))));if(!t.some((function(e){var t,n;return(null==e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase())!==(null==w?void 0:w.toUpperCase())&&(null==e||null===(n=e.name)||void 0===n?void 0:n.toUpperCase())!==i.XS})))return n;var a=T.find((function(e){var t;return(null==e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase())===i.XS}));return!a||n.some((function(e){var t;return(null==e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase())===i.XS}))?n:[].concat(y(n),[a])}),[M,U,w,P,T]),x=(0,s.useMemo)((function(){return(null==j?void 0:j.length)>=1}),[j]);(0,s.useEffect)((function(){z(),L()}),[]);var X,B,D,Z,z=function(){_(!0),(0,v.IG)(C).then((function(e){k(e)})).catch((function(e){A((0,u.V_)({description:(null==e?void 0:e.description)||S("claims:local.notifications.getAClaim.genericError.description"),level:c.QU.ERROR,message:(null==e?void 0:e.message)||S("claims:local.notifications.getAClaim.genericError.message")}))})).finally((function(){_(!1)}))},Q=[{componentId:"general","data-tabid":b.Tc.GENERAL,menuItem:S("claims:local.pageLayout.edit.tabs.general"),render:function(){return s.createElement(d.M$.Pane,{controlledSegmentation:!0},s.createElement(g.A4,{claim:O,update:z,showManagedInUserStoreProperty:x,"data-testid":"local-claims-basic-details-edit"}))}},{componentId:"attribute-mappings","data-tabid":b.Tc.ATTRIBUTE_MAPPINGS,menuItem:S("claims:local.pageLayout.edit.tabs.mappedAttributes"),render:function(){return s.createElement(d.M$.Pane,{controlledSegmentation:!0},s.createElement(g.AI,{claim:O,update:z,userStores:j,"data-componentid":"".concat(I,"-edit-local-claims-mapped-attributes")}))}},{componentId:"additional-properties","data-tabid":b.Tc.ADDITIONAL_PROPERTIES,menuItem:S("claims:local.pageLayout.edit.tabs.additionalProperties"),render:function(){return s.createElement(d.M$.Pane,{controlledSegmentation:!0},s.createElement(g.ZW,{claim:O,update:z,"data-testid":"".concat(I,"-edit-local-claims-additional-properties")}))}}],V=[{componentId:"general","data-tabid":b.Tc.GENERAL,menuItem:S("claims:local.pageLayout.edit.tabs.general"),render:function(){return s.createElement(d.M$.Pane,{controlledSegmentation:!0},s.createElement(g.A4,{claim:O,update:z,showManagedInUserStoreProperty:x,"data-testid":"local-claims-basic-details-edit"}))}},{componentId:"attribute-mappings","data-tabid":b.Tc.ATTRIBUTE_MAPPINGS,menuItem:S("claims:local.pageLayout.edit.tabs.mappedAttributes"),render:function(){return s.createElement(d.M$.Pane,{controlledSegmentation:!0},s.createElement(g.AI,{claim:O,update:z,userStores:j,"data-componentid":"".concat(I,"-edit-local-claims-mapped-attributes")}))}}];return s.createElement(d.O9,{isLoading:$,image:s.createElement(f.Z,{floated:"left",verticalAlign:"middle",rounded:!0,centered:!0,size:"tiny"},s.createElement(d.Xo,null),s.createElement("span",{className:"claims-letter"},O&&(X=null==O?void 0:O.claimURI,Z=null==X||null===(B=X.replace("http://",""))||void 0===B?void 0:B.split("/"),null===(D=Z[(null==Z?void 0:Z.length)-1][0])||void 0===D?void 0:D.toLocaleUpperCase()))),title:null==O?void 0:O.displayName,pageTitle:"Edit Attributes",description:S("claims:local.pageLayout.edit.description"),backButton:{onClick:function(){r.m.push(a.$.getPaths().get("LOCAL_CLAIMS"))},text:S("claims:local.pageLayout.edit.back")},titleTextAlign:"left",bottomMargin:!1,"data-testid":"".concat(I,"-page-layout")},null!==l.rk&&void 0!==l.rk&&null!==(t=l.rk.attributes)&&void 0!==t&&t.showEditTabs?s.createElement(d.M$,{isLoading:$,panes:Q,controlTabRedirectionInternally:!0,defaultActiveIndex:G,"data-testid":"".concat(I,"-tabs")}):(null==j?void 0:j.length)>=1?s.createElement(d.M$,{isLoading:$,panes:V,controlTabRedirectionInternally:!0,defaultActiveIndex:G,"data-testid":"".concat(I,"-tabs")}):s.createElement(g.A4,{claim:O,update:z,showManagedInUserStoreProperty:!1,"data-testid":"local-claims-basic-details-edit"}))};S.defaultProps={"data-testid":"edit-local-claims"};const h=S}}]);