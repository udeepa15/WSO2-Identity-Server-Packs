"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[1461],{89183:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(96124),o=r(76271),a=r(6833);const i=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={headers:{Accept:"application/json","Content-Type":"application/json"},method:a.f2.GET,url:"".concat(o.h.getState().config.endpoints.userStores,"/meta/types")},r=(0,n.Z)(e?t:null);return{data:r.data,error:r.error,isLoading:r.isLoading,isValidating:r.isValidating,mutate:r.mutate}}},1461:(e,t,r)=>{r.r(t),r.d(t,{default:()=>K});var n=r(13550),o=r(60486),a=r(40838),i=r(51021),l=r(6833),u=r(82406),s=r(20494),c=r(44194),d=r(10479),f=r(47245),m=r(89183),p=r(20342),v=r(96334),h=r(47018),g=r(89141),y=r(26154),E=r(62508),b=r(10909),w=r(12638),S=r(10319),L=r(58613),x=r(16824);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function I(){I=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),l=new R(n||[]);return o(i,"_invoke",{value:q(e,r,l)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var f="suspendedStart",m="suspendedYield",p="executing",v="completed",h={};function g(){}function y(){}function E(){}var b={};s(b,i,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(_([])));S&&S!==r&&n.call(S,i)&&(b=S);var L=E.prototype=g.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function r(o,a,i,l){var u=d(e[o],e,a);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==N(c)&&n.call(c,"__await")?t.resolve(c.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(c).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function q(t,r,n){var o=f;return function(a,i){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var u=A(l,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var s=d(t,r,n);if("normal"===s.type){if(o=n.done?v:m,s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function A(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,A(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(N(t)+" is not iterable")}return y.prototype=E,o(L,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:y,configurable:!0}),y.displayName=s(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,u,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},x(O.prototype),s(O.prototype,l,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new O(c(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(L),s(L,u,"Generator"),s(L,i,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),M(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;M(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:_(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function O(e,t,r,n,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,o)}function q(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){O(a,n,o,i,l,"next",e)}function l(e){O(a,n,o,i,l,"throw",e)}i(void 0)}))}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var M=function(e){var t,r,n=e.submitState,o=e.onSubmit,a=e.values,i=e.type,l=e.connectionProperties,u=e.basicProperties,s=e["data-testid"],f=A((0,c.useState)(!1),2),m=f[0],h=f[1],N=A((0,c.useState)(!1),2),O=N[0],C=N[1],M=A((0,c.useState)(null),2),R=M[0],_=M[1],T=A((0,c.useState)(!1),2),P=T[0],k=T[1],j=A((0,c.useState)(void 0),2),U=j[0],Z=j[1],V=(0,d.$)().t,G=(0,L.Z)().userStoresList,z=function(){return P?S.Yt.TESTING:O?S.Yt.SUCCESSFUL:m?S.Yt.FAILED:S.Yt.INITIAL};return c.createElement(g.Z,{"data-testid":s},c.createElement(g.Z.Row,{columns:1},c.createElement(g.Z.Column,{width:8},c.createElement(v.Es,{onSubmit:function(e){e.get(S.rr)&&e.set(S.rr,"false"===e.get(S.rr)?"true":"false"),o(e)},submitState:n,onChange:function(e,t){_(t)}},c.createElement(v.gN,{label:V("userstores:forms.general.name.label"),name:"name",type:"text",required:!0,requiredErrorMessage:V("userstores:forms.general.name.requiredErrorMessage"),placeholder:V("userstores:forms.general.name.placeholder"),value:null==a||null===(t=a.get("name"))||void 0===t?void 0:t.toString(),"data-testid":"".concat(s,"-form-name-input"),validation:function(){var e=q(I().mark((function e(t,r){var n,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=G&&G.find((function(e){return e.name===t}))&&(r.isValid=!1,r.errorMessages.push(V("userstores:forms.general.name.validationErrorMessages.alreadyExistsErrorMessage"))),t.length>S.q1&&(r.isValid=!1,r.errorMessages.push(V("userstores:forms.general.name.validationErrorMessages.maxCharLimitErrorMessage",{maxLength:S.q1}))),n=(0,x.u)(t,S.o3.xssEscapeRegEx),"true"===n.get("isMatch").toString()&&(r.isValid=!1,o=n.get("invalidStringValue").toString(),r.errorMessages.push(V("userstores:forms.general.name.validationErrorMessages.invalidInputErrorMessage",{invalidString:o})));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}),c.createElement(v.gN,{label:V("userstores:forms.general.description.label"),name:"description",type:"text",required:!1,requiredErrorMessage:"",placeholder:V("userstores:forms.general.description.placeholder"),value:null==a||null===(r=a.get("description"))||void 0===r?void 0:r.toString(),"data-testid":"".concat(s,"-form-description-textarea"),validation:function(){var e=q(I().mark((function e(t,r){var n,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,x.u)(t,S.o3.xssEscapeRegEx),"true"===n.get("isMatch").toString()&&(r.isValid=!1,o=n.get("invalidStringValue").toString(),r.errorMessages.push(V("userstores:forms.general.description.validationErrorMessages.invalidInputErrorMessage",{invalidString:o})));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}),null==u?void 0:u.map((function(e,t){var r,n,o,i,l,u,d,f,m=e.description.split("#")[0]===S.rr,p=m?void 0!==U?U?"Enabled":"Disabled":null!=a&&a.get(null==e?void 0:e.name)?"false"===(null==a?void 0:a.get(null==e?void 0:e.name))?"Enabled":"Disabled":"false"===e.defaultValue?"Enabled":"Disabled":e.description.split("#")[0],h="password"===e.attributes.find((function(e){return"type"===e.name})).value,g="boolean"===(null===(r=e.attributes.find((function(e){return"type"===e.name})))||void 0===r?void 0:r.value);return h?c.createElement(v.gN,{key:t,label:p,name:e.name,type:"password",required:!0,requiredErrorMessage:V("userstores:forms.custom.requiredErrorMessage",{name:p}),placeholder:V("userstores:forms.custom.placeholder",{name:p}),showPassword:V("common:showPassword"),hidePassword:V("common:hidePassword"),value:null!==(n=null==a||null===(o=a.get(null==e?void 0:e.name))||void 0===o?void 0:o.toString())&&void 0!==n?n:e.defaultValue,"data-testid":"".concat(s,"-form-basic-properties-password-input-").concat(e.name)}):g?c.createElement(v.gN,{key:t,label:p,name:e.name,type:"toggle",required:!1,requiredErrorMessage:V("userstores:forms.custom.requiredErrorMessage",{name:p}),placeholder:V("userstores:forms.custom.placeholder",{name:p}),value:m?null!=a&&a.get(null==e?void 0:e.name)?"false"===(null==a||null===(i=a.get(null==e?void 0:e.name))||void 0===i?void 0:i.toString())?"true":"false":"false"===e.defaultValue?"true":"false":null!==(l=null==a||null===(u=a.get(null==e?void 0:e.name))||void 0===u?void 0:u.toString())&&void 0!==l?l:e.defaultValue,toggle:!0,"data-testid":"".concat(s,"-form-basic-properties-toggle-").concat(e.name),listen:function(t){var r=t.get(e.name).toString();"Disabled"===e.name&&Z("false"!==r)}}):c.createElement(v.gN,{key:t,label:p,name:e.name,type:"text",required:!0,requiredErrorMessage:V("userstores:forms.custom.requiredErrorMessage",{name:p}),placeholder:V("userstores:forms.custom.placeholder",{name:p}),value:null!==(d=null==a||null===(f=a.get(null==e?void 0:e.name))||void 0===f?void 0:f.toString())&&void 0!==d?d:e.defaultValue,"data-testid":"".concat(s,"-form-basic-properties-text-input-").concat(e.name)})})),c.createElement(E.Z,{hidden:!0}),null==l?void 0:l.map((function(e,t){var r,n,o,i,l,u,d,f=e.description.split("#")[0],m="password"===e.attributes.find((function(e){return"type"===e.name})).value,p="boolean"===(null===(r=e.attributes.find((function(e){return"type"===e.name})))||void 0===r?void 0:r.value);return m?c.createElement(v.gN,{key:t,label:f,name:e.name,className:"addon-field-wrapper",type:"password",required:!0,requiredErrorMessage:V("userstores:forms.custom.requiredErrorMessage",{name:f}),placeholder:V("userstores:forms.custom.placeholder",{name:f}),showPassword:V("common:showPassword"),hidePassword:V("common:hidePassword"),value:null!==(n=null==a||null===(o=a.get(null==e?void 0:e.name))||void 0===o?void 0:o.toString())&&void 0!==n?n:e.defaultValue,"data-testid":"".concat(s,"-form-connection-properties-password-input-").concat(e.name)}):p?c.createElement(v.gN,{key:t,label:f,name:e.name,type:"toggle",required:!1,requiredErrorMessage:V("userstores:forms.custom.requiredErrorMessage",{name:f}),placeholder:V("userstores:forms.custom.placeholder",{name:f}),value:null!==(i=null==a||null===(l=a.get(null==e?void 0:e.name))||void 0===l?void 0:l.toString())&&void 0!==i?i:e.defaultValue,toggle:!0,"data-testid":"".concat(s,"-form-connection-properties-toggle-").concat(e.name)}):c.createElement(v.gN,{key:t,label:f,name:e.name,type:"text",required:!0,requiredErrorMessage:V("userstores:forms.custom.requiredErrorMessage",{name:f}),placeholder:V("userstores:forms.custom.placeholder",{name:f}),value:null!==(u=null==a||null===(d=a.get(null==e?void 0:e.name))||void 0===d?void 0:d.toString())&&void 0!==u?u:e.defaultValue,"data-testid":"".concat(s,"-form-connection-properties-text-input-").concat(e.name)})}))),c.createElement(E.Z,{hidden:!0}),(null==i?void 0:i.typeName.includes(S.lH))&&c.createElement(b.Z,{className:"test-button",basic:!0,onClick:function(){k(!0);var e={connectionPassword:null==R?void 0:R.get("password").toString(),connectionURL:null==R?void 0:R.get("url").toString(),driverName:null==R?void 0:R.get("driverName").toString(),username:null==R?void 0:R.get("userName").toString()};(0,p.M7)(e).then((function(e){k(!1),null!=e&&e.connection?(h(!1),C(!0)):(C(!1),h(!0))})).catch((function(){k(!1),C(!1),h(!0)}))},color:z()===S.Yt.SUCCESSFUL?"green":z()===S.Yt.FAILED?"red":null,"data-testid":"".concat(s,"-test-connection-button")},c.createElement(y.Z,{size:"small",loading:P,name:P?S.K0.TESTING:O?S.K0.SUCCESSFUL:m?S.K0.FAILED:S.K0.INITIAL,color:z()===S.Yt.SUCCESSFUL?"green":z()===S.Yt.FAILED?"red":null}),V("userstores:forms.connection.testButton")),m&&c.createElement(w.Z,{as:"h6",color:"red"},V("userstores:forms.connection.connectionErrorMessage")))))};function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}M.defaultProps={"data-testid":"userstore-general-details"};var T=function(e){var t=e.submitState,r=e.onSubmit,n=e.values,o=e.properties,a=e["data-testid"],i=R((0,c.useState)(!1),2),l=i[0],u=i[1],s=(0,d.$)().t;return c.createElement(g.Z,{"data-testid":a},c.createElement(g.Z.Row,{columns:1},c.createElement(g.Z.Column,{width:8},c.createElement(v.Es,{onSubmit:function(e){r(e)},submitState:t},o.map((function(e,t){var r,o,i,d,f,m,p,h=e.description.split("#")[0],g="boolean"===(null===(r=e.attributes.find((function(e){return"type"===e.name})))||void 0===r?void 0:r.value),y="ReadGroups"===e.name;return g?y?c.createElement(v.gN,{key:t,label:h,name:e.name,type:"toggle",required:!1,requiredErrorMessage:s("userstores:forms.custom.requiredErrorMessage",{name:h}),placeholder:s("userstores:forms.custom.placeholder",{name:h}),value:null!==(o=null==n||null===(i=n.get(null==e?void 0:e.name))||void 0===i?void 0:i.toString())&&void 0!==o?o:e.defaultValue,toggle:!0,listen:function(t){u("false"===t.get(e.name).toString())},"data-testid":"".concat(a,"-form-master-toggle-").concat(e.name)}):c.createElement(v.gN,{key:t,label:h,name:e.name,type:"toggle",required:!1,requiredErrorMessage:s("userstores:forms.custom.requiredErrorMessage",{name:h}),placeholder:s("userstores:forms.custom.placeholder",{name:h}),value:null!==(d=null==n||null===(f=n.get(null==e?void 0:e.name))||void 0===f?void 0:f.toString())&&void 0!==d?d:e.defaultValue,toggle:!0,disabled:l,"data-testid":"".concat(a,"-form-toggle-").concat(e.name)}):c.createElement(v.gN,{key:t,label:h,name:e.name,type:"text",required:!l,requiredErrorMessage:s("userstores:forms.custom.requiredErrorMessage",{name:h}),placeholder:s("userstores:forms.custom.placeholder",{name:h}),value:null!==(m=null==n||null===(p=n.get(null==e?void 0:e.name))||void 0===p?void 0:p.toString())&&void 0!==m?m:e.defaultValue,disabled:l,"data-testid":"".concat(a,"-form-text-input-").concat(e.name)})}))))))};T.defaultProps={"data-testid":"userstore-group-details"};var P=function(e){var t=e.data,r=e.connectionProperties,n=e.userProperties,o=e.groupProperties,a=e.basicProperties,i=e.type,l=e["data-testid"],u=(0,d.$)().t,s=function(e,t,r){return e?c.createElement(g.Z.Row,{key:r,className:"summary-field",columns:2},c.createElement(g.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},c.createElement("div",{className:"label"},e)),c.createElement(g.Z.Column,{className:"overflow-wrap",mobile:16,tablet:8,computer:8,textAlign:"left"},c.createElement("div",{className:"value"},t))):null};return c.createElement(g.Z,{className:"wizard-summary","data-testid":l},c.createElement(g.Z.Row,null,c.createElement(g.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},c.createElement("div",{className:"general-details"},c.createElement("h3",null,null==t?void 0:t.name),c.createElement("div",{className:"description"},null==t?void 0:t.description)))),i?s("Userstore Type",i):null,c.createElement(E.Z,{horizontal:!0},u("userstores:wizard.steps.general")),null==a?void 0:a.map((function(e,r){var n,o;if("password"!==(null===(n=e.attributes.find((function(e){return"type"===e.name})))||void 0===n?void 0:n.value))return s(e.description.split("#")[0],null==t||null===(o=t.properties)||void 0===o||null===(o=o.find((function(t){return t.name===e.name})))||void 0===o?void 0:o.value,r)})),null==r?void 0:r.map((function(e,r){var n,o;if("password"!==(null===(n=e.attributes.find((function(e){return"type"===e.name})))||void 0===n?void 0:n.value))return s(e.description.split("#")[0],null==t||null===(o=t.properties)||void 0===o||null===(o=o.find((function(t){return t.name===e.name})))||void 0===o?void 0:o.value,r)})),c.createElement(E.Z,{horizontal:!0},u("userstores:wizard.steps.user")),null==n?void 0:n.map((function(e,r){var n,o;if("password"!==(null===(n=e.attributes.find((function(e){return"type"===e.name})))||void 0===n?void 0:n.value))return s(e.description.split("#")[0],null==t||null===(o=t.properties)||void 0===o||null===(o=o.find((function(t){return t.name===e.name})))||void 0===o?void 0:o.value,r)})),c.createElement(E.Z,{horizontal:!0},u("userstores:wizard.steps.group")),null==o?void 0:o.map((function(e,r){var n,o;if("password"!==(null===(n=e.attributes.find((function(e){return"type"===e.name})))||void 0===n?void 0:n.value))return s(e.description.split("#")[0],null==t||null===(o=t.properties)||void 0===o||null===(o=o.find((function(t){return t.name===e.name})))||void 0===o?void 0:o.value,r)})))};P.defaultProps={"data-testid":"userstore-summary"};var k=r(50699),j=function(e){var t=e.submitState,r=e.onSubmit,n=e.values,o=e.properties,a=e["data-testid"],i=(0,d.$)().t;return c.createElement(g.Z,{"data-testid":a},c.createElement(g.Z.Row,{columns:1},c.createElement(g.Z.Column,{width:8},c.createElement(v.Es,{onSubmit:function(e){r(e)},submitState:t},o.map((function(e,t){var r,o,l,u,s,d=e.description.split("#")[0],f="boolean"===(null===(r=e.attributes.find((function(e){return"type"===e.name})))||void 0===r?void 0:r.value),m=!(0,k.Z)(null==e?void 0:e.defaultValue);return f?c.createElement(v.gN,{key:t,label:d,name:e.name,type:"toggle",required:!1,requiredErrorMessage:i("userstores:forms.custom.requiredErrorMessage",{name:d}),placeholder:i("userstores:forms.custom.placeholder",{name:d}),value:null!==(u=null==n||null===(s=n.get(null==e?void 0:e.name))||void 0===s?void 0:s.toString())&&void 0!==u?u:e.defaultValue,toggle:!0,"data-testid":"".concat(a,"-form-toggle-").concat(e.name)}):c.createElement(v.gN,{key:t,label:d,name:e.name,type:"text",required:m,requiredErrorMessage:i("userstores:forms.custom.requiredErrorMessage",{name:d}),placeholder:i("userstores:forms.custom.placeholder",{name:d}),value:null!==(o=null==n||null===(l=n.get(null==e?void 0:e.name))||void 0===l?void 0:l.toString())&&void 0!==o?o:e.defaultValue,"data-testid":"".concat(a,"-form-text-input-").concat(e.name)})}))))))};j.defaultProps={"data-testid":"userstore-user-details"};var U=r(31687);function Z(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||G(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return z(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var F=function(e){var t,r,n,i,m,E,b,w,N=e.open,I=e.onClose,O=e.type,q=e["data-testid"],A=(0,L.Z)().mutateUserStoreList,C=V((0,c.useState)(0),2),R=C[0],_=C[1],k=V((0,c.useState)(null),2),G=k[0],z=k[1],F=V((0,c.useState)(null),2),D=F[0],Y=F[1],$=V((0,c.useState)(null),2),Q=$[0],B=$[1],H=V((0,c.useState)(null),2),K=H[0],W=H[1],J=V((0,c.useState)(null),2),X=J[0],ee=J[1],te=V((0,c.useState)(!1),2),re=te[0],ne=te[1],oe=V((0,v.cC)(),2),ae=oe[0],ie=oe[1],le=V((0,v.cC)(),2),ue=le[0],se=le[1],ce=V((0,v.cC)(),2),de=ce[0],fe=ce[1],me=(0,f.I0)(),pe=(0,d.$)().t,ve=V((0,s.IK)(),3),he=ve[0],ge=ve[1],ye=ve[2];(0,c.useEffect)((function(){O&&ee((0,x.Y)(O.properties))}),[O]),(0,c.useEffect)((function(){K&&_(3)}),[K]),(0,c.useEffect)((function(){Q&&Ee()}),[Q]);var Ee=function(){var e,t,r={description:null==G||null===(e=G.get("description"))||void 0===e?void 0:e.toString(),name:null==G||null===(t=G.get("name"))||void 0===t?void 0:t.toString(),properties:be(),typeId:null==O?void 0:O.typeId};W(r)},be=function(){var e=X.connection.required.map((function(e){var t;return{name:e.name,value:null===(t=G.get(e.name))||void 0===t?void 0:t.toString()}})),t=X.user.required.map((function(e){var t;return{name:e.name,value:null===(t=D.get(e.name))||void 0===t?void 0:t.toString()}})),r=X.group.required.map((function(e){var t;return{name:e.name,value:null===(t=Q.get(e.name))||void 0===t?void 0:t.toString()}})),n=X.basic.required.map((function(e){var t;return{name:e.name,value:null===(t=G.get(e.name))||void 0===t?void 0:t.toString()}})),o=O.properties.Advanced.map((function(e){return{name:e.name,value:e.defaultValue}}));o.push.apply(o,Z(O.properties.Mandatory.map((function(e){return{name:e.name,value:e.defaultValue}}))).concat(Z(O.properties.Optional.map((function(e){return{name:e.name,value:e.defaultValue}})))));var a=[].concat(Z(e),Z(t),Z(r),Z(n));return o.map((function(e){var t=a.find((function(t){return t.name===e.name}));return t||e}))},we=[{content:c.createElement(M,{submitState:ae,onSubmit:function(e){z(e),_(1)},values:G,type:O,connectionProperties:null==X||null===(t=X.connection)||void 0===t?void 0:t.required,basicProperties:null==X||null===(r=X.basic)||void 0===r?void 0:r.required,"data-testid":"".concat(q,"-general-details")}),icon:(0,U.OU)().general,title:pe("userstores:wizard.steps.general")},{content:c.createElement(j,{submitState:ue,onSubmit:function(e){Y(e),_(2)},values:D,properties:null==X||null===(n=X.user)||void 0===n?void 0:n.required,"data-testid":"".concat(q,"-user-details")}),icon:(0,U.OU)().general,title:pe("userstores:wizard.steps.user")},{content:c.createElement(T,{submitState:de,onSubmit:function(e){B(e)},values:Q,properties:null==X||null===(i=X.group)||void 0===i?void 0:i.required,"data-testid":"".concat(q,"-group-details")}),icon:(0,U.OU)().general,title:pe("userstores:wizard.steps.group")},{content:c.createElement(P,{data:K,connectionProperties:null==X||null===(m=X.connection)||void 0===m?void 0:m.required,userProperties:null==X||null===(E=X.user)||void 0===E?void 0:E.required,groupProperties:null==X||null===(b=X.group)||void 0===b?void 0:b.required,basicProperties:null==X||null===(w=X.basic)||void 0===w?void 0:w.required,type:null==O?void 0:O.typeName,"data-testid":"".concat(q,"-summary")}),icon:(0,U.OU)().general,title:pe("userstores:wizard.steps.summary")}],Se=function(){switch(R){case 0:ie();break;case 1:se();break;case 2:fe();break;case 3:ne(!0),(0,p.yS)(K).then((function(){me((0,u.V_)({description:pe("userstores:notifications.addUserstore.success.description"),level:l.QU.SUCCESS,message:pe("userstores:notifications.addUserstore.success.message")})),me((0,u.V_)({description:pe("userstores:notifications.delay.description"),level:l.QU.WARNING,message:pe("userstores:notifications.delay.message")})),I(),A(S.u4.USER_STORE_MUTATION_WAIT_TIME),a.m.push(o.$.getPaths().get("USERSTORES"))})).catch((function(e){var t,r,n,o;403===(null===(t=e.response)||void 0===t?void 0:t.status)&&(null===(r=e.response.data)||void 0===r?void 0:r.code)===S.u4.ERROR_CREATE_LIMIT_REACHED.getErrorCode()&&ge({code:S.u4.ERROR_CREATE_LIMIT_REACHED.getErrorCode(),description:pe(S.u4.ERROR_CREATE_LIMIT_REACHED.getErrorDescription()),level:l.QU.ERROR,message:pe(S.u4.ERROR_CREATE_LIMIT_REACHED.getErrorMessage()),traceId:S.u4.ERROR_CREATE_LIMIT_REACHED.getErrorTraceId()}),ge({description:null!==(n=null==e?void 0:e.description)&&void 0!==n?n:pe("userstores:notifications.addUserstore.genericError.description"),level:l.QU.ERROR,message:null!==(o=null==e?void 0:e.message)&&void 0!==o?o:pe("userstores:notifications.addUserstore.genericError.message")})})).finally((function(){ne(!1)}))}};return c.createElement(h.Z,{open:N,onClose:I,dimmer:"blurring",size:"small",className:"wizard application-create-wizard","data-testid":q,closeOnDimmerClick:!1},c.createElement(h.Z.Header,{className:"wizard-header"},pe("userstores:wizard.header",{type:S.Gw[O.typeName]}),G&&G.get("name")?" - "+G.get("name"):""),c.createElement(h.Z.Content,{className:"steps-container","data-testid":"".concat(q,"-steps")},c.createElement(s.Rg.Group,{current:R},we.map((function(e,t){return c.createElement(s.Rg.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(q,"-step-").concat(t)})})))),c.createElement(h.Z.Content,{className:"content-container",scrolling:!0},he&&ye,we[R].content),c.createElement(h.Z.Actions,null,c.createElement(g.Z,null,c.createElement(g.Z.Row,{column:1},c.createElement(g.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(s.Qj,{floated:"left",onClick:function(){return I()}},pe("common:cancel"))),c.createElement(g.Z.Column,{mobile:8,tablet:8,computer:8},R<we.length-1&&c.createElement(s.KM,{floated:"right",onClick:Se,"data-testid":"".concat(q,"-next-button")},pe("common:next")," ",c.createElement(y.Z,{name:"arrow right"})),R===we.length-1&&c.createElement(s.KM,{floated:"right",onClick:Se,"data-testid":"".concat(q,"-finish-button"),loading:re,disabled:re},pe("common:finish")),R>0&&c.createElement(s.Qj,{floated:"right",onClick:function(){_(R-1)},"data-testid":"".concat(q,"-previous-button")},c.createElement(y.Z,{name:"arrow left"})," ",pe("common:previous")))))))};function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function Y(){Y=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),l=new C(n||[]);return o(i,"_invoke",{value:I(e,r,l)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var f="suspendedStart",m="suspendedYield",p="executing",v="completed",h={};function g(){}function y(){}function E(){}var b={};s(b,i,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(M([])));S&&S!==r&&n.call(S,i)&&(b=S);var L=E.prototype=g.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function r(o,a,i,l){var u=d(e[o],e,a);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==D(c)&&n.call(c,"__await")?t.resolve(c.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(c).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function I(t,r,n){var o=f;return function(a,i){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var u=O(l,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var s=d(t,r,n);if("normal"===s.type){if(o=n.done?v:m,s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function O(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function q(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(q,this),this.reset(!0)}function M(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(D(t)+" is not iterable")}return y.prototype=E,o(L,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:y,configurable:!0}),y.displayName=s(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,u,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},x(N.prototype),s(N.prototype,l,(function(){return this})),t.AsyncIterator=N,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new N(c(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(L),s(L,u,"Generator"),s(L,i,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=M,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:M(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function $(e,t,r,n,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,o)}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}F.defaultProps={"data-testid":"add-userstore-wizard"};var H=function(e){var t=e["data-testid"],r=Q((0,c.useState)([]),2),v=r[0],h=r[1],g=Q((0,c.useState)([]),2),y=g[0],E=g[1],b=Q((0,c.useState)(!1),2),w=b[0],L=b[1],x=Q((0,c.useState)(null),2),N=x[0],I=x[1],O=Q((0,c.useState)(!0),2),q=O[0],A=O[1],C=(0,f.I0)(),M=(0,d.$)().t,R=(0,m.Z)(),_=R.data,T=R.isLoading,P=R.error;(0,c.useEffect)((function(){N&&L(!0)}),[N]),(0,c.useEffect)((function(){!w&&I(null)}),[w]),(0,c.useEffect)((function(){!T&&_&&k()}),[T,_]),(0,c.useEffect)((function(){P&&C((0,u.V_)({description:M("userstores:notifications.fetchUserstoreTypes.genericError.description"),level:l.QU.ERROR,message:(null==P?void 0:P.message)||M("userstores:notifications.fetchUserstoreTypes.genericError.message")}))}),[P]);var k=function(){var e,t=(e=Y().mark((function e(){var t,r,n,o,a,s;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),t=_.map((function(e){return(0,p.pQ)(e.typeId,null)})),e.next=4,Promise.all(t.map((function(e){return e.catch((function(e){C((0,u.V_)({description:M("userstores:notifications.fetchUserstoreTemplates.genericError.description"),level:l.QU.ERROR,message:(null==e?void 0:e.message)||M("userstores:notifications.fetchUserstoreTemplates.genericError.message")}))}))})));case 4:r=e.sent,n=[],n=r.filter((function(e){return!S.Ig.includes(null==e?void 0:e.typeName)})),o=[],a=[],s=[],n.forEach((function(e){var t,r,n,l;e&&!i.wO.shouldShowUserstore(e.typeName)&&(s.push(e),e.typeName.toLowerCase().includes("unique")?a.push({description:null!==(t=e.description)&&void 0!==t?t:S.ug[e.typeName],id:e.typeId,image:S.W5[e.typeName],name:S.Gw[e.typeName]}):o.push({description:null!==(r=S.ug[e.typeName])&&void 0!==r?r:S.ET,id:e.typeId,image:null!==(n=S.W5[e.typeName])&&void 0!==n?n:S.Lh,name:null!==(l=S.Gw[e.typeName])&&void 0!==l?l:e.typeName}))})),h(a.concat(o)),E(s),A(!1);case 14:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){$(a,n,o,i,l,"next",e)}function l(e){$(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return c.createElement(c.Fragment,null,w&&c.createElement(F,{open:w,onClose:function(){L(!1)},type:N,"data-testid":"".concat(t,"-add-userstore-wizard")}),c.createElement(s.Xg,{isLoading:q,title:M("userstores:pageLayout.templates.title"),pageTitle:M("userstores:pageLayout.templates.title"),description:M("userstores:pageLayout.templates.description"),contentTopMargin:!0,backButton:{onClick:function(){a.m.push(o.$.getPaths().get("USERSTORES"))},text:M("userstores:pageLayout.templates.back")},titleTextAlign:"left",bottomMargin:!1,showBottomDivider:!0,"data-testid":"".concat(t,"-page-layout")},v&&c.createElement("div",{className:"quick-start-templates"},c.createElement(s.Gn,{type:"userstore",templates:v,onTemplateSelect:function(e,t){var r=t.id;I(y.find((function(e){return e.typeId===r})))},templateIcons:(0,U.wZ)(),templateIconOptions:{fill:"primary"},templateIconSize:"tiny",paginate:!0,paginationLimit:null!=v&&v.length?v.length:0,paginationOptions:{showLessButtonLabel:M("common:showLess"),showMoreButtonLabel:M("common:showMore")},emptyPlaceholder:!q&&c.createElement(s.$J,{image:(0,n.jF)().newList,imageSize:"tiny",title:M("console:manage.features.templates.emptyPlaceholder.title"),subtitle:[M("console:manage.features.templates.emptyPlaceholder.subtitles")],"data-testid":"".concat(t,"-grid-empty-placeholder")}),"data-testid":"".concat(t,"-grid")}))))};H.defaultProps={"data-testid":"userstore-templates"};const K=H},16824:(e,t,r)=>{r.d(t,{Y:()=>i,u:()=>l});var n=function(e){return e.CONNECTION="connection",e.USER="user",e.GROUP="group",e.BASIC="basic",e}({});function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i=function(e,t){var r=[];r.push.apply(r,o(e.Advanced)),r.push.apply(r,o(e.Mandatory)),r.push.apply(r,o(e.Optional));var a=[],i=[],l=[],u=[],s=[],c=[],d=[],f=[],m=[],p=[],v=[],h=[],g=[],y=[],E=[],b=[],w=[],S=[],L=[],x=[],N=[],I=[],O=[],q=[];return r.forEach((function(e){var r,o,A,C,M,R=null===(r=e.attributes)||void 0===r||null===(r=r.find((function(e){return"category"===e.name})))||void 0===r?void 0:r.value,_="true"===(null===(o=e.attributes)||void 0===o||null===(o=o.find((function(e){return"required"===e.name})))||void 0===o?void 0:o.value),T="sql"===(null===(A=e.attributes)||void 0===A||null===(A=A.find((function(e){return"type"===e.name})))||void 0===A?void 0:A.value),P=e.description.toLowerCase().includes("add"),k=e.description.toLowerCase().includes("delete"),j=e.description.toLowerCase().includes("update");t&&(e.value=null!==(C=null===(M=t.find((function(t){return t.name===e.name})))||void 0===M?void 0:M.value)&&void 0!==C?C:"");switch(R){case n.CONNECTION:_?a.push(e):T?P?l.push(e):k?u.push(e):j?s.push(e):c.push(e):i.push(e);break;case n.GROUP:_?g.push(e):T?P?E.push(e):k?b.push(e):j?w.push(e):S.push(e):y.push(e);break;case n.USER:_?d.push(e):T?P?m.push(e):k?p.push(e):j?v.push(e):h.push(e):f.push(e);break;case n.BASIC:_?L.push(e):T?P?N.push(e):k?I.push(e):j?O.push(e):q.push(e):x.push(e)}})),{basic:{optional:{nonSql:x,sql:{delete:I,insert:N,select:q,update:O}},required:L},connection:{optional:{nonSql:i,sql:{delete:u,insert:l,select:c,update:s}},required:a},group:{optional:{nonSql:y,sql:{delete:b,insert:E,select:S,update:w}},required:g},user:{optional:{nonSql:f,sql:{delete:p,insert:m,select:h,update:v}},required:d}}},l=function(e,t){var r=new RegExp(t),n=!1,o=null;r.test(e)&&(n=!0,o=r.exec(e).toString());var a=new Map;return a.set("isMatch",n),a.set("invalidStringValue",o),a}}}]);