"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[9530],{93331:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function o(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}r.d(t,{Ax:()=>p,eh:()=>u,sf:()=>m});var s,l,c,u=o((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));s=u,c="type",(l=i(l="REMOTE_USER_STORE_TYPE_QUERY_PARAM"))in s?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c;var m=function(e){return e.OPTIMIZED="optimized",e.CLASSIC="classic",e}({}),p=function(e){return e.GENERAL="general",e.CONFIGURATIONS="configurations",e.GUIDE="guide",e}({})},59530:(e,t,r)=>{r.r(t),r.d(t,{default:()=>de});var n=r(82160),a=r(29585),o=r(82460),i=r(41981),s=r(24952),l=r(27014),c=r(33521),u=r(50342),m=r(55007),p=r(12252),d=r(60486),f=r(40838),g=r(48704),S=r(89183),E=r(20342),v=r(10319),b=r(86105),y=r(6833),h=r(82406),R=r(20494),U=r(44194),O=r(10479),M=r(59673),I=r(47245),T=r(35062),x=r(21073),_=r(16482),A=r(65612),P=r(79438),Z=r(29051),N=r(51835),C=r.n(N),D=r(27975),w=r.n(D),j=r(55900),L=r.n(j),F=r(21555),W=r.n(F),$=r(3621),k=r.n($),G=r(5062),Y=r.n(G),q=r(74710),V={};V.styleTagTransform=Y(),V.setAttributes=W(),V.insert=L().bind(null,"head"),V.domAPI=w(),V.insertStyleElement=k();C()(q.Z,V);q.Z&&q.Z.locals&&q.Z.locals;const Q=(0,U.forwardRef)((function(e,t){var r=e.userStoreManager,n=e.isReadOnly,a=e.onSubmit,o=e.initialValues,i=e["data-componentid"],s=void 0===i?"user-store-configurations-form":i,l=p.QN.USER_NAME_CLAIM_URI,c=p.QN.USER_ID_CLAIM_URI,m=(0,U.useRef)(null),d=(0,O.$)().t,f=(0,I.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.userStores})),g=(0,Z.D)(f,r);(0,U.useImperativeHandle)(t,(function(){return{triggerSubmit:function(){m.current&&m.current()}}}),[]);return U.createElement(P.vy,{onSubmit:function(e){r!==v.uD.RemoteUserStoreManager&&(delete e.groupnameMapping,delete e.groupIdMapping),a(e)},validate:function(e){var t={};return e.usernameMapping||(t.usernameMapping=d("remoteUserStores:form.fields.usernameMapping.validation.required")),e.userIdMapping||(t.userIdMapping=d("remoteUserStores:form.fields.userIdMapping.validation.required")),e.readGroups&&r===v.uD.RemoteUserStoreManager&&(e.groupnameMapping||(t.groupnameMapping=d(g?"remoteUserStores:form.fields.groupnameMapping.validation.readGroupsEnabled":"remoteUserStores:form.fields.groupnameMapping.validation.required")),e.groupIdMapping||(t.groupIdMapping=d(g?"remoteUserStores:form.fields.groupIdMapping.validation.readGroupsEnabled":"remoteUserStores:form.fields.groupIdMapping.validation.required"))),t},initialValues:o,render:function(e){var t=e.handleSubmit;return m.current=t,U.createElement("form",{onSubmit:t,className:"configurations-form"},U.createElement(u.Z,{variant:"h5"},d("remoteUserStores:form.sections.userAttributes")),U.createElement(x.Z,null),U.createElement(A.Z,{container:!0,spacing:2,className:"form-grid-container"},U.createElement(A.Z,{xs:12,md:4},U.createElement(_.Z,{required:!0},d("remoteUserStores:form.fields.usernameMapping.label")),U.createElement("br",null),U.createElement(T.Z,{variant:"caption"},l)),U.createElement(A.Z,{xs:12,md:6},U.createElement(P.SE,{FormControlProps:{margin:"dense"},"data-componentid":"".concat(s,"-field-usernameMapping"),name:"usernameMapping",type:"text",placeholder:d("remoteUserStores:form.fields.usernameMapping.placeholder"),component:P.xh,disabled:n,helperText:U.createElement(R.kW,{className:"hint",compact:!0},d("remoteUserStores:form.fields.usernameMapping.helperText"))})),U.createElement(A.Z,{xs:12,md:4},U.createElement(_.Z,{required:!0},d("remoteUserStores:form.fields.userIdMapping.label")),U.createElement("br",null),U.createElement(T.Z,{variant:"caption"},c)),U.createElement(A.Z,{xs:12,md:6},U.createElement(P.SE,{FormControlProps:{margin:"dense"},"data-componentid":"".concat(s,"-field-userIdMapping"),name:"userIdMapping",type:"text",placeholder:d("remoteUserStores:form.fields.userIdMapping.placeholder"),component:P.xh,disabled:n,helperText:U.createElement(R.kW,{className:"hint",compact:!0},d("remoteUserStores:form.fields.userIdMapping.helperText"))}))),g||r===v.uD.RemoteUserStoreManager?U.createElement(U.Fragment,null,U.createElement(u.Z,{variant:"h5"},d("remoteUserStores:form.sections.groupAttributes")),U.createElement(x.Z,null),U.createElement(P.lP,{subscription:{values:!0}},(function(e){var t=e.values,a=null==t?void 0:t.readGroups;return U.createElement(A.Z,{container:!0,spacing:2,className:"form-grid-container"},g&&U.createElement(A.Z,{xs:12},U.createElement(P.SE,{label:d("remoteUserStores:form.fields.readGroups.label"),name:"readGroups",FormControlProps:{fullWidth:!0,margin:"dense"},"data-componentid":"".concat(s,"-field-readGroups"),component:P.ur,disabled:n,hint:U.createElement(R.kW,{className:"hint",compact:!0},d("remoteUserStores:form.fields.readGroups.helperText"))})),r===v.uD.RemoteUserStoreManager&&U.createElement(U.Fragment,null,U.createElement(A.Z,{xs:12,md:4},U.createElement(_.Z,{required:a&&r===v.uD.RemoteUserStoreManager,disabled:n||!a},d("remoteUserStores:form.fields.groupnameMapping.label"))),U.createElement(A.Z,{xs:12,md:6},U.createElement(P.SE,{FormControlProps:{margin:"dense"},"data-componentid":"".concat(s,"-field-groupnameMapping"),name:"groupnameMapping",type:"text",placeholder:d("remoteUserStores:form.fields.groupnameMapping.placeholder"),component:P.xh,disabled:n||!a,helperText:U.createElement(R.kW,{className:"hint",compact:!0},d("remoteUserStores:form.fields.groupnameMapping.helperText"))})),U.createElement(A.Z,{xs:12,md:4},U.createElement(_.Z,{required:a&&r===v.uD.RemoteUserStoreManager,disabled:n||!a},d("remoteUserStores:form.fields.groupIdMapping.label"))),U.createElement(A.Z,{xs:12,md:6},U.createElement(P.SE,{FormControlProps:{margin:"dense"},ariaLabel:"groupIdMapping","data-componentid":"".concat(s,"-field-groupIdMapping"),name:"groupIdMapping",type:"text",placeholder:d("remoteUserStores:form.fields.groupIdMapping.placeholder"),component:P.xh,disabled:n||!a,helperText:U.createElement(R.kW,{className:"hint",compact:!0},d("remoteUserStores:form.fields.groupIdMapping.helperText"))}))))}))):null)}})}));var z=r(12754),B=r(56758),H=r(20501),K={};K.styleTagTransform=Y(),K.setAttributes=W(),K.insert=L().bind(null,"head"),K.domAPI=w(),K.insertStyleElement=k();C()(H.Z,K);H.Z&&H.Z.locals&&H.Z.locals;var J=["label","value"];function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=X(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==X(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ne=(0,U.forwardRef)((function(e,t){var r=e.userStoreManager,n=e.isReadOnly,a=e.isReadWriteUserStoresEnabled,o=e.onSubmit,i=e.initialValues,s=e["data-componentid"],l=void 0===s?"asgardeo-customer-userstore-general-details":s,c=(0,O.$)().t,u=(0,U.useRef)(null);(0,U.useImperativeHandle)(t,(function(){return{triggerSubmit:function(){u.current&&u.current()}}}),[]);var m=[{"data-componentid":"".concat(l,"-user-store-type-ldap-option-radio-button"),label:c("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.userStoreType.types.ldap.label"),value:z._I.LDAP},{"data-componentid":"".concat(l,"-user-store-type-ad-option-radio-button"),label:c("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.userStoreType.types.ad.label"),value:z._I.ActiveDirectory}],p=[{"data-componentid":"".concat(l,"-access-type-read-only-option-radio-button"),hint:{content:c("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.accessType.types.readOnly.hint")},label:c("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.accessType.types.readOnly.label"),value:z.nU.ReadOnly},{"data-componentid":"".concat(l,"-access-type-read-write-option-radio-button"),hint:{content:c("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.accessType.types.readWrite.hint")},label:c("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.accessType.types.readWrite.label"),value:z.nU.ReadWrite}];return U.createElement(P.vy,{onSubmit:function(e){var t;o(te(te({},e),{},{name:null==e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase()}))},validate:function(e){var t={};if(null!=e&&e.name){var n=null==e?void 0:e.name.toUpperCase(),o=new RegExp("^[^_/]+$"),i=new RegExp("^([^a-zA-Z0-9]+$)"),s=[z.x$.PRIMARY_USER_STORE_NAME,z.x$.FEDERATION_USER_STORE_NAME,z.x$.DEFAULT_USER_STORE_NAME],l=[z.x$.INTERNAL_USER_STORE_NAME,z.x$.APPLICATION_USER_STORE_NAME],u=(0,B.u)(n,z.o3.EscapeRegEx),m="true"===u.get("isMatch").toString();if(o.test(n)){if(s.includes(n.trim().toUpperCase()))t.name=c("extensions:manage.features.userStores.edit.general.form.validations.restrictedNamesErrorMessage",{name:n});else if(l.includes(n.trim().toUpperCase()))t.name=c("extensions:manage.features.userStores.edit.general.form.validations.reservedNamesErrorMessage",{name:n});else if(i.test(n))t.name=c("extensions:manage.features.userStores.edit.general.form.validations.allSymbolsErrorMessage");else if(m){var p=u.get("invalidStringValue").toString();t.name=c("userstores:forms.general.name.validationErrorMessages.invalidInputErrorMessage",{invalidString:p})}}else t.name=c("extensions:manage.features.userStores.edit.general.form.validations.invalidSymbolsErrorMessage")}else t.name=c("remoteUserStores:form.fields.name.validation.required");if(null!=e&&e.description){var d=(0,B.u)(null==e?void 0:e.description,z.o3.EscapeRegEx);if("true"===d.get("isMatch").toString()){var f=d.get("invalidStringValue").toString();t.description=c("userstores:forms.general.description.validationErrorMessages.invalidInputErrorMessage",{invalidString:f})}}return null!=e&&e.accessType||(t.accessType=c("remoteUserStores:form.fields.accessType.validation.required")),!a||r!==v.uD.WSOutboundUserStoreManager||null!=e&&e.connectedUserStoreType||(t.connectedUserStoreType=c("remoteUserStores:form.fields.connectedUserStoreType.validation.required")),t},initialValues:i,render:function(e){var t=e.handleSubmit;return u.current=t,U.createElement("form",{onSubmit:t,className:"general-user-store-details-form"},U.createElement(P.SE,{className:"text-field-container",FormControlProps:{margin:"dense"},"data-componentid":"".concat(l,"-field-name"),name:"name",type:"text",label:c("remoteUserStores:form.fields.name.label"),placeholder:c("remoteUserStores:form.fields.name.placeholder"),component:P.xh,disabled:n,required:!0,uppercase:!0}),U.createElement(P.SE,{className:"text-field-container",FormControlProps:{margin:"dense"},ariaLabel:"userStoreDescription",required:!1,"data-componentid":"".concat(l,"-field-description"),name:"description",type:"text",label:c("remoteUserStores:form.fields.description.label"),placeholder:c("remoteUserStores:form.fields.description.placeholder"),component:P.xh,disabled:n}),U.createElement(P.SE,{className:"text-field-container",label:c("remoteUserStores:form.fields.connectedUserStoreType.label"),name:"connectedUserStoreType",FormControlProps:{fullWidth:!0,margin:"dense"},"data-componentid":"".concat(l,"-field-connectedUserStoreType"),component:P.hW,disabled:n,options:m.map((function(e){return{label:e.label,value:e.value}})),required:!0}),a&&r===v.uD.WSOutboundUserStoreManager&&U.createElement(P.SE,{className:"text-field-container",label:c("remoteUserStores:form.fields.accessType.label"),name:"accessType",FormControlProps:{fullWidth:!0,margin:"dense"},"data-componentid":"".concat(l,"-field-accessType"),component:P.hW,disabled:n,options:p.map((function(e){var t=e.label,r=e.value,n=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,J);return te({label:t,value:r},n)})),required:!0}))}})}));var ae=r(93331),oe=r(51507),ie={};ie.styleTagTransform=Y(),ie.setAttributes=W(),ie.insert=L().bind(null,"head"),ie.domAPI=w(),ie.insertStyleElement=k();C()(oe.Z,ie);oe.Z&&oe.Z.locals&&oe.Z.locals;function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ue(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=se(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==se(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const de=function(e){var t,r,T,x=e.location,_=e["data-componentid"],A=void 0===_?"remote-userstore-create-page":_,P=new URLSearchParams(x.search),Z=ae.eh.REMOTE_USER_STORE_TYPE_QUERY_PARAM,N=P.get(Z),C=z.x$.getPaths().get("REMOTE_USER_STORE_CREATE"),D=(0,O.$)().t,w=(0,R.fQ)().getLink,j=(0,I.I0)(),L=(0,U.useRef)(null),F=(0,U.useRef)(null),W={configurations:{readGroups:!0},generalDetails:{accessType:z.nU.ReadOnly,connectedUserStoreType:z._I.LDAP}},$=(0,I.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.productName})),k=(0,I.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.userStores})),G=(0,b.cr)(k,z.x$.FEATURE_DICTIONARY.get(z.FC.OptimizedUserStore)),Y=(0,b.cr)(k,z.x$.FEATURE_DICTIONARY.get(z.FC.ReadWriteUserStores)),q=(0,m.EV)(null==k||null===(t=k.scopes)||void 0===t?void 0:t.update),V=me((0,U.useState)(void 0),2),B=V[0],H=V[1],K=me((0,U.useState)(0),2),J=K[0],X=K[1],ee=me((0,U.useState)(W),2),te=ee[0],re=ee[1],oe=me((0,U.useState)(!1),2),ie=oe[0],se=oe[1],le=(0,S.Z)(),ue=le.data,pe=le.isLoading,de=le.error,fe=(0,U.useMemo)((function(){var e;if(!ue)return null;var t=B===ae.sf.OPTIMIZED?v.uD.RemoteUserStoreManager:v.uD.WSOutboundUserStoreManager;return null===(e=ue.find((function(e){return e.typeName===t})))||void 0===e?void 0:e.typeId}),[ue,B]);(0,U.useEffect)((function(){if(Object.values(ae.sf).includes(N))N!==ae.sf.OPTIMIZED||G?(H(N),X(0),re(W)):f.m.replace("".concat(C,"?").concat(Z,"=").concat(ae.sf.CLASSIC));else{var e=G?ae.sf.OPTIMIZED:ae.sf.CLASSIC;f.m.replace("".concat(C,"?").concat(Z,"=").concat(e))}}),[N]),(0,U.useEffect)((function(){de&&j((0,h.V_)({description:D("remoteUserStores:notifications.typesFetchError.description"),level:y.QU.ERROR,message:D("remoteUserStores:notifications.typesFetchError.message")}))}),[de]);var ge;return U.createElement(R.Xg,{title:D("remoteUserStores:pages.create.title"),contentTopMargin:!0,description:U.createElement(U.Fragment,null,D("remoteUserStores:pages.create.description",{productName:$}),U.createElement(R.eb,{link:w("manage.userStores.createUserStore.learnMore")},D("common:learnMore"))),className:"remote-user-store-create-page-layout",backButton:{"data-testid":"".concat(A,"-back-button"),onClick:function(){f.m.push(d.$.getPaths().get("USERSTORES"))},text:D("remoteUserStores:pages.create.backButton")},titleTextAlign:"left",bottomMargin:!1,showBottomDivider:!0,"data-testid":"".concat(A,"-page-layout")},G&&B&&U.createElement(R.v0,{content:(ge=function(){f.m.push("".concat(C,"?").concat(Z,"=").concat(B===ae.sf.OPTIMIZED?ae.sf.CLASSIC:ae.sf.OPTIMIZED))},B===ae.sf.OPTIMIZED?U.createElement(M.c,{i18nKey:"remoteUserStores:pages.create.message.optimized"},"This configuration supports Authentication and User Attribute retrieval only. User and group management features are not available in this setup. If user management is an essential requirement, please use the ",U.createElement("a",{onClick:ge},"Classic User Store Connection")," instead."):U.createElement(M.c,{i18nKey:"remoteUserStores:pages.create.message.classic"},"If your requirement is only for authentication, we recommend using the ",U.createElement("a",{onClick:ge},"Optimized User Store Connection")," for efficiency.")),type:"info","data-componentid":"".concat(A,"-configuration-message"),className:"remote-user-store-impl-message"}),U.createElement(R.pJ,{padded:"very"},pe||de?U.createElement(o.Z,{spacing:3,"data-componentid":"".concat(A,"-loading-placeholder")},U.createElement(a.Z,{variant:"rectangular",height:40}),U.createElement(o.Z,{spacing:1},U.createElement(a.Z,{variant:"rectangular",width:210,height:10}),U.createElement(a.Z,{variant:"text"}),U.createElement(a.Z,{variant:"rectangular",width:210,height:10}),U.createElement(a.Z,{variant:"text"}),U.createElement(a.Z,{variant:"rectangular",width:210,height:10}),U.createElement(a.Z,{variant:"text"}))):U.createElement(c.Z,{activeStep:J,orientation:"vertical",className:"remote-user-store-create-stepper","data-componentid":"".concat(A,"-stepper")},U.createElement(i.Z,null,U.createElement(l.Z,{optional:U.createElement(u.Z,{variant:"body2"},D("remoteUserStores:pages.create.stepper.step1.description"))},U.createElement(u.Z,{variant:"h4"},D("remoteUserStores:pages.create.stepper.step1.title"))),U.createElement(s.Z,null,U.createElement(ne,{ref:L,userStoreManager:B===ae.sf.OPTIMIZED?v.uD.RemoteUserStoreManager:v.uD.WSOutboundUserStoreManager,isReadOnly:!q,isReadWriteUserStoresEnabled:Y,initialValues:null!==(r=te.generalDetails)&&void 0!==r?r:{},onSubmit:function(e){re((function(t){return ce(ce({},t),{},{generalDetails:e})})),X(1)},"data-componentid":"remote-user-store-create-general-details-form"}),U.createElement(n.Z,{variant:"contained",disabled:!q,"data-componentid":"".concat(A,"-next-button"),onClick:function(){var e;null!=L&&null!==(e=L.current)&&void 0!==e&&e.triggerSubmit&&L.current.triggerSubmit()},loading:ie},D("common:next")))),U.createElement(i.Z,null,U.createElement(l.Z,{optional:U.createElement(u.Z,{variant:"body2"},D("remoteUserStores:pages.create.stepper.step2.description"))},U.createElement(u.Z,{variant:"h4"},D("remoteUserStores:pages.create.stepper.step2.title"))),U.createElement(s.Z,null,U.createElement(Q,{ref:F,userStoreManager:B===ae.sf.OPTIMIZED?v.uD.RemoteUserStoreManager:v.uD.WSOutboundUserStoreManager,isReadOnly:!q,initialValues:null!==(T=te.configurations)&&void 0!==T?T:{},onSubmit:function(e){var t,r=B===ae.sf.OPTIMIZED?v.uD.RemoteUserStoreManager:v.uD.WSOutboundUserStoreManager;re((function(t){return ce(ce({},t),{},{configurations:e})}));var n=[{name:z.x$.PROPERTY_NAME_CONNECTED_USER_STORE_TYPE,value:te.generalDetails.connectedUserStoreType},{name:z.x$.PROPERTY_NAME_READ_ONLY,value:te.generalDetails.accessType},{name:z.x$.PROPERTY_NAME_DISABLED,value:"false"},{name:z.x$.PROPERTY_NAME_READ_GROUPS,value:e.readGroups.toString()}];r===v.uD.RemoteUserStoreManager&&(n.push.apply(n,[{name:z.x$.PROPERTY_NAME_USERNAME,value:e.usernameMapping},{name:z.x$.PROPERTY_NAME_USERID,value:e.userIdMapping}]),e.readGroups&&n.push.apply(n,[{name:z.x$.PROPERTY_NAME_GROUPNAME,value:e.groupnameMapping},{name:z.x$.PROPERTY_NAME_GROUPID,value:e.groupIdMapping}]));var a,o={claimAttributeMappings:[{claimURI:p.QN.USER_NAME_CLAIM_URI,mappedAttribute:e.usernameMapping},{claimURI:p.QN.USER_ID_CLAIM_URI,mappedAttribute:e.userIdMapping}],description:null!==(t=te.generalDetails.description)&&void 0!==t?t:"",name:te.generalDetails.name,properties:n,typeId:fe};a=o,se(!0),(0,E.yS)(a).then((function(e){j((0,h.V_)({description:D("remoteUserStores:pages.create.notifications.createUserStore.success.description"),level:y.QU.SUCCESS,message:D("remoteUserStores:pages.create.notifications.createUserStore.success.message")})),j((0,h.V_)({description:D("userstores:notifications.delay.description"),level:y.QU.WARNING,message:D("userstores:notifications.delay.message")})),f.m.push({pathname:d.$.getPaths().get("USERSTORES_EDIT").replace(":id",e.id).replace("edit-user-store",g.w.userstoreEdit.remoteUserStoreEditPath)+"#tab=guide"})})).catch((function(e){var t,r;403===(null===(t=e.response)||void 0===t?void 0:t.status)&&(null===(r=e.response.data)||void 0===r?void 0:r.code)===v.u4.ERROR_CREATE_LIMIT_REACHED.getErrorCode()&&j((0,h.V_)({description:D(v.u4.ERROR_CREATE_LIMIT_REACHED.getErrorDescription()),level:y.QU.ERROR,message:D(v.u4.ERROR_CREATE_LIMIT_REACHED.getErrorMessage())})),j((0,h.V_)({description:D("remoteUserStores:pages.create.notifications.createUserStore.genericError.description"),level:y.QU.ERROR,message:D("remoteUserStores:pages.create.notifications.createUserStore.genericError.message")})),se(!1)}))},"data-componentid":"remote-user-store-create-configurations-form"}),U.createElement("div",{className:"step-actions-container"},U.createElement(n.Z,{variant:"outlined",disabled:!q||ie,"data-componentid":"".concat(A,"-previous-button"),onClick:function(){X((function(e){return e-1}))}},D("common:previous")),U.createElement(n.Z,{variant:"contained",disabled:!q,"data-componentid":"".concat(A,"-finish-button"),onClick:function(){var e;null!=F&&null!==(e=F.current)&&void 0!==e&&e.triggerSubmit&&F.current.triggerSubmit()},loading:ie},D("common:finish"))))))))}},29051:(e,t,r)=>{r.d(t,{D:()=>i});var n=r(10319),a=r(86105),o=r(12754),i=function(e,t){var r=(0,a.cr)(e,o.x$.FEATURE_DICTIONARY.get(o.FC.ClassicUserStoreReadGroups)),i=(0,a.cr)(e,o.x$.FEATURE_DICTIONARY.get(o.FC.OptimizedUserStoreReadGroups));return t===n.uD.WSOutboundUserStoreManager&&r||t===n.uD.RemoteUserStoreManager&&i}},56758:(e,t,r)=>{r.d(t,{u:()=>n});var n=function(e,t){var r=new RegExp(t),n=!1,a="";r.test(e)&&(n=!0,null!=r.exec(e)&&(a=r.exec(e).toString()));var o=new Map;return o.set("isMatch",n),o.set("invalidStringValue",a),o}},89183:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(96124),a=r(76271),o=r(6833);const i=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={headers:{Accept:"application/json","Content-Type":"application/json"},method:o.f2.GET,url:"".concat(a.h.getState().config.endpoints.userStores,"/meta/types")},r=(0,n.Z)(e?t:null);return{data:r.data,error:r.error,isLoading:r.isLoading,isValidating:r.isValidating,mutate:r.mutate}}},51370:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(92336),a=r(31549),o=r(14517),i=r(44194),s=r(72847);const l=(0,i.forwardRef)(((e,t)=>{var{className:r,children:i,filled:l=!0,outlined:c=!1}=e,u=(0,n.__rest)(e,["className","children","filled","outlined"]);return(0,a.jsx)(s.Z,Object.assign({ref:t,component:"code",className:(0,o.Z)("oxygen-code",{filled:l,outlined:c},"OxygenCode-root",{"OxygenCode-filled":l,"OxygenCode-outlined":c},r)},u,{children:i}))}));var c,u,m;c='/**\n * Copyright (c) 2023, WSO2 LLC. (https://www.wso2.com).\n *\n * WSO2 LLC. licenses this file to you under the Apache License,\n * Version 2.0 (the "License"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.oxygen-code {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;\n  font-size: inherit;\n  padding: 1px 3px;\n  border-radius: 5px;\n}\n.oxygen-code.filled {\n  background-color: var(--oxygen-palette-customComponents-Code-background);\n}\n.oxygen-code.outlined {\n  border: 1px solid var(--oxygen-palette-divider);\n}',u=document.getElementsByTagName("head")[0],(m=document.createElement("style")).setAttribute("type","text/css"),m.appendChild(document.createTextNode(c)),u.appendChild(m)},35062:(e,t,r)=>{r.d(t,{Z:()=>n.Z});var n=r(51370)},16482:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(92336),a=r(31549),o=r(5590),i=r(14517);const s=(0,r(44194).forwardRef)(((e,t)=>{var{className:r}=e,s=(0,n.__rest)(e,["className"]);return(0,a.jsx)(o.Z,Object.assign({ref:t,className:(0,i.Z)("oxygen-form-label","OxygenFormLabel-root",r)},s))}))},74710:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(81611),a=r.n(n),o=r(83948),i=r.n(o)()(a());i.push([e.id,".configurations-form{padding-top:16px}.configurations-form .form-grid-container{margin-top:8px;margin-bottom:16px}",""]);const s=i},20501:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(81611),a=r.n(n),o=r(83948),i=r.n(o)()(a());i.push([e.id,".general-user-store-details-form .text-field-container{margin-top:8px}",""]);const s=i},51507:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(81611),a=r.n(n),o=r(83948),i=r.n(o)()(a());i.push([e.id,".remote-user-store-create-page-layout .remote-user-store-impl-message a:hover{cursor:pointer}.remote-user-store-create-page-layout .remote-user-store-create-stepper .step-actions-container{display:flex;gap:8px}",""]);const s=i}}]);