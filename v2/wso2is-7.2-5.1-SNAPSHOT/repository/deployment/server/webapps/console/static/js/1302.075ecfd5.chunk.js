"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[1302],{31302:(e,t,n)=>{n.d(t,{$E:()=>Sn,C$:()=>on,Sf:()=>jn,ZW:()=>Z,A4:()=>We,T8:()=>pt,_v:()=>Dn,AI:()=>st,RH:()=>Vn});var r=n(55007),a=n(64961),i=n(60486),l=n(90302),o=n(40838),c=n(51021),u=n(21257),s=n(92e3),d=n(10319),m=n(58613),f=n(6833),p=n(82406),v=n(16590),h=n(96334),y=n(20494),g=n(28676),b=n(44194),E=n(10479),S=n(47245),R=n(26154),I=n(12638),C=n(12099),w=n(917),A=n(59673),O=n(89141),U=n(6894),L=n(12252);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function N(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,l,o=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return P(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Z=function(e){var t,n,a=e.claim,l=e.update,c=e["data-testid"],s=k((0,b.useState)(!1),2),d=s[0],m=s[1],v=k((0,h.cC)(),2),g=v[0],R=v[1],I=(0,S.I0)(),C=(0,E.$)().t,x=(0,S.v9)((function(e){return e.config.ui.features})),_=(0,r.EV)(null==x||null===(t=x.attributeDialects)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),M=(0,u.z)().isSubOrganization,D=(0,w.Z)().UIConfig,P=!_,Z=(0,b.useMemo)((function(){return null!=a&&a.properties?a.properties.filter((function(e){return e.key!==L.QN.SYSTEM_CLAIM_PROPERTY_NAME&&e.key!==L.QN.AGENT_CLAIM_PROPERTY_NAME})):[]}),[a]);return b.createElement(y.pJ,{padded:"very"},b.createElement(O.Z,null,b.createElement(O.Z.Row,{columns:1},b.createElement(O.Z.Column,{tablet:16,computer:12,largeScreen:9,widescreen:6,mobile:16},b.createElement("p",null,C("claims:local.additionalProperties.hint")),b.createElement(h.e9,{data:Z,keyType:"text",keyName:C("claims:local.additionalProperties.key"),valueName:C("claims:local.additionalProperties.value"),submit:g,keyRequiredMessage:C("claims:local.additionalProperties.keyRequiredErrorMessage"),valueRequiredErrorMessage:C("claims:local.additionalProperties.valueRequiredErrorMessage"),requiredField:!0,keyValidation:function(e){return!L.QN.RESTRICTED_PROPERTY_KEYS.includes(e)},keyValidationWarningMessage:null!=D&&D.isClaimUniquenessValidationEnabled?b.createElement(A.c,{i18nKey:"claims:local.additionalProperties.isUniqueDeprecationMessage.uniquenessEnabled"},"The 'isUnique' property is deprecated. Please use",b.createElement(y.rU,{external:!1,onClick:function(){o.m.push({hash:"#".concat(y.iU).concat(L.Tc.GENERAL),pathname:i.$.getPaths().get("LOCAL_CLAIMS_EDIT").replace(":id",a.id)})}}," Uniqueness Validation "),"option to configure attribute uniqueness."):b.createElement(A.c,{i18nKey:"claims:local.additionalProperties.isUniqueDeprecationMessage.uniquenessDisabled"},"The 'isUnique' property is deprecated."),update:function(e){var t=T({},a);delete t.id,delete t.dialectURI;var n=T(T({},t),{},{properties:N(e)});m(!0),(0,U.iC)(a.id,n).then((function(){I((0,p.V_)({description:C("claims:local.notifications.updateClaim.success.description"),level:f.QU.SUCCESS,message:C("claims:local.notifications.updateClaim.success.message")})),l()})).catch((function(e){I((0,p.V_)({description:(null==e?void 0:e.description)||C("claims:local.notifications.updateClaim.genericError.description"),level:f.QU.ERROR,message:(null==e?void 0:e.message)||C("claims:local.notifications.updateClaim.genericError.message")}))})).finally((function(){m(!1)}))},"data-testid":"".concat(c,"-form-properties-dynamic-field"),readOnly:M()||P}))),!M()&&b.createElement(O.Z.Row,{columns:1},b.createElement(O.Z.Column,{width:6},b.createElement(r.di,{when:null==x||null===(n=x.attributeDialects)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.update},b.createElement(y.KM,{onClick:function(){R()},"data-testid":"".concat(c,"-submit-button"),loading:d,disabled:d},C("common:update")))))))};Z.defaultProps={"data-testid":"edit-local-claims-additional-properties"};var V=n(91970),j=n(82070),q=n(43800),Q=n(20839),G=n(24383),F=n(1227),z=n(92336),B=n(31549),H=n(25340),X=n(55467),W=n(14517),$=n(87883),Y=n(61844),K=n(62808),J=n(49706),ee=n(99769),te=n(90757);function ne(e){return(0,te.ZP)("MuiTableHead",e)}(0,ee.Z)("MuiTableHead",["root"]);const re=["className","component"],ae=(0,J.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),ie={variant:"head"},le="thead",oe=b.forwardRef((function(e,t){const n=(0,K.Z)({props:e,name:"MuiTableHead"}),{className:r,component:a=le}=n,i=(0,X.Z)(n,re),l=(0,H.Z)({},n,{component:a}),o=(e=>{const{classes:t}=e;return(0,$.Z)({root:["root"]},ne,t)})(l);return(0,B.jsx)(Y.Z.Provider,{value:ie,children:(0,B.jsx)(ae,(0,H.Z)({as:a,className:(0,W.Z)(o.root,r),ref:t,role:a===le?null:"rowgroup",ownerState:l},i))})})),ce=(0,b.forwardRef)(((e,t)=>{var{className:n}=e,r=(0,z.__rest)(e,["className"]);return(0,B.jsx)(oe,Object.assign({ref:t,className:(0,W.Z)("oxygen-table-head","OxygenTableHead-root",n)},r))}));var ue,se,de;ue='/**\n * Copyright (c) 2024, WSO2 LLC. (https://www.wso2.com).\n *\n * WSO2 LLC. licenses this file to you under the Apache License,\n * Version 2.0 (the "License"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.oxygen-table-head {\n  /** Add Styles */\n  background-color: var(--oxygen-palette-customComponents-Code-background);\n}',se=document.getElementsByTagName("head")[0],(de=document.createElement("style")).setAttribute("type","text/css"),de.appendChild(document.createTextNode(ue)),se.appendChild(de);var me=n(4358),fe=n(17901),pe=n(12380),ve=n(4717),he=n(47149),ye=n(92283),ge=n(22669),be=n(33839),Ee=n(86105),Se=n(79438),Re=n(50699),Ie=n(77757),Ce=n(62508),we=n(96124),Ae=n(76271);const Oe=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={headers:{Accept:"application/json","Content-Type":"application/json"},method:f.f2.GET,params:e,url:Ae.h.getState().config.endpoints.claims},r=(0,we.Z)(t?n:null);return{data:r.data,error:r.error,isLoading:r.isLoading,isValidating:r.isValidating,mutate:r.mutate}};var Ue=n(51835),Le=n.n(Ue),xe=n(27975),Ne=n.n(xe),_e=n(55900),Te=n.n(_e),Me=n(21555),ke=n.n(Me),De=n(3621),Pe=n.n(De),Ze=n(5062),Ve=n.n(Ze),je=n(2178),qe={};qe.styleTagTransform=Ve(),qe.setAttributes=ke(),qe.insert=Te().bind(null,"head"),qe.domAPI=Ne(),qe.insertStyleElement=Pe();Le()(je.Z,qe);je.Z&&je.Z.locals&&je.Z.locals;function Qe(e){return function(e){if(Array.isArray(e))return Be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ze(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(null,arguments)}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,l,o=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||ze(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){if(e){if("string"==typeof e)return Be(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(e,t):void 0}}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var He="local-claim-basic-details-form",Xe=[L.QN.GROUPS_CLAIM_URI,L.QN.ROLES_CLAIM_URI,L.QN.APPLICATION_ROLES_CLAIM_URI],We=function(e){var t,n,a,l,d,v,g,I,C,x,N,_=e.claim,T=e.update,M=e.showManagedInUserStoreProperty,k=void 0===M||M,D=e["data-testid"],P=(0,S.I0)(),Z=Fe((0,b.useState)(!1),2),z=Z[0],B=Z[1],H=Fe((0,b.useState)(!1),2),X=H[0],W=H[1],$=Fe((0,b.useState)(!1),2),Y=$[0],K=$[1],J=Fe((0,b.useState)(!1),2),ee=J[0],te=J[1],ne=Fe((0,b.useState)(!1),2),re=ne[0],ae=ne[1],ie=Fe((0,b.useState)(!1),2),le=ie[0],oe=ie[1],ue=Fe((0,b.useState)(!1),2),se=ue[0],de=ue[1],we=Fe((0,b.useState)((null==_?void 0:_.dataType)||""),2),Ae=we[0],Ue=we[1],Le=Fe((0,b.useState)((null==_||null===(t=_.inputFormat)||void 0===t?void 0:t.inputType)||f.wG.TEXT_INPUT),2),xe=Le[0],Ne=Le[1],_e=Fe((0,b.useState)((null==_?void 0:_.multiValued)||!1),2),Te=_e[0],Me=_e[1],ke=Fe((0,b.useState)([]),2),De=ke[0],Pe=ke[1],Ze=Fe((0,b.useState)(),2),Ve=Ze[0],je=Ze[1],qe=Fe((0,b.useState)(null!==(n=null==_?void 0:_.managedInUserStore)&&void 0!==n&&n),2),ze=qe[0],Be=qe[1],We=null!==(a=null==_||null===(l=_.claimURI)||void 0===l?void 0:l.startsWith("http://wso2.org/claims/identity/"))&&void 0!==a&&a,$e=(0,b.useRef)(null),Ye=(0,b.useRef)(null),Ke=(0,b.useRef)(null),Je=(0,b.useRef)(null),et=(0,S.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),tt=(0,S.v9)((function(e){return e.config.ui.features})),nt=(0,S.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.userSchemaURI})),rt=(0,r.EV)(null==tt||null===(d=tt.attributeDialects)||void 0===d||null===(d=d.scopes)||void 0===d?void 0:d.update),at=!(null!=tt&&null!==(v=tt.attributeDialects)&&void 0!==v&&null!==(v=v.disabledFeatures)&&void 0!==v&&v.includes("attributeDialects.sharedProfileValueResolvingMethod")),it=(0,Ee.cr)(null==tt?void 0:tt.attributeDialects,L.QN.FEATURE_DICTIONARY.get(L.Q_.HideUserIdDisplayConfigurations)),lt=(0,Ee.cr)(null==tt?void 0:tt.attributeDialects,L.QN.FEATURE_DICTIONARY.get(L.Q_.SelectiveClaimStoreManagement)),ot=lt&&k,ct=(0,Ee.cr)(null==tt?void 0:tt.users,ye._F.FEATURE_DICTIONARY.get(ye.Oq.UseDefaultLabelsAndOrder)),ut=(0,m.Z)().readOnlyUserStoreNamesList,st=Boolean(null==ut?void 0:ut.length),dt=Fe((0,b.useState)(!0),2),mt=dt[0],ft=dt[1],pt=Fe((0,b.useState)(void 0),2),vt=pt[0],ht=pt[1],yt=Fe((0,b.useState)(void 0),2),gt=yt[0],bt=yt[1],Et=Fe((0,b.useState)(!1),2),St=Et[0],Rt=Et[1],It=Fe((0,b.useState)(!1),2),Ct=It[0],wt=It[1],At=Fe((0,b.useState)(!1),2),Ot=At[0],Ut=At[1],Lt=(0,u.z)().isSubOrganization,xt=Fe((0,b.useState)(!1),2),Nt=xt[0],_t=xt[1],Tt=Fe((0,b.useState)(!1),2),Mt=Tt[0],kt=Tt[1],Dt=Fe((0,b.useState)(!1),2),Pt=Dt[0],Zt=Dt[1],Vt=Fe((0,b.useState)(!1),2),jt=Vt[0],qt=Vt[1],Qt=Fe((0,b.useState)(!1),2),Gt=Qt[0],Ft=Qt[1],zt=Fe((0,b.useState)(!1),2),Bt=zt[0],Ht=zt[1],Xt=null==tt||null===(g=tt.attributeDialects)||void 0===g||null===(g=g.disabledFeatures)||void 0===g?void 0:g.includes(L.QN.DISTINCT_ATTRIBUTE_PROFILES_FEATURE_FLAG),Wt=(0,E.$)().t,$t=(0,be.Wf)().data,Yt=(0,w.Z)().UIConfig,Kt=(0,b.useMemo)((function(){var e,t=null==_||null===(e=_.properties)||void 0===e?void 0:e.find((function(e){return"isAgentClaim"===e.key}));return"true"===(null==t?void 0:t.value)}),[_]),Jt=[{text:Wt("claims:local.forms.sharedProfileValueResolvingMethod.options.fromOrigin"),value:f.Hk.FROM_ORIGIN},{text:Wt("claims:local.forms.sharedProfileValueResolvingMethod.options.fromSharedProfile"),value:f.Hk.FROM_SHARED_PROFILE},{text:Wt("claims:local.forms.sharedProfileValueResolvingMethod.options.fromFirstFoundInHierarchy"),value:f.Hk.FROM_FIRST_FOUND_IN_HIERARCHY}],en=[{text:Wt("claims:local.forms.dataType.options.text"),value:f.VL.TEXT},{text:Wt("claims:local.forms.dataType.options.options"),value:f.VL.OPTIONS},{text:Wt("claims:local.forms.dataType.options.integer"),value:f.VL.INTEGER},{text:Wt("claims:local.forms.dataType.options.decimal"),value:f.VL.DECIMAL},{text:Wt("claims:local.forms.dataType.options.boolean"),value:f.VL.BOOLEAN},{text:Wt("claims:local.forms.dataType.options.object"),value:f.VL.COMPLEX},{text:Wt("claims:local.forms.dataType.options.date"),value:f.VL.DATE},{text:Wt("claims:local.forms.dataType.options.dateTime"),value:f.VL.DATE_TIME},{text:Wt("claims:local.forms.dataType.options.epoch"),value:f.VL.EPOCH}],tn=Oe(null),nn=tn.data,rn=tn.error,an=(0,S.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.enableIdentityClaims})),ln=(0,pe.Z)({"exclude-identity-claims":!an,filter:null,limit:null,offset:null,sort:null}).data,on=(0,b.useMemo)((function(){var e;return(null==nn||null===(e=nn.find((function(e){return(null==e?void 0:e.dialectURI)===nt})))||void 0===e?void 0:e.id)||null}),[nn]);(0,b.useEffect)((function(){rn&&P((0,p.V_)({description:Wt("console:manage.features.claims.dialects.notifications.fetchDialects.genericError.description"),level:f.QU.ERROR,message:Wt("console:manage.features.claims.dialects.notifications.fetchDialects.genericError.message")}))}),[rn]),(0,b.useEffect)((function(){var e,t,n,r,a,i,l,o,c,u,s,d,m,p,v;null!=_&&_.canonicalValues&&Array.isArray(_.canonicalValues)?je(_.canonicalValues.map((function(e){return{key:e.label,value:e.value}}))):je([]),_&&_.subAttributes&&Array.isArray(_.subAttributes)&&Pe(_.subAttributes),(null==_?void 0:_.dataType)===f.VL.STRING&&(null==_||null===(e=_.canonicalValues)||void 0===e?void 0:e.length)>0?Ue(f.VL.OPTIONS):(null==_?void 0:_.dataType)===f.VL.STRING?Ue(f.VL.TEXT):Ue((null==_?void 0:_.dataType)||f.VL.STRING),Ne((null==_||null===(t=_.inputFormat)||void 0===t?void 0:t.inputType)||f.wG.TEXT_INPUT),_t(null!==(n=null==_||null===(r=_.profiles)||void 0===r||null===(r=r.console)||void 0===r?void 0:r.required)&&void 0!==n?n:null==_?void 0:_.required),kt(null!==(a=null==_||null===(i=_.profiles)||void 0===i||null===(i=i.endUser)||void 0===i?void 0:i.required)&&void 0!==a?a:null==_?void 0:_.required),Zt(null!==(l=null==_||null===(o=_.profiles)||void 0===o||null===(o=o.selfRegistration)||void 0===o?void 0:o.required)&&void 0!==l?l:null==_?void 0:_.required),qt(null!==(c=null==_||null===(u=_.profiles)||void 0===u||null===(u=u.console)||void 0===u?void 0:u.readOnly)&&void 0!==c?c:null==_?void 0:_.readOnly),Ft(null!==(s=null==_||null===(d=_.profiles)||void 0===d||null===(d=d.endUser)||void 0===d?void 0:d.readOnly)&&void 0!==s?s:null==_?void 0:_.readOnly),Ht(null!==(m=null==_||null===(p=_.profiles)||void 0===p||null===(p=p.selfRegistration)||void 0===p?void 0:p.readOnly)&&void 0!==m?m:null==_?void 0:_.readOnly),Be(null!==(v=null==_?void 0:_.managedInUserStore)&&void 0!==v&&v)}),[_]),(0,b.useEffect)((function(){$t&&ht((0,ge.t$)($t))}),[$t]),(0,b.useEffect)((function(){if("true"===(null==vt?void 0:vt.enableValidator)&&null!==c.rk&&void 0!==c.rk&&c.rk.systemClaims.includes(L.QN.EMAIL_CLAIM_URI)){var e=null===c.rk||void 0===c.rk?void 0:c.rk.systemClaims.indexOf(L.QN.EMAIL_CLAIM_URI);null===c.rk||void 0===c.rk||c.rk.systemClaims.splice(e,1)}else"false"!==(null==vt?void 0:vt.enableValidator)||null!==c.rk&&void 0!==c.rk&&c.rk.systemClaims.includes(L.QN.EMAIL_CLAIM_URI)||null===c.rk||void 0===c.rk||c.rk.systemClaims.push(L.QN.EMAIL_CLAIM_URI)}),[vt,c.rk]),(0,b.useEffect)((function(){var e;null!=_&&_.supportedByDefault&&W(!0),null!=_&&_.readOnly&&te(!0),_&&((null===c.rk||void 0===c.rk?void 0:c.rk.systemClaims.length)<=0||-1===(null===c.rk||void 0===c.rk?void 0:c.rk.systemClaims.indexOf(null==_?void 0:_.claimURI)))?ft(!1):ft(!0),Ut(null==_||null===(e=_.properties)||void 0===e?void 0:e.some((function(e){return e.key===L.QN.SYSTEM_CLAIM_PROPERTY_NAME&&"true"===e.value})))}),[_,vt]),(0,b.useEffect)((function(){var e=qn();if(_){var t=[];e.forEach((function(e){t.push((0,U.ne)(e))})),Promise.allSettled(t).then((function(e){e.filter((function(e){if("fulfilled"===e.status)return!0;var t,n=e.reason;return 404!==n.code&&P((0,p.V_)({description:null==n||null===(t=n.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.description,level:f.QU.ERROR,message:Wt("claims:dialects.notifications.fetchExternalClaims.genericError.message")})),!1})).flatMap((function(e){return"fulfilled"===e.status?e.value:[]})).find((function(e){return e.mappedLocalClaimURI===_.claimURI}))&&oe(!0)})).finally((function(){return de(!0)}))}}),[_,on]),(0,b.useEffect)((function(){(0,ve.PP)(he.v.USER_ONBOARDING_CONNECTOR_ID,he.v.SELF_SIGN_UP_CONNECTOR_ID).then((function(e){bt(e)})).catch((function(e){var t;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.detail?P((0,p.V_)({description:Wt("governanceConnectors:notifications.getConnector.error.description",{description:e.response.data.description}),level:f.QU.ERROR,message:Wt("governanceConnectors:notifications.getConnector.error.message")})):P((0,p.V_)({description:Wt("governanceConnectors:notifications.getConnector.genericError.description"),level:f.QU.ERROR,message:Wt("governanceConnectors:notifications.getConnector.genericError.message")}))}))}),[]),(0,b.useEffect)((function(){(0,Re.Z)(null==gt?void 0:gt.properties)||gt.properties.map((function(e){e.name===he.v.ACCOUNT_CONFIRMATION&&("false"===e.value?Rt(!1):Rt(!0)),e.name===he.v.SELF_REGISTRATION_ENABLE&&("false"===e.value?wt(!1):wt(!0))}))}),[gt]);var cn,un,sn,dn,mn,fn,pn,vn,hn,yn,gn,bn,En,Sn,Rn,In,Cn,wn,An,On,Un,Ln,xn,Nn,_n,Tn,Mn,kn,Dn,Pn,Zn,Vn,jn,qn=function(){var e=[];return e.push(L.QN.ATTRIBUTE_DIALECT_IDS.get("SCIM2_SCHEMAS_CORE")),e.push(L.QN.ATTRIBUTE_DIALECT_IDS.get("SCIM2_SCHEMAS_CORE_USER")),e.push(L.QN.ATTRIBUTE_DIALECT_IDS.get("SCIM2_SCHEMAS_EXT_ENT_USER")),e.push(L.QN.ATTRIBUTE_DIALECT_IDS.get("SCIM2_SCHEMAS_EXT_SYSTEM")),on&&e.push(on),e},Qn=(0,b.useMemo)((function(){return!(!mt&&!Kt)||!rt}),[tt,et,mt]),Gn=function(e){(0,U.wf)(e).then((function(){o.m.push(i.$.getPaths().get("LOCAL_CLAIMS")),P((0,p.V_)({description:Wt("claims:local.notifications.deleteClaim.success.description"),level:f.QU.SUCCESS,message:Wt("claims:local.notifications.deleteClaim.success.message")}))})).catch((function(e){P((0,p.V_)({description:(null==e?void 0:e.description)||Wt("claims:local.notifications.deleteClaim.genericError.description"),level:f.QU.ERROR,message:(null==e?void 0:e.message)||Wt("claims:local.notifications.deleteClaim.genericError.message")}))})).finally((function(){K(!1)}))},Fn=(0,b.useMemo)((function(){var t;return e.claim&&null!==(t=null==ln?void 0:ln.filter((function(t){var n,r=null===(n=t.properties)||void 0===n?void 0:n.some((function(e){return"isSystemClaim"===e.key&&"true"===e.value})),a=t.claimURI===e.claim.claimURI,i=De.includes(t.claimURI);return!r&&!a&&!i})).map((function(e){return{text:e.claimURI,value:e.claimURI}})).sort((function(e,t){return e.text.localeCompare(t.text)})))&&void 0!==t?t:[]}),[ln,De,null===(I=e.claim)||void 0===I?void 0:I.claimURI]),zn=function(e){var t;if(Ae!==f.VL.COMPLEX||0!==De.length)if(Ae!==f.VL.OPTIONS||0!==Ve.length){var n,r,a,i,l,o,u,d,m,v,h,y,g,b,E,S,R;if(Xt)t={attributeMapping:_.attributeMapping,canonicalValues:void 0!==(null==e?void 0:e.canonicalValues)?e.canonicalValues.map((function(e){return{label:e.key,value:e.value}})):null==Ve?void 0:Ve.map((function(e){return{label:e.key,value:e.value}})),claimURI:_.claimURI,dataType:Ae===f.VL.TEXT||Ae===f.VL.OPTIONS?f.VL.STRING:Ae,description:void 0!==(null==e?void 0:e.description)?null===(n=e.description)||void 0===n?void 0:n.toString():null==_?void 0:_.description,displayName:void 0!==(null==e?void 0:e.name)?null===(r=e.name)||void 0===r?void 0:r.toString():null==_?void 0:_.displayName,displayOrder:c.rk.editAttributes.getDisplayOrder(_.displayOrder,null===(a=e.displayOrder)||void 0===a?void 0:a.toString()),inputFormat:xe?{inputType:xe}:null==_?void 0:_.inputFormat,multiValued:Te,properties:null==_?void 0:_.properties,readOnly:void 0!==(null==e?void 0:e.readOnly)?!!e.readOnly:null==_?void 0:_.readOnly,regEx:void 0!==(null==e?void 0:e.regularExpression)?null===(i=e.regularExpression)||void 0===i?void 0:i.toString():null==_?void 0:_.regEx,required:!(void 0===(null==e?void 0:e.required)||null!=e&&e.readOnly)&&!!e.required,sharedProfileValueResolvingMethod:void 0!==(null==e?void 0:e.sharedProfileValueResolvingMethod)?null==e?void 0:e.sharedProfileValueResolvingMethod:null==_?void 0:_.sharedProfileValueResolvingMethod,subAttributes:Ae===f.VL.COMPLEX?De:void 0,supportedByDefault:void 0!==(null==e?void 0:e.supportedByDefault)?!!e.supportedByDefault:null==_?void 0:_.supportedByDefault,uniquenessScope:void 0!==(null==e?void 0:e.uniquenessScope)?null==e?void 0:e.uniquenessScope:null==_?void 0:_.uniquenessScope};else t={attributeMapping:_.attributeMapping,canonicalValues:void 0!==(null==e?void 0:e.canonicalValues)?e.canonicalValues.map((function(e){return{label:e.key,value:e.value}})):null==Ve?void 0:Ve.map((function(e){return{label:e.key,value:e.value}})),claimURI:_.claimURI,dataType:Ae===f.VL.TEXT||Ae===f.VL.OPTIONS?f.VL.STRING:Ae,description:void 0!==(null==e?void 0:e.description)?null===(l=e.description)||void 0===l?void 0:l.toString():null==_?void 0:_.description,displayName:void 0!==(null==e?void 0:e.name)?null===(o=e.name)||void 0===o?void 0:o.toString():null==_?void 0:_.displayName,displayOrder:c.rk.editAttributes.getDisplayOrder(_.displayOrder,null===(u=e.displayOrder)||void 0===u?void 0:u.toString()),inputFormat:xe?{inputType:xe}:null==_?void 0:_.inputFormat,multiValued:Te,profiles:{console:{readOnly:void 0!==(null==e?void 0:e.consoleReadOnly)?!!e.consoleReadOnly:null==_||null===(d=_.profiles)||void 0===d||null===(d=d.console)||void 0===d?void 0:d.readOnly,required:void 0!==(null==e?void 0:e.consoleRequired)?!jt&&!!e.consoleRequired:null==_||null===(m=_.profiles)||void 0===m||null===(m=m.console)||void 0===m?void 0:m.required,supportedByDefault:void 0!==(null==e?void 0:e.consoleSupportedByDefault)?Nt||!!e.consoleSupportedByDefault:null==_||null===(v=_.profiles)||void 0===v||null===(v=v.console)||void 0===v?void 0:v.supportedByDefault},endUser:{readOnly:void 0!==(null==e?void 0:e.endUserReadOnly)?!!e.endUserReadOnly:null==_||null===(h=_.profiles)||void 0===h||null===(h=h.endUser)||void 0===h?void 0:h.readOnly,required:void 0!==(null==e?void 0:e.endUserRequired)?!Gt&&!!e.endUserRequired:null==_||null===(y=_.profiles)||void 0===y||null===(y=y.endUser)||void 0===y?void 0:y.required,supportedByDefault:void 0!==(null==e?void 0:e.endUserSupportedByDefault)?Mt||!!e.endUserSupportedByDefault:null==_||null===(g=_.profiles)||void 0===g||null===(g=g.endUser)||void 0===g?void 0:g.supportedByDefault},selfRegistration:{readOnly:void 0!==(null==e?void 0:e.selfRegistrationReadOnly)?!!e.selfRegistrationReadOnly:null==_||null===(b=_.profiles)||void 0===b||null===(b=b.selfRegistration)||void 0===b?void 0:b.readOnly,required:void 0!==(null==e?void 0:e.selfRegistrationRequired)?!!e.selfRegistrationRequired:null==_||null===(E=_.profiles)||void 0===E||null===(E=E.selfRegistration)||void 0===E?void 0:E.required,supportedByDefault:void 0!==(null==e?void 0:e.selfRegistrationSupportedByDefault)?Pt||!!e.selfRegistrationSupportedByDefault:null==_||null===(S=_.profiles)||void 0===S||null===(S=S.selfRegistration)||void 0===S?void 0:S.supportedByDefault}},properties:null==_?void 0:_.properties,readOnly:void 0!==(null==e?void 0:e.readOnly)?!!e.readOnly:null==_?void 0:_.readOnly,regEx:void 0!==(null==e?void 0:e.regularExpression)?null===(R=e.regularExpression)||void 0===R?void 0:R.toString():null==_?void 0:_.regEx,required:!(void 0===(null==e?void 0:e.required)||null!=e&&e.readOnly)&&!!e.required,sharedProfileValueResolvingMethod:void 0!==(null==e?void 0:e.sharedProfileValueResolvingMethod)?null==e?void 0:e.sharedProfileValueResolvingMethod:null==_?void 0:_.sharedProfileValueResolvingMethod,subAttributes:Ae===f.VL.COMPLEX?De:void 0,supportedByDefault:void 0!==(null==e?void 0:e.supportedByDefault)?!!e.supportedByDefault:null==_?void 0:_.supportedByDefault,uniquenessScope:void 0!==(null==e?void 0:e.uniquenessScope)?null==e?void 0:e.uniquenessScope:null==_?void 0:_.uniquenessScope};!Ot&&at||delete t.sharedProfileValueResolvingMethod,lt&&(t.managedInUserStore=ze),ae(!0),(0,U.iC)(_.id,t).then((function(){P((0,p.V_)({description:Wt("claims:local.notifications.updateClaim.success.description"),level:f.QU.SUCCESS,message:Wt("claims:local.notifications.updateClaim.success.message")})),T(),P((0,p.wu)(!0)),(0,s.w7)().then((function(e){P((0,p.Um)(e))})).catch((function(e){var t;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description&&P((0,p.V_)({description:e.response.data.description,level:f.QU.ERROR,message:Wt("console:manage.notifications.getProfileSchema.error.message")})),P((0,p.V_)({description:Wt("console:manage.notifications.getProfileSchema.genericError.description"),level:f.QU.ERROR,message:Wt("console:manage.notifications.getProfileSchema.genericError.message")}))})).finally((function(){P((0,p.wu)(!1))}))})).catch((function(e){P((0,p.V_)({description:(null==e?void 0:e.description)||Wt("claims:local.notifications.updateClaim.genericError.description"),level:f.QU.ERROR,message:(null==e?void 0:e.message)||Wt("claims:local.notifications.updateClaim.genericError.description")}))})).finally((function(){ae(!1)}))}else P((0,p.V_)({description:Wt("claims:local.forms.canonicalValues.validationError"),level:f.QU.ERROR,message:Wt("claims:local.forms.canonicalValues.validationErrorMessage")}));else P((0,p.V_)({description:Wt("claims:local.forms.subAttributes.validationError"),level:f.QU.ERROR,message:Wt("claims:local.forms.subAttributes.validationErrorMessage")}))},Bn=function(e,t){var n,r=null==_||null===(n=_.inputFormat)||void 0===n?void 0:n.inputType;if(r&&function(e,t,n){return Hn(t,n).some((function(t){return t.value===e}))}(r,e,t))Ne(r);else switch(e){case f.VL.OPTIONS:Ne(t?f.wG.MULTI_SELECT_DROPDOWN:f.wG.DROPDOWN);break;case f.VL.BOOLEAN:Ne(f.wG.CHECKBOX);break;default:Ne(f.wG.TEXT_INPUT)}},Hn=function(e,t){var n=[{text:Wt("claims:local.forms.inputFormat.options.textInput"),value:f.wG.TEXT_INPUT}];return e===f.VL.DATE?[].concat(n,[{text:Wt("claims:local.forms.inputFormat.options.datePicker"),value:f.wG.DATE_PICKER}]):e===f.VL.OPTIONS?t?[{text:Wt("claims:local.forms.inputFormat.options.multiSelectDropdown"),value:f.wG.MULTI_SELECT_DROPDOWN},{text:Wt("claims:local.forms.inputFormat.options.checkBoxGroup"),value:f.wG.CHECKBOX_GROUP}]:[{text:Wt("claims:local.forms.inputFormat.options.radioGroup"),value:f.wG.RADIO_GROUP},{text:Wt("claims:local.forms.inputFormat.options.dropdown"),value:f.wG.DROPDOWN}]:e===f.VL.INTEGER?[].concat(n,[{text:Wt("claims:local.forms.inputFormat.options.numberInput"),value:f.wG.NUMBER_INPUT}]):e===f.VL.BOOLEAN?[{text:Wt("claims:local.forms.inputFormat.options.checkbox"),value:f.wG.CHECKBOX},{text:Wt("claims:local.forms.inputFormat.options.toggle"),value:f.wG.TOGGLE}]:n};return b.createElement(b.Fragment,null,Y&&b.createElement(y.cV,{onClose:function(){return K(!1)},type:"negative",open:Y,assertionHint:Wt("claims:local.confirmation.hint"),assertionType:"checkbox",primaryAction:Wt("claims:local.confirmation.primaryAction"),secondaryAction:Wt("common:cancel"),onSecondaryActionClick:function(){return K(!1)},onPrimaryActionClick:function(){return Gn(_.id)},"data-testid":"".concat(D,"-delete-confirmation-modal"),closeOnDimmerClick:!1},b.createElement(y.cV.Header,null,Wt("claims:local.confirmation.header")),b.createElement(y.cV.Message,{attached:!0,negative:!0},Wt("claims:local.confirmation.message")),b.createElement(y.cV.Content,null,Wt("claims:local.confirmation.content"))),b.createElement(y.pJ,{padded:"very"},b.createElement(O.Z,null,b.createElement(O.Z.Row,{columns:1},b.createElement(O.Z.Column,{tablet:16,computer:12,largeScreen:9,widescreen:6,mobile:16},b.createElement(Ie.Z,null,b.createElement(Ie.Z.Field,{"data-testid":"".concat(D,"-form-attribute-uri-readonly-input")},b.createElement("label",null,Wt("claims:local.attributes.attributeURI")),b.createElement(y.OR,{value:_?_.claimURI:""}),b.createElement(y.kW,null,"Unique identifier of the attribute.")))))),b.createElement(Se.l0,{id:He,uncontrolledForm:!0,onSubmit:function(e){zn(e)},"data-testid":D},b.createElement(Se.gN.Input,{ariaLabel:"name",inputType:"name",name:"name",label:Wt("claims:local.forms.name.label"),required:!0,message:Wt("claims:local.forms.name.requiredErrorMessage"),placeholder:Wt("claims:local.forms.name.placeholder"),value:null==_?void 0:_.displayName,ref:$e,validation:function(e){if(!e.toString().match(/^[A-za-z0-9#+._\-\s]{1,30}$/))return Wt("claims:local.forms.name.validationErrorMessages.invalidName")},"data-testid":"".concat(D,"-form-name-input"),maxLength:30,minLength:1,hint:Wt("claims:local.forms.nameHint"),readOnly:!!(ct||(null==_?void 0:_.claimURI)!==L.QN.USER_ID_CLAIM_URI&&(null==_?void 0:_.claimURI)!==L.QN.USER_NAME_CLAIM_URI)&&((null==_?void 0:_.claimURI)===L.QN.USER_ID_CLAIM_URI||Qn||Lt())}),b.createElement(Se.gN.Textarea,{ariaLabel:"description",inputType:"description",name:"description",label:Wt("claims:local.forms.description.label"),required:!1,requiredErrorMessage:"",placeholder:Wt("claims:local.forms.description.placeholder"),ref:Je,value:null==_?void 0:_.description,maxLength:255,minLength:3,"data-testid":"".concat(D,"-form-description-input"),hint:Wt("claims:local.forms.descriptionHint"),readOnly:Lt()||Qn||_.claimURI===L.QN.USER_ID_CLAIM_URI}),b.createElement(Se.gN.Dropdown,{ariaLabel:Wt("claims:local.forms.dataType.label"),name:"dataType",label:Wt("claims:local.forms.dataType.label"),"data-testid":"".concat(D,"-form-data-type-input"),hint:Wt("claims:local.forms.dataType.hint"),disabled:Lt()||Ot||Qn,options:en,value:Ae,onChange:function(e,t){var n,r,a;t.value===f.VL.COMPLEX?Pe(null!==(n=null==_?void 0:_.subAttributes)&&void 0!==n?n:[]):Pe([]);t.value===f.VL.OPTIONS?je(null==_||null===(r=_.canonicalValues)||void 0===r?void 0:r.map((function(e){return{key:e.label,value:e.value}}))):je([]);Ue(t.value),t.value===f.VL.COMPLEX||t.value===f.VL.BOOLEAN||t.value===f.VL.DATE||t.value===f.VL.DATE_TIME||t.value===f.VL.EPOCH?(a=!1,Me(!1)):(a=null==_?void 0:_.multiValued,Me(null==_?void 0:_.multiValued)),Bn(t.value,a)}}),Ae===f.VL.COMPLEX&&b.createElement(b.Fragment,null,b.createElement(Se.gN.Dropdown,{ariaLabel:"subAttributes-dropdown",name:"subAttributesDropdown",label:Wt("claims:local.forms.subAttributes.label"),placeholder:Wt("claims:local.forms.subAttributes.placeholder"),options:Fn,onChange:function(e,t){"click"!==e.type||De.includes(t.value)||Pe([].concat(Qe(De),[t.value]))},"data-testid":"".concat(D,"-form-sub-attributes-dropdown"),disabled:Lt()||Ot||Qn,search:!0}),b.createElement("div",{className:"sub-attribute-list"},De.map((function(e,t){return b.createElement("div",{className:"sub-attribute-row",key:t},b.createElement("span",null,e),!(Lt()||Ot||Qn)&&b.createElement(j.Z,{className:"sub-attribute-delete-btn",disabled:Qn,onClick:function(){Pe(De.filter((function(t){return t!==e})))},"data-componentid":"".concat(D,"-delete-sub-attribute-").concat(t),style:{marginLeft:"auto"}},b.createElement(fe.XH,null)))})))),Ae===f.VL.OPTIONS&&b.createElement(b.Fragment,null,b.createElement("p",null,Wt("claims:local.forms.canonicalValues.hint")),b.createElement(h.e9,{data:Ve.map((function(e){return{key:e.key,value:e.value}})),keyType:"text",keyName:Wt("claims:local.forms.canonicalValues.keyLabel"),valueName:Wt("claims:local.forms.canonicalValues.valueLabel"),keyRequiredMessage:Wt("claims:local.forms.canonicalValues.keyRequiredErrorMessage"),valueRequiredErrorMessage:Wt("claims:local.forms.canonicalValues.valueRequiredErrorMessage"),requiredField:!0,listen:function(e){je(e.map((function(e){return{key:e.key,value:e.value}})))},"data-testid":"".concat(D,"-form-canonical-values-dynamic-field"),readOnly:Lt()||Qn})),b.createElement(Se.gN.Checkbox,{ariaLabel:Wt("claims:local.forms.multiValued.label"),name:"multiValued",label:Wt("claims:local.forms.multiValued.label"),required:!1,checked:Te,"data-componentid":"".concat(D,"-form-multi-valued-input"),hint:Wt(Ot?"claims:local.forms.multiValuedSystemClaimHint":"claims:local.forms.multiValuedHint"),readOnly:Lt()||Ot||Qn||Ae===f.VL.COMPLEX||Ae===f.VL.BOOLEAN||Ae===f.VL.DATE||Ae===f.VL.DATE_TIME||Ae===f.VL.EPOCH,listen:function(e){Me(e),Ae===f.VL.OPTIONS&&Bn(Ae,e)}}),Ae!==f.VL.COMPLEX&&b.createElement(Se.gN.Dropdown,{ariaLabel:Wt("claims:local.forms.inputFormat.label"),name:"inputFormat",label:Wt("claims:local.forms.inputFormat.label"),"data-componentid":"".concat(D,"-form-input-format-input"),hint:Wt("claims:local.forms.inputFormat.hint"),disabled:Lt()||Qn,options:Hn(Ae,Te),value:xe,onChange:function(e,t){Ne(t.value)}}),!c.rk.localAttributes.createWizard.showRegularExpression&&!mt&&_.claimURI!==L.QN.USER_ID_CLAIM_URI&&b.createElement(Se.gN.Input,{ariaLabel:"regularExpression",inputType:"default",name:"regularExpression",label:Wt("claims:local.forms.regEx.label"),required:!1,requiredErrorMessage:"",placeholder:Wt("claims:local.forms.regEx.placeholder"),value:null==_?void 0:_.regEx,ref:Ye,"data-testid":"".concat(D,"-form-regex-input"),maxLength:L.QN.REGEX_FIELD_MAX_LENGTH,minLength:L.QN.REGEX_FIELD_MIN_LENGTH,hint:Wt("claims:local.forms.regExHint"),readOnly:Lt()||Qn}),at&&b.createElement(Se.gN.Dropdown,{ariaLabel:"shared-profile-value-resolving-method-dropdown",name:L.QN.SHARED_PROFILE_VALUE_RESOLVING_METHOD_PROPERTY_NAME,label:Wt("claims:local.forms.sharedProfileValueResolvingMethod.label"),"data-componentid":"".concat(D,"-form-shared-profile-value-resolving-method-dropdown"),hint:Wt("claims:local.forms.sharedProfileValueResolvingMethod.hint"),disabled:Lt()||Ot||Qn,options:Jt,value:(null==_?void 0:_.sharedProfileValueResolvingMethod)||f.Hk.FROM_ORIGIN}),_&&(null==Yt?void 0:Yt.isClaimUniquenessValidationEnabled)&&!mt&&!Xe.includes(null==_?void 0:_.claimURI)&&!Kt&&b.createElement(Se.gN.Dropdown,{ariaLabel:"uniqueness-scope-dropdown",name:L.QN.UNIQUENESS_SCOPE_PROPERTY_NAME,label:Wt("claims:local.forms.uniquenessScope.label"),"data-componentid":"".concat(D,"-form-uniqueness-scope-dropdown"),hint:Wt("claims:local.forms.uniquenessScopeHint"),disabled:Lt(),options:[{text:Wt("claims:local.forms.uniquenessScope.options.none"),value:f.UZ.NONE},{text:Wt("claims:local.forms.uniquenessScope.options.withinUserstore"),value:f.UZ.WITHIN_USERSTORE},{text:Wt("claims:local.forms.uniquenessScope.options.acrossUserstores"),value:f.UZ.ACROSS_USERSTORES}],value:(null==_?void 0:_.uniquenessScope)||f.UZ.NONE}),!Xe.includes(null==_?void 0:_.claimURI)&&se?!mt&&!le&&!Kt&&b.createElement(O.Z.Row,{columns:1},b.createElement(O.Z.Column,{mobile:16,tablet:16,computer:14},b.createElement(y.v0,{type:"info",content:b.createElement(b.Fragment,null,Wt("claims:local.forms.infoMessages.disabledConfigInfo"),b.createElement("div",null,"Add SCIM mapping from",b.createElement(y.rU,{external:!1,onClick:function(){return o.m.push(i.$.getPaths().get("SCIM_MAPPING"))}}," here"),"."))}))):null,Xt&&_&&!Xe.includes(null==_?void 0:_.claimURI)&&_.claimURI!==L.QN.USER_ID_CLAIM_URI&&_.claimURI!==L.QN.USER_NAME_CLAIM_URI&&_.claimURI!==L.QN.GROUPS_CLAIM_URI&&!mt&&se&&b.createElement(Se.gN.Checkbox,Ge({ariaLabel:"supportedByDefault",name:"supportedByDefault",label:Wt("claims:local.forms.supportedByDefault.label"),required:!1,defaultValue:null==_?void 0:_.supportedByDefault,listen:function(e){W(!(null==e||!e.supportedByDefault))},"data-testid":"".concat(D,"-form-supported-by-default-input"),readOnly:Lt()||Qn,disabled:!le||St&&Ct&&(null==_?void 0:_.claimURI)===L.QN.EMAIL_CLAIM_URI&&"true"===(null==vt?void 0:vt.enableValidator)},z?{checked:!0}:{defaultValue:null==_?void 0:_.supportedByDefault})),c.rk.editAttributes.showDisplayOrderInput&&!Xe.includes(null==_?void 0:_.claimURI)&&X&&!mt&&b.createElement(Se.gN.Input,{ariaLabel:"displayOrder",inputType:"default",name:"displayOrder",type:"number",min:"0",label:Wt("claims:local.forms.displayOrder.label"),required:!1,placeholder:Wt("claims:local.forms.displayOrder.placeholder"),value:(null==_?void 0:_.displayOrder.toString())||0,maxLength:50,minLength:1,ref:Ke,"data-testid":"".concat(D,"-form-display-order-input"),hint:Wt("claims:local.forms.displayOrderHint"),readOnly:Lt()||Qn}),ot&&!mt&&!Xe.includes(null==_?void 0:_.claimURI)&&b.createElement(Se.gN.Checkbox,{ariaLabel:"managedInUserStore",name:"managedInUserStore",required:!1,label:Wt("claims:local.forms.managedInUserStore.label"),"data-componentid":"".concat(D,"-form-managed-in-user-store-checkbox"),readOnly:Lt()||Qn,hint:Wt("claims:local.forms.managedInUserStore.hint"),defaultValue:null!==(C=null==_?void 0:_.managedInUserStore)&&void 0!==C&&C,listen:Be}),ot&&!mt&&!Xe.includes(null==_?void 0:_.claimURI)&&ze&&We&&st&&b.createElement(V.Z,{severity:"warning",className:"info-box","data-componentid":"".concat(D,"-managed-in-user-store-read-only-user-store-alert")},b.createElement(A.c,{i18nKey:"claims:local.forms.managedInUserStore.readOnlyUserStoreHint"},"One or more user stores are read-only. Some identity attributes require updates, and managing them in read-only stores may cause issues. To avoid this, exclude those attributes from read-only stores in the",b.createElement("strong",null,"Attribute Mappings")," section.")),Xt&&_&&!Xe.includes(null==_?void 0:_.claimURI)&&c.rk.editAttributes.showRequiredCheckBox&&_.claimURI!==L.QN.GROUPS_CLAIM_URI&&!mt&&se&&b.createElement(Se.gN.Checkbox,Ge({ariaLabel:"required",name:"required",required:!1,requiredErrorMessage:"",label:Wt("claims:local.forms.required.label"),"data-testid":"".concat(D,"-form-required-checkbox"),readOnly:Lt()||Qn,hint:Wt("claims:local.forms.requiredHint"),listen:function(e){B(e)},disabled:ee||!le||St&&Ct&&(null==_?void 0:_.claimURI)===L.QN.EMAIL_CLAIM_URI&&"true"===(null==vt?void 0:vt.enableValidator)},ee?{value:!1}:{defaultValue:null==_?void 0:_.required})),St&&!Xe.includes(null==_?void 0:_.claimURI)&&Ct&&"true"===(null==vt?void 0:vt.enableValidator)&&(null==_?void 0:_.claimURI)===L.QN.EMAIL_CLAIM_URI&&b.createElement(y.v0,{info:!0},b.createElement(R.Z,{name:"info circle"}),Wt("claims:local.forms.requiredWarning")),Xt&&_&&!Xe.includes(null==_?void 0:_.claimURI)&&_.claimURI!==L.QN.USER_ID_CLAIM_URI&&_.claimURI!==L.QN.USER_NAME_CLAIM_URI&&_.claimURI!==L.QN.GROUPS_CLAIM_URI&&_.claimURI!==L.QN.EMAIL_CLAIM_URI&&!mt&&se&&b.createElement(Se.gN.Checkbox,{ariaLabel:"readOnly",name:"readOnly",required:!1,label:Wt("claims:local.forms.readOnly.label"),requiredErrorMessage:"",defaultValue:null==_?void 0:_.readOnly,"data-testid":"".concat(D,"-form-readonly-checkbox"),readOnly:Lt()||Qn,hint:Wt("claims:local.forms.readOnlyHint"),listen:function(e){te(e)},disabled:!le}),(!it&&(null==_?void 0:_.claimURI)===L.QN.USER_ID_CLAIM_URI||!Xt&&_&&!mt&&se&&_.claimURI!==L.QN.GROUPS_CLAIM_URI&&!Kt)&&b.createElement(b.Fragment,null,b.createElement(Ce.Z,null),b.createElement(y.X6,{as:"h4"},Wt("claims:local.forms.profiles.attributeConfigurations.title")),b.createElement(y.X6,{as:"h6",color:"grey",compact:!0},Wt("claims:local.forms.profiles.attributeConfigurations.description")),b.createElement(Ce.Z,{hidden:!0}),b.createElement(q.Z,{variant:"outlined",elevation:0},b.createElement(Q.Z,null,b.createElement(ce,null,b.createElement(me.Z,null,b.createElement(F.Z,null),b.createElement(F.Z,{align:"center"},Wt("claims:local.forms.profiles.administratorConsole")),b.createElement(F.Z,{align:"center"},Wt("claims:local.forms.profiles.endUserProfile")),b.createElement(F.Z,{align:"center"},Wt("claims:local.forms.profiles.selfRegistration")))),b.createElement(G.Z,null,!Xe.includes(null==_?void 0:_.claimURI)&&_.claimURI!==L.QN.USER_NAME_CLAIM_URI&&(jn=function(e){return it||(null==_?void 0:_.claimURI)!==L.QN.USER_ID_CLAIM_URI?Qn||Lt()||!le||Ae===f.VL.COMPLEX||St&&Ct&&(null==_?void 0:_.claimURI)===L.QN.EMAIL_CLAIM_URI&&"true"===(null==vt?void 0:vt.enableValidator):!e},b.createElement(me.Z,null,b.createElement(F.Z,null,Wt("claims:local.forms.profiles.displayByDefault"),b.createElement(y.u,{compact:!0,trigger:b.createElement(R.Z,{name:"info circle",color:"grey",className:"ml-1"}),content:Wt("claims:local.forms.profiles.displayByDefaultHint")})),b.createElement(F.Z,{align:"center"},b.createElement(Se.gN.Checkbox,Ge({ariaLabel:"Display by default in console",name:"consoleSupportedByDefault",defaultValue:null!==(Un=null==_||null===(Ln=_.profiles)||void 0===Ln||null===(Ln=Ln.console)||void 0===Ln?void 0:Ln.supportedByDefault)&&void 0!==Un?Un:null==_?void 0:_.supportedByDefault,"data-componentid":"".concat(D,"-form-console-supported-by-default-checkbox"),readOnly:jn(!0)},Nt?{checked:!0}:{defaultValue:null!==(xn=null==_||null===(Nn=_.profiles)||void 0===Nn||null===(Nn=Nn.console)||void 0===Nn?void 0:Nn.supportedByDefault)&&void 0!==xn?xn:null==_?void 0:_.supportedByDefault}))),b.createElement(F.Z,{align:"center"},b.createElement(Se.gN.Checkbox,Ge({ariaLabel:"Display by default in My Account",name:"endUserSupportedByDefault",defaultValue:null!==(_n=null==_||null===(Tn=_.profiles)||void 0===Tn||null===(Tn=Tn.endUser)||void 0===Tn?void 0:Tn.supportedByDefault)&&void 0!==_n?_n:null==_?void 0:_.supportedByDefault,"data-componentid":"".concat(D,"-form-end-user-supported-by-default-checkbox"),readOnly:jn()},Mt?{checked:!0}:{defaultValue:null!==(Mn=null==_||null===(kn=_.profiles)||void 0===kn||null===(kn=kn.endUser)||void 0===kn?void 0:kn.supportedByDefault)&&void 0!==Mn?Mn:null==_?void 0:_.supportedByDefault}))),b.createElement(F.Z,{align:"center"},b.createElement(Se.gN.Checkbox,Ge({ariaLabel:"Display by default in self-registration",name:"selfRegistrationSupportedByDefault",defaultValue:null!==(Dn=null==_||null===(Pn=_.profiles)||void 0===Pn||null===(Pn=Pn.selfRegistration)||void 0===Pn?void 0:Pn.supportedByDefault)&&void 0!==Dn?Dn:null==_?void 0:_.supportedByDefault,"data-componentid":"".concat(D,"-form-self-registration-supported-by-default-checkbox"),readOnly:jn()},Pt?{checked:!0}:{defaultValue:null!==(Zn=null==_||null===(Vn=_.profiles)||void 0===Vn||null===(Vn=Vn.selfRegistration)||void 0===Vn?void 0:Vn.supportedByDefault)&&void 0!==Zn?Zn:null==_?void 0:_.supportedByDefault}))))),!Xe.includes(null==_?void 0:_.claimURI)&&_.claimURI!==L.QN.USER_ID_CLAIM_URI&&c.rk.editAttributes.showRequiredCheckBox&&(On=Qn||Lt()||!le||Ae===f.VL.COMPLEX||St&&Ct&&(null==_?void 0:_.claimURI)===L.QN.EMAIL_CLAIM_URI&&"true"===(null==vt?void 0:vt.enableValidator),b.createElement(me.Z,null,b.createElement(F.Z,null,Wt("claims:local.forms.profiles.required"),b.createElement(y.u,{compact:!0,trigger:b.createElement(R.Z,{name:"info circle",color:"grey",className:"ml-1"}),content:Wt("claims:local.forms.profiles.requiredHint")})),b.createElement(F.Z,{align:"center"},b.createElement(Se.gN.Checkbox,Ge({ariaLabel:"Required in console",name:"consoleRequired",defaultValue:null!==(vn=null==_||null===(hn=_.profiles)||void 0===hn||null===(hn=hn.console)||void 0===hn?void 0:hn.required)&&void 0!==vn?vn:null==_?void 0:_.required,"data-componentid":"".concat(D,"-form-console-required-checkbox"),readOnly:On||jt,listen:function(e){_t(e)}},jt?{value:!1}:{defaultValue:null!==(yn=null==_||null===(gn=_.profiles)||void 0===gn||null===(gn=gn.console)||void 0===gn?void 0:gn.required)&&void 0!==yn?yn:null==_?void 0:_.required}))),b.createElement(F.Z,{align:"center"},b.createElement(Se.gN.Checkbox,Ge({ariaLabel:"Required in My Account",name:"endUserRequired",defaultValue:null!==(bn=null==_||null===(En=_.profiles)||void 0===En||null===(En=En.endUser)||void 0===En?void 0:En.required)&&void 0!==bn?bn:null==_?void 0:_.required,"data-componentid":"".concat(D,"-form-end-user-required-checkbox"),readOnly:On||Gt,listen:function(e){kt(e)}},Gt?{value:!1}:{defaultValue:null!==(Sn=null==_||null===(Rn=_.profiles)||void 0===Rn||null===(Rn=Rn.endUser)||void 0===Rn?void 0:Rn.required)&&void 0!==Sn?Sn:null==_?void 0:_.required}))),b.createElement(F.Z,{align:"center"},b.createElement(Se.gN.Checkbox,Ge({ariaLabel:"Required in self-registration",name:"selfRegistrationRequired",defaultValue:null!==(In=null==_||null===(Cn=_.profiles)||void 0===Cn||null===(Cn=Cn.selfRegistration)||void 0===Cn?void 0:Cn.required)&&void 0!==In?In:null==_?void 0:_.required,"data-componentid":"".concat(D,"-form-self-registration-required-checkbox"),readOnly:On||Bt,listen:function(e){Zt(e)}},Bt?{value:!1}:{defaultValue:null!==(wn=null==_||null===(An=_.profiles)||void 0===An||null===(An=An.selfRegistration)||void 0===An?void 0:An.required)&&void 0!==wn?wn:null==_?void 0:_.required}))))),!Xe.includes(null==_?void 0:_.claimURI)&&_.claimURI!==L.QN.USER_ID_CLAIM_URI&&_.claimURI!==L.QN.USER_NAME_CLAIM_URI&&_.claimURI!==L.QN.EMAIL_CLAIM_URI&&(pn=Qn||Lt()||!le||Ae===f.VL.COMPLEX,b.createElement(me.Z,{hideBorder:!0},b.createElement(F.Z,null,Wt("claims:local.forms.profiles.readonly"),b.createElement(y.u,{compact:!0,trigger:b.createElement(R.Z,{name:"info circle",color:"grey",className:"ml-1"}),content:Wt("claims:local.forms.profiles.readonlyHint")})),b.createElement(F.Z,{align:"center"},b.createElement(Se.gN.Checkbox,{ariaLabel:"Read-only in console",name:"consoleReadOnly",defaultValue:null!==(cn=null==_||null===(un=_.profiles)||void 0===un||null===(un=un.console)||void 0===un?void 0:un.readOnly)&&void 0!==cn?cn:null==_?void 0:_.readOnly,"data-componentid":"".concat(D,"-form-console-readOnly-checkbox"),readOnly:pn,listen:function(e){qt(e)}})),b.createElement(F.Z,{align:"center"},b.createElement(Se.gN.Checkbox,{ariaLabel:"Read-only in My Account",name:"endUserReadOnly",defaultValue:null!==(sn=null==_||null===(dn=_.profiles)||void 0===dn||null===(dn=dn.endUser)||void 0===dn?void 0:dn.readOnly)&&void 0!==sn?sn:null==_?void 0:_.readOnly,"data-componentid":"".concat(D,"-form-end-user-readOnly-checkbox"),readOnly:pn,listen:function(e){Ft(e)}})),b.createElement(F.Z,{align:"center"},b.createElement(y.u,{trigger:b.createElement(Se.gN.Checkbox,{ariaLabel:"Read-only in self-registration",name:"selfRegistrationReadOnly",defaultValue:null!==(mn=null==_||null===(fn=_.profiles)||void 0===fn||null===(fn=fn.selfRegistration)||void 0===fn?void 0:fn.readOnly)&&void 0!==mn?mn:null==_?void 0:_.readOnly,"data-componentid":"".concat(D,"-form-self-registration-readOnly-checkbox"),listen:function(e){Ht(e)},readOnly:!0}),content:Wt("claims:local.forms.profiles.selfRegistrationReadOnlyHint"),compact:!0})))))))),(!(ct||(null==_?void 0:_.claimURI)!==L.QN.USER_ID_CLAIM_URI&&(null==_?void 0:_.claimURI)!==L.QN.USER_NAME_CLAIM_URI)||!it&&(null==_?void 0:_.claimURI)===L.QN.USER_ID_CLAIM_URI||!mt&&!Lt())&&b.createElement(r.di,{when:null==tt||null===(x=tt.attributeDialects)||void 0===x||null===(x=x.scopes)||void 0===x?void 0:x.update},b.createElement(Se.gN.Button,{form:He,ariaLabel:"submit",size:"small",buttonType:"primary_btn",loading:re,disabled:re,label:Wt("common:update"),name:"submit"})))),b.createElement(Ce.Z,{hidden:!0}),c.rk.editAttributes.showDangerZone&&!Xe.includes(null==_?void 0:_.claimURI)&&!mt&&_.claimURI!==L.QN.EMAIL_CLAIM_URI&&!Ot&&b.createElement(r.di,{when:null==tt||null===(N=tt.attributeDialects)||void 0===N||null===(N=N.scopes)||void 0===N?void 0:N.delete},b.createElement(y.v9,{sectionHeader:Wt("common:dangerZone"),"data-testid":"".concat(D,"-danger-zone-group")},b.createElement(y.cN,{actionTitle:Wt("claims:local.dangerZone.actionTitle"),header:Wt("claims:local.dangerZone.header"),subheader:Wt("claims:local.dangerZone.subheader"),onActionClick:function(){return K(!0)},"data-testid":"".concat(D,"-local-claim-delete-danger-zone")}))))};We.defaultProps={"data-testid":"local-claims-basic-details-edit"};var $e=n(69837),Ye=n(17308),Ke=n(26653),Je=n(5466),et=n(758),tt=n(50342);function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){it(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function it(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=nt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e){return function(e){if(Array.isArray(e))return ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ct(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,l,o=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||ct(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){if(e){if("string"==typeof e)return ut(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(e,t):void 0}}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var st=function(e){var t,n,a=e.claim,i=e.update,l=e.userStores,o=e["data-componentid"],c=void 0===o?"edit-local-claims-mapped-attributes":o,u=(0,S.I0)(),v=ot((0,b.useState)(!1),2),g=v[0],R=v[1],I=ot((0,h.cC)(),2),C=I[0],w=I[1],A=(0,E.$)().t,x=(0,m.Z)().readOnlyUserStoreNamesList,N=(0,S.v9)((function(e){return e.config.ui.features})),_=(0,S.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.hiddenUserStores})),T=(0,S.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.primaryUserStoreDomainName})),M=!(0,r.EV)(null==N||null===(t=N.attributeDialects)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),k=(0,Ee.cr)(null==N?void 0:N.attributeDialects,L.QN.FEATURE_DICTIONARY.get(L.Q_.SelectiveClaimStoreManagement))?!(null==a||!a.managedInUserStore):!(null==a||!a.claimURI)&&L.QN.USER_STORE_CONFIG_SUPPORTED_CLAIMS.includes(a.claimURI),D=(0,b.useState)(function(e){var t,n,r=null==e||null===(t=e.properties)||void 0===t?void 0:t.find((function(e){var t;return(null==e||null===(t=e.key)||void 0===t?void 0:t.toLowerCase())===L.QN.EXCLUDED_USER_STORES_CLAIM_PROPERTY.toLowerCase()}));return(null==r||null===(n=r.value)||void 0===n?void 0:n.split(","))||[]}(a)),P=ot(D,2),Z=P[0],V=P[1];return b.createElement(y.pJ,{padded:"very"},b.createElement(O.Z,{"data-componentid":c},b.createElement(O.Z.Row,{columns:1},b.createElement(O.Z.Column,{tablet:16,computer:12,largeScreen:12,widescreen:9,mobile:16},b.createElement("p",null,A("claims:local.mappedAttributes.hint")),b.createElement(Ce.Z,{hidden:!0}),b.createElement(h.Es,{submitState:C,onSubmit:function(e){var t,n,r,o,c,d=at({},a);delete d.id,delete d.dialectURI;var m,v=null===(t=Array.from(e))||void 0===t?void 0:t.map((function(e){var t=ot(e,2),n=t[0],r=t[1];return{mappedAttribute:null==r?void 0:r.toString(),userstore:null==n?void 0:n.toString()}})),h=null!==(n=null==a||null===(r=a.attributeMapping)||void 0===r?void 0:r.filter((function(t){var n,r;if(null==t||!t.userstore)return!1;var a=null==t||null===(n=t.userstore)||void 0===n?void 0:n.toUpperCase(),i=[T.toUpperCase()].concat(lt(null!==(r=null==_?void 0:_.map((function(e){return e.toUpperCase()})))&&void 0!==r?r:[]));return(null==i?void 0:i.includes(a))&&!(null!=e&&e.has(null==t?void 0:t.userstore))})))&&void 0!==n?n:[],y=null!==(o=null==Z?void 0:Z.filter((function(e){return null==l?void 0:l.find((function(t){var n;return(null==t||null===(n=t.name)||void 0===n?void 0:n.toUpperCase())===(null==e?void 0:e.toUpperCase())}))})))&&void 0!==o?o:[],g=at(at({},d),{},{attributeMapping:[].concat(lt(h),lt(v)),properties:[].concat(lt((null==d||null===(c=d.properties)||void 0===c?void 0:c.filter((function(e){var t;return(null==e||null===(t=e.key)||void 0===t?void 0:t.toLowerCase())!==L.QN.EXCLUDED_USER_STORES_CLAIM_PROPERTY.toLowerCase()})))||[]),[{key:L.QN.EXCLUDED_USER_STORES_CLAIM_PROPERTY,value:null==y?void 0:y.join(",")}])});0===(null==y?void 0:y.length)&&(g.properties=null==g||null===(m=g.properties)||void 0===m?void 0:m.filter((function(e){return e.key!==L.QN.EXCLUDED_USER_STORES_CLAIM_PROPERTY})));R(!0),(0,U.iC)(a.id,g).then((function(){u((0,p.V_)({description:A("claims:local.notifications.updateClaim.success.description"),level:f.QU.SUCCESS,message:A("claims:local.notifications.updateClaim.success.message")})),i(),u((0,p.wu)(!0)),(0,s.w7)().then((function(e){u((0,p.Um)(e))})).catch((function(e){var t;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description&&u((0,p.V_)({description:e.response.data.description,level:f.QU.ERROR,message:A("console:manage.notifications.getProfileSchema.error.message")})),u((0,p.V_)({description:A("console:manage.notifications.getProfileSchema.genericError.description"),level:f.QU.ERROR,message:A("console:manage.notifications.getProfileSchema.genericError.message")}))})).finally((function(){u((0,p.wu)(!1))}))})).catch((function(e){u((0,p.V_)({description:(null==e?void 0:e.description)||A("claims:local.notifications.updateClaim.genericError.description"),level:f.QU.ERROR,message:(null==e?void 0:e.message)||A("claims:local.notifications.updateClaim.genericError.message")}))})).finally((function(){R(!1)}))}},l.map((function(e,t){var n,r,i,l,o,u;if(e.enabled||e.id.toUpperCase()===T.toUpperCase())return b.createElement($e.Z,{defaultExpanded:!0,expanded:!0,key:t,"data-componentid":"".concat(c,"-form-accordion-").concat(e.name)},b.createElement(Ke.Z,null,b.createElement(tt.Z,{variant:"h6"},e.name),(null==x?void 0:x.includes(null===(n=e.name)||void 0===n?void 0:n.toUpperCase()))&&b.createElement(et.Z,{className:"ml-2 oxygen-chip-beta",label:A("claims:local.mappedAttributes.readOnlyUserStore")})),b.createElement(Ye.Z,null,b.createElement(O.Z,null,b.createElement(O.Z.Row,{columns:2,key:t,verticalAlign:"middle"},b.createElement(O.Z.Column,{width:6},b.createElement("p",null," ",A("claims:local.mappedAttributes.mappedAttributeName"))),b.createElement(O.Z.Column,{width:6},b.createElement(h.gN,{type:"text",name:e.name,placeholder:A("claims:local.forms.attribute.placeholder"),required:!0,requiredErrorMessage:A("claims:local.forms.attribute.requiredErrorMessage"),value:(i=e.name,u=null==a||null===(l=a.attributeMapping)||void 0===l||null===(l=l.find((function(e){return e.userstore.toLowerCase()===i.toLowerCase()})))||void 0===l?void 0:l.mappedAttribute,u||i===T?u:null==a||null===(o=a.attributeMapping)||void 0===o||null===(o=o.find((function(e){return e.userstore.toLowerCase()===T.toLowerCase()})))||void 0===o?void 0:o.mappedAttribute),"data-componentid":"".concat(c,"-form-attribute-name-input-\n                                                                        ").concat(e.name),readOnly:M||(null===(r=e.name)||void 0===r?void 0:r.toUpperCase())===d.XS}))),k&&b.createElement(O.Z.Row,{columns:2,key:t,verticalAlign:"middle"},b.createElement(O.Z.Column,{width:6},b.createElement("p",null,A("claims:local.mappedAttributes.manageInUserStore"))),b.createElement(O.Z.Column,{width:6},b.createElement(Je.Z,{checked:!Z.includes(e.name),onChange:function(t){return n=e.name,r=t.target.checked,void V(r?Z.filter((function(e){return e!==n})):[].concat(lt(Z),[n]));var n,r},disabled:M,"data-componentid":"".concat(c)+"-form-userstore-support-checkbox"+"-".concat(e.name)}))))))}))))),b.createElement(O.Z.Row,{columns:1},b.createElement(O.Z.Column,{width:8},b.createElement(r.di,{when:null==N||null===(n=N.attributeDialects)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.update},b.createElement(y.KM,{onClick:function(){w()},"data-componentid":"".concat(c,"-form-submit-button"),loading:g,disabled:g},A("common:update")))))))},dt=n(99116);function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,l,o=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ft(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ft(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var pt=function(e){var t,n,r=e.dialect,a=e.attributeType,i=e.onUpdate,l=e["data-testid"],o=(0,S.I0)(),c=(0,E.$)().t,u=(0,S.v9)((function(e){return e.config})),s=mt((0,b.useState)(!1),2),d=s[0],m=s[1];return b.createElement(O.Z,null,b.createElement(O.Z.Row,{columns:1},b.createElement(O.Z.Column,{width:6},b.createElement(h.Es,{onSubmit:function(e){var t=e.get("dialectURI").toString();m(!0),(0,U.sD)(r.id,t).then((function(){o((0,p.V_)({description:c("claims:dialects.notifications.updateDialect.success.description"),level:f.QU.SUCCESS,message:c("claims:dialects.notifications.updateDialect.success.message")})),i(window.btoa(t).replace(/=/g,""))})).catch((function(e){o((0,p.V_)({description:(null==e?void 0:e.description)||c("claims:dialects.notifications.updateDialect.genericError.description"),level:f.QU.ERROR,message:(null==e?void 0:e.message)||c("claims:dialects.notifications.updateDialect.genericError.message")}))})).finally((function(){m(!1)}))}},b.createElement(h.gN,{type:"text",placeholder:c("claims:dialects.forms.dialectURI.placeholder",{type:(0,dt.i)(a,!0)}),value:null==r?void 0:r.dialectURI,required:!0,readOnly:!1===(null===(t=u.ui)||void 0===t?void 0:t.isDefaultDialectEditingEnabled)&&L.QN.DEFAULT_DIALECTS.includes(null==r?void 0:r.id),requiredErrorMessage:c("claims:dialects.forms.dialectURI.requiredErrorMessage"),label:c("claims:dialects.forms.dialectURI.label"),name:"dialectURI","data-testid":"".concat(l,"-form-dialect-uri-input")}),!1===(null===(n=u.ui)||void 0===n?void 0:n.isDefaultDialectEditingEnabled)&&L.QN.DEFAULT_DIALECTS.includes(null==r?void 0:r.id)?null:b.createElement(b.Fragment,null,b.createElement(Ce.Z,{hidden:!0}),b.createElement(y.KM,{type:"submit","data-testid":"".concat(l,"-form-submit-button"),loading:d,disabled:d},c("claims:dialects.forms.submit")))))))};pt.defaultProps={attributeType:L.QN.OTHERS,"data-testid":"edit-dialect-details"};var vt=n(79408);function ht(e){return function(e){if(Array.isArray(e))return bt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,l,o=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||gt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(e,t){if(e){if("string"==typeof e)return bt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bt(e,t):void 0}}function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Et=function(e){var t,n=e.claimID,r=e.update,a=e.dialectID,i=e.submit,l=e.claimURI,o=e.wizard,c=e.onSubmit,s=e.addedClaim,d=e.externalClaims,m=e.attributeType,v=e["data-testid"],g=yt((0,b.useState)(),2),R=g[0],I=g[1],C=yt((0,b.useState)(null),2),w=C[0],A=C[1],L=yt((0,b.useState)(),2),x=L[0],N=L[1],_=yt((0,b.useState)(!1),2),T=_[0],M=_[1],k=(0,u.z)().isSubOrganization,D=(0,S.I0)(),P=(0,E.$)().t;(0,b.useEffect)((function(){M(!0);(0,U.WN)({"exclude-hidden-claims":!0,filter:null,limit:null,offset:null,sort:null}).then((function(e){M(!1),I((0,vt.f)(e,"displayName",!0))})).catch((function(e){var t,n;D((0,p.V_)({description:(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.description)||P("claims:local.notifications.getClaims.genericError.description"),level:f.QU.ERROR,message:(null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message)||P("claims:local.notifications.getClaims.genericError.message")}))})),o||(0,U.g0)(a,n).then((function(e){A(e)})).catch((function(e){var t,n;D((0,p.V_)({description:(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.description)||P("claims:external.notifications.getExternalAttribute.genericError.description",{type:(0,dt.i)(m)}),level:f.QU.ERROR,message:(null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message)||P("claims:external.notifications.getExternalAttribute.genericError.message")}))}))}),[]),(0,b.useEffect)((function(){if(d&&R&&(w||s)){var e=ht(R);d.forEach((function(t){e=ht(V(t.mappedLocalClaimURI,e))})),e.unshift(j()),N(e)}}),[d,R,w,s]);var Z,V=function(e,t){var n=t||R;return null==n?void 0:n.filter((function(t){return t.claimURI!==e}))},j=function(){return R.find((function(e){return o?(null==e?void 0:e.claimURI)===(null==s?void 0:s.mappedLocalClaimURI):(null==e?void 0:e.claimURI)===(null==w?void 0:w.mappedLocalClaimURI)}))};return b.createElement(h.Es,{onSubmit:function(e){o?(c(function(e){var t=s.claimURI.split(":");if(t.length>1){var n=t.filter((function(e,n){return n<t.length-1})).join(":")+":"+e.get("claimURI");e.set("claimURI",n)}return e}(e)),r()):(0,U.DW)(a,n,{claimURI:l,mappedLocalClaimURI:e.get("localClaim").toString()}).then((function(){D((0,p.V_)({description:P("claims:external.notifications.updateExternalAttribute.success.description",{type:(0,dt.i)(m)}),level:f.QU.SUCCESS,message:P("claims:external.notifications.updateExternalAttribute.success.message",{type:(0,dt.i)(m)})})),r()})).catch((function(e){var t,n;D((0,p.V_)({description:(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.description)||P("claims:external.notifications.updateExternalAttribute.genericError.description",{type:(0,dt.i)(m)}),level:f.QU.ERROR,message:(null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message)||P("claims:external.notifications.updateExternalAttribute.genericError.message")}))}))},submitState:i},b.createElement(O.Z,null,b.createElement(O.Z.Row,{columns:o?2:1},o&&b.createElement(O.Z.Column,{width:8},b.createElement(h.gN,{name:"claimURI",label:P("claims:external.forms.attributeURI.label",{type:(0,dt.i)(m,!0)}),required:!0,requiredErrorMessage:P("claims:external.forms.attributeURI.label",{type:(0,dt.i)(m,!0)}),placeholder:P("claims:external.forms.attributeURI.label",{type:(0,dt.i)(m)}),type:"text",value:(Z=s.claimURI.split(":"),Z.length>1?Z[Z.length-1]:s.claimURI),"data-testid":"".concat(v,"-form-claim-uri-input"),validation:function(e,t){var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=gt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){o=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw i}}}}(d);try{for(r.s();!(n=r.n()).done;){if(n.value.claimURI===e){t.isValid=!1,t.errorMessages.push(P("claims:external.forms.attributeURI.validationErrorMessages.duplicateName",{type:(0,dt.i)(m)}));break}}}catch(a){r.e(a)}finally{r.f()}}})),b.createElement(O.Z.Column,{width:8},b.createElement(h.gN,{type:"dropdown",disabled:k(),name:"localClaim",label:P("claims:external.forms.localAttribute.label"),required:!0,requiredErrorMessage:P("claims:external.forms.localAttribute.requiredErrorMessage"),placeholder:P("claims:external.forms.attributeURI.placeholder"),search:!0,loading:T,value:o?s.mappedLocalClaimURI:null==w?void 0:w.mappedLocalClaimURI,children:null!==(t=null==x?void 0:x.map((function(e,t){return{key:t,text:b.createElement("div",{className:"multiline"},null==e?void 0:e.displayName,b.createElement(y.EK,{className:"description",compact:!0,withBackground:!1},null==e?void 0:e.claimURI)),value:null==e?void 0:e.claimURI}})))&&void 0!==t?t:[],"data-testid":"".concat(v,"-local-claim-dropdown")})))))};Et.defaultProps={attributeType:L.QN.OTHERS,"data-testid":"edit-external-claim"};var St=n(25134),Rt=n(43974),It=n(50102),Ct=n(42177),wt=n(47018),At=n(37077),Ot=n(1807);function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function Lt(){Lt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},l=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,l=Object.create(i.prototype),o=new x(r||[]);return a(l,"_invoke",{value:A(e,n,o)}),l}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function y(){}function g(){}function b(){}var E={};u(E,l,(function(){return this}));var S=Object.getPrototypeOf,R=S&&S(S(N([])));R&&R!==n&&r.call(R,l)&&(E=R);var I=b.prototype=y.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,i,l,o){var c=d(e[a],e,i);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Ut(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,l,o)}),(function(e){n("throw",e,l,o)})):t.resolve(s).then((function(e){u.value=e,l(u)}),(function(e){return n("throw",e,l,o)}))}o(c.arg)}var i;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function A(t,n,r){var a=m;return function(i,l){if(a===p)throw Error("Generator is already running");if(a===v){if("throw"===i)throw l;return{value:e,done:!0}}for(r.method=i,r.arg=l;;){var o=r.delegate;if(o){var c=O(o,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=d(t,n,r);if("normal"===u.type){if(a=r.done?v:f,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=v,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=d(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var l=i.arg;return l?l.done?(n[t.resultName]=l.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):l:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function U(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(U,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Ut(t)+" is not iterable")}return g.prototype=b,a(I,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},C(w.prototype),u(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var l=new w(s(e,n,r,a),i);return t.isGeneratorFunction(n)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},C(I),u(I,c,"Generator"),u(I,l,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return o.type="throw",o.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var l=this.tryEntries[i],o=l.completion;if("root"===l.tryLoc)return a("end");if(l.tryLoc<=this.prev){var c=r.call(l,"catchLoc"),u=r.call(l,"finallyLoc");if(c&&u){if(this.prev<l.catchLoc)return a(l.catchLoc,!0);if(this.prev<l.finallyLoc)return a(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return a(l.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return a(l.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var l=i?i.completion:{};return l.type=e,l.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function xt(e,t,n,r,a,i,l){try{var o=e[i](l),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,a)}function Nt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function l(e){xt(i,r,a,l,o,"next",e)}function o(e){xt(i,r,a,l,o,"throw",e)}l(void 0)}))}}function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,l,o=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Tt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Mt=function(e){var t,n,r,i,l,o,u,s,d,m=e.submitState,p=e.onSubmit,v=e.values,g=e.claimURIBase,I=e.validateMapping,C=e.setValidateMapping,w=e["data-testid"],A=_t((0,b.useState)(""),2),U=A[0],x=A[1],N=_t((0,b.useState)(!1),2),_=N[0],T=N[1],M=_t((0,b.useState)(!1),2),k=M[0],D=M[1],P=_t((0,b.useState)(!1),2),Z=P[0],V=P[1],j=_t((0,b.useState)(!1),2),q=j[0],Q=j[1],G=_t((0,b.useState)(!1),2),F=G[0],z=G[1],B=_t((0,b.useState)(!1),2),H=B[0],X=B[1],W=_t((0,b.useState)(!1),2),$=W[0],Y=W[1],K=_t((0,b.useState)(!0),2),J=K[0],ee=K[1],te=_t((0,b.useState)(!0),2),ne=te[0],re=te[1],ae=_t((0,b.useState)(!1),2),ie=ae[0],le=ae[1],oe=_t((0,b.useState)(null==v||null===(t=v.get("oidc"))||void 0===t?void 0:t.toString()),2),ce=oe[0],ue=oe[1],se=_t((0,b.useState)(null==v||null===(n=v.get("scim"))||void 0===n?void 0:n.toString()),2),de=se[0],me=se[1],fe=_t((0,b.useState)(!1),2),pe=fe[0],ve=fe[1],he=(0,S.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.userSchemaURI})),ye=(0,b.useRef)(null),ge=(0,b.useRef)(null),be=(0,b.useRef)(null),Ee=(0,b.useRef)(null),Se=(0,b.useRef)(null),Re=(0,b.useRef)(null),Ie=(0,b.useRef)(null),Ce=(0,b.useRef)(null),we=(0,E.$)().t;(0,b.useEffect)((function(){var e,t;T((null==v||null===(e=v.get("supportedByDefault"))||void 0===e?void 0:e.length)>0),x(null==v||null===(t=v.get("claimURI"))||void 0===t?void 0:t.toString())}),[v]),(0,b.useEffect)((function(){if(!ne||!J){var e=ge.current.children[0].children[1].children[0];e.focus(),e.blur(),ee(!0),re(!0)}}),[ne,J]);var Ae=function(e,t){t.current=setTimeout((function(){return e(!0)}),500)},Oe=function(e,t){clearTimeout(t.current),e(!1)};return b.createElement(h.Es,{onSubmit:function(e){var t,n,r,a,i,l,o,u,s,d={canonicalValues:e.get("canonicalValues")?e.get("canonicalValues").map((function(e){return{label:e.key,value:e.value}})):[],claimURI:g+"/"+e.get("claimURI").toString().trim(),dataType:(null===(t=e.get("dataType"))||void 0===t?void 0:t.toString())===f.VL.STRING?e.get("canonicalValues").length>0?f.VL.OPTIONS:f.VL.TEXT:null===(n=e.get("dataType"))||void 0===n?void 0:n.toString(),description:null===(r=e.get("description"))||void 0===r?void 0:r.toString(),displayName:e.get("name").toString(),displayOrder:e.get("displayOrder")?parseInt(null===(a=e.get("displayOrder"))||void 0===a?void 0:a.toString()):0,multiValued:(null===(i=e.get("multiValued"))||void 0===i?void 0:i.length)>0,readOnly:(null===(l=e.get("readOnly"))||void 0===l?void 0:l.length)>0,regEx:null===(o=e.get("regularExpression"))||void 0===o?void 0:o.toString(),required:(null===(u=e.get("required"))||void 0===u?void 0:u.length)>0,subAttributes:e.get("subAttributes")||[],supportedByDefault:(null===(s=e.get("supportedByDefault"))||void 0===s?void 0:s.length)>0};if(c.rk.localAttributes.createWizard.customWIzard){if(ie)return;if(""===ce)return;""!==de&&e.set("scim",de),e.set("oidc",ce)}J&&ne&&!I&&p(d,e)},submitState:m},b.createElement(O.Z,null,c.rk.localAttributes.createWizard.customWIzard&&b.createElement(b.Fragment,null,b.createElement(O.Z.Row,{columns:1},b.createElement(O.Z.Column,{width:8},b.createElement(h.gN,{type:"text",name:"claimURI",label:we("claims:local.forms.attributeID.label"),className:"mb-1",required:!0,requiredErrorMessage:we("claims:local.forms.attributeID.requiredErrorMessage"),placeholder:we("claims:local.forms.attributeID.placeholder"),value:null==v||null===(r=v.get("claimURI"))||void 0===r?void 0:r.toString(),maxLength:30,loading:I,listen:function(e){x(e.get("claimURI").toString()),ue(e.get("claimURI").toString()),me(e.get("claimURI").toString()),ve(!1)},onMouseOver:function(){Ae(V,Re)},onMouseOut:function(){Oe(V,Re)},validation:function(e,t){if(""===e)return ee(!0),void re(!0);var n=!0;return(!e.match(/^\w+(\.\w+)?$/)||e.length>30)&&(n=!1),n?J&&ne?(C(!0),void(c.rk.localAttributes.createWizard.checkOIDCAvailability&&c.rk.localAttributes.checkAttributeNameAvailability(e,"BOTH").then((function(e){C(!1),e.has("SCIM")&&re(e.get("SCIM")),e.has("OIDC")&&ee(e.get("OIDC"))})))):(t.isValid=!1,void t.errorMessages.push(we("claims:dialects.forms.fields.attributeName.validation.alreadyExists"))):(t.isValid=!1,void t.errorMessages.push(we("claims:dialects.forms.fields.attributeName.validation.invalid")))},ref:ge,"data-testid":"".concat(w,"-form-claim-uri-input")}),b.createElement(y.GI,{content:we("claims:local.forms.attributeHint"),inverted:!0,open:Z,onClose:function(){Oe(V,Re)},position:"bottom left",context:ge}),b.createElement(At.Z,{className:"mb-3 ml-0"},b.createElement("em",null,"Attribute URI"),":\xa0","".concat(g,"/").concat(U||""))),b.createElement(O.Z.Column,{width:16},b.createElement(Ot.Z,{fluid:!0},b.createElement(Ot.Z.Content,null,b.createElement(Ot.Z.Header,{className:"mb-2"},we("extensions:manage.attributes.generatedAttributeMapping.title")),b.createElement(Ot.Z.Meta,{className:"mb-5"},we("extensions:manage.attributes.generatedAttributeMapping.description")),b.createElement(Ot.Z.Description,{className:"mt-1 mb-1"},$&&b.createElement(y.v0,{className:"mb-4",size:"tiny",type:"error",content:"The SCIM mapping value entered contains illegal characters. Only alphabets, numbers, `_` are allowed."}),H&&b.createElement(y.v0,{className:"mb-4",size:"tiny",type:"error",content:"The OpenID Connect mapping value entered contains illegal characters. Only alphabets, numbers, `#`, and `_` are allowed."}),b.createElement(O.Z,{verticalAlign:"middle"},b.createElement(O.Z.Row,{columns:2},b.createElement(O.Z.Column,{width:5},b.createElement(y.dn,{transparent:!0,verticalAlign:"middle",rounded:!0,icon:(0,a.r2)().oidc,spaced:"right",size:"micro",floated:"left"}),b.createElement("span",null,we("extensions:manage.attributes.generatedAttributeMapping.OIDCProtocol"))),b.createElement(O.Z.Column,{width:11},b.createElement(y._D,{maxLength:50,text:ce,errorHandler:function(e){X(e)},onEdit:function(e){le(e)},onChangesSaved:function(){var e=Nt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return ue(t),e.next=4,c.rk.localAttributes.checkAttributeNameAvailability(t,"OIDC").then((function(e){ee(e.get("OIDC"))}));case 4:X(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))),!pe&&b.createElement(O.Z.Row,{columns:3},b.createElement(O.Z.Column,{width:3},b.createElement(y.dn,{transparent:!0,verticalAlign:"middle",rounded:!0,icon:(0,a.r2)().scim,spaced:"right",size:"micro",floated:"left"}),b.createElement("span",null,we("extensions:manage.attributes.generatedAttributeMapping.SCIMProtocol"))),b.createElement(O.Z.Column,{width:11},b.createElement(y._D,{maxLength:30,textPrefix:"".concat(he,":"),validation:"^[a-zA-Z0-9_.-]*$",errorHandler:function(e){Y(e)},onEdit:function(e){le(e)},onChangesSaved:function(){var e=Nt(Lt().mark((function e(t){return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return me(t),e.next=4,c.rk.localAttributes.checkAttributeNameAvailability(t,"SCIM").then((function(e){re(e.get("SCIM"))}));case 4:Y(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),text:de})),b.createElement(O.Z.Column,{width:2},de?b.createElement(y.GI,{trigger:b.createElement(R.Z,{name:"trash alternate",link:!0,onClick:function(){me(""),ve(!0)}}),content:"Remove Mapping",position:"top center",size:"mini",hideOnScroll:!0,inverted:!0}):null))))))))),b.createElement(O.Z.Row,{columns:c.rk.localAttributes.createWizard.customWIzard?1:2},b.createElement(O.Z.Column,{width:8},b.createElement(h.gN,{onMouseOver:function(){Ae(D,Se)},onMouseOut:function(){Oe(D,Se)},type:"text",name:"name",label:we("claims:local.forms.name.label"),required:!0,requiredErrorMessage:we("claims:local.forms.name.requiredErrorMessage"),placeholder:we("claims:local.forms.name.placeholder"),value:null==v||null===(i=v.get("name"))||void 0===i?void 0:i.toString(),maxLength:30,ref:ye,"data-testid":"".concat(w,"-form-name-input")}),b.createElement(y.GI,{content:we("claims:local.forms.nameHint"),inverted:!0,open:k,trigger:b.createElement("span",null),onClose:function(){Oe(D,Se)},position:"bottom left",context:ye}),c.rk.localAttributes.createWizard.customWIzard&&b.createElement(y.kW,null,we("extensions:manage.attributes.displayNameHint"))),!c.rk.localAttributes.createWizard.customWIzard&&b.createElement(O.Z.Column,{width:8},b.createElement(h.gN,{type:"text",name:"claimURI",label:we("claims:local.forms.attributeID.label"),required:!0,requiredErrorMessage:we("claims:local.forms.attributeID.requiredErrorMessage"),placeholder:we("claims:local.forms.attributeID.placeholder"),value:null==v||null===(l=v.get("claimURI"))||void 0===l?void 0:l.toString(),maxLength:30,listen:function(e){x(e.get("claimURI").toString())},onMouseOver:function(){Ae(V,Re)},onMouseOut:function(){Oe(V,Re)},ref:ge,"data-testid":"".concat(w,"-form-claim-uri-input")}),b.createElement(y.GI,{content:we("claims:local.forms.attributeHint"),inverted:!0,open:Z,trigger:b.createElement("p",null),onClose:function(){Oe(V,Re)},position:"bottom left",context:ge}),U?b.createElement(At.Z,null,b.createElement("em",null,"Attribute URI"),":\xa0",g+"/"+U):null)),b.createElement(O.Z.Row,{columns:2},!c.rk.localAttributes.createWizard.showOnlyMandatory&&b.createElement(O.Z.Column,{width:8},b.createElement(h.gN,{type:"textarea",name:"description",label:we("claims:local.forms.description.label"),required:!1,requiredErrorMessage:"",placeholder:we("claims:local.forms.description.placeholder"),value:null==v||null===(o=v.get("description"))||void 0===o?void 0:o.toString(),"data-testid":"".concat(w,"-form-description-input")})),!c.rk.localAttributes.createWizard.showOnlyMandatory||!c.rk.localAttributes.createWizard.showRegularExpression&&b.createElement(O.Z.Column,{width:8},b.createElement(h.gN,{type:"text",name:"regularExpression",label:we("claims:local.forms.regEx.label"),required:!1,requiredErrorMessage:"",placeholder:we("claims:local.forms.regEx.placeholder"),value:null==v||null===(u=v.get("regularExpression"))||void 0===u?void 0:u.toString(),onMouseOver:function(){Ae(Q,Ie)},onMouseOut:function(){Oe(Q,Ie)},ref:be,"data-testid":"".concat(w,"-form-regex-input"),maxLength:L.QN.REGEX_FIELD_MAX_LENGTH,minLength:L.QN.REGEX_FIELD_MIN_LENGTH}),b.createElement(y.GI,{content:we("claims:local.forms.regExHint"),inverted:!0,open:q,trigger:b.createElement("span",null),onClose:function(){Oe(Q,Ie)},position:"bottom left",context:be}))),!c.rk.localAttributes.createWizard.showOnlyMandatory&&b.createElement(O.Z.Row,{columns:1},b.createElement(O.Z.Column,{width:16},b.createElement(h.gN,{type:"checkbox",name:"supportedByDefault",required:!1,requiredErrorMessage:"",children:[{label:we("claims:local.forms.supportedByDefault.label"),value:"Support"}],value:null==v?void 0:v.get("supportedByDefault"),listen:function(e){T((null==e?void 0:e.get("supportedByDefault").length)>0)},"data-testid":"".concat(w,"-form-supported-by-default-checkbox")}))),_&&c.rk.localAttributes.createWizard.showDisplayOrder&&b.createElement(O.Z.Row,{columns:16},b.createElement(O.Z.Column,{width:8},b.createElement(h.gN,{type:"number",min:"0",name:"displayOrder",label:we("claims:local.forms.displayOrder.label"),required:!1,requiredErrorMessage:"",placeholder:we("claims:local.forms.displayOrder.placeholder"),value:null!==(s=null==v||null===(d=v.get("displayOrder"))||void 0===d?void 0:d.toString())&&void 0!==s?s:"0",onMouseOver:function(){Ae(z,Ce)},onMouseOut:function(){Oe(z,Ce)},ref:Ee,"data-testid":"".concat(w,"-form-display-order-input")}),b.createElement(y.GI,{content:we("claims:local.forms.displayOrderHint"),inverted:!0,open:F,trigger:b.createElement("span",null),onClose:function(){Oe(z,Ce)},position:"bottom left",context:Ee}))),!c.rk.localAttributes.createWizard.showOnlyMandatory&&b.createElement(O.Z.Row,{columns:1},b.createElement(O.Z.Column,{width:16},b.createElement(h.gN,{type:"checkbox",name:"required",required:!1,requiredErrorMessage:"",children:[{label:we("claims:local.forms.required.label"),value:"Required"}],value:null==v?void 0:v.get("required"),"data-testid":"".concat(w,"-form-required-checkbox")}))),!c.rk.localAttributes.createWizard.showOnlyMandatory||c.rk.localAttributes.createWizard.showReadOnlyAttribute&&b.createElement(O.Z.Row,{column:1},b.createElement(O.Z.Column,null,b.createElement(h.gN,{type:"checkbox",name:"readOnly",required:!1,requiredErrorMessage:"",children:[{label:we("claims:local.forms.readOnly.label"),value:"ReadOnly"}],value:null==v?void 0:v.get("readOnly"),"data-testid":"".concat(w,"-form-readonly-checkbox")})))))};function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,l,o=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Mt.defaultProps={currentStep:0,"data-testid":"local-claim-basic-details-form"};var Pt=function(e){var t=e.onSubmit,n=e.submitState,r=e.values,a=e["data-testid"],i=(0,S.v9)((function(e){var t;return null!==(t=e.config.ui.hiddenUserStores)&&void 0!==t?t:[]})),l=(0,S.v9)((function(e){var t;return null!==(t=e.config.ui.systemReservedUserStores)&&void 0!==t?t:[]})),o=(0,S.v9)((function(e){var t,n;return null!==(t=null==e||null===(n=e.config)||void 0===n||null===(n=n.ui)||void 0===n?void 0:n.primaryUserStoreDomainName)&&void 0!==t?t:c.wO.primaryUserstoreName})),u=(0,E.$)().t,s=(0,m.Z)(),d=s.isLoading,f=s.userStoresList,p=(0,b.useMemo)((function(){var e=[];return c.rk.localAttributes.createWizard.showPrimaryUserStore&&e.push({description:"",enabled:!0,id:o,name:o,self:""}),!d&&(null==f?void 0:f.length)>0&&f.forEach((function(t){!t.enabled||i.includes(t.name)||null!=l&&l.includes(t.name)||e.push(t)})),e}),[f,d]);return b.createElement(O.Z,{"data-testid":a},b.createElement(O.Z.Row,{columns:1},b.createElement(O.Z.Column,{width:14},b.createElement("h4",null,u("claims:local.wizard.steps.mapAttributes")),b.createElement("p",null,u("claims:local.mappedAttributes.hint")),b.createElement(Ce.Z,{hidden:!0}),b.createElement(Ce.Z,{hidden:!0}),b.createElement(h.Es,{submitState:n,onSubmit:function(e){var n={attributeMapping:Array.from(e).map((function(e){var t=kt(e,2),n=t[0];return{mappedAttribute:t[1],userstore:n}}))};t(n,e)}},b.createElement(O.Z,null,p.map((function(e,t){var n;return b.createElement(b.Fragment,null,(null==e?void 0:e.enabled)&&b.createElement(O.Z.Row,{columns:2,key:t},b.createElement(O.Z.Column,{className:"centered-text",width:4},e.name),b.createElement(O.Z.Column,{width:12},b.createElement(h.gN,{type:"text",name:e.name,placeholder:u("claims:local.forms.attribute.placeholder"),required:!0,requiredErrorMessage:u("claims:local.forms.attribute.requiredErrorMessage"),value:null==r||null===(n=r.get(e.name))||void 0===n?void 0:n.toString(),"data-testid":"".concat(a,"-form-store-name-input")}))))})))))))};Pt.defaultProps={"data-testid":"mapped-attributes"};var Zt=n(73432),Vt=n(66528),jt=function(e){var t,n=e.data,r=e["data-testid"],a=(0,E.$)().t,i=function(e,t){return b.createElement(O.Z.Row,{className:"summary-field",columns:2},b.createElement(O.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},b.createElement("div",{className:"label"},e)),b.createElement(O.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},b.createElement("div",{className:"value"},t)))},l=function(e){return b.createElement(Zt.Z.Item,null,b.createElement(At.Z,{basic:!0,circular:!0},e))};return b.createElement(O.Z,{className:"wizard-summary","data-testid":r},b.createElement(O.Z.Row,null,b.createElement(O.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},b.createElement("div",{className:"general-details"},b.createElement("h3",null,n.displayName),b.createElement("div",{className:"description"},n.description)))),b.createElement(O.Z.Row,{columns:1},b.createElement(O.Z.Column,{textAlign:"center"},b.createElement(Zt.Z,null,n.supportedByDefault&&l(a("claims:local.wizard.summary.supportedByDefault")),n.required&&l(a("claims:local.wizard.summary.required")),n.readOnly&&l(a("claims:local.wizard.summary.readOnly"))))),n.claimURI?i(a("claims:local.wizard.summary.attributeURI"),b.createElement(Ie.Z.Field,null,b.createElement(y.OR,{value:n?null==n?void 0:n.claimURI:""}))):null,n.displayOrder?i(a("claims:local.wizard.summary.displayOrder"),n.displayOrder):null,n.regEx?i(a("claims:local.wizard.summary.regEx"),n.regEx):null,(null===(t=n.attributeMapping)||void 0===t?void 0:t.length)>0?i("Mapped attributes",b.createElement(Vt.Z,null,b.createElement(Vt.Z.Header,null,b.createElement(Vt.Z.Row,null,b.createElement(Vt.Z.HeaderCell,null,a("claims:local.wizard.summary.userstore")),b.createElement(Vt.Z.HeaderCell,null,a("claims:local.wizard.summary.attribute")))),b.createElement(Vt.Z.Body,null,n.attributeMapping.map((function(e,t){return b.createElement(Vt.Z.Row,{key:t,columns:2},b.createElement(Vt.Z.Cell,null,e.userstore),b.createElement(Vt.Z.Cell,null,e.mappedAttribute))}))))):null)};jt.defaultProps={"data-testid":"local-claims-summary"};var qt=n(66470),Qt=function(e){var t,n=e.submitState,r=e.onSubmit,a=e.values,i=e["data-testid"],l=(0,E.$)().t;return b.createElement(h.Es,{onSubmit:function(e){r(e)},submitState:n},b.createElement(h.gN,{type:"text",name:"dialectURI",label:l("claims:dialects.forms.dialectURI.label",{type:(0,qt.i)(L.QN.OTHERS,!0)}),required:!0,requiredErrorMessage:l("claims:dialects.forms.dialectURI.requiredErrorMessage"),placeholder:l("claims:dialects.forms.dialectURI.placeholder"),value:null==a||null===(t=a.get("dialectURI"))||void 0===t?void 0:t.toString(),"data-testid":"".concat(i,"-form-dialect-uri-input")}))};Qt.defaultProps={"data-testid":"dialect-details"};var Gt=n(25257),Ft=n(29419),zt=n(78880),Bt=n(75456),Ht=n(43);const Xt=(0,zt.Z)((function(e,t){var n=(0,Ht.Z)(t);return(0,Bt.Z)(n)&&(n=void 0),(0,Bt.Z)(e)?(0,Gt.Z)(e,(0,Ft.Z)(t,1,Bt.Z,!0),void 0,n):[]}));var Wt=n(51080),$t=function(){return{general:Wt.r}},Yt=function(){return{general:Wt.r}};function Kt(e){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kt(e)}function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Kt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Kt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Kt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nn(){nn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},l=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,l=Object.create(i.prototype),o=new x(r||[]);return a(l,"_invoke",{value:A(e,n,o)}),l}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function y(){}function g(){}function b(){}var E={};u(E,l,(function(){return this}));var S=Object.getPrototypeOf,R=S&&S(S(N([])));R&&R!==n&&r.call(R,l)&&(E=R);var I=b.prototype=y.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,i,l,o){var c=d(e[a],e,i);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Kt(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,l,o)}),(function(e){n("throw",e,l,o)})):t.resolve(s).then((function(e){u.value=e,l(u)}),(function(e){return n("throw",e,l,o)}))}o(c.arg)}var i;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function A(t,n,r){var a=m;return function(i,l){if(a===p)throw Error("Generator is already running");if(a===v){if("throw"===i)throw l;return{value:e,done:!0}}for(r.method=i,r.arg=l;;){var o=r.delegate;if(o){var c=O(o,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=d(t,n,r);if("normal"===u.type){if(a=r.done?v:f,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=v,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=d(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var l=i.arg;return l?l.done?(n[t.resultName]=l.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):l:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function U(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(U,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Kt(t)+" is not iterable")}return g.prototype=b,a(I,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},C(w.prototype),u(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var l=new w(s(e,n,r,a),i);return t.isGeneratorFunction(n)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},C(I),u(I,c,"Generator"),u(I,l,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return o.type="throw",o.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var l=this.tryEntries[i],o=l.completion;if("root"===l.tryLoc)return a("end");if(l.tryLoc<=this.prev){var c=r.call(l,"catchLoc"),u=r.call(l,"finallyLoc");if(c&&u){if(this.prev<l.catchLoc)return a(l.catchLoc,!0);if(this.prev<l.finallyLoc)return a(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return a(l.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return a(l.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var l=i?i.completion:{};return l.type=e,l.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function rn(e,t,n,r,a,i,l){try{var o=e[i](l),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,a)}function an(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,l,o=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ln(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ln(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var on=function(e){var t=e.open,n=e.onClose,r=e.update,a=e["data-testid"],l=an((0,b.useState)(0),2),u=l[0],d=l[1],v=an((0,b.useState)(null),2),g=v[0],I=v[1],C=an((0,b.useState)(null),2),w=C[0],A=C[1],x=an((0,b.useState)(null),2),N=x[0],_=x[1],T=an((0,b.useState)(null),2),M=T[0],k=T[1],D=an((0,b.useState)(!1),2),P=D[0],Z=D[1],V=an((0,b.useState)(!1),2),j=V[0],q=V[1],Q=an((0,b.useState)(!1),2),G=Q[0],F=Q[1],z=an((0,b.useState)(!1),2),B=z[0],H=z[1],X=an((0,b.useState)(!1),2),W=X[0],$=X[1],Y=an((0,b.useState)(null),2),K=Y[0],J=Y[1],ee=an((0,b.useState)(""),2),te=ee[0],ne=ee[1],re=(0,b.useRef)(!1),ae=(0,S.v9)((function(e){return e.config.ui.hiddenUserStores})),ie=(0,S.v9)((function(e){return e.config.ui.systemReservedUserStores})),le=(0,S.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.primaryUserStoreDomainName})),oe=(0,S.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.userSchemaURI})),ce=an((0,h.cC)(),2),ue=ce[0],se=ce[1],de=an((0,h.cC)(),2),me=de[0],fe=de[1],pe=(0,S.I0)(),ve=(0,E.$)().t,he=an((0,y.IK)(),3),ye=he[0],ge=he[1],be=he[2],Ee=Rt.l.getInstance(),Se=(0,m.Z)().userStoresList;(0,b.useEffect)((function(){(0,U.vR)("local").then((function(e){ne(e.dialectURI)})).catch((function(e){pe((0,p.V_)({description:(null==e?void 0:e.description)||ve("claims:local.notifications.getLocalDialect.genericError.message"),level:f.QU.ERROR,message:(null==e?void 0:e.message)||ve("claims:local.notifications.getLocalDialect.genericError.message")}))}))}),[]),(0,b.useEffect)((function(){if((null==ie?void 0:ie.length)>0){var e=Se.filter((function(e){return!(null!=ie&&ie.includes(e.name)||null!=ae&&ae.includes(e.name))}));Z((null==e?void 0:e.length)>0)}else if(ae&&ae.length>0){var t=!1;c.rk.localAttributes.isUserStoresHidden(ae).then((function(e){e.map((function(e){e.enabled&&(t=!0)})),Z(e.length>0&&t)}))}else(null==Se?void 0:Se.length)>0?Z(!0):Z(!1)}),[ae,Se]),(0,b.useEffect)((function(){W&&B&&K&&(o.m.push({pathname:i.$.getPaths().get("LOCAL_CLAIMS_EDIT").replace(":id",K),search:L.QN.NEW_LOCAL_CLAIM_URL_SEARCH_PARAM}),q(!1),n(),r())}),[W,B,K]);var Ie=function(){var e,t=(e=nn().mark((function e(t,a,i){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.rk.localAttributes.createCustomDialect){e.next=3;break}return e.next=3,c.rk.localAttributes.isSCIMCustomDialectAvailable().then((function(e){""===e&&(0,U.CM)(oe)}));case 3:q(!0),(0,U.ij)(t).then((function(e){if(Ee.publish("manage-attribute-add-new-attribute"),pe((0,p.V_)({description:ve("claims:local.notifications.addLocalClaim.success.description"),level:f.QU.SUCCESS,message:ve("claims:local.notifications.addLocalClaim.success.message")})),c.rk.localAttributes.mapClaimToCustomDialect&&a?(i?H(!0):c.rk.localAttributes.isSCIMCustomDialectAvailable().then((function(e){(0,U.wg)(e,{claimURI:"".concat(oe,":").concat(a.get("scim")),mappedLocalClaimURI:t.claimURI}).then((function(){Ce()})).finally((function(){return H(!0)}))})),c.rk.localAttributes.getDialect(L.QN.OIDC_MAPPING[0]).then((function(e){(0,U.wg)(e.id,{claimURI:"".concat(a.get("oidc")),mappedLocalClaimURI:t.claimURI}).finally((function(){return $(!0)}))}))):($(!0),H(!0)),(0,Re.Z)(e.headers.location))n(),r(),q(!1);else{var l=e.headers.location,o=l.substring(l.lastIndexOf("/")+1);J(o)}})).catch((function(e){q(!1),ge({description:(null==e?void 0:e.description)||ve("claims:local.notifications.addLocalClaim.genericError.description"),level:f.QU.ERROR,message:(null==e?void 0:e.message)||ve("claims:local.notifications.addLocalClaim.genericError.message")})}));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function l(e){rn(i,r,a,l,o,"next",e)}function o(e){rn(i,r,a,l,o,"throw",e)}l(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}(),Ce=function(){pe((0,p.wu)(!0)),(0,s.w7)().then((function(e){pe((0,p.Um)(e))})).catch((function(e){var t;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description&&pe((0,p.V_)({description:e.response.data.description,level:f.QU.ERROR,message:ve("console:manage.notifications.getProfileSchema.error.message")})),pe((0,p.V_)({description:ve("console:manage.notifications.getProfileSchema.genericError.description"),level:f.QU.ERROR,message:ve("console:manage.notifications.getProfileSchema.genericError.message")}))})).finally((function(){pe((0,p.wu)(!1))}))},we=[{content:b.createElement(Mt,{submitState:ue,validateMapping:G,setValidateMapping:F,onSubmit:function(e,t){var n=en(en({},g),e),r=new Map;I(n),A(t),t.has("scim")?r.set("scim",t.get("scim").toString()):re.current=!0,t.has("oidc")&&r.set("oidc",t.get("oidc").toString()),k(r),c.rk.localAttributes.createWizard.identifyAsCustomAttrib&&(n.properties&&n.properties.length>0?n.properties.push({key:"USER_CUSTOM_ATTRIBUTE",value:"TRUE"}):n.properties=[{key:"USER_CUSTOM_ATTRIBUTE",value:"TRUE"}]),P?d(1):(n.attributeMapping=[{mappedAttribute:n.claimURI.split("/").pop(),userstore:le}],Ie(n,r,!(null==re||!re.current)))},values:w,claimURIBase:te,"data-testid":"".concat(a,"-local-claims-basic-details")}),icon:Yt().general,title:ve("claims:local.wizard.steps.general")},P?{content:b.createElement(Pt,{submitState:me,onSubmit:function(e,t){var n=en(en({},g),e);I(n),_(t),c.rk.localAttributes.createWizard.showPrimaryUserStore||n.attributeMapping.push({mappedAttribute:n.claimURI.split("/").pop(),userstore:le}),c.rk.localAttributes.createWizard.showSummary?d(2):Ie(n,M,!(null==re||!re.current))},values:N,"data-testid":"".concat(a,"-mapped-attributes")}),icon:Yt().general,title:ve("claims:local.wizard.steps.mapAttributes")}:void 0,c.rk.localAttributes.createWizard.showSummary?{content:b.createElement(jt,{data:g,"data-testid":"".concat(a,"-local-claims-summary")}),icon:Yt().general,title:ve("claims:local.wizard.steps.summary")}:void 0].filter((function(e){return void 0!==e})),Ae=function(){if(1===we.length&&se(),2===we.length)switch(u){case 0:se();break;case 1:fe()}switch(u){case 0:se();break;case 1:fe();break;case 2:Ie(g,M,!(null==re||!re.current))}};return b.createElement(wt.Z,{dimmer:"blurring",size:"small",className:"wizard application-create-wizard",open:t,onClose:n,"data-testid":a,closeOnDimmerClick:!1},b.createElement(wt.Z.Header,{className:"wizard-header"},ve("claims:local.wizard.header"),w&&w.get("name")?" - "+w.get("name"):""),we.length>1&&b.createElement(wt.Z.Content,{className:"steps-container","data-testid":"".concat(a,"-steps")},b.createElement(y.Rg.Group,{current:u},we.map((function(e,t){return b.createElement(y.Rg.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(a,"-step-").concat(t)})})))),b.createElement(wt.Z.Content,{className:"content-container",scrolling:!0},ye&&be,we[u].content),b.createElement(wt.Z.Actions,null,b.createElement(O.Z,null,b.createElement(O.Z.Row,{column:1},b.createElement(O.Z.Column,{mobile:8,tablet:8,computer:8},b.createElement(y.Qj,{floated:"left",onClick:function(){return n()}},"Cancel")),b.createElement(O.Z.Column,{mobile:8,tablet:8,computer:8},u<we.length-1&&b.createElement(y.KM,{floated:"right",onClick:Ae,loading:G,"data-testid":"".concat(a,"-next-button")},ve("common:next")," ",b.createElement(R.Z,{name:"arrow right"})),u===we.length-1&&b.createElement(y.KM,{floated:"right",onClick:Ae,"data-testid":"".concat(a,"-finish-button"),loading:j||G,disabled:j},ve("common:finish")),u>0&&b.createElement(y.Qj,{floated:"right",onClick:function(){d(u-1)},"data-testid":"".concat(a,"-previous-button")},b.createElement(R.Z,{name:"arrow left"})," ",ve("common:previous")))))))};function cn(e){return cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cn(e)}function un(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=pn(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){o=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw i}}}}function sn(e){return function(e){if(Array.isArray(e))return vn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dn(){dn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},l=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,l=Object.create(i.prototype),o=new x(r||[]);return a(l,"_invoke",{value:A(e,n,o)}),l}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function y(){}function g(){}function b(){}var E={};u(E,l,(function(){return this}));var S=Object.getPrototypeOf,R=S&&S(S(N([])));R&&R!==n&&r.call(R,l)&&(E=R);var I=b.prototype=y.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,i,l,o){var c=d(e[a],e,i);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==cn(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,l,o)}),(function(e){n("throw",e,l,o)})):t.resolve(s).then((function(e){u.value=e,l(u)}),(function(e){return n("throw",e,l,o)}))}o(c.arg)}var i;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function A(t,n,r){var a=m;return function(i,l){if(a===p)throw Error("Generator is already running");if(a===v){if("throw"===i)throw l;return{value:e,done:!0}}for(r.method=i,r.arg=l;;){var o=r.delegate;if(o){var c=O(o,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=d(t,n,r);if("normal"===u.type){if(a=r.done?v:f,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=v,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=d(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var l=i.arg;return l?l.done?(n[t.resultName]=l.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):l:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function U(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(U,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(cn(t)+" is not iterable")}return g.prototype=b,a(I,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},C(w.prototype),u(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var l=new w(s(e,n,r,a),i);return t.isGeneratorFunction(n)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},C(I),u(I,c,"Generator"),u(I,l,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return o.type="throw",o.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var l=this.tryEntries[i],o=l.completion;if("root"===l.tryLoc)return a("end");if(l.tryLoc<=this.prev){var c=r.call(l,"catchLoc"),u=r.call(l,"finallyLoc");if(c&&u){if(this.prev<l.catchLoc)return a(l.catchLoc,!0);if(this.prev<l.finallyLoc)return a(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return a(l.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return a(l.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var l=i?i.completion:{};return l.type=e,l.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function mn(e,t,n,r,a,i,l){try{var o=e[i](l),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,a)}function fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,l,o=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||pn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pn(e,t){if(e){if("string"==typeof e)return vn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vn(e,t):void 0}}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}on.defaultProps={"data-testid":"add-local-claims-wizard"};var hn=function(e){var t,n,r=e.dialectId,a=e.update,l=e.wizard,u=e.onSubmit,s=e.externalClaims,d=e.triggerSubmit,m=e.attributeType,v=e.claimDialectUri,g=e.mappedLocalClaims,R=e.cancel,I=e["data-testid"],C=fn((0,b.useState)(),2),w=C[0],x=C[1],N=fn((0,b.useState)(),2),_=N[0],T=N[1],M=fn((0,b.useState)(),2),k=M[0],D=M[1],P=fn((0,b.useState)([]),2),Z=P[0],V=P[1],j=fn((0,b.useState)(!1),2),q=j[0],Q=j[1],G=fn((0,b.useState)(""),2),F=G[0],z=G[1],B=fn((0,b.useState)(!0),2),H=B[0],X=B[1],W=fn((0,b.useState)(!1),2),$=W[0],Y=W[1],K=fn((0,b.useState)(!1),2),J=K[0],ee=K[1],te=fn((0,b.useState)(!0),2),ne=te[0],re=te[1],ae=fn((0,b.useState)(!1),2),ie=ae[0],le=ae[1],oe=fn((0,h.cC)(),2),ce=oe[0],ue=oe[1],se=(0,S.I0)(),de=(0,S.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.userSchemaURI})),me=(0,E.$)().t;(0,b.useEffect)((function(){"oidc"!==m&&v!==de&&(Z&&_&&0!==Z.length&&0!==_.length?ee(!1):ee(!0))}),[Z,_]),(0,b.useEffect)((function(){c.k9.serverSupportedClaimsAvailable.includes(v)&&0===(null==Z?void 0:Z.length)?le(!0):le(!1),"oidc"!==m&&v!==de?Z&&0!==Z.length?_&&0!==_.length?ee(!1):ee(!0):ee(!1):"oidc"===m||v!==de||_&&0!==_.length?ee(!1):ee(!0)}),[Z,_]),(0,b.useEffect)((function(){c.k9.serverSupportedClaimsAvailable.includes(v)?fe().finally():re(!1)}),[]);var fe=function(){var e,t=(e=dn().mark((function e(){var t,n,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re(!0),e.prev=1,e.next=4,(0,U.jb)(r);case 4:t=e.sent,V(t.attributes),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),se((0,p.V_)({description:(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.description)||me("claims:local.notifications.getClaims.genericError.description"),level:f.QU.ERROR,message:(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)||me("claims:local.notifications.getClaims.genericError.message")}));case 11:return e.prev=11,re(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function l(e){mn(i,r,a,l,o,"next",e)}function o(e){mn(i,r,a,l,o,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}();(0,b.useEffect)((function(){if(s&&s.length&&!ne){var e=new Set(s.map((function(e){return e.claimURI})));V(sn((null!=Z?Z:[]).filter((function(t){return!e.has(t)}))))}}),[s,ne]),(0,b.useEffect)((function(){X(!0),(0,U.WN)({"exclude-hidden-claims":!0,filter:null,limit:null,offset:null,sort:null}).then((function(e){var t=e.sort((function(e,t){return e.displayName>t.displayName?1:-1}));x(t),D(t),X(!1)})).catch((function(e){var t,n;se((0,p.V_)({description:(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.description)||me("claims:local.notifications.getClaims.genericError.description"),level:f.QU.ERROR,message:(null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message)||me("claims:local.notifications.getClaims.genericError.message")})),X(!1)}))}),[]),(0,b.useEffect)((function(){if(s&&w){var e=sn(w);null==g||g.forEach((function(t){e=sn(pe(t,e))})),D(e),T(e)}}),[s,q]),(0,b.useEffect)((function(){w&&Q(!0)}),[w]);var pe=function(e,t){var n=t||w;return null==n?void 0:n.filter((function(t){return t.claimURI!==e}))};return H&&ne?b.createElement(y.pO,null):b.createElement(h.Es,{onSubmit:function(e){l?(u(e),z(""),ue()):(Y(!0),(0,U.wg)(r,{claimURI:e.get("claimURI").toString(),mappedLocalClaimURI:e.get("localClaim").toString()}).then((function(){se((0,p.V_)({description:me("claims:external.notifications.addExternalAttribute.success.description",{type:(0,dt.i)(m)}),level:f.QU.SUCCESS,message:me("claims:external.notifications.addExternalAttribute.success.message",{type:(0,dt.i)(m,!0)})})),ue(),a(),!l&&R&&R()})).catch((function(e){se((0,p.V_)({description:(null==e?void 0:e.description)||me("claims:external.notifications.addExternalAttribute.genericError.description",{type:(0,dt.i)(m)}),level:f.QU.ERROR,message:(null==e?void 0:e.message)||me("claims:external.notifications.addExternalAttribute.genericError.message")}))})).finally((function(){Y(!1)})))},resetState:ce,submitState:d},b.createElement(O.Z,null,b.createElement(O.Z.Row,{columns:2},b.createElement(O.Z.Column,{width:8},c.k9.serverSupportedClaimsAvailable.includes(v)?b.createElement(h.gN,{name:"claimURI",label:me("claims:external.forms.attributeURI.label",{type:(0,dt.i)(m,!0)}),required:!0,requiredErrorMessage:me("claims:external.forms.attributeURI.requiredErrorMessage",{type:(0,dt.i)(m,!0)}),placeholder:me("claims:external.forms.attributeURI.placeholder",{type:(0,dt.i)(m)}),type:"dropdown","data-testid":"".concat(I,"-form-claim-uri-input"),listen:function(e){z(e.get("claimURI").toString())},validation:function(e,t){var n,r=un(s);try{for(r.s();!(n=r.n()).done;){if(n.value.claimURI===e){t.isValid=!1,t.errorMessages.push(me("claims:external.forms.attributeURI.validationErrorMessages.duplicateName",{type:(0,dt.i)(m)}));break}}}catch(a){r.e(a)}finally{r.f()}},children:null!==(t=null==Z?void 0:Z.map((function(e,t){return{key:t,text:e.split(":").pop(),value:e.split(":").pop()}})))&&void 0!==t?t:[]}):b.createElement(h.gN,{name:"claimURI",label:me("claims:external.forms.attributeURI.label",{type:(0,dt.i)(m,!0)}),required:!0,requiredErrorMessage:me("claims:external.forms.attributeURI.requiredErrorMessage",{type:(0,dt.i)(m,!0)}),placeholder:me("claims:external.forms.attributeURI.placeholder",{type:(0,dt.i)(m)}),type:"text",listen:function(e){z(e.get("claimURI").toString())},maxLength:50,"data-testid":"".concat(I,"-form-claim-uri-input"),validation:function(e,t){var n,r=un(s);try{for(r.s();!(n=r.n()).done;){if(n.value.claimURI===e){t.isValid=!1,t.errorMessages.push(me("claims:external.forms.attributeURI.validationErrorMessages.duplicateName",{type:(0,dt.i)(m)}));break}}}catch(a){r.e(a)}finally{r.f()}}})),b.createElement(O.Z.Column,{width:8},b.createElement(h.gN,{loading:H,type:"dropdown",name:"localClaim",label:me("claims:external.forms.localAttribute.label"),required:!0,requiredErrorMessage:me("claims:external.forms.localAttribute.requiredErrorMessage"),placeholder:me("claims:external.forms.localAttribute.placeholder"),search:function(e){return e},onSearchChange:function(e,t){var n=t.searchQuery,r=_.filter((function(e){return e.displayName.toLowerCase().includes(n.toLowerCase())}));D(r)},onClose:function(){D(_)},children:null!==(n=null==k?void 0:k.map((function(e,t){return{key:t,text:b.createElement("div",{className:"multiline"},null==e?void 0:e.displayName,b.createElement(y.EK,{className:"description",compact:!0,withBackground:!1},e.claimURI)),value:e.claimURI}})))&&void 0!==n?n:[],"data-testid":"".concat(I,"-form-local-claim-dropdown")})),b.createElement(O.Z.Column,{width:16},m!==L.QN.OIDC&&m!==L.QN.OTHERS&&b.createElement(At.Z,{className:"mb-3 mt-2 ml-0"},b.createElement("em",null,"Attribute URI"),":\xa0",F?"".concat(v).concat(m==L.QN.SCIM?":":"/").concat(F||""):""))),!H&&!ne&&(ie||J)&&b.createElement(O.Z.Row,{columns:1},b.createElement(O.Z.Column,{width:16,textAlign:"left",verticalAlign:"top"},b.createElement(y.v0,{visible:!0,type:"warning",content:b.createElement(b.Fragment,null,ie?b.createElement(A.c,{i18nKey:"claims:external.forms.emptyMessage"},"All the SCIM attributes are mapped to local claims."):b.createElement(b.Fragment,null,b.createElement(A.c,{i18nKey:"claims:external.forms.warningMessage"},"There are no local attributes available for mapping. Add new local attributes from"),b.createElement(y.rU,{external:!1,onClick:function(){return o.m.push(i.$.getPaths().get("LOCAL_CLAIMS"))}}," here"),"."))}))),l&&b.createElement(O.Z.Row,{columns:1},b.createElement(O.Z.Column,{width:16,textAlign:"right",verticalAlign:"top"},b.createElement(y.KM,{type:"submit","data-testid":"".concat(I,"-form-submit-button"),loading:$,disabled:$||J||ie},me("claims:external.forms.submit"))))))};function yn(e){return function(e){if(Array.isArray(e))return En(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,l,o=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||bn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){if(e){if("string"==typeof e)return En(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?En(e,t):void 0}}function En(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}hn.defaultProps={attributeType:L.QN.OTHERS,claimDialectUri:L.QN.CUSTOM_MAPPING,"data-testid":"add-external-claims"};var Sn=function(e){var t=e.open,n=e.onClose,r=e.update,a=e.attributeType,i=e["data-testid"],l=gn((0,b.useState)(0),2),o=l[0],c=l[1],u=gn((0,b.useState)(null),2),s=u[0],d=u[1],m=gn((0,b.useState)([]),2),v=m[0],g=m[1],I=gn((0,b.useState)(!1),2),C=I[0],w=I[1],A=gn((0,h.cC)(),2),L=A[0],x=A[1],N=gn((0,h.cC)(),2),_=N[0],T=N[1],M=(0,S.I0)(),k=(0,E.$)().t,D=gn((0,y.IK)(),3),P=D[0],Z=D[1],V=D[2],j=[{content:b.createElement(Qt,{submitState:L,onSubmit:function(e){c(1),d(e)},values:s,"data-testid":"".concat(i,"-dialect-details")}),icon:$t().general,title:k("claims:dialects.wizard.steps.dialectURI")},{content:b.createElement(An,{submitState:_,onSubmit:function(e){c(2),g(e)},values:v,onExternalClaimsChanged:function(e){g(yn(e))},"data-testid":"".concat(i,"-external-claims"),attributeType:a}),icon:$t().general,title:k("claims:dialects.wizard.steps.externalAttribute",{type:(0,qt.i)(a,!0)})},{content:b.createElement(Un,{dialectURI:null==s?void 0:s.get("dialectURI").toString(),claims:v,"data-testid":"".concat(i,"-summary"),attributeType:a}),icon:$t().general,title:k("claims:dialects.wizard.steps.summary")}],q=function(){switch(o){case 0:x();break;case 1:T();break;case 2:w(!0),(0,U.CM)(null==s?void 0:s.get("dialectURI").toString()).then((function(){var e=window.btoa(null==s?void 0:s.get("dialectURI").toString()).replace(/=/g,""),t=[];v.forEach((function(n){t.push((0,U.wg)(e,n))})),Promise.all(t).then((function(){M((0,p.V_)({description:k("claims:dialects.notifications.addDialect.success.description"),level:f.QU.SUCCESS,message:k("claims:dialects.notifications.addDialect.success.message")}))})).catch((function(){M((0,p.V_)({description:k("claims:dialects.notifications.addDialect.genericError.description"),level:f.QU.WARNING,message:k("claims:dialects.notifications.addDialect.genericError.message")}))})).finally((function(){n(),r()}))})).catch((function(e){Z({description:(null==e?void 0:e.description)||k("claims:dialects.notifications.addDialect.error.description"),level:f.QU.ERROR,message:(null==e?void 0:e.message)||k("claims:dialects.notifications.addDialect.error.message")})})).finally((function(){w(!1)}))}};return b.createElement(wt.Z,{dimmer:"blurring",size:"small",className:"wizard application-create-wizard",open:t,onClose:n,"data-testid":i,closeOnDimmerClick:!1},b.createElement(wt.Z.Header,{className:"wizard-header"},k("claims:dialects.wizard.header"),s&&s.get("dialectURI")?" - "+s.get("dialectURI"):""),b.createElement(wt.Z.Content,{className:"steps-container","data-testid":"".concat(i,"-steps")},b.createElement(y.Rg.Group,{current:o},j.map((function(e,t){return b.createElement(y.Rg.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(i,"-step-").concat(t)})})))),b.createElement(wt.Z.Content,{className:"content-container",scrolling:!0},P&&V,j[o].content),b.createElement(wt.Z.Actions,null,b.createElement(O.Z,null,b.createElement(O.Z.Row,{column:1},b.createElement(O.Z.Column,{mobile:8,tablet:8,computer:8},b.createElement(y.Qj,{floated:"left",onClick:function(){return n()},"data-testid":"".concat(i,"-cancel-button")},k("common:cancel"))),b.createElement(O.Z.Column,{mobile:8,tablet:8,computer:8},o<j.length-1&&b.createElement(y.KM,{floated:"right",onClick:q,"data-testid":"".concat(i,"-next-button")},k("common:next")," ",b.createElement(R.Z,{name:"arrow right"})),o===j.length-1&&b.createElement(y.KM,{floated:"right",onClick:q,"data-testid":"".concat(i,"-finish-button"),loading:C,disabled:C},k("common:finish")),o>0&&b.createElement(y.Qj,{floated:"right",onClick:function(){c(o-1)},"data-testid":"".concat(i,"-previous-button")},b.createElement(R.Z,{name:"arrow left"})," ",k("common:previous")))))))};function Rn(e){return function(e){if(Array.isArray(e))return wn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Cn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function In(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,l,o=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||Cn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cn(e,t){if(e){if("string"==typeof e)return wn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wn(e,t):void 0}}function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Sn.defaultProps={attributeType:L.QN.OTHERS,"data-testid":"add-dialect-wizard"};var An=function(e){var t=e.onSubmit,n=e.submitState,r=e.values,i=e.onExternalClaimsChanged,l=e.shouldShowInitialValues,o=e.attributeType,c=e.claimDialectUri,u=e.wizard,s=e.dialectId,d=e.mappedLocalClaims,m=e.onClaimListChange,f=e["data-testid"],p=In((0,b.useState)([]),2),v=p[0],h=p[1],S=In((0,b.useState)([]),2),R=S[0],I=S[1],C=In((0,b.useState)([]),2),w=C[0],A=C[1],U=(0,b.useRef)(!0),x=(0,b.useRef)(!0),N=(0,E.$)().t;(0,b.useEffect)((function(){A(d)}),[d]),(0,b.useEffect)((function(){U.current?U.current=!1:t(T())}),[n]),(0,b.useEffect)((function(){r&&(h(r),x.current&&(I(r),x.current=!1))}),[r]),(0,b.useEffect)((function(){"function"==typeof m&&(v.length===R.length?m(!0):m(!1))}),[v]);var _=function(e,t,n){switch(e){case L.QN.SCIM:return"".concat(t,":").concat(n);case L.QN.OIDC:case L.QN.OTHERS:return n;default:return"".concat(t,"/").concat(n)}},T=function(){return l?v:Xt(v,R,g.Z)};return b.createElement(O.Z,null,b.createElement(O.Z.Row,{columns:2},b.createElement(O.Z.Column,{width:16},b.createElement(hn,{wizard:!0,onSubmit:function(e){var t={claimURI:_(o,c,e.get("claimURI").toString()),mappedLocalClaimURI:e.get("localClaim").toString()},n=[].concat(Rn(v),[t]);A((function(e){return[].concat(Rn(e),[t.mappedLocalClaimURI])})),h(n),i&&i(n)},externalClaims:v,"data-testid":"".concat(f,"-add-external-claims"),attributeType:o,claimDialectUri:c,dialectId:s,mappedLocalClaims:w}),b.createElement(Ce.Z,{hidden:!0}),T().length>0?b.createElement(jn,{isLoading:!1,list:T(),localClaim:Vn.ADD_EXTERNAL,onEdit:function(e,t){var n,r=Rn(v),a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Cn(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){o=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(o)throw i}}}}(r);try{for(a.s();!(n=a.n()).done;){var l=n.value;(0,g.Z)(e,l)&&(L.QN.CLAIM_URI_ATTRIBUTE_KEY in e&&(l.claimURI=t.get("claimURI").toString(),l.mappedLocalClaimURI=t.get("localClaim").toString()))}}catch(o){a.e(o)}finally{a.f()}h(r),i&&i(r)},onDelete:function(e){var t=e,n=v.filter((function(t){return!(0,g.Z)(e,t)}));h(n),A(w.filter((function(e){return e!==t.mappedLocalClaimURI}))),i&&i(n)},"data-testid":"".concat(f,"-list"),attributeType:o,isEditable:!1}):u&&b.createElement(y.$J,{title:N("claims:external.placeholders.empty.title",{type:(0,dt.i)(o,!0)}),subtitle:[N("claims:external.placeholders.empty.subtitle",{type:(0,dt.i)(o)})],image:(0,a.jF)().emptyList,imageSize:"tiny","data-testid":"".concat(f,"-empty-placeholder")}))))};An.defaultProps={attributeType:L.QN.OTHERS,"data-testid":"external-claims",mappedLocalClaims:[],shouldShowInitialValues:!0,wizard:!0};var On=n(93682),Un=function(e){var t=e.dialectURI,n=e.claims,r=e.attributeType,a=e["data-testid"],i=(0,E.$)().t;return b.createElement(O.Z,{className:"wizard-summary","data-testid":a},b.createElement(O.Z.Row,{columns:1},b.createElement(O.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},b.createElement("div",{className:"general-details"},b.createElement("h3",null,t)))),b.createElement(O.Z.Row,{columns:1},b.createElement(O.Z.Column,{width:16},b.createElement(Vt.Z,null,b.createElement(Vt.Z.Header,null,b.createElement(Vt.Z.Row,null,b.createElement(Vt.Z.HeaderCell,null),b.createElement(Vt.Z.HeaderCell,null,i("claims:dialects.wizard.summary.externalAttribute",{type:(0,dt.i)(r,!0)})),b.createElement(Vt.Z.HeaderCell,null,i("claims:dialects.wizard.summary.mappedAttribute")))),b.createElement(Vt.Z.Body,null,n.map((function(e,t){return b.createElement(Vt.Z.Row,{key:t,columns:2},b.createElement(Vt.Z.Cell,null,b.createElement(On.Z,{floated:"left",verticalAlign:"middle",rounded:!0,centered:!0,size:"mini"},b.createElement(y.Xo,null),b.createElement("span",{className:"claims-letter"},(n=e.claimURI,(r=n.replace("http://","").split("/"))[r.length-1][0].toLocaleUpperCase())))),b.createElement(Vt.Z.Cell,null,e.claimURI),b.createElement(Vt.Z.Cell,null,e.mappedLocalClaimURI));var n,r})),0===n.length&&b.createElement(Vt.Z.Row,null,b.createElement(Vt.Z.Cell,{colSpan:3,textAlign:"center"},b.createElement(y.v0,{type:"warning",content:i("claims:dialects.wizard.summary.notFound",{type:(0,dt.i)(r,!0)})}))))))))};function Ln(e){return Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(e)}function xn(){xn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},l=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,l=Object.create(i.prototype),o=new x(r||[]);return a(l,"_invoke",{value:A(e,n,o)}),l}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function y(){}function g(){}function b(){}var E={};u(E,l,(function(){return this}));var S=Object.getPrototypeOf,R=S&&S(S(N([])));R&&R!==n&&r.call(R,l)&&(E=R);var I=b.prototype=y.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,i,l,o){var c=d(e[a],e,i);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Ln(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,l,o)}),(function(e){n("throw",e,l,o)})):t.resolve(s).then((function(e){u.value=e,l(u)}),(function(e){return n("throw",e,l,o)}))}o(c.arg)}var i;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function A(t,n,r){var a=m;return function(i,l){if(a===p)throw Error("Generator is already running");if(a===v){if("throw"===i)throw l;return{value:e,done:!0}}for(r.method=i,r.arg=l;;){var o=r.delegate;if(o){var c=O(o,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=d(t,n,r);if("normal"===u.type){if(a=r.done?v:f,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=v,r.method="throw",r.arg=u.arg)}}}function O(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=d(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var l=i.arg;return l?l.done?(n[t.resultName]=l.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):l:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function U(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(U,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Ln(t)+" is not iterable")}return g.prototype=b,a(I,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},C(w.prototype),u(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var l=new w(s(e,n,r,a),i);return t.isGeneratorFunction(n)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},C(I),u(I,c,"Generator"),u(I,l,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return o.type="throw",o.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var l=this.tryEntries[i],o=l.completion;if("root"===l.tryLoc)return a("end");if(l.tryLoc<=this.prev){var c=r.call(l,"catchLoc"),u=r.call(l,"finallyLoc");if(c&&u){if(this.prev<l.catchLoc)return a(l.catchLoc,!0);if(this.prev<l.finallyLoc)return a(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return a(l.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return a(l.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var l=i?i.completion:{};return l.type=e,l.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function Nn(e,t,n,r,a,i,l){try{var o=e[i](l),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,a)}function _n(e){return function(e){if(Array.isArray(e))return kn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Mn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,l,o=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||Mn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(e,t){if(e){if("string"==typeof e)return kn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kn(e,t):void 0}}function kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Un.defaultProps={attributeType:L.QN.OTHERS,"data-testid":"add-dialect-summary"};var Dn=function(e){var t,n,a,u,s,d,m=e.attributeType,v=e.attributeUri,g=e.mappedLocalClaims,I=e.isAttributeButtonEnabled,C=e.attributeButtonText,w=e.updateMappedClaims,A=e.updateDialects,x=e["data-testid"],N=(0,E.$)().t,_=[{key:0,text:N("claims:external.attributes.attributeURI",{type:(0,dt.i)(m,!0,!0)}),value:"claimURI"},{key:1,text:N("claims:external.attributes.mappedClaim"),value:"mappedLocalClaimURI"}],T=(0,S.v9)((function(e){return e.config.ui.features})),M=(0,S.v9)((function(e){return e.config.ui.features.attributeDialects})),k=(0,S.v9)((function(e){return e.config.ui.features.oidcScopes})),D=(0,r.EV)(null==M||null===(t=M.scopes)||void 0===t?void 0:t.create),P=(0,r.EV)(null==k||null===(n=k.scopes)||void 0===n?void 0:n.feature),Z=Tn((0,b.useState)(0),2),V=Z[0],j=Z[1],q=Tn((0,b.useState)(l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),Q=q[0],G=q[1],F=Tn((0,b.useState)([]),2),z=F[0],B=F[1],H=Tn((0,b.useState)(_[0]),2),X=H[0],W=H[1],$=Tn((0,b.useState)(!0),2),Y=$[0],K=$[1],J=Tn((0,b.useState)(!1),2),ee=J[0],te=J[1],ne=Tn((0,b.useState)(""),2),re=ne[0],ae=ne[1],ie=Tn((0,b.useState)(!1),2),le=ie[0],oe=ie[1],ce=Tn((0,b.useState)(!0),2),ue=ce[0],se=ce[1],de=Tn((0,b.useState)(!1),2),me=de[0],pe=de[1],ve=Tn((0,b.useState)([]),2),he=ve[0],ye=ve[1],ge=Tn((0,h.cC)(),2),be=ge[0],Ee=ge[1],Se=Tn((0,h.cC)(),2),Re=Se[0],Ie=Se[1],we=(0,S.I0)(),Ae=e.dialectID,Oe=e.claims,Ue=e.update,Le=e.isLoading,xe=Rt.l.getInstance();(0,b.useEffect)((function(){v&&Ae&&c.k9.serverSupportedClaimsAvailable.includes(v)&&Me()}),[Ae]),(0,b.useEffect)((function(){if(null!=z&&z.length){var e=new Set(z.map((function(e){return e.claimURI})));ye(_n((null!=he?he:[]).filter((function(t){return!e.has(t)}))))}}),[z]);var Ne=(0,b.useMemo)((function(){return(null==he?void 0:he.length)>0}),[he]);(0,b.useEffect)((function(){Oe?(B(Oe),Te()):B([])}),[Oe]),(0,b.useEffect)((function(){B((0,vt.f)(z,X.value,Y))}),[X,Y]);var _e=function(e){try{var t=(0,It.g)(Oe,e,X.value,Y);B(t),ae(e),j(0),Ie()}catch(n){we((0,p.V_)({description:null==n?void 0:n.message,level:f.QU.ERROR,message:N("claims:external.advancedSearch.error")}))}},Te=function(){oe(!le),ae(""),B(Oe)},Me=function(){var e,t=(e=xn().mark((function e(){var t,n,r;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,U.jb)(Ae);case 3:t=e.sent,ye(t.attributes),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),we((0,p.V_)({description:(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.description)||N("claims:local.notifications.getClaims.genericError.description"),level:f.QU.ERROR,message:(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.message)||N("claims:local.notifications.getClaims.genericError.message")}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function l(e){Nn(i,r,a,l,o,"next",e)}function o(e){Nn(i,r,a,l,o,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}();return b.createElement(y.PS,{advancedSearch:b.createElement(St.n,{onFilter:_e,filterAttributeOptions:[{key:0,text:N("claims:external.attributes.attributeURI",{type:(0,dt.i)(m,!0,!0)}),value:"claimURI"},{key:1,text:N("claims:external.attributes.mappedClaim"),value:"mappedLocalClaimURI"}],filterAttributePlaceholder:N("claims:external.advancedSearch.form.inputs.filterAttribute.placeholder",{type:(0,dt.i)(m,!0,!0)}),filterConditionsPlaceholder:N("claims:external.advancedSearch.form.inputs.filterCondition.placeholder",{type:(0,dt.i)(m,!0,!0)}),filterValuePlaceholder:N("claims:external.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:N("claims:external.advancedSearch.placeholder",{type:(0,dt.i)(m,!0,!0)}),defaultSearchAttribute:"claimURI",defaultSearchOperator:"co",triggerClearQuery:le,"data-testid":"".concat(x,"-list-advanced-search")}),currentListSize:Q,listItemLimit:Q,onItemsPerPageDropdownChange:function(e,t){G(t.value)},onPageChange:function(e,t){j((t.activePage-1)*Q)},onSortStrategyChange:function(e,t){W(_.filter((function(e){return e.value===t.value}))[0])},onSortOrderChange:function(e){K(e)},resetPagination:Re,showPagination:!0,sortOptions:_,sortStrategy:X,showTopActionPanel:Le||!(!re&&(null==z?void 0:z.length)<=0),totalPages:Math.ceil((null==z?void 0:z.length)/Q),totalListSize:null==z?void 0:z.length,rightActionPanel:b.createElement(b.Fragment,null,(null===c.rk||void 0===c.rk||null===(a=c.rk.editAttributeMappings)||void 0===a?void 0:a.showAddExternalAttributeButton(Ae))&&D&&I&&(!c.k9.serverSupportedClaimsAvailable.includes(v)||Ne)&&b.createElement(y.KM,{loading:Oe&&v!==(null===(u=Oe[0])||void 0===u?void 0:u.claimDialectURI),onClick:function(){var e;Oe&&v!==(null===(e=Oe[0])||void 0===e?void 0:e.claimDialectURI)||te(!0)},disabled:ee||Oe&&v!==(null===(s=Oe[0])||void 0===s?void 0:s.claimDialectURI),"data-testid":"".concat(x,"-list-layout-add-button")},b.createElement(R.Z,{name:"add"}),C),m===L.QN.OIDC&&(null==T||null===(d=T.oidcScopes)||void 0===d?void 0:d.enabled)&&P&&b.createElement(y.kq,{onClick:function(){o.m.push(i.$.getPaths().get("OIDC_SCOPES"))},"data-componentid":"".concat(x,"-oidc-scopes-button")},b.createElement(fe.NX,{fill:"black",className:"icon"}),N("console:develop.features.sidePanel.oidcScopes"))),"data-testid":"".concat(x,"-list-layout")},ee&&b.createElement(wt.Z,{open:ee,onClose:function(){te(!1)},dimmer:"blurring",size:"small","data-testid":"".concat(x,"-add-external-claim-modal"),closeOnDimmerClick:!1},b.createElement(wt.Z.Header,null,N("claims:external.pageLayout.edit.header",{type:(0,dt.i)(m,!0)})),b.createElement(wt.Z.Content,{scrolling:!0,className:"edit-attribute-mapping"},b.createElement(An,{"data-testid":"".concat(x,"-add-external-claims"),onSubmit:function(e){!function(e){pe(!0),(Ae?Promise.resolve(Ae):(0,U.CM)(v).then((function(){return A(!0),(0,U.jp)({})})).then((function(e){var t=e.find((function(e){return e.dialectURI===v}));if(!t)throw new Error("Dialect not found after creation.");return t.id}))).then((function(t){var n=e.map((function(e){return(0,U.wg)(t,{claimURI:e.claimURI,mappedLocalClaimURI:e.mappedLocalClaimURI})}));Promise.all(n)})).then((function(){we((0,p.V_)({description:N("claims:external.notifications.addExternalAttribute.success.description",{type:(0,dt.i)(m)}),level:f.QU.SUCCESS,message:N("claims:external.notifications.addExternalAttribute.success.message")})),Ue(),w(!0)})).catch((function(e){we((0,p.V_)({description:(null==e?void 0:e.description)||N("claims:external.notifications.addExternalAttribute.genericError.description"),level:f.QU.ERROR,message:(null==e?void 0:e.message)||N("claims:external.notifications.addExternalAttribute.genericError.message")}))})).finally((function(){pe(!1),te(!1)}))}(e)},submitState:be,values:Oe,shouldShowInitialValues:!1,attributeType:m,claimDialectUri:v,dialectId:Ae,wizard:!1,mappedLocalClaims:g,onClaimListChange:function(e){se(e)}})),b.createElement(wt.Z.Actions,null,b.createElement(y.Qj,{onClick:function(){te(!1)},"data-testid":"".concat(x,"-add-external-claim-modal-cancel-button")},N("common:cancel")),b.createElement(y.KM,{disabled:ue||me,loading:me,onClick:function(){xe.publish("manage-attribute-mappings-add-new-attribute",{type:(0,Ct.Z)(m)}),Ee()},"data-testid":"".concat(x,"-add-external-claim-modal-save-button")},N("common:save")))),b.createElement(O.Z,{columns:1},b.createElement(O.Z.Column,{width:16},b.createElement(Ce.Z,{hidden:!0}),b.createElement(jn,{advancedSearch:b.createElement(St.n,{onFilter:_e,filterAttributeOptions:[{key:0,text:N("claims:external.attributes.attributeURI",{type:(0,dt.i)(m,!0,!0)}),value:"claimURI"},{key:1,text:N("claims:external.attributes.mappedClaim"),value:"mappedLocalClaimURI"}],filterAttributePlaceholder:N("claims:external.advancedSearch.form.inputs.filterAttribute.placeholder",{type:(0,dt.i)(m,!0,!0)}),filterConditionsPlaceholder:N("claims:external.advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:N("claims:external.advancedSearch.form.inputs.filterValue.placeholder"),placeholder:N("claims:external.advancedSearch.placeholder",{type:(0,dt.i)(m,!0,!0)}),defaultSearchAttribute:"claimURI",defaultSearchOperator:"co",triggerClearQuery:le,"data-testid":"".concat(x,"-list-advanced-search")}),showTableHeaders:!0,isLoading:Le,list:function(e,t,n){return null==e?void 0:e.slice(n,n+t)}(z,Q,V),localClaim:Vn.EXTERNAL,update:function(){return Ue()},dialectID:Ae,onEmptyListPlaceholderActionClick:function(){return te(!0)},onSearchQueryClear:Te,searchQuery:re,"data-testid":"".concat(x,"-list"),attributeType:m,featureConfig:T,updateMappedClaims:w}))))};function Pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,l,o=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Dn.defaultProps={attributeType:L.QN.OTHERS,"data-testid":"edit-external-claims",isLoading:!0};var Vn=function(e){return e[e.LOCAL=0]="LOCAL",e[e.EXTERNAL=1]="EXTERNAL",e[e.DIALECT=2]="DIALECT",e[e.ADD_EXTERNAL=3]="ADD_EXTERNAL",e}({}),jn=function(e){var t,n,w,A=e.showTableHeaders,O=e.advancedSearch,x=e.defaultListItemLimit,N=e.featureConfig,_=e.list,T=e.localClaim,M=e.update,k=e.dialectID,D=e.onEdit,P=e.onDelete,Z=e.isLoading,V=e.onEmptyListPlaceholderActionClick,j=e.onListItemClick,q=e.onSearchQueryClear,Q=e.selection,G=e.searchQuery,F=e.attributeType,z=e.showListItemActions,B=e.isEditable,H=e.updateMappedClaims,X=e["data-testid"],W=Pn((0,b.useState)(!1),2),$=W[0],Y=W[1],K=Pn((0,b.useState)(null),2),J=K[0],ee=K[1],te=Pn((0,b.useState)(null),2),ne=te[0],re=te[1],ae=Pn((0,b.useState)(""),2),ie=ae[0],le=ae[1],oe=Pn((0,b.useState)(void 0),2),ce=oe[0],ue=oe[1],se=(0,r.EV)(null==N||null===(t=N.attributeDialects)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.create),de=(0,r.EV)(null==N||null===(n=N.attributeDialects)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.update),me=(0,r.EV)(null==N||null===(w=N.attributeDialects)||void 0===w||null===(w=w.scopes)||void 0===w?void 0:w.delete),fe=(0,u.z)().isSubOrganization,pe=(0,m.Z)(),ve=pe.filterUserStores,he=pe.userStoresList,ye=pe.mutateUserStoreList,ge=(0,b.useMemo)((function(){var e;return null===(e=ve(!1,!1,!0,!0))||void 0===e?void 0:e.length}),[he]),be=!de||fe()&&ge<1,Ee=(0,S.I0)(),Se=(0,S.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.primaryUserStoreDomainName})),Re=(0,S.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.systemReservedUserStores})),Ie=Pn((0,h.cC)(),2),Ce=Ie[0],we=Ie[1],Ae=(0,b.useRef)([]),Oe=(0,b.useRef)([]),Ue=(0,E.$)().t,Le=Pn((0,y.ZK)(),3),xe=Le[0],Ne=Le[1],_e=Le[2],Te="oidc";null==_||_.forEach((function(e,t){Ae.current.push(Ae.current[t]||b.createRef()),Oe.current.push(Oe.current[t]||b.createRef())})),(0,b.useEffect)((function(){ye()}),[]);var Me,ke=function(e){return T===Vn.LOCAL},De=function(e){return T===Vn.DIALECT},Pe=function(e){return T===Vn.EXTERNAL},Ze=function(){Y(!1),re(null),ee(null)},Ve=function(e){(0,U.wf)(e).then((function(){M(),Ze(),H(!0),Ee((0,p.V_)({description:Ue("claims:local.notifications.deleteClaim.success.description"),level:f.QU.SUCCESS,message:Ue("claims:local.notifications.deleteClaim.success.message")}))})).catch((function(e){Ee(Ne({description:(null==e?void 0:e.description)||Ue("claims:local.notifications.deleteClaim.genericError.description"),level:f.QU.ERROR,message:(null==e?void 0:e.message)||Ue("claims:local.notifications.deleteClaim.genericError.message")}))}))},je=function(e,t){(0,U.q)(e,t.id).then((function(){M(),c.rk.localAttributes.isSCIMCustomDialectAvailable().then((function(){qe()})),H(!0),Ze(),Ee((0,p.V_)({description:Ue("claims:external.notifications.deleteExternalClaim.success.description",{type:t.claimURI}),level:f.QU.SUCCESS,message:Ue("claims:external.notifications.deleteExternalClaim.success.message")}))})).catch((function(e){Ee((0,p.V_)({description:(null==e?void 0:e.description)||Ue("claims:external.notifications.deleteExternalClaim.genericError.description"),level:f.QU.ERROR,message:(null==e?void 0:e.message)||Ue("claims:external.notifications.deleteExternalClaim.genericError.message")}))}))},qe=function(){Ee((0,p.wu)(!0)),(0,s.w7)().then((function(e){Ee((0,p.Um)(e))})).catch((function(e){var t;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description&&Ee((0,p.V_)({description:e.response.data.description,level:f.QU.ERROR,message:Ue("console:manage.notifications.getProfileSchema.error.message")})),Ee((0,p.V_)({description:Ue("console:manage.notifications.getProfileSchema.genericError.description"),level:f.QU.ERROR,message:Ue("console:manage.notifications.getProfileSchema.genericError.message")}))})).finally((function(){Ee((0,p.wu)(!1))}))},Qe=function(e){(0,U.Nx)(e).then((function(){M(),Ze(),Ee((0,p.V_)({description:Ue("claims:dialects.notifications.deleteDialect.success.description"),level:f.QU.SUCCESS,message:Ue("claims:dialects.notifications.deleteDialect.success.message")}))})).catch((function(e){Ee((0,p.V_)({description:(null==e?void 0:e.description)||Ue("claims:dialects.notifications.deleteDialect.genericError.description"),level:f.QU.ERROR,message:(null==e?void 0:e.message)||Ue("claims:dialects.notifications.deleteDialect.genericError.message")}))}))},Ge=function(e,t){ee(e),re(t),Y(!0)},Fe=function(){return G?b.createElement(y.$J,{action:b.createElement(y.Qj,{onClick:q},Ue("console:manage.placeholders.emptySearchResult.action")),image:(0,a.jF)().emptySearch,imageSize:"tiny",title:Ue("console:manage.placeholders.emptySearchResult.title"),subtitle:[Ue("console:manage.placeholders.emptySearchResult.subtitles.0",{query:G}),Ue("console:manage.placeholders.emptySearchResult.subtitles.1")],"data-testid":"".concat(X,"-empty-search-placeholder")}):0===(null==_?void 0:_.length)?b.createElement(y.$J,{action:b.createElement(r.di,{when:null==N||null===(e=N.oidcScopes)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.create},b.createElement(y.KM,{onClick:V},b.createElement(R.Z,{name:"add"}),ke()?Ue("claims:list.placeholders.emptyList.action.local"):De()?Ue("claims:list.placeholders.emptyList.action.dialect",{type:(0,dt.i)(F,!0)}):Ue("claims:list.placeholders.emptyList.action.external",{type:(0,dt.i)(F,!0)}))),image:(0,a.jF)().newList,imageSize:"tiny",title:ke()?Ue("claims:list.placeholders.emptyList.title.local"):De()?Ue("claims:list.placeholders.emptyList.title.dialect"):fe()?Ue("claims:list.placeholders.emptyList.title.readOnlyDialect",{type:(0,dt.i)(F,!0)}):Ue("claims:list.placeholders.emptyList.title.external",{type:(0,dt.i)(F,!0)}),subtitle:[],"data-testid":"".concat(X,"-empty-placeholder")}):null;var e},ze=function(e){var t=e.claimURI.split("/");return t[t.length-1]};return b.createElement(b.Fragment,null,$?(Me=ke()?{assertion:ne.displayName,delete:Ve,message:Ue("claims:list.confirmation.local.message"),name:Ue("claims:list.confirmation.local.name")}:De()?{assertion:ne.dialectURI,delete:Qe,message:Ue("claims:list.confirmation.dialect.message"),name:Ue("claims:list.confirmation.dialect.name")}:{assertion:ne.claimURI,delete:je,message:Ue("claims:list.confirmation.external.message",{type:ne.claimURI})+(F&&F===Te?"If this attribute is attached to any scope, this action will also remove the attribute from the relevant scope.":L.QN.EMPTY_STRING),name:Ue("claims:list.confirmation.external.name",{type:ne.claimURI})},b.createElement(y.cV,{onClose:Ze,type:"negative",open:$,assertionHint:Ue("claims:list.confirmation.hint"),assertionType:"checkbox",primaryAction:Ue("claims:list.confirmation.action"),secondaryAction:Ue("common:cancel"),onSecondaryActionClick:function(){Y(!1),Ne(null)},onPrimaryActionClick:function(){J===Vn.EXTERNAL?Me.delete(k,ne):Me.delete(ne.id)},"data-testid":"".concat(X,"-delete-confirmation-modal"),closeOnDimmerClick:!1},b.createElement(y.cV.Header,{"data-testid":"".concat(X,"-delete-confirmation-modal-header")},Ue("claims:list.confirmation.header")),b.createElement(y.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(X,"-delete-confirmation-modal-message")},Ue("claims:list.confirmation.message",{name:Me.name})),b.createElement(y.cV.Content,{"data-testid":"".concat(X,"-delete-confirmation-modal-content")},b.createElement("div",{className:"modal-alert-wrapper"}," ",xe&&_e),Ue("claims:list.confirmation.content",{message:Me.message})))):null,b.createElement(y.wQ,{className:"external-dialects-list",externalSearch:O,isLoading:Z,loadingStateOptions:{count:null!=x?x:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"square"},actions:function(){if(z)return ke()?[{icon:function(){return be?"eye":"pencil alternate"},onClick:function(e,t){o.m.push(i.$.getPaths().get("LOCAL_CLAIMS_EDIT").replace(":id",null==t?void 0:t.id))},popupText:function(){return Ue(be?"common:view":"common:edit")},renderer:"semantic-icon"},c.rk.attributes.deleteAction&&{hidden:function(){return!me},icon:function(){return"trash alternate"},onClick:function(e,t){return Ge(Vn.LOCAL,t)},popupText:function(){return Ue("common:delete")},renderer:"semantic-icon"}]:De()?[{hidden:function(){return!se},icon:function(){return"pencil alternate"},onClick:function(e,t){o.m.push(i.$.getPaths().get("EXTERNAL_DIALECT_EDIT").replace(":id",t.id))},popupText:function(){return Ue("common:edit")},renderer:"semantic-icon"},c.rk.attributeMappings.deleteAction&&{hidden:function(){return!me},icon:function(){return"trash alternate"},onClick:function(e,t){return Ge(Vn.DIALECT,t)},popupText:function(){return Ue("common:delete")},renderer:"semantic-icon"}]:Pe()?[{hidden:function(e){return ie!==(null==e?void 0:e.id)},icon:function(){return"check"},onClick:function(){return we()},popupText:function(){return Ue("common:update")},renderer:"semantic-icon"},c.rk.externalAttributes.showActions(k)&&{hidden:function(){return c.rk.externalAttributes.isAttributeEditable?!se:!c.rk.externalAttributes.isAttributeEditable},icon:function(e){return c.rk.externalAttributes.getEditIcon(e,ie)},link:function(e){return c.rk.externalAttributes.isEditActionClickable(e)},onClick:function(e,t){return c.rk.externalAttributes.editAttribute(t,ie,le)},popupText:function(e){return c.rk.externalAttributes.getEditPopupText(e,ie)},renderer:"semantic-icon"},c.rk.externalAttributes.showDeleteIcon(k,_)&&{hidden:function(e){var t;return!(me&&!c.rk.externalAttributes.hideDeleteIcon(e))||!(null==e||null===(t=e.properties)||void 0===t||!t.some((function(e){return e.key===L.QN.SYSTEM_CLAIM_PROPERTY_NAME&&"true"===e.value})))},icon:function(){return"trash alternate"},onClick:function(e,t){return Ge(Vn.EXTERNAL,t)},popupText:function(){return Ue("common:delete")},renderer:"semantic-icon"}]:[{hidden:function(e){return!(0,g.Z)(ce,e)},icon:function(){return"check"},onClick:function(){return we()},popupText:function(){return Ue("common:update")},renderer:"semantic-icon"},{hidden:function(){return!B},icon:function(e){return(0,g.Z)(ce,e)?"times":"pencil alternate"},onClick:function(e,t){ue(ce?void 0:t)},popupText:function(){return Ue("common:edit")},renderer:"semantic-icon"},{icon:function(){return"trash alternate"},onClick:function(e,t){return P(t)},popupText:function(){return Ue("common:delete")},renderer:"semantic-icon"}]}(),columns:function(){if(ke())return[{allowToggleVisibility:!1,dataIndex:"displayName",id:"displayName",key:"displayName",render:function(e){var t=function(e){var t,n,r,a=[];return null==he||null===(t=he.filter((function(e){return!(null!=Re&&Re.includes(e.name))})))||void 0===t||t.forEach((function(t){var n,r;null!==(n=null==e||null===(r=e.attributeMapping)||void 0===r?void 0:r.find((function(e){return e.userstore.toLowerCase()===t.name.toLowerCase()})))&&void 0!==n||a.push(t.name)})),null!==(n=null==e||null===(r=e.attributeMapping)||void 0===r?void 0:r.find((function(e){return e.userstore===Se})))&&void 0!==n||a.push(v.StringUtils.isEqualCaseInsensitive(Se,d.pH)?Ue("console:manage.features.users.userstores.userstoreOptions.primary"):Se),a}(e),n=t.length>0;return b.createElement(I.Z,{as:"h6",image:!0},b.createElement(b.Fragment,null,c.rk.attributes.showUserstoreMappingWarningIcon&&n&&b.createElement(y.GI,{trigger:b.createElement(R.Z,{className:"notification-icon",name:"warning circle",size:"small",color:"red"}),content:b.createElement("div",null,Ue("claims:list.warning"),b.createElement("ul",null,t.map((function(e,t){return b.createElement("li",{key:t},e)})))),inverted:!0}),b.createElement(y.JT,{image:b.createElement(y.Xo,{name:ze(e),size:"mini","data-testid":"".concat(X,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(X,"-item-image")})),b.createElement(I.Z.Content,null,e.displayName,b.createElement(I.Z.Subheader,null,b.createElement("code",{className:"inline-code compact transparent"},e.claimURI))))},title:Ue("claims:list.columns.name")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:L.QN.EMPTY_STRING}];if(De())return[{allowToggleVisibility:!1,dataIndex:"dialectURI",id:"dialectURI",key:"dialectURI",render:function(e){return b.createElement(I.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(X,"-item-heading")},b.createElement(y.JT,{image:b.createElement(y.Xo,{name:e.dialectURI,size:"mini","data-testid":"".concat(X,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(X,"-item-image")}),b.createElement(I.Z.Content,null,e.dialectURI))},title:Ue("claims:list.columns.dialectURI")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:L.QN.EMPTY_STRING}];if(Pe()){return[{allowToggleVisibility:!1,dataIndex:"claimURI",id:"claimURI",key:"claimURI",render:function(e){return b.createElement(I.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(X,"-item-heading")},b.createElement(y.JT,{image:b.createElement(y.Xo,{name:e.claimURI,size:"mini","data-testid":"".concat(X,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(X,"-item-image")}),b.createElement(y.GI,{inverted:!0,position:"top center",key:"".concat(e.claimURI,"-popup"),content:e.claimURI,trigger:b.createElement(I.Z.Content,{className:"ellipsis"},e.claimURI)}))},title:F&&F===L.QN.SCIM?Ue("claims:list.columns.claimURI"):Ue("claims:list.columns.name"),width:8},{allowToggleVisibility:!1,dataIndex:"dialectURI",id:"dialectURI",key:"dialectURI",render:function(e){return ie===(null==e?void 0:e.id)?b.createElement(Et,{claimID:e.id,dialectID:k,update:function(){le(""),M()},submit:Ce,claimURI:e.claimURI,externalClaims:_,"data-testid":"".concat(X,"-edit-external-claim"),attributeType:F}):b.createElement(y.GI,{inverted:!0,position:"top center",key:"".concat(e.mappedLocalClaimURI,"-popup"),content:e.mappedLocalClaimURI,trigger:b.createElement("code",null,e.mappedLocalClaimURI)})},title:Ue("claims:list.columns.dialectURI"),width:6},(e=c.rk.externalAttributes.showActions(k)&&c.rk.externalAttributes.isAttributeEditable&&se,t=c.rk.externalAttributes.showDeleteIcon(k,_)&&me,e||t?{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:L.QN.EMPTY_STRING}:null)].filter(Boolean)}var e,t;return[{allowToggleVisibility:!1,dataIndex:"claimURI",id:"claimURI",key:"claimURI",render:function(e){return e?(0,g.Z)(ce,e)?b.createElement(Et,{dialectID:k,update:function(){ue(void 0)},submit:Ce,claimURI:e.claimURI,onSubmit:function(t){D(e,t)},wizard:!0,addedClaim:e,externalClaims:_}):b.createElement(I.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(X,"-item-heading")},b.createElement(y.JT,{name:e.claimURI,image:b.createElement(y.Xo,{name:e.claimURI,size:"mini","data-testid":"".concat(X,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(X,"-item-image")}),b.createElement(I.Z.Content,null,e.claimURI,b.createElement(I.Z.Subheader,null,e.mappedLocalClaimURI))):null},title:Ue("claims:list.columns.dialectURI")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:L.QN.EMPTY_STRING,width:2}]}(),data:_,onRowClick:function(e,t){if(de){if(ke())o.m.push(i.$.getPaths().get("LOCAL_CLAIMS_EDIT").replace(":id",t.id));else if(De())o.m.push(i.$.getPaths().get("EXTERNAL_DIALECT_EDIT").replace(":id",t.id));else if(Pe()&&c.rk.externalAttributes.isRowClickable(k,C.Z))c.rk.externalAttributes.isAttributeEditable&&le(ie?"":t.id);else{if(!B)return;ue(t)}j&&j(e,t)}},placeholders:Fe(),selectable:Q,showHeader:A,transparent:!Z&&null!==Fe(),"data-testid":X,isRowSelectable:function(e){return c.rk.isRowSelectable(e)},fixed:F!==Te}))};jn.defaultProps={attributeType:L.QN.OTHERS,"data-testid":"claims-list",selection:!0,showListItemActions:!0,showTableHeaders:!1}},99116:(e,t,n)=>{n.d(t,{i:()=>r.i});var r=n(66470)},66470:(e,t,n)=>{n.d(t,{i:()=>a});var r=n(12252),a=function(e,t,n){switch(e){case r.QN.OIDC:return n?"OIDC":"OpenID Connect";case r.QN.SCIM:return"SCIM";case r.QN.AXSCHEMA:return"Axschema";case r.QN.EIDAS:return"eIDAS";default:return t?"Custom":"custom"}}},33839:(e,t,n)=>{n.d(t,{Tf:()=>r.Tf,Wf:()=>r.Wf,sM:()=>r.sM});var r=n(3116)},3116:(e,t,n)=>{n.d(t,{Tf:()=>v,Wf:()=>h,sM:()=>p});var r=n(2292),a=n(96124),i=n(76271),l=n(87029),o=n(21257),c=n(43939),u=n(6833),s=n(44485);function d(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=r.AsgardeoSPAClient.getInstance().httpRequest.bind(r.AsgardeoSPAClient.getInstance()).bind(r.AsgardeoSPAClient.getInstance()),p=function(e,t,n){var r={data:[t,n,y(e),g(e)].filter((function(e){return null!=e})),headers:{Accept:"application/json","Content-Type":"application/json"},method:u.f2.PUT,url:i.h.getState().config.endpoints.validationServiceMgt};return f(r).then((function(e){if(200!==e.status)throw new c.u(s.Q0.CONFIGURATION_UPDATE_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new c.u(s.Q0.CONFIGURATION_STATUS_UPDATE_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},v=function(e){var t={data:{fields:e},headers:{Accept:"application/json","Content-Type":"application/json"},method:u.f2.POST,url:i.h.getState().config.endpoints.validationServiceMgt+"/revert"};return f(t).then((function(e){if(200!==e.status)throw new c.u(s.Q0.CONFIGURATION_REVERT_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new c.u(s.Q0.CONFIGURATION_REVERT_ERROR,e.stack,e.code,e.request,e.response,e.config)}))},h=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=(0,o.z)().organizationType,n={headers:{Accept:"application/json","Content-Type":"application/json"},method:u.f2.GET,params:{},url:t===l.$B.SUBORGANIZATION?i.h.getState().config.endpoints.validationServiceMgtSubOrg:i.h.getState().config.endpoints.validationServiceMgt},r=(0,a.Z)(e?n:null,{shouldRetryOnError:!1}),c=r.data,s=r.error;return{data:c,error:s,isLoading:!c&&!s,isValidating:r.isValidating,mutate:r.mutate}},y=function(e){if("username"!==e.field){var t=[{properties:[{key:"min.length",value:e.minLength?e.minLength:"8"},{key:"max.length",value:e.maxLength?e.maxLength:"30"}],validator:"LengthValidator"},{properties:[{key:"min.length",value:e.minNumbers?e.minNumbers:"1"}],validator:"NumeralValidator"},{properties:[{key:"min.length",value:e.minUpperCaseCharacters?e.minUpperCaseCharacters:"1"}],validator:"UpperCaseValidator"},{properties:[{key:"min.length",value:e.minLowerCaseCharacters?e.minLowerCaseCharacters:"8"}],validator:"LowerCaseValidator"},{properties:[{key:"min.length",value:e.minSpecialCharacters?e.minSpecialCharacters:"8"}],validator:"SpecialCharacterValidator"}];return e.uniqueCharacterValidatorEnabled&&Number(e.minUniqueCharacters)>0&&(t=[].concat(d(t),[{properties:[{key:"min.unique.character",value:e.minUniqueCharacters?e.minUniqueCharacters:"1"}],validator:"UniqueCharacterValidator"}])),e.consecutiveCharacterValidatorEnabled&&Number(e.maxConsecutiveCharacters)>0&&(t=[].concat(d(t),[{properties:[{key:"max.consecutive.character",value:e.maxConsecutiveCharacters?e.maxConsecutiveCharacters:"1"}],validator:"RepeatedCharacterValidator"}])),{field:"password",rules:t}}},g=function(e){if(e&&"password"!==(null==e?void 0:e.field)){var t=[];return"false"===(null==e?void 0:e.enableValidator)?t.push({properties:[{key:"enable.validator",value:"true"}],validator:"EmailFormatValidator"}):t.push({properties:[{key:"enable.validator",value:"true"},{key:"enable.special.characters",value:"".concat(!e.isAlphanumericOnly)}],validator:"AlphanumericValidator"},{properties:[{key:"min.length",value:e.minLength?e.minLength:"3"},{key:"max.length",value:e.maxLength?e.maxLength:"50"}],validator:"LengthValidator"}),{field:"username",rules:t}}}},44485:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}n.d(t,{Ps:()=>u,Pv:()=>d,Q0:()=>s});var u=i((function e(){l(this,e)}));o(u,"VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS",{MIN_LENGTH:1,MIN_VALUE:0,PASSWORD_MIN_LENGTH:1,PASSWORD_MIN_VALUE:5}),o(u,"FEATURE_DICTIONARY",(new Map).set("RULE_BASED_PASSWORD_EXPIRY","validation.ruleBasedPasswordExpiry"));var s=i((function e(){l(this,e)}));o(s,"CONFIGURATION_STATUS_UPDATE_ERROR","An error occurred while updating validation configurations."),o(s,"CONFIGURATION_REVERT_ERROR","An error occurred while reverting validation configurations."),o(s,"CONFIGURATION_UPDATE_INVALID_STATUS_CODE_ERROR","Received an invalid status code while updating validation configurations."),o(s,"CONFIGURATION_REVERT_INVALID_STATUS_CODE_ERROR","Received an invalid status code while reverting validation configurations.");var d=function(e){return e.USERNAME="username",e.PASSWORD="password",e}({})},20839:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(92336),a=n(31549),i=n(87449),l=n(14517);const o=(0,n(44194).forwardRef)(((e,t)=>{var{className:n}=e,o=(0,r.__rest)(e,["className"]);return(0,a.jsx)(i.Z,Object.assign({ref:t,className:(0,l.Z)("oxygen-table","OxygenTable-root",n)},o))}))},24383:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(92336),a=n(31549),i=n(17652),l=n(14517);const o=(0,n(44194).forwardRef)(((e,t)=>{var{className:n}=e,o=(0,r.__rest)(e,["className"]);return(0,a.jsx)(i.Z,Object.assign({ref:t,className:(0,l.Z)("oxygen-table-body","OxygenTableBody-root",n)},o))}))},1227:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(92336),a=n(31549),i=n(38480),l=n(14517);const o=(0,n(44194).forwardRef)(((e,t)=>{var{className:n}=e,o=(0,r.__rest)(e,["className"]);return(0,a.jsx)(i.Z,Object.assign({ref:t,className:(0,l.Z)("oxygen-table-cell","OxygenTableCell-root",n)},o))}))},4358:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(92336),a=n(31549),i=n(49706),l=n(53080),o=n(14517),c=n(44194);const u=(0,i.ZP)(l.Z)((()=>({"td, th":{border:0}}))),s=(0,c.forwardRef)(((e,t)=>{var{className:n,hideBorder:i}=e,c=(0,r.__rest)(e,["className","hideBorder"]);return i?(0,a.jsx)(u,Object.assign({ref:t,className:(0,o.Z)("oxygen-table-row","OxygenTableRow-root",n)},c)):(0,a.jsx)(l.Z,Object.assign({ref:t,className:(0,o.Z)("oxygen-table-row","OxygenTableRow-root",n)},c))}))},2178:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(81611),a=n.n(r),i=n(83948),l=n.n(i)()(a());l.push([e.id,".sub-attribute-list .sub-attribute-row{display:flex;align-items:center;justify-content:space-between}.sub-attribute-list .sub-attribute-row .sub-attribute-delete-btn{margin-left:auto}",""]);const o=l}}]);