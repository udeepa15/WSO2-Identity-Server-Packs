"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[1160],{56646:(e,t,n)=>{n.d(t,{v:()=>l});var r=n(22557),o=n.n(r),a=n(44194),i=n(62508),s=n(10909),l=function(e){var t=e.alwaysOpen,n=e.className,r=e.stepTitle,l=e.stepContent,c=e.hasPrevious,u=e.hasNext,d=e.isFinalStep,m=e.handleCompleteStep,p=e.handlePreviousStep,f=e.step,g=e.isComplete,v=e.isInitial,E=e.isActiveStep,h=e.isCurrentStep,y=e.isNextEnabled,S=e.isSidePanelOpen,b=o()("quick-start-step",{complete:!t&&!E&&g,initial:!(t||v||h||g||E)},n);return a.createElement("div",{className:b},a.createElement("div",{className:"step-content-container ".concat(S?"side-panel-visible":"")},a.createElement("h3",null,r),a.createElement("div",{className:"step-content"},l,!t&&a.createElement(a.Fragment,null,a.createElement(i.Z,{hidden:!0}),a.createElement("div",null,c&&a.createElement(s.Z,{onClick:function(){p(f)},size:"tiny",className:"step-previous",color:"orange",basic:!0},"Previous"),u&&a.createElement(s.Z,{disabled:y,onClick:function(){m(f)},size:"tiny",primary:!0},"Next"),d&&a.createElement(s.Z,{onClick:function(){m(f)},size:"tiny",primary:!0},"Finish"))),a.createElement(i.Z,{hidden:!0}))))};l.defaultProps={alwaysOpen:!1}},5840:(e,t,n)=>{n.d(t,{t:()=>c});var r=n(44194),o=n(56646);function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){var t=e.handleFinishAction,n=e.alwaysOpen,s=e.stepContent,l=e.isNextEnabled,c=e.isSidePanelOpen,u=e["data-testid"],d=i((0,r.useState)([]),2),m=d[0],p=d[1],f=i((0,r.useState)(),2),g=f[0],v=f[1],E=function(){v(m.pop())};return r.createElement("div",{className:"quick-start-step-container","data-testid":u},s&&s.map((function(e,i){return r.createElement(o.v,{key:i,alwaysOpen:n,step:i,isInitial:0===i,hasNext:s[i+1],hasPrevious:s[i-1],isFinalStep:i==s.length-1,stepTitle:e.stepTitle,stepContent:e.stepContent,handleCompleteStep:function(){i!=s.length-1?(e.stepAction&&e.stepAction(),e.preventGoToNextStep||(!function(e){p([].concat(a(m),[e]))}(i),v(m.pop()))):t()},handlePreviousStep:E,isComplete:m.includes(i),isActiveStep:g===i,isNextEnabled:!l,isSidePanelOpen:c,isCurrentStep:!m.includes(i)&&m[m.length-1]+1===i})})))};c.defaultProps={alwaysOpen:!1}},8955:(e,t,n)=>{n.d(t,{$X:()=>c,RA:()=>d,ef:()=>m,uv:()=>u});var r=n(2292),o=n(76271),a=n(10319),i=n(6833),s="Resource not found.",l=r.AsgardeoSPAClient.getInstance().httpRequest.bind(r.AsgardeoSPAClient.getInstance()),c=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.GET,url:"".concat(o.h.getState().config.endpoints.onPremUserStoreAgentConnection,"/").concat(e)};return l(t).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==s)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))},u=function(e,t,n){var r=n===a.uD.RemoteUserStoreManager?"".concat(o.h.getState().config.endpoints.remoteUserStoreAgentConnection,"/").concat(e,"/agent/").concat(t):"".concat(o.h.getState().config.endpoints.onPremUserStoreAgentConnection,"/").concat(e,"/agent/").concat(t),c={headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.DELETE,url:r};return l(c).then((function(e){return 204!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==s)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))},d=function(e,t){var n=t===a.uD.RemoteUserStoreManager?"".concat(o.h.getState().config.endpoints.remoteUserStoreAgentToken,"/").concat(e):o.h.getState().config.endpoints.onPremUserStoreAgentToken,r={data:t===a.uD.RemoteUserStoreManager?{}:{userStoreId:e},headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.POST,url:n};return l(r).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==s)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))},m=function(e,t,n){var r=n===a.uD.RemoteUserStoreManager?"".concat(o.h.getState().config.endpoints.remoteUserStoreAgentToken,"/").concat(t,"/regenerate"):"".concat(o.h.getState().config.endpoints.onPremUserStoreAgentToken,"/regenerate"),c={data:n===a.uD.RemoteUserStoreManager?{existingTokenId:e}:{existingTokenId:e,userStoreId:t},headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.POST,url:r};return l(c).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==s)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))}},93331:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}n.d(t,{Ax:()=>m,eh:()=>u,sf:()=>d});var s,l,c,u=a((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));s=u,c="type",(l=i(l="REMOTE_USER_STORE_TYPE_QUERY_PARAM"))in s?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c;var d=function(e){return e.OPTIMIZED="optimized",e.CLASSIC="classic",e}({}),m=function(e){return e.GENERAL="general",e.CONFIGURATIONS="configurations",e.GUIDE="guide",e}({})},41160:(e,t,n)=>{n.r(t),n.d(t,{default:()=>tt});var r=n(55007),o=n(60486),a=n(40838),i=n(72025),s=n(31687),l=n(10319),c=n(6833),u=n(82406),d=n(20494),m=n(50699),p=n(44194),f=n(10479),g=n(47245),v=n(26154),E=n(82160),h=n(29585),y=n(82460),S=n(12380),b=n(70104),U=n(79408),A=n(20342),R=n(79438),w=n(24876),C=n(65612),O=n(19980),Z=n(12638);const I=function(e){var t=e.attributesList,n=e.resolveMappedAttribute,r=e.isReadOnly,o=void 0!==r&&r,a=e["data-componentid"],i=void 0===a?"custom-attribute-mappings":a,s=(0,f.$)().t,l=function(e){if(!e)return s("remoteUserStores:form.fields.attributes.validation.required")};return p.createElement("div",null,p.createElement(d.X6,{as:"h5"},s("remoteUserStores:pages.edit.configurations.attributes.custom.heading")),p.createElement(O.Z,{className:"attribute-mapping-section",padded:"very"},0===(null==t?void 0:t.length)&&p.createElement(d.$J,{title:s("remoteUserStores:pages.edit.configurations.attributes.custom.emptyPlaceholder.heading"),subtitle:[s("remoteUserStores:pages.edit.configurations.attributes.custom.emptyPlaceholder.description")],"data-componentid":"".concat(i,"-empty-placeholder")}),(null==t?void 0:t.length)>0&&p.createElement(y.Z,{spacing:2,"data-componentid":"".concat(i,"-grid")},null==t?void 0:t.map((function(e,t){var r=encodeURIComponent(e.claimURI);return p.createElement(C.Z,{key:t,container:!0},p.createElement(C.Z,{xs:12,lg:6,xl:5},p.createElement(Z.Z.Content,null,null==e?void 0:e.displayName,p.createElement(d.xv,{display:"inline",styles:{color:"red"}},"*"),p.createElement(Z.Z.Subheader,null,p.createElement("code",{className:"inline-code compact transparent"},null==e?void 0:e.claimURI)))),p.createElement(C.Z,{xs:6,lg:6,xl:5},p.createElement(R.SE,{FormControlProps:{margin:"dense"},"data-componentid":"".concat(i,"-").concat(e.claimURI,"-input"),name:r,component:R.xh,initialValue:n(e),disabled:o,validate:l})))})))))};var x=n(16482),k=n(12754),M=n(29051);const P=function(e){var t=e.initialValues,n=void 0===t?{}:t,r=e.userStoreManager,o=e.isReadOnly,a=void 0!==o&&o,i=e["data-componentid"],s=void 0===i?"group-attributes-section":i,c=(0,f.$)().t,u=(0,g.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.userStores})),v=(0,M.D)(u,r),E=function(e,t){if(!v&&(0,m.Z)(e))return c("remoteUserStores:form.fields.groupnameMapping.validation.required");var n=t["userstore-properties"];return null!=n&&n.ReadGroups&&(0,m.Z)(e)?c("remoteUserStores:form.fields.groupnameMapping.validation.readGroupsEnabled"):void 0},h=function(e,t){if(!v&&(0,m.Z)(e))return c("remoteUserStores:form.fields.groupIdMapping.validation.required");var n=t["userstore-properties"];return null!=n&&n.ReadGroups&&(0,m.Z)(e)?c("remoteUserStores:form.fields.groupIdMapping.validation.readGroupsEnabled"):void 0};return v||r===l.uD.RemoteUserStoreManager?p.createElement("div",null,p.createElement(d.X6,{as:"h3"},c("remoteUserStores:form.sections.groupAttributes")),p.createElement(R.lP,{subscription:{values:!0}},(function(e){var t,o=e.values["userstore-properties"],i=null!==(t=null==o?void 0:o.ReadGroups)&&void 0!==t?t:"true"===n[k.x$.PROPERTY_NAME_READ_GROUPS];return p.createElement(C.Z,{container:!0,spacing:2,className:"form-grid-container"},v&&p.createElement(C.Z,{xs:12},p.createElement(R.SE,{label:c("remoteUserStores:form.fields.readGroups.label"),name:"userstore-properties.".concat(k.x$.PROPERTY_NAME_READ_GROUPS),FormControlProps:{fullWidth:!0,margin:"dense"},"data-componentid":"".concat(s,"-field-readGroups"),component:R.ur,disabled:a,hint:p.createElement(d.kW,{className:"hint",compact:!0},c("remoteUserStores:form.fields.readGroups.helperText")),initialValue:"true"===n[k.x$.PROPERTY_NAME_READ_GROUPS]})),r===l.uD.RemoteUserStoreManager&&p.createElement(p.Fragment,null,p.createElement(C.Z,{xs:12,lg:5,xl:4},p.createElement(x.Z,{required:i&&r===l.uD.RemoteUserStoreManager,disabled:a||!i},c("remoteUserStores:form.fields.groupnameMapping.label"))),p.createElement(C.Z,{xs:12,lg:6,xl:4},p.createElement(R.SE,{FormControlProps:{margin:"dense"},"data-componentid":"".concat(s,"-field-groupnameMapping"),name:"userstore-properties.".concat(k.x$.PROPERTY_NAME_GROUPNAME),type:"text",placeholder:c("remoteUserStores:form.fields.groupnameMapping.placeholder"),component:R.xh,disabled:a||!i,helperText:p.createElement(d.kW,{className:"hint",compact:!0},c("remoteUserStores:form.fields.groupnameMapping.helperText")),initialValue:n[k.x$.PROPERTY_NAME_GROUPNAME],validate:E})),p.createElement(C.Z,null),p.createElement(C.Z,{xs:12,lg:5,xl:4},p.createElement(x.Z,{required:i&&r===l.uD.RemoteUserStoreManager,disabled:a||!i},c("remoteUserStores:form.fields.groupIdMapping.label"))),p.createElement(C.Z,{xs:12,lg:6,xl:4},p.createElement(R.SE,{FormControlProps:{margin:"dense"},ariaLabel:"groupIdMapping","data-componentid":"".concat(s,"-field-groupIdMapping"),name:"userstore-properties.".concat(k.x$.PROPERTY_NAME_GROUPID),type:"text",placeholder:c("remoteUserStores:form.fields.groupIdMapping.placeholder"),component:R.xh,disabled:a||!i,helperText:p.createElement(d.kW,{className:"hint",compact:!0},c("remoteUserStores:form.fields.groupIdMapping.helperText")),initialValue:n[k.x$.PROPERTY_NAME_GROUPID],validate:h})),p.createElement(C.Z,null)))}))):null};const T=function(e){var t=e.attributesList,n=e.resolveMappedAttribute,r=e.isReadOnly,o=void 0!==r&&r,a=e["data-componentid"],i=void 0===a?"local-attribute-mappings":a,s=(0,f.$)().t,l=function(e){if(!e)return s("remoteUserStores:form.fields.attributes.validation.required")};return p.createElement("div",null,p.createElement(d.X6,{as:"h5"},s("remoteUserStores:pages.edit.configurations.attributes.local.heading")),p.createElement(O.Z,{className:"attribute-mapping-section",padded:"very"},p.createElement(y.Z,{spacing:2},null==t?void 0:t.map((function(e,t){var r=encodeURIComponent(e.claimURI);return p.createElement(C.Z,{key:t,container:!0},p.createElement(C.Z,{xs:12,lg:6,xl:5},p.createElement(Z.Z.Content,null,null==e?void 0:e.displayName,p.createElement(d.xv,{display:"inline",styles:{color:"red"}},"*"),p.createElement(Z.Z.Subheader,null,p.createElement("code",{className:"inline-code compact transparent"},null==e?void 0:e.claimURI)))),p.createElement(C.Z,{xs:6,lg:6,xl:5},p.createElement(R.SE,{FormControlProps:{margin:"dense"},"data-componentid":"".concat(i,"-").concat(e.claimURI,"-input"),name:r,component:R.xh,initialValue:n(e),disabled:o,validate:l})))})))))};var N=n(35062),j=n(12252);const _=function(e){var t=e.localAttributes,n=e.resolveMappedAttribute,r=e.isReadOnly,o=void 0!==r&&r,a=e["data-componentid"],i=void 0===a?"user-attributes-section":a,s=(0,f.$)().t,l=j.QN.USER_NAME_CLAIM_URI,c=j.QN.USER_ID_CLAIM_URI,u=t.find((function(e){return e.claimURI===l})),m=t.find((function(e){return e.claimURI===c}));return p.createElement("div",null,p.createElement(d.X6,{as:"h3"},s("remoteUserStores:form.sections.userAttributes")),p.createElement(C.Z,{container:!0,spacing:2,className:"form-grid-container"},p.createElement(C.Z,{xs:12,lg:5,xl:4},p.createElement(x.Z,{required:!0},s("remoteUserStores:form.fields.usernameMapping.label")),p.createElement("br",null),p.createElement(N.Z,{variant:"caption"},l)),p.createElement(C.Z,{xs:12,lg:6,xl:4},p.createElement(R.SE,{FormControlProps:{margin:"dense"},"data-componentid":"".concat(i,"-field-usernameMapping"),name:encodeURIComponent(l),type:"text",placeholder:s("remoteUserStores:form.fields.usernameMapping.placeholder"),component:R.xh,disabled:o,helperText:p.createElement(d.kW,{className:"hint",compact:!0},s("remoteUserStores:form.fields.usernameMapping.helperText")),initialValue:n(u)})),p.createElement(C.Z,null),p.createElement(C.Z,{xs:12,lg:5,xl:4},p.createElement(x.Z,{required:!0},s("remoteUserStores:form.fields.userIdMapping.label")),p.createElement("br",null),p.createElement(N.Z,{variant:"caption"},c)),p.createElement(C.Z,{xs:12,lg:6,xl:4},p.createElement(R.SE,{FormControlProps:{margin:"dense"},"data-componentid":"".concat(i,"-field-userIdMapping"),name:encodeURIComponent(c),type:"text",placeholder:s("remoteUserStores:form.fields.userIdMapping.placeholder"),component:R.xh,disabled:o,helperText:p.createElement(d.kW,{className:"hint",compact:!0},s("remoteUserStores:form.fields.userIdMapping.helperText")),initialValue:n(m)}))))};var L=n(51835),D=n.n(L),V=n(27975),$=n.n(V),G=n(55900),F=n.n(G),Q=n(21555),H=n.n(Q),Y=n(3621),q=n.n(Y),W=n(5062),B=n.n(W),z=n(75763),X={};X.styleTagTransform=B(),X.setAttributes=H(),X.insert=F().bind(null,"head"),X.domAPI=$(),X.insertStyleElement=q();D()(z.Z,X);z.Z&&z.Z.locals&&z.Z.locals;function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ne(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ne(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=oe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||oe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){if(e){if("string"==typeof e)return ae(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ie=function(e){var t=e.userStore,n=e.userStoreId,r=e.userStoreManager,o=e.isLoading,a=e.isReadOnly,i=void 0!==a&&a,s=e.onUpdate,m=e.isUserStoreDisabled,v=e["data-componentid"],C=void 0===v?"configuration-settings":v,O=(0,f.$)().t,Z=(0,g.I0)(),x=(0,d.fQ)().getLink,M=(0,g.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.enableIdentityClaims})),N=re((0,p.useState)(!1),2),j=N[0],L=N[1],D=(0,S.Z)({"exclude-identity-claims":!M,filter:null,limit:null,offset:null,sort:null}),V=D.data,$=D.isLoading,G=D.error,F=D.mutate;(0,p.useEffect)((function(){G&&Z((0,u.V_)({description:O("claims:local.notifications.getClaims.genericError.description"),level:c.QU.ERROR,message:O("claims:local.notifications.getClaims.genericError.message")}))}),[G]);var Q=(0,p.useMemo)((function(){return $||!V?null:(0,U.f)(V,k.x$.DISPLAY_NAME_VALUE,!0)}),[$,V]),H=(0,p.useMemo)((function(){return Q?Q.filter((function(e){return e.properties.some((function(e){return"USER_CUSTOM_ATTRIBUTE"===e.key&&"TRUE"===e.value}))})):null}),[Q]),Y=(0,p.useMemo)((function(){return Q&&H?(0,w.Z)(Q,H):null}),[Q,H]),q=function(e){var n="";return e.attributeMapping.forEach((function(e){(e.userstore===(null==t?void 0:t.name.toUpperCase())||""===n&&e.userstore===k.x$.PRIMARY_USER_STORE_NAME)&&(n=e.mappedAttribute)})),n},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=t?"".concat(t,".").concat(r):r;"object"!==ne(e[r])||Array.isArray(e[r])||null===e[r]?n[o]=String(e[r]):W(e[r],o,n)}return n},B=function(e,t){var r,o=[],a=te(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;o.push({operation:"REPLACE",path:"/properties/".concat(i.name),value:i.value})}}catch(l){a.e(l)}finally{a.f()}(0,A.Xv)(n,o).then((function(){!function(e){(0,A.TU)(n,e).then((function(){Z((0,u.V_)({description:O("userstores:notifications.updateUserstore.success.description"),level:c.QU.SUCCESS,message:O("userstores:notifications.updateUserstore.success.message")})),Z((0,u.V_)({description:O("userstores:notifications.updateDelay.description"),level:c.QU.WARNING,message:O("userstores:notifications.updateDelay.message")})),F(),s()})).catch((function(e){Z((0,u.V_)({description:(null==e?void 0:e.description)||O("userstores:notifications.updateUserstore.genericError.description"),level:c.QU.ERROR,message:(null==e?void 0:e.message)||O("userstores:notifications.updateUserstore.genericError.message")}))})).finally((function(){L(!1)}))}(t)})).catch((function(){L(!1),Z((0,u.V_)({description:O("userstores:notifications.updateUserstore.genericError.description"),level:c.QU.ERROR,message:O("userstores:notifications.updateUserstore.genericError.message")}))}))},z=(0,p.useMemo)((function(){var e={};if(!t)return e;var n,r=te(null==t?void 0:t.properties);try{for(r.s();!(n=r.n()).done;){var o=n.value;e[o.name]=o.value}}catch(a){r.e(a)}finally{r.f()}return e}),[t]);return o||$||!Y||!H?p.createElement(d.pJ,{padded:"very",className:"userstore-configuration-settings","data-componentid":"".concat(C,"-loading-skeleton")},p.createElement(h.Z,{component:"h1",width:"40%"}),p.createElement(h.Z,null),p.createElement(h.Z,null),p.createElement("br",null),p.createElement(h.Z,null),p.createElement(h.Z,null),p.createElement("br",null),p.createElement(h.Z,{component:"h1",width:"40%"}),p.createElement(h.Z,null),p.createElement(h.Z,null)):p.createElement(d.pJ,{padded:"very",className:"userstore-configuration-settings"},p.createElement(R.vy,{onSubmit:function(e){!function(e){var n,o=J({},e),a=J({},o["userstore-properties"]),i=[],s=te(t.properties);try{for(s.s();!(n=s.n()).done;){var c=n.value;Object.prototype.hasOwnProperty.call(a,c.name)&&(c.value=a[c.name].toString(),i.push(J({},c)))}}catch(h){s.e(h)}finally{s.f()}delete o["userstore-properties"];for(var u=W(o),d=[],m=0,p=Object.entries(u);m<p.length;m++){var f=re(p[m],2),g=f[0],v=f[1],E=decodeURIComponent(g);d.push({claimURI:E,mappedAttribute:v}),r===l.uD.RemoteUserStoreManager&&(E===b.QN.USER_NAME_CLAIM_URI?i.push({name:k.x$.PROPERTY_NAME_USERNAME,value:v}):E===b.QN.USER_ID_CLAIM_URI&&i.push({name:k.x$.PROPERTY_NAME_USERID,value:v}))}L(!0),B(i,d)}(e)},render:function(e){var t=e.handleSubmit;return p.createElement("form",{onSubmit:t},p.createElement(y.Z,{spacing:3},p.createElement(_,{localAttributes:Y,resolveMappedAttribute:q,isReadOnly:i,"data-componentid":"".concat(C,"-user-attributes")}),p.createElement(P,{userStoreManager:r,initialValues:z,isReadOnly:i,"data-componentid":"".concat(C,"-group-attributes")}),p.createElement(d.X6,{as:"h3"},O("remoteUserStores:pages.edit.configurations.attributes.heading"),p.createElement(d.X6,{subHeading:!0,as:"h6"},O("extensions:manage.features.userStores.edit.attributeMappings.description"),p.createElement(d.eb,{link:x("manage.userStores.attributeMappings.learnMore")},O("common:learnMore")))),p.createElement(I,{attributesList:H,resolveMappedAttribute:q,isReadOnly:i,"data-componentid":"".concat(C,"-custom-attribute-mappings")}),p.createElement(T,{attributesList:Y,resolveMappedAttribute:q,isReadOnly:i,"data-componentid":"".concat(C,"-local-attribute-mappings")}),p.createElement(E.Z,{variant:"contained",className:"update-button",onClick:t,loading:j,disabled:j||i||m,"data-componentid":"".concat(C,"-update-button")},O("common:update"))))}}))},se=n(96334),le=n(89141),ce=n(62508),ue=n(73432),de=n(10909),me=n(8955),pe=n(96124),fe=n(76271),ge=function(e){var t,n,r,o,a;return{agent:{agentId:null!==(t=null!==(n=null===(r=e.agent)||void 0===r?void 0:r.Id)&&void 0!==n?n:null===(o=e.agent)||void 0===o?void 0:o.id)&&void 0!==t?t:"",displayName:null===(a=e.agent)||void 0===a?void 0:a.displayName},connected:e.connected,tokenId:e.tokenId}};const ve=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t===l.uD.RemoteUserStoreManager?"".concat(fe.h.getState().config.endpoints.remoteUserStoreAgentConnection,"/").concat(e):"".concat(fe.h.getState().config.endpoints.onPremUserStoreAgentConnection,"/").concat(e),o={headers:{Accept:"application/json","Content-Type":"application/json"},method:c.f2.GET,url:r},a=(0,pe.Z)(n?o:null),i=a.data,s=a.error,u=a.isLoading,d=a.isValidating,m=a.mutate;return{data:Array.isArray(i)?i.map(ge):void 0,error:s,isLoading:u,isValidating:d,mutate:m}};var Ee=n(56758);function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=he(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=he(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==he(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Re=function(e){var t,n,r,i=e.isDisabled,s=e.userStore,E=e.userStoreId,y=e.userStoreManager,S=e.handleUserStoreDisabled,b=e.isReadOnly,U=void 0!==b&&b,R=e["data-componentid"],w=(0,f.$)().t,C=(0,g.I0)(),Z=(0,d.fQ)().getLink,I=(0,d.kH)().isMobileViewport,x=Ue((0,p.useState)(null),2),M=x[0],P=x[1],T=Ue((0,p.useState)(""),2),N=T[0],j=T[1],_=Ue((0,p.useState)(""),2),L=_[0],D=_[1],V=Ue((0,p.useState)(""),2),$=V[0],G=V[1],F=Ue((0,p.useState)(!1),2),Q=F[0],H=F[1],Y=Ue((0,p.useState)(!1),2),q=Y[0],W=Y[1],B=Ue((0,p.useState)(!1),2),z=B[0],X=B[1],K=Ue((0,p.useState)(null),2),J=K[0],ee=K[1],te=Ue((0,p.useState)(null),2),ne=te[0],re=te[1],oe=Ue((0,p.useState)(!1),2),ae=oe[0],ie=oe[1],pe=Ue((0,p.useState)(!1),2),fe=pe[0],ge=pe[1],he=Ue((0,p.useState)(!1),2),ye=he[0],be=he[1],Ae=Ue((0,p.useState)(!1),2),Re=Ae[0],we=Ae[1],Ce=Ue((0,p.useState)(!1),2),Oe=Ce[0],Ze=Ce[1],Ie=Ue((0,d.ZK)(),3),xe=Ie[0],ke=Ie[1],Me=Ie[2],Pe=(0,g.v9)((function(e){return e.auth.isPrivilegedUser})),Te=ve(E,y),Ne=Te.data,je=Te.isLoading,_e=Te.error,Le=Te.mutate,De=(0,p.useMemo)((function(){return y===l.uD.WSOutboundUserStoreManager?null==Ne?void 0:Ne.filter((function(e){var t;return(null==e?void 0:e.agent)&&!(0,m.Z)(null==e||null===(t=e.agent)||void 0===t?void 0:t.displayName)})):null==Ne?void 0:Ne.map((function(e,t){var n,r,o;return Se(Se({},e),{},{agent:{agentId:null==e||null===(n=e.agent)||void 0===n?void 0:n.agentId,displayName:null!==(r=null==e||null===(o=e.agent)||void 0===o?void 0:o.displayName)&&void 0!==r?r:"Remote-Agent-".concat(t+1)}})}))}),[Ne]);(0,p.useEffect)((function(){_e&&C((0,u.V_)({description:w("remoteUserStores:notifications.connectionStatusCheckError.description"),level:c.QU.ERROR,message:w("remoteUserStores:notifications.connectionStatusCheckError.message")}))}),[null==_e||null===(t=_e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code]),(0,p.useEffect)((function(){(Q||q)&&Le()}),[ne]),(0,p.useEffect)((function(){$&&X(!0)}),[$]),(0,p.useEffect)((function(){N&&H(!0)}),[N]),(0,p.useEffect)((function(){L&&W(!0)}),[L]);return p.createElement(p.Fragment,null,p.createElement(d.pJ,{padded:"very"},p.createElement(le.Z,null,p.createElement(le.Z.Row,null,p.createElement(le.Z.Column,{width:6},p.createElement(se.Es,{onSubmit:function(e){!function(e){var t={operation:"REPLACE",path:"/description",value:e.get("description").toString()};(0,A.Xv)(E,[t]).then((function(){C((0,u.V_)({description:w("userstores:notifications.updateUserstore.success.description"),level:c.QU.SUCCESS,message:w("userstores:notifications.updateUserstore.success.message")})),C((0,u.V_)({description:w("userstores:notifications.updateDelay.description"),level:c.QU.WARNING,message:w("userstores:notifications.updateDelay.message")}))})).catch((function(e){C((0,u.V_)({description:(null==e?void 0:e.description)||w("userstores:notifications.updateUserstore.genericError.description"),level:c.QU.ERROR,message:(null==e?void 0:e.message)||w("userstores:notifications.updateUserstore.genericError.message")}))}))}(e)}},p.createElement(se.gN,{type:"text",name:"description",label:w("remoteUserStores:form.fields.description.label"),required:!1,placeholder:w("remoteUserStores:form.fields.description.placeholder"),maxLength:300,minLength:3,width:14,"data-testid":"".concat(R,"-user-store-description-textarea"),value:null!=s&&s.description?null==s?void 0:s.description:"",validation:function(e,t){var n,r=!0,o=(0,Ee.u)(e,k.o3.EscapeRegEx);if("true"===o.get("isMatch").toString()){r=!1;var a=o.get("invalidStringValue").toString();n=w("console:manage.features.userstores.forms.general.description.validationErrorMessages.invalidInputErrorMessage",{invalidString:a})}else r=!0;r||(t.isValid=!1,t.errorMessages.push(n))},readOnly:U}),p.createElement(d.GI,{trigger:p.createElement("div",{className:I?"mb-1x mt-1x inline-button button-width":"inline-button"},p.createElement(d.KM,{type:"submit",disabled:!("false"===(null==s||null===(n=s.properties)||void 0===n||null===(n=n.find((function(e){return e.name===l.rr})))||void 0===n?void 0:n.value))||U},w("common:update"))),content:w("extensions:manage.features.userStores.edit.general.disable.buttonDisableHint"),size:"mini",wide:!0,disabled:!("false"!==(null==s||null===(r=s.properties)||void 0===r||null===(r=r.find((function(e){return e.name===l.rr})))||void 0===r?void 0:r.value))}))))),p.createElement(ce.Z,{hidden:!0}),p.createElement(ce.Z,null),p.createElement(ce.Z,{hidden:!0}),p.createElement(d.X6,{as:"h4"},"User Store Agent Connection(s)"),p.createElement(O.Z,{className:"agent-connections-section",padded:"very"},je&&p.createElement("div",{"data-componentid":"".concat(R,"-loading-skeleton")},p.createElement(h.Z,{component:"h1",width:"40%"}),p.createElement(h.Z,null),p.createElement("br",null),p.createElement(h.Z,{component:"h1",width:"40%"}),p.createElement(h.Z,null)),!je&&(!De||0===De.length)&&p.createElement(d.$J,{"data-componentid":"".concat(R,"-empty-placeholder"),title:w("remoteUserStores:pages.edit.generalSettings.connections.emptyPlaceholder.heading"),subtitle:[w("remoteUserStores:pages.edit.generalSettings.connections.emptyPlaceholder.description1"),w("remoteUserStores:pages.edit.generalSettings.connections.emptyPlaceholder.description2")]}),!je&&(null==De?void 0:De.length)>0&&p.createElement(ue.Z,{divided:!0,verticalAlign:"middle",relaxed:"very",width:10},De.map((function(e,t){var n;return p.createElement(ue.Z.Item,{key:t,columns:2,verticalAlign:"middle"},p.createElement(ue.Z.Content,{floated:"right"},null!=e&&e.connected?p.createElement(de.Z,{basic:!0,color:"red",onClick:function(){ee(e),ie(!0)},disabled:U},w("remoteUserStores:pages.edit.generalSettings.connections.actions.disconnect")):null,p.createElement(de.Z,{className:"ml-4",color:e.connected?"red":"orange",onClick:function(){P(t),re(e),ge(!0)},disabled:U||i},w("remoteUserStores:pages.edit.generalSettings.connections.actions.regenerate"))),p.createElement(ue.Z.Content,null,p.createElement(ue.Z.Header,null,(null==e?void 0:e.connected)?p.createElement(v.Z,{name:"check circle",color:"green",className:"mr-1"}):p.createElement(v.Z,{name:"times circle",color:"red",className:"mr-1"}),p.createElement("strong",null,null==e||null===(n=e.agent)||void 0===n?void 0:n.displayName)),p.createElement(ue.Z.Description,{className:"mt-2 ml-1"},"Users with an account in this user store connected via this agent, can sign in to the My Account and other business applications registered in the organization.")))})),1===De.length&&p.createElement(ue.Z.Item,{columns:2,verticalAlign:"middle"},p.createElement(ue.Z.Content,{floated:"right"},p.createElement(de.Z,{color:"orange",onClick:function(){(0,me.RA)(E,y).then((function(e){G(e.token),be(!0)})).catch((function(e){(null==e?void 0:e.code)!==k.hY.TokenLimitExceeded?C((0,u.V_)({description:w("remoteUserStores:notifications.tokenGenerateError.description"),level:c.QU.ERROR,message:w("remoteUserStores:notifications.tokenGenerateError.message")})):C((0,u.V_)({description:w("remoteUserStores:notifications.tokenCountExceededError.description"),level:c.QU.ERROR,message:w("remoteUserStores:notifications.tokenCountExceededError.message")}))}))},disabled:U||i},w("remoteUserStores:pages.edit.generalSettings.connections.actions.generate"))),p.createElement(ue.Z.Content,null,p.createElement(ue.Z.Header,null,p.createElement(v.Z,{name:"times circle",color:"red",className:"mr-1"}),p.createElement("strong",null,y===l.uD.RemoteUserStoreManager?"Remote-Agent-2":"On-Prem-Agent-2")),p.createElement(ue.Z.Description,{className:"mt-2 ml-1"},w("extensions:manage.features.userStores.edit.general.connectionsSections.agents.agentTwo.description"),p.createElement(d.eb,{link:Z("manage.userStores.highAvailability.learnMore")},w("common:learnMore")))))))),p.createElement(ce.Z,{hidden:!0}),p.createElement(ce.Z,{hidden:!0}),J&&p.createElement(d.cV,{"data-testid":"".concat(R,"-confirmation-modal"),onClose:function(){return ie(!1)},type:"warning",open:ae,assertionHint:w("user:deleteUser.confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:w("common:confirm"),secondaryAction:w("common:cancel"),onSecondaryActionClick:function(){ie(!1),ke(null)},onPrimaryActionClick:function(){return function(e){(0,me.uv)(E,e.agent.agentId,y).then((function(){ie(!1),Le()})).catch((function(){C((0,u.V_)({description:w("remoteUserStores:notifications.disconnectError.description"),level:c.QU.ERROR,message:w("remoteUserStores:notifications.disconnectError.message")}))}))}(J)},closeOnDimmerClick:!1},p.createElement(d.cV.Header,{"data-testid":"".concat(R,"-confirmation-modal-header")},w("user:deleteUser.confirmationModal.header")),p.createElement(d.cV.Message,{"data-testid":"".concat(R,"-confirmation-modal-message"),attached:!0,warning:!0},"This action is irreversible and will disconnect the user store agent connection."),p.createElement(d.cV.Content,null,p.createElement("div",{className:"modal-alert-wrapper"}," ",xe&&Me),"If you disconnect the user store agent connection users onboarded from the remote user store will not be able to log in to My Account or any other applications onboarded in Asgardeo.")),ne&&p.createElement(d.cV,{"data-testid":"".concat(R,"-confirmation-modal"),onClose:function(){return ge(!1)},type:"warning",open:fe,assertionHint:w("user:deleteUser.confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:w("common:confirm"),secondaryAction:w("common:cancel"),onSecondaryActionClick:function(){ge(!1),ke(null)},onPrimaryActionClick:function(){return function(e){(0,me.ef)(e.tokenId,E,y).then((function(e){0===M?j(e.token):D(e.token),ge(!1),Ze(!0),re(null)})).catch((function(){C((0,u.V_)({description:w("remoteUserStores:notifications.tokenGenerateError.description"),level:c.QU.ERROR,message:w("remoteUserStores:notifications.tokenGenerateError.message")}))}))}(ne)},closeOnDimmerClick:!1},p.createElement(d.cV.Header,{"data-testid":"".concat(R,"-confirmation-modal-header")},w("user:deleteUser.confirmationModal.header")),p.createElement(d.cV.Message,{"data-testid":"".concat(R,"-confirmation-modal-message"),attached:!0,warning:!0},"This action is irreversible and will revoke the previously used installation token."),p.createElement(d.cV.Content,null,p.createElement("div",{className:"modal-alert-wrapper"}," ",xe&&Me),"If you regenerate the token the users with the previous token will no longer be authorised to run the user store agent with that token. You will also need to restart the user store agent as revoking the previous token will disconnect the agent..")),!Pe&&!U&&p.createElement(d.v9,{sectionHeader:w("common:dangerZone"),"data-testid":"".concat(R,"-danger-zone-group")},p.createElement(d.cN,{actionTitle:w("userstores:dangerZone.disable.actionTitle"),header:"Disable User Store",subheader:w("userstores:dangerZone.disable.subheader"),onActionClick:void 0,"data-testid":"".concat(R,"-delete-danger-zone"),toggle:{checked:i,onChange:function(e,t){var n={operation:"REPLACE",path:"/properties/".concat(k.x$.PROPERTY_NAME_DISABLED),value:Boolean(t.checked).toString()};(0,A.Xv)(E,[n]).then((function(){S(Boolean(t.checked).toString()),C((0,u.V_)({description:w("userstores:notifications.updateUserstore.success.description"),level:c.QU.SUCCESS,message:w("userstores:notifications.updateUserstore.success.message")})),C((0,u.V_)({description:w("userstores:notifications.updateDelay.description"),level:c.QU.WARNING,message:w("userstores:notifications.updateDelay.message")}))})).catch((function(e){C((0,u.V_)({description:(null==e?void 0:e.description)||w("userstores:notifications.updateUserstore.genericError.description"),level:c.QU.ERROR,message:(null==e?void 0:e.message)||w("userstores:notifications.updateUserstore.genericError.message")}))}))}}}),p.createElement(d.cN,{actionTitle:w("userstores:dangerZone.delete.actionTitle"),header:w("userstores:dangerZone.delete.header"),subheader:w("userstores:dangerZone.delete.subheader"),onActionClick:function(){return we(!0)},"data-testid":"".concat(R,"-delete-danger-zone")})),Re&&p.createElement(d.cV,{onClose:function(){return we(!1)},type:"negative",open:Re,assertion:null==s?void 0:s.name,assertionHint:w("extensions:manage.features.userStores.delete.assertionHint"),assertionType:"checkbox",primaryAction:w("userstores:confirmation.confirm"),secondaryAction:w("common:cancel"),onSecondaryActionClick:function(){return we(!1)},onPrimaryActionClick:function(){(0,A.oA)(E).then((function(){C((0,u.V_)({description:w("userstores:notifications.deleteUserstore.success.description"),level:c.QU.SUCCESS,message:w("userstores:notifications.deleteUserstore.success.message")})),C((0,u.V_)({description:w("userstores:notifications.delay.description"),level:c.QU.WARNING,message:w("userstores:notifications.delay.message")})),a.m.push(o.$.getPaths().get("USERSTORES"))})).catch((function(e){var t,n;C((0,u.V_)({description:null!==(t=null==e?void 0:e.description)&&void 0!==t?t:w("userstores:notifications.deleteUserstore.genericError.description"),level:c.QU.ERROR,message:null!==(n=null==e?void 0:e.message)&&void 0!==n?n:w("userstores:notifications.deleteUserstore.genericError.message")}))})).finally((function(){we(!1)}))},"data-testid":"".concat(R,"-delete-confirmation-modal"),closeOnDimmerClick:!1},p.createElement(d.cV.Header,{"data-testid":"".concat(R,"-delete-confirmation-modal-header")},w("userstores:confirmation.header")),p.createElement(d.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(R,"-delete-confirmation-modal-message")},w("userstores:confirmation.message")),p.createElement(d.cV.Content,{"data-testid":"".concat(R,"-delete-confirmation-modal-content")},w("userstores:confirmation.content"))),(Q||q)&&p.createElement(d.cV,{onClose:function(){return Ze(!1)},type:"warning",open:Oe,secondaryAction:w("common:close"),onSecondaryActionClick:function(){Ze(!1),H(null),W(null)}},p.createElement(d.cV.Header,{"data-testid":"".concat(R,"-delete-confirmation-modal-header")},"New Installation Token"),p.createElement(d.cV.Content,{"data-testid":"".concat(R,"-delete-confirmation-modal-content")},Q&&p.createElement(le.Z,{className:"mt-2 mb-2"},p.createElement(le.Z.Row,null,p.createElement(le.Z.Column,{width:16},p.createElement(d.v0,{content:"Make sure to note down the installation token as it will be required when running the user store agent. You won\u2019t be able to see it again!",type:"warning"}),p.createElement("label",null,"Installation token"),p.createElement(d.OR,{value:N||"","data-testid":"".concat(R,"-client-secret-readonly-input")})))),q&&p.createElement(le.Z,{className:"mt-2 mb-2"},p.createElement(le.Z.Row,null,p.createElement(le.Z.Column,{width:16},p.createElement(d.v0,{content:"Make sure to note down the installation token as it will be required when running the user store agent. You won't be able to see it again!",type:"info"}),p.createElement("label",null,"Installation token"),p.createElement(d.OR,{value:L||"","data-testid":"".concat(R,"-client-secret-readonly-input")})))))),z&&p.createElement(d.cV,{onClose:function(){return be(!1)},type:"warning",open:ye,secondaryAction:w("common:close"),onSecondaryActionClick:function(){be(!1),X(null)}},p.createElement(d.cV.Header,{"data-testid":"".concat(R,"-delete-confirmation-modal-header")},"New Installation Token"),p.createElement(d.cV.Content,{"data-testid":"".concat(R,"-delete-confirmation-modal-content")},z&&p.createElement(le.Z,{className:"mt-2 mb-2"},p.createElement(le.Z.Row,null,p.createElement(le.Z.Column,{width:16},p.createElement(d.v0,{content:"Make sure to note down the installation token as it will be required when running the user store agent. You won't be able to see it again!",type:"warning"}),p.createElement("label",null,"Installation token"),p.createElement(d.OR,{value:$||"","data-testid":"".concat(R,"-client-secret-readonly-input")})))))))},we=n(5840),Ce=n(68509),Oe=n(50342),Ze=n(59673),Ie=n(93331);const xe=function(e){var t=e["data-componentid"],n=void 0===t?"attribute-mappings-step":t;return p.createElement(Oe.Z,{component:"p","data-componentid":"".concat(n,"-description")},p.createElement(Ze.c,{i18nKey:"remoteUserStores:pages.edit.guide.steps.attributeMapping.description"},"Update the ",p.createElement(Ce.Z,{href:"#tab=".concat(Ie.Ax.CONFIGURATIONS)},"attribute mappings"),"according to remote user store that you connected. Make sure to review the mapped attributes otherwise it may cause errors in the user listings."))};const ke=function(e){var t=e.docLinkKey,n=e["data-componentid"],r=void 0===n?"configure-step":n,o=(0,f.$)().t,a=(0,d.fQ)().getLink;return p.createElement("div",{"data-componentid":r},p.createElement(Oe.Z,{component:"p",marginBottom:2},o("remoteUserStores:pages.edit.guide.steps.configure.description")),p.createElement(Oe.Z,{component:"p"},p.createElement(Ze.c,{i18nKey:"remoteUserStores:pages.edit.guide.steps.configure.docsDescription"},"See the",p.createElement(d.eb,{link:a(t)},"Asgardeo documentation")," for more details on configuring the user store agent.")))};function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Te=function(e){var t=e.userStoreManager,n=e.userStoreID,r=e.isUserStoreDisabled,o=e["data-componentid"],a=void 0===o?"generate-token-step":o,i=(0,f.$)().t,s=(0,g.I0)(),l=Me((0,p.useState)(),2),m=l[0],v=l[1],h=Me((0,p.useState)(!1),2),y=h[0],S=h[1];return m?p.createElement(p.Fragment,null,p.createElement(d.v0,{content:i("remoteUserStores:pages.edit.guide.steps.token.generatedToken.message"),type:"warning"}),p.createElement("label",null,i("remoteUserStores:pages.edit.guide.steps.token.generatedToken.label")),p.createElement(d.OR,{value:m,"data-componentid":"".concat(a,"-token-readonly-input")})):p.createElement(p.Fragment,null,p.createElement(Oe.Z,{component:"p",gutterBottom:!0},i("remoteUserStores:pages.edit.guide.steps.token.description")),p.createElement(E.Z,{variant:"outlined",onClick:function(){S(!0),(0,me.RA)(n,t).then((function(e){v(e.token)})).catch((function(e){(null==e?void 0:e.code)!==k.hY.TokenLimitExceeded?s((0,u.V_)({description:i("remoteUserStores:notifications.tokenGenerateError.description"),level:c.QU.ERROR,message:i("remoteUserStores:notifications.tokenGenerateError.message")})):s((0,u.V_)({description:i("remoteUserStores:notifications.tokenCountExceededError.description"),level:c.QU.ERROR,message:i("remoteUserStores:notifications.tokenCountExceededError.message")}))})).finally((function(){S(!1)}))},loading:y,disabled:r,"data-componentid":"".concat(a,"-generate-token")},i("remoteUserStores:pages.edit.guide.steps.token.action")))};var Ne=n(17901);const je=function(e){var t=e.downloadURL,n=e["data-componentid"],r=void 0===n?"download-agent-step":n,o=(0,f.$)().t;return p.createElement(p.Fragment,null,p.createElement(Oe.Z,{component:"p",marginBottom:2},o("remoteUserStores:pages.edit.guide.steps.download.onPrem.description")),p.createElement(E.Z,{variant:"outlined",startIcon:p.createElement(Ne._8,null),onClick:function(){window.open(t,"_blank","noopener, noreferrer")},"data-componentid":"".concat(r,"-button")},o("remoteUserStores:pages.edit.guide.steps.download.onPrem.action")))};function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Le(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const De=function(e){var t=e.userStoreId,n=e.userStoreManager,r=e["data-componentid"],o=void 0===r?"run-agent-step":r,a=(0,f.$)().t,i=(0,g.I0)(),s=(0,g.v9)((function(e){return e.config.ui.productName})),l=_e((0,p.useState)(!1),2),m=l[0],v=l[1],h=ve(t,n,m),y=h.data,S=h.isLoading,b=h.error,U=h.mutate;(0,p.useEffect)((function(){b&&i((0,u.V_)({description:a("remoteUserStores:notifications.connectionStatusCheckError.description"),level:c.QU.ERROR,message:a("remoteUserStores:notifications.connectionStatusCheckError.message")}))}),[b]);return p.createElement("div",{className:"run-agent-step"},p.createElement(Oe.Z,{component:"p",marginBottom:2},a("remoteUserStores:pages.edit.guide.steps.run.description.onPrem")),p.createElement("strong",null,a("remoteUserStores:pages.edit.guide.steps.run.commands.unix")),p.createElement(d.pq,{oneLiner:!0,readOnly:!0,withClipboardCopy:!0,language:"javascript",sourceCode:"sh wso2agent.sh"}),p.createElement("br",null),p.createElement("strong",null,a("remoteUserStores:pages.edit.guide.steps.run.commands.windows")),p.createElement(d.pq,{oneLiner:!0,readOnly:!0,withClipboardCopy:!0,language:"javascript",sourceCode:"wso2agent.bat  -- run"}),p.createElement(Oe.Z,{component:"p",marginTop:2,marginBottom:1},p.createElement(Ze.c,{i18nKey:"remoteUserStores:pages.edit.guide.steps.run.successMessage.onPrem",tOptions:{productName:s}},"Once the user store agent is connected successfully the message"," ",p.createElement("strong",null,"Agent successfully connected to ".concat(s))," will be displayed in the terminal.")),y||b?(null==y?void 0:y.some((function(e){return e.connected&&e.agent})))?p.createElement(E.Z,{variant:"outlined",startIcon:p.createElement(Ne.nQ,null),color:"success","data-componentid":"".concat(o,"-connection-success-button")},a("remoteUserStores:pages.edit.guide.steps.run.checkConnection.successAction")):p.createElement(d.v0,{type:"error",content:p.createElement(p.Fragment,null,a("remoteUserStores:pages.edit.guide.steps.run.checkConnection.errorMessage"),p.createElement(E.Z,{variant:"outlined",className:"btn-try-again",loading:S,onClick:function(){return U()},"data-componentid":"".concat(o,"-try-again-button")},a("remoteUserStores:pages.edit.guide.steps.run.checkConnection.errorAction"))),"data-componentid":"".concat(o,"-connection-error-message")}):p.createElement(E.Z,{variant:"outlined",loading:S,onClick:function(){return v(!0)},"data-componentid":"".concat(o,"-check-connection-button")},a("remoteUserStores:pages.edit.guide.steps.run.checkConnection.action")))};var Ve=n(32637),$e=n(32463);const Ge=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={headers:{Accept:"text/plain","Content-Type":"text/plain"},method:c.f2.GET,responseType:"text",url:e},r=(0,pe.Z)(t&&!(0,m.Z)(e)?n:null,{attachToken:!1});return{data:r.data,error:r.error,isLoading:r.isLoading,isValidating:r.isValidating,mutate:r.mutate}};function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var He=function(e){return e.Linux="Linux",e.LinuxArm="Linux (ARM)",e.Mac="Mac OS",e.Windows="Windows",e}(He||{});const Ye=function(e){var t,n,r,o,a,i,s,l,v,S,b,U,A,R,w,C,O,Z=e.downloadURLs,I=e["data-componentid"],x=void 0===I?"download-agent-step":I,k=(0,f.$)().t,M=(0,g.I0)(),P=Fe((0,p.useState)(),2),T=P[0],j=P[1],_=[{checkSum:null!==(t=null==Z||null===(n=Z.linux)||void 0===n?void 0:n.checkSum)&&void 0!==t?t:"",file:null!==(r=null==Z||null===(o=Z.linux)||void 0===o?void 0:o.file)&&void 0!==r?r:"",os:He.Linux},{checkSum:null!==(a=null==Z||null===(i=Z.linuxArm)||void 0===i?void 0:i.checkSum)&&void 0!==a?a:"",file:null!==(s=null==Z||null===(l=Z.linuxArm)||void 0===l?void 0:l.file)&&void 0!==s?s:"",os:He.LinuxArm},{checkSum:null!==(v=null==Z||null===(S=Z.mac)||void 0===S?void 0:S.checkSum)&&void 0!==v?v:"",file:null!==(b=null==Z||null===(U=Z.mac)||void 0===U?void 0:U.file)&&void 0!==b?b:"",os:He.Mac},{checkSum:null!==(A=null==Z||null===(R=Z.windows)||void 0===R?void 0:R.checkSum)&&void 0!==A?A:"",file:null!==(w=null==Z||null===(C=Z.windows)||void 0===C?void 0:C.file)&&void 0!==w?w:"",os:He.Windows}],L=(0,p.useMemo)((function(){var e;return null===(e=_.find((function(e){return e.os===T})))||void 0===e?void 0:e.checkSum}),[T]),D=Ge(L,!!T),V=D.data,$=D.error,G=D.isLoading,F=D.isValidating,Q=null!==(O=null==V?void 0:V.split(" ")[0])&&void 0!==O?O:"";(0,p.useEffect)((function(){$&&M((0,u.V_)({description:k("remoteUserStores:notifications.checkSumError.description"),level:c.QU.SUCCESS,message:k("remoteUserStores:notifications.checkSumError.message")}))}),[$]);return p.createElement("div",{className:"download-agent-step"},p.createElement(Oe.Z,{component:"p",marginBottom:2},k("remoteUserStores:pages.edit.guide.steps.download.remote.description")),p.createElement(y.Z,{direction:"row",spacing:1},_.map((function(e){return p.createElement(E.Z,{key:e.os,"data-componentid":"".concat(x,"-").concat(e.os,"-button"),size:"small",variant:"outlined",startIcon:p.createElement(Ne._8,null),onClick:function(){return t=e.os,n=e.file,window.open(n,"_blank","noopener, noreferrer"),void j(t);var t,n}},e.os)}))),(G||F)&&p.createElement("div",{"data-componentid":"".concat(x,"-validation-loading-placeholder")},p.createElement(h.Z,{width:"50%"}),p.createElement(h.Z,null),p.createElement(h.Z,null)),!(G||F)&&!(0,m.Z)(Q)&&p.createElement(p.Fragment,null,p.createElement(d.X6,{as:"h4"},k("remoteUserStores:pages.edit.guide.steps.download.remote.verification.heading")),p.createElement(Oe.Z,{component:"p",marginBottom:1},k("remoteUserStores:pages.edit.guide.steps.download.remote.verification.description")),p.createElement(Ve.Z,{className:"verification-steps-list"},p.createElement($e.Z,null,p.createElement(Oe.Z,{component:"p",marginBottom:1},p.createElement(Ze.c,{i18nKey:"remoteUserStores:pages.edit.guide.steps.download.remote.verification.step1"},"Execute the following command in the command line. Replace the ",p.createElement(N.Z,null,"FILE_PATH")," with the path of the downloaded agent zip file.")),p.createElement(d.pq,{oneLiner:!0,readOnly:!0,withClipboardCopy:!0,language:"shell",sourceCode:function(){switch(T){case He.Linux:case He.LinuxArm:return"sha256sum <FILE_PATH>";case He.Mac:return"shasum -a 256 <FILE_PATH>";case He.Windows:return"certutil -hashFile <FILE_PATH> SHA256";default:return""}}()})),p.createElement($e.Z,null,p.createElement(Oe.Z,{component:"p",marginBottom:1},k("remoteUserStores:pages.edit.guide.steps.download.remote.verification.step2")),p.createElement(d.pq,{oneLiner:!0,readOnly:!0,withClipboardCopy:!0,language:"shell",sourceCode:Q})))))};function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return We(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Be=function(e){var t=e.userStoreId,n=e.userStoreManager,r=e["data-componentid"],o=void 0===r?"run-agent-step":r,a=(0,f.$)().t,i=(0,g.I0)(),s=qe((0,p.useState)(!1),2),l=s[0],m=s[1],v=ve(t,n,l),h=v.data,y=v.isLoading,S=v.error,b=v.mutate;(0,p.useEffect)((function(){S&&i((0,u.V_)({description:a("remoteUserStores:notifications.connectionStatusCheckError.description"),level:c.QU.ERROR,message:a("remoteUserStores:notifications.connectionStatusCheckError.message")}))}),[S]);return p.createElement(p.Fragment,null,p.createElement(Oe.Z,{component:"p",marginBottom:2},a("remoteUserStores:pages.edit.guide.steps.run.description.remote")),p.createElement("strong",null,a("remoteUserStores:pages.edit.guide.steps.run.commands.unix")),p.createElement(d.pq,{oneLiner:!0,readOnly:!0,withClipboardCopy:!0,language:"javascript",sourceCode:"./remoteagent"}),p.createElement("br",null),p.createElement("strong",null,a("remoteUserStores:pages.edit.guide.steps.run.commands.windows")),p.createElement(d.pq,{oneLiner:!0,readOnly:!0,withClipboardCopy:!0,language:"javascript",sourceCode:"remoteagent"}),p.createElement(Oe.Z,{component:"p",marginTop:2,marginBottom:1},p.createElement(Ze.c,{i18nKey:"remoteUserStores:pages.edit.guide.steps.run.successMessage.remote"},"Once the user store agent is connected successfully the message"," ",p.createElement("strong",null,"Successfully connected with the server")," will be displayed in the terminal.")),h||S?(null==h?void 0:h.some((function(e){return e.connected&&e.agent})))?p.createElement(E.Z,{variant:"outlined",startIcon:p.createElement(Ne.nQ,null),color:"success","data-componentid":"".concat(o,"-connection-success-button")},a("remoteUserStores:pages.edit.guide.steps.run.checkConnection.successAction")):p.createElement(d.v0,{type:"error",content:p.createElement(p.Fragment,null,a("remoteUserStores:pages.edit.guide.steps.run.checkConnection.errorMessage"),p.createElement(E.Z,{variant:"outlined",className:"btn-try-again",loading:y,onClick:function(){return b()},"data-componentid":"".concat(o,"-try-again-button")},a("remoteUserStores:pages.edit.guide.steps.run.checkConnection.errorAction"))),"data-componentid":"".concat(o,"-connection-error-message")}):p.createElement(E.Z,{variant:"outlined",loading:y,onClick:function(){return m(!0)},"data-componentid":"".concat(o,"-check-connection-button")},a("remoteUserStores:pages.edit.guide.steps.run.checkConnection.action")))};var ze=n(17208),Xe={};Xe.styleTagTransform=B(),Xe.setAttributes=H(),Xe.insert=F().bind(null,"head"),Xe.domAPI=$(),Xe.insertStyleElement=q();D()(ze.Z,Xe);ze.Z&&ze.Z.locals&&ze.Z.locals;var Ke=function(e){var t,n=e.isUserStoreLoading,r=e.userStoreId,o=e.userStoreManager,a=e.isUserStoreDisabled,i=e["data-componentid"],s=void 0===i?"user-store-setup-guide":i,c=(0,f.$)().t,u=(0,g.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t||null===(t=t.extensions)||void 0===t?void 0:t.userStoreAgentUrls})),m=(0,g.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t||null===(t=t.extensions)||void 0===t?void 0:t.userStoreAgentUrl})),v=[{stepContent:o===l.uD.RemoteUserStoreManager?p.createElement(Ye,{downloadURLs:null==u?void 0:u.remote}):p.createElement(je,{downloadURL:null!==(t=null==u?void 0:u.onPrem)&&void 0!==t?t:m}),stepTitle:c("remoteUserStores:pages.edit.guide.steps.download.heading")},{stepContent:p.createElement(ke,{docLinkKey:"manage.userStores.userStoreProperties.learnMore"}),stepTitle:c("remoteUserStores:pages.edit.guide.steps.configure.heading")},{stepContent:p.createElement(Te,{userStoreManager:o,userStoreID:r,isUserStoreDisabled:a}),stepTitle:c("remoteUserStores:pages.edit.guide.steps.token.heading")},{stepContent:o===l.uD.RemoteUserStoreManager?p.createElement(Be,{userStoreId:r,userStoreManager:o}):p.createElement(De,{userStoreId:r,userStoreManager:o}),stepTitle:c("remoteUserStores:pages.edit.guide.steps.run.heading")},{stepContent:p.createElement(xe,null),stepTitle:c("remoteUserStores:pages.edit.guide.steps.attributeMapping.heading")}];return n?p.createElement(d.pJ,{padded:"very"},p.createElement(h.Z,{component:"h1",width:"50%"}),p.createElement(h.Z,null),p.createElement(h.Z,null),p.createElement(h.Z,null)):p.createElement(d.pJ,{padded:"very",className:"userstore-setup-guide"},p.createElement(d.X6,{as:"h3"},c("remoteUserStores:pages.edit.guide.heading"),p.createElement(d.X6,{subHeading:!0,as:"h6"},c("remoteUserStores:pages.edit.guide.subHeading"))),p.createElement(ce.Z,{hidden:!0}),p.createElement(le.Z,null,p.createElement(le.Z.Row,null,p.createElement(le.Z.Column,{width:16},p.createElement(le.Z,null,p.createElement(le.Z.Row,null,p.createElement(le.Z.Column,{width:10},p.createElement(we.t,{alwaysOpen:!0,isSidePanelOpen:!1,stepContent:v,isNextEnabled:!0,"data-testid":"".concat(s,"-vertical-stepper")}))))))))};function Je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return et(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const tt=function(e){var t,n,E=e.match,h=e["data-componentid"],y=void 0===h?"remote-user-store-edit-page":h,S=(0,g.I0)(),b=(0,f.$)().t,U=null===(t=E.params.id)||void 0===t?void 0:t.split("#")[0],A=(0,g.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.userStores})),R=(0,r.EV)(null==A||null===(n=A.scopes)||void 0===n?void 0:n.update),w=Je((0,p.useState)(""),2),C=w[0],O=w[1],Z=(0,i.Z)(U,!(0,m.Z)(U)),I=Z.data,x=Z.isLoading,k=Z.error,M=Z.remainingRetryCount,P=Z.mutate,T=null==I?void 0:I.typeName;(0,p.useEffect)((function(){if(k){var e;if(404===(null===(e=k.response)||void 0===e?void 0:e.status)&&M>0)return;S((0,u.V_)({description:b("userstores:notifications.fetchUserstores.genericError.description"),level:c.QU.ERROR,message:b("userstores:notifications.fetchUserstores.genericError.message")}))}}),[k]),(0,p.useEffect)((function(){var e;I&&O(null==I||null===(e=I.properties)||void 0===e||null===(e=e.find((function(e){return e.name===l.rr})))||void 0===e?void 0:e.value)}),[I]);var N,j="true"===C,_=function(){setTimeout((function(){P()}),3e3)},L=[{"data-tabid":Ie.Ax.GUIDE,menuItem:b("remoteUserStores:pages.edit.tabs.guide"),render:function(){return p.createElement(d.M$.Pane,{controlledSegmentation:!0,attached:!1},p.createElement(Ke,{isUserStoreLoading:x,userStoreId:U,userStoreManager:T,isUserStoreDisabled:j}))}},{"data-tabid":Ie.Ax.GENERAL,menuItem:b("remoteUserStores:pages.edit.tabs.general"),render:function(){return p.createElement(d.M$.Pane,{controlledSegmentation:!0,attached:!1},p.createElement(Re,{isDisabled:j,userStore:I,userStoreId:U,userStoreManager:T,handleUserStoreDisabled:function(e){return O(e)},isReadOnly:!R}))}},{"data-tabid":Ie.Ax.CONFIGURATIONS,menuItem:b("remoteUserStores:pages.edit.tabs.configurations"),render:function(){return p.createElement(d.M$.Pane,{controlledSegmentation:!0,attached:!1},p.createElement(ie,{userStore:I,userStoreId:U,userStoreManager:T,isLoading:x,isReadOnly:!R,onUpdate:_,isUserStoreDisabled:j}))}}];return p.createElement(d.O9,{image:p.createElement(d.dn,{bordered:!0,defaultIcon:!0,size:"x60",relaxed:"very",shape:"rounded",hoverable:!1,icon:(0,s.jw)()}),title:p.createElement(p.Fragment,null,(N="true"===C,p.createElement(d.GI,{trigger:p.createElement(v.Z,{className:"mr-2 ml-0 vertical-aligned-baseline",size:"small",name:"circle",color:N?"red":"green"}),content:b(N?"common:disabled":"common:enabled"),inverted:!0})),null==I?void 0:I.name),backButton:{onClick:function(){a.m.push(o.$.getPaths().get("USERSTORES"))},text:b("userstores:pageLayout.edit.back")},titleTextAlign:"left",bottomMargin:!1,isLoading:x||!I,"data-componentid":"".concat(y,"-layout"),className:"remote-user-store-edit-page"},p.createElement(d.M$,{className:"remote-user-store-edit-section",panes:L,"data-componentid":"".concat(y,"-tabs"),defaultActiveTab:Ie.Ax.GENERAL,isLoading:x||!I,controlTabRedirectionInternally:!0}))}},29051:(e,t,n)=>{n.d(t,{D:()=>i});var r=n(10319),o=n(86105),a=n(12754),i=function(e,t){var n=(0,o.cr)(e,a.x$.FEATURE_DICTIONARY.get(a.FC.ClassicUserStoreReadGroups)),i=(0,o.cr)(e,a.x$.FEATURE_DICTIONARY.get(a.FC.OptimizedUserStoreReadGroups));return t===r.uD.WSOutboundUserStoreManager&&n||t===r.uD.RemoteUserStoreManager&&i}},56758:(e,t,n)=>{n.d(t,{u:()=>r});var r=function(e,t){var n=new RegExp(t),r=!1,o="";n.test(e)&&(r=!0,null!=n.exec(e)&&(o=n.exec(e).toString()));var a=new Map;return a.set("isMatch",r),a.set("invalidStringValue",o),a}},72025:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(96124),o=n(76271),a=n(6833),i=n(44194);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const c=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={headers:{Accept:"application/json","Content-Type":"application/json"},method:a.f2.GET,url:"".concat(o.h.getState().config.endpoints.userStores,"/").concat(e)},l=s((0,i.useState)(10),2),c=l[0],u=l[1],d=(0,r.Z)(t?n:null,{onErrorRetry:function(e,t,n,r,o){var a,i=o.retryCount;404===(null==e||null===(a=e.response)||void 0===a?void 0:a.status)&&(u(10-i),i>=10||setTimeout((function(){return r({retryCount:i})}),2e3))},shouldRetryOnError:!0});return{data:d.data,error:d.error,isLoading:d.isLoading,isValidating:d.isValidating,mutate:d.mutate,remainingRetryCount:c}}},51370:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(92336),o=n(31549),a=n(14517),i=n(44194),s=n(72847);const l=(0,i.forwardRef)(((e,t)=>{var{className:n,children:i,filled:l=!0,outlined:c=!1}=e,u=(0,r.__rest)(e,["className","children","filled","outlined"]);return(0,o.jsx)(s.Z,Object.assign({ref:t,component:"code",className:(0,a.Z)("oxygen-code",{filled:l,outlined:c},"OxygenCode-root",{"OxygenCode-filled":l,"OxygenCode-outlined":c},n)},u,{children:i}))}));var c,u,d;c='/**\n * Copyright (c) 2023, WSO2 LLC. (https://www.wso2.com).\n *\n * WSO2 LLC. licenses this file to you under the Apache License,\n * Version 2.0 (the "License"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.oxygen-code {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;\n  font-size: inherit;\n  padding: 1px 3px;\n  border-radius: 5px;\n}\n.oxygen-code.filled {\n  background-color: var(--oxygen-palette-customComponents-Code-background);\n}\n.oxygen-code.outlined {\n  border: 1px solid var(--oxygen-palette-divider);\n}',u=document.getElementsByTagName("head")[0],(d=document.createElement("style")).setAttribute("type","text/css"),d.appendChild(document.createTextNode(c)),u.appendChild(d)},35062:(e,t,n)=>{n.d(t,{Z:()=>r.Z});var r=n(51370)},16482:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(92336),o=n(31549),a=n(5590),i=n(14517);const s=(0,n(44194).forwardRef)(((e,t)=>{var{className:n}=e,s=(0,r.__rest)(e,["className"]);return(0,o.jsx)(a.Z,Object.assign({ref:t,className:(0,i.Z)("oxygen-form-label","OxygenFormLabel-root",n)},s))}))},75763:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81611),o=n.n(r),a=n(83948),i=n.n(a)()(o());i.push([e.id,".userstore-configuration-settings .update-button{align-self:flex-start}",""]);const s=i},17208:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81611),o=n.n(r),a=n(83948),i=n.n(a)()(o());i.push([e.id,".userstore-setup-guide .run-agent-step .btn-try-again{float:right;margin-top:4px}.userstore-setup-guide .download-agent-step .verification-steps-list{list-style:decimal;margin-left:20px}.userstore-setup-guide .download-agent-step .verification-steps-list li{display:list-item}",""]);const s=i}}]);