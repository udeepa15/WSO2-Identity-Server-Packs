"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[1374],{41374:(e,t,n)=>{n.r(t),n.d(t,{default:()=>qe});var r=n(17901),o=n(55007),a=n(64961),i=n(60486),l=n(40838),c=n(90375),s=n(20494),u=n(44194),m=n(10479),d=n(47245),p=n(63033),f=n(73432),v=n(89141),g=n(26154),E=n(37077),y=n(22855),T=n(86989),h=n(82160),b=n(97434),S=n(82070),x=n(68509),N=n(15759),w=n(50342),I=n(12887),C=n(58934),O=n(10909);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const G=function(e){var t=e.value,n=A((0,u.useState)("copy"),2),r=n[0],o=n[1],a=(0,u.useRef)(null),i=(0,m.$)().t;return(0,u.useEffect)((function(){return function(){return clearTimeout(a.current)}}),[]),u.createElement(s.GI,{trigger:u.createElement(O.Z,{size:"mini",basic:!0,icon:!0,compact:!0,onClick:function(){o("check"),navigator.clipboard.writeText(t),a.current=setTimeout((function(){return o("copy")}),3e3)}},"copy"===r?u.createElement(g.Z,{name:"copy outline"}):u.createElement(g.Z,{name:"check"})),inverted:!0,content:u.createElement("small",null,i("extensions:develop.monitor.tooltips.copy"))})};var R=n(41193),k=function(){return u.createElement("div",{className:"log-row"},u.createElement("div",{className:"log-time-container"},u.createElement(R.Z,{fluid:!0},u.createElement(R.Z.Line,null))),u.createElement("div",{className:"log-description-container"},u.createElement("div",{className:"log-desc-loader"},u.createElement(R.Z,{fluid:!0},u.createElement(R.Z.Line,null)))))};const Z=function(){return u.createElement(u.Fragment,null,u.createElement(k,null),u.createElement(k,null))};var M=function(e){return e[e.DIAGNOSTIC_LOGS=0]="DIAGNOSTIC_LOGS",e[e.AUDIT_LOGS=1]="AUDIT_LOGS",e}({}),D=function(e){return e.SUCCESS="SUCCESS",e.FAILED="FAILED",e}({}),L=n(45634),F=n.n(L),j=function(e){return e?F()(e).format("HH:mm:ss"):"N/A"},U=function(e){var t=new Date,n="".concat(t.toLocaleString("en-US",{timeZone:e.split(" ")[1]}))+" ".concat(e.split(" ")[0]);return Date.parse(n)},H=function(e,t,n,r){var o=new Date,a=n[0],i=(60*parseInt(n.slice(1,3),10)+parseInt(n.slice(3,5),10))*("+"===a?1:-1),l=o.getUTCHours(),c=o.getUTCMinutes()+i,s=(c%60+60)%60,u=((l+Math.floor(c/60)+24)%24).toString().padStart(2,"0"),m=s.toString().padStart(2,"0"),d="".concat(u,":").concat(m),p=o.toISOString().split("T")[0];return e===t||e===p?null!=r?r:d:"23:59"},P=function(e,t){var n=new Date,r=t[0],o=(60*parseInt(t.slice(1,3),10)+parseInt(t.slice(3,5),10))*("+"===r?1:-1),a=n.getUTCHours(),i=n.getUTCMinutes()+o,l=(i%60+60)%60,c=((a+Math.floor(i/60)+24)%24).toString().padStart(2,"0"),s=l.toString().padStart(2,"0"),u="".concat(c,":").concat(s);return e===n.toISOString().split("T")[0]?u:"23:59"},$=n(51835),z=n.n($),J=n(27975),B=n.n(J),q=n(55900),Y=n.n(q),Q=n(21555),V=n.n(Q),W=n(3621),K=n.n(W),X=n(5062),ee=n.n(X),te=n(88100),ne={};ne.styleTagTransform=ee(),ne.setAttributes=V(),ne.insert=Y().bind(null,"head"),ne.domAPI=B(),ne.insertStyleElement=K();z()(te.Z,ne);te.Z&&te.Z.locals&&te.Z.locals;function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function oe(e){return function(e){if(Array.isArray(e))return le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||ie(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){if(e){if("string"==typeof e)return le(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ce=(0,u.lazy)((function(){return Promise.resolve().then(n.bind(n,52962))})),se=function(e){var t=e["data-componentid"],n=e.handleScroll,o=e.scrollRef,a=e.logs,i=e.loading,l=e.rowHeight,c=e.logCount,d=e.logType,p=e.setSearchQuery,f=(0,m.$)().t,v=ae((0,u.useState)([-1]),2),E=v[0],O=v[1],A=ae((0,u.useState)(!1),2),_=A[0],R=A[1],k=ae((0,u.useState)(),2),L=k[0],U=k[1];(0,u.useEffect)((function(){a.length>0&&a.length<=c&&(o.current.scrollTop=l*(c-(c-1))),O([-1])}),[a]);var H=function(e,t){var n,r=t.index;n=E.indexOf(r)>-1?E.filter((function(e){return e!==r})):[].concat(oe(E),[r]),O(n)},P=function(){R(!1),U(null)},$=function(e){var n=[],o=function(o){if("id"===o||"componentId"===o)return 1;if(e[o])if("string"==typeof e[o])"recordedAt"===o?n.push(u.createElement("tr",null,u.createElement("td",{className:"log-property"},o,":"),u.createElement("td",null,(l=e[o])?F()(l).format("DD MMM, YYYY | HH:mm:ss"):"N/A"))):"resultStatus"===o?n.push(u.createElement("tr",null,u.createElement("td",{className:"log-property"},o,":"),u.createElement("td",null,e[o]))):"requestId"===o?n.push(u.createElement("tr",null,u.createElement("td",{className:"log-property"},"traceId:"),u.createElement("td",null,u.createElement(s.GI,{trigger:u.createElement("span",null,e[o].slice(0,32)),content:u.createElement("small",null,e[o])}),"...\xa0\xa0",u.createElement(g.Z.Group,{className:"icon-button",onClick:function(){p({property:"traceId",value:e[o]})}},u.createElement(g.Z,{name:"filter",color:"green"}),u.createElement(g.Z,{corner:!0,name:"add",color:"green"})),u.createElement(G,{value:e[o]})))):n.push(u.createElement("tr",null,u.createElement("td",{className:"log-property"},o,":"),u.createElement("td",null,e[o],"\xa0\xa0",u.createElement(g.Z.Group,{className:"icon-button",onClick:function(){p({property:o,value:e[o]})}},u.createElement(g.Z,{name:"filter",color:"green"}),u.createElement(g.Z,{corner:!0,name:"add",color:"green"})))));else if("object"===re(e[o]))if("data"===o)n.push(u.createElement("tr",null,u.createElement("td",{className:"log-property"},o,":"),u.createElement("td",{className:"view-data-button"},u.createElement(x.Z,{"data-testid":"".concat(t,"-").concat(e.id,"-view-data-button"),"data-componentid":"".concat(t,"-view-data-button"),underline:"hover",onClick:function(){return function(e){U(e),R(!0)}(e)}},u.createElement(r.tE,{className:"topic"}),f("extensions:develop.monitor.filter.viewButton.label")))));else{var a=function(t){"string"==typeof e[o][t]?n.push(u.createElement("tr",null,u.createElement("td",{className:"log-property"},t,":"),u.createElement("td",null,e[o][t],"\xa0\xa0",u.createElement(g.Z.Group,{className:"icon-button",onClick:function(){p({property:t,value:e[o][t]})}},u.createElement(g.Z,{name:"filter",color:"green"}),u.createElement(g.Z,{corner:!0,name:"add",color:"green"}))))):n.push(u.createElement("tr",null,u.createElement("td",{className:"log-property"},t,":"),u.createElement("td",null,JSON.stringify(e[o][t],null,10))))};for(var i in e[o])a(i)}var l};for(var a in e)o(a);return n},z=u.createElement(ce,{loading:u.createElement(b.Z,null),className:"log-data-viewer",width:"100%",height:"100%",language:"javascript",theme:"vc",value:L?JSON.stringify(L.data,null,2):"{}",options:{automaticLayout:!0,readOnly:!0},"data-componentid":"".concat(t,"-data-viewer")}),J=u.createElement(T.Z,{className:"log-data-viewer-toolbar-container","data-componentid":"".concat(t,"-toolbar-container")},u.createElement(N.Z,{variant:"dense"},u.createElement(T.Z,null,u.createElement(w.Z,null,f("extensions:develop.monitor.logView.logDataviewer.panelName"))),u.createElement(T.Z,{className:"actions"},u.createElement(h.Z,{className:"data-viewer-buttons","data-componentid":"".concat(t,"-log-data-viewer-panel-download-button"),onClick:function(){var e=new Blob([JSON.stringify(L.data,null,2)],{type:"application/json"});(0,I.saveAs)(e,"log_data_"+L.id+".json")},startIcon:u.createElement(r._8,null)},f("extensions:develop.monitor.logView.logDataviewer.download")),u.createElement(h.Z,{"data-componentid":"".concat(t,"-log-data-viewer-panel-copy-button"),className:"data-viewer-buttons",onClick:function(){navigator.clipboard.writeText(JSON.stringify(L.data,null,2))},startIcon:u.createElement(r.TI,null)},f("extensions:develop.monitor.logView.logDataviewer.copy")),u.createElement(S.Z,{"data-componentid":"".concat(t,"-log-data-viewer-panel-close-button"),size:"small",onClick:P},u.createElement(r.DX,null)))));return u.createElement("div",{className:"main-container","data-componentid":"".concat(t,"-main-container")},u.createElement("div",{className:"ui fluid container scroll-container",onScroll:n,ref:o},u.createElement("div",{className:"edge-container"}),i&&u.createElement(Z,null),!i&&d===M.AUDIT_LOGS&&u.createElement("div",{className:"log-header"},u.createElement("div",{className:"log-Recordedtime"},u.createElement(w.Z,{variant:"body1"},f("extensions:develop.monitor.logView.headers.recordedAt"))),u.createElement("div",{className:"log-description-header"},u.createElement("div",{className:"log-actionId"},u.createElement(w.Z,{variant:"body1"},f("extensions:develop.monitor.logView.headers.actionId"))),u.createElement("div",{className:"log-targetId"},u.createElement(w.Z,{variant:"body1"},f("extensions:develop.monitor.logView.headers.targetId"))))),u.createElement(C.Z,{"data-componentid":"".concat(t,"-log-entries-wrapper"),exclusive:!1,fluid:!0},a.map((function(e,n){return u.createElement("div",{key:n},u.createElement(C.Z.Title,{active:E.includes(n),index:n,onClick:H,style:{padding:"0px"}},u.createElement("div",{className:"log-row"},u.createElement(g.Z,{name:"dropdown","data-componentid":"".concat(t,"-dropdown-button")}),u.createElement("div",{className:"log-time-container"},(r=e.recordedAt)?F()(r).format("DD MMM, YYYY"):"N/A",u.createElement("span",{className:"log-time"},"\xa0|\xa0",j(e.recordedAt))),u.createElement("div",{className:"log-description-container"},d===M.DIAGNOSTIC_LOGS&&u.createElement("div",{className:"log-message-container"},function(e){switch(e){case D.SUCCESS:return u.createElement(g.Z,{name:"check circle",color:"green"});case D.FAILED:return u.createElement(g.Z,{name:"close",color:"red"});default:return u.createElement(u.Fragment,null)}}(function(e){switch(e){case"SUCCESS":default:return D.SUCCESS;case"FAILED":return D.FAILED}}(e.resultStatus)),"auth-script-logging"===e.actionId&&u.createElement(g.Z,{name:"code"}),e.resultMessage.length>60?u.createElement(s.GI,{inverted:!0,trigger:u.createElement("span",null,"".concat(e.resultMessage.slice(0,60),"...")),content:u.createElement("small",null,f("extensions:develop.monitor.logView.toolTips.seeMore")),position:"bottom right",size:"mini"}):e.resultMessage),d===M.AUDIT_LOGS&&u.createElement("div",null,e.actionId&&u.createElement("div",{className:"log-actionid-container"},e.actionId),e.action&&u.createElement("div",{className:"log-actionid-container"},e.action)),d===M.DIAGNOSTIC_LOGS&&u.createElement("div",null,e.actionId&&u.createElement("div",{className:"log-actionid-container"},e.actionId),e.action&&u.createElement("div",{className:"log-actionid-container"},e.action)),d===M.AUDIT_LOGS&&u.createElement("div",null,u.createElement("div",null,e.targetId&&u.createElement("div",{className:"log-targetId-container"},e.targetId)))))),u.createElement(C.Z.Content,{active:E.includes(n)},$(e).map((function(e,t){return u.createElement("table",{className:"log-expanded-view",key:t},u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",null),u.createElement("th",null))),u.createElement("tbody",null,e))}))));var r}))),_&&u.createElement(u.Suspense,{fallback:u.createElement(b.Z,null)},u.createElement("div",{className:"log-data-viewer-panel"},u.createElement(y.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:_,onClose:P},u.createElement(T.Z,{className:"full-screen-log-data-viewer-container"},J,z)))),i&&u.createElement(Z,null),u.createElement("div",{className:"edge-container"})))};se.defaultProps={"data-componentid":"logs-container"};const ue=se;var me=n(47625),de=n(69875),pe=n(19980),fe=n(77757),ve=n(12950),ge=n(61444);function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,be(r.key),r)}}function Te(e,t,n){return t&&ye(e.prototype,t),n&&ye(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function he(e,t,n){return(t=be(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e){var t=function(e,t){if("object"!=Ee(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ee(t)?t:t+""}var Se=Te((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));he(Se,"LOG_FETCH_COUNT",100),he(Se,"LOG_ROW_HEIGHT",48),he(Se,"DELAY_MESSEGE_TIMEOUT",15e3),he(Se,"REFRESH_BUTTON_TIMEOUT",12e4),he(Se,"TIME_ZONE_DATA",[{key:0,text:"(GMT+00:00) UTC",value:"+0000"},{key:1,text:"(GMT+01:00) ECT",value:"+0100"},{key:2,text:"(GMT+02:00) EET",value:"+0200"},{key:3,text:"(GMT+02:00) ART",value:"+0200"},{key:4,text:"(GMT+03:00) EAT",value:"+0300"},{key:5,text:"(GMT+03:30) MET",value:"+0330"},{key:6,text:"(GMT+04:00) NET",value:"+0400"},{key:7,text:"(GMT+05:00) PLT",value:"+0500"},{key:8,text:"(GMT+05:30) IST",value:"+0530"},{key:9,text:"(GMT+06:00) BST",value:"+0600"},{key:10,text:"(GMT+07:00) VST",value:"+0700"},{key:11,text:"(GMT+08:00) CTT",value:"+0800"},{key:12,text:"(GMT+09:00) JST",value:"+0900"},{key:13,text:"(GMT+09:30) ACT",value:"+0930"},{key:14,text:"(GMT+10:00) AET",value:"+1000"},{key:15,text:"(GMT+11:00) SST",value:"+1100"},{key:16,text:"(GMT+12:00) NST",value:"+1200"},{key:17,text:"(GMT-11:00) MIT",value:"-1100"},{key:18,text:"(GMT-10:00) HST",value:"-1000"},{key:19,text:"(GMT-09:00) AST",value:"-0900"},{key:20,text:"(GMT-08:00) PST",value:"-0800"},{key:21,text:"(GMT-07:00) PNT",value:"-0700"},{key:22,text:"(GMT-07:00) MST",value:"-0700"},{key:23,text:"(GMT-06:00) CST",value:"-0600"},{key:24,text:"(GMT-05:00) EST",value:"-0500"},{key:25,text:"(GMT-05:00) IET",value:"-0500"},{key:26,text:"(GMT-04:00) PRT",value:"-0400"},{key:27,text:"(GMT-03:30) CNT",value:"-0330"},{key:28,text:"(GMT-03:00) AGT",value:"-0300"},{key:29,text:"(GMT-03:00) BET",value:"-0300"},{key:30,text:"(GMT-01:00) CAT",value:"-0100"}]),he(Se,"TIMERANGE_DROPDOWN_OPTIONS",[{key:0,text:ge.I18n.instance.t("extensions:develop.monitor.filter.dropdowns.timeRange.texts.0"),value:.25},{key:1,text:ge.I18n.instance.t("extensions:develop.monitor.filter.dropdowns.timeRange.texts.1"),value:.5},{key:2,text:ge.I18n.instance.t("extensions:develop.monitor.filter.dropdowns.timeRange.texts.2"),value:1},{key:3,text:ge.I18n.instance.t("extensions:develop.monitor.filter.dropdowns.timeRange.texts.3"),value:4},{key:4,text:ge.I18n.instance.t("extensions:develop.monitor.filter.dropdowns.timeRange.texts.4"),value:12},{key:5,text:ge.I18n.instance.t("extensions:develop.monitor.filter.dropdowns.timeRange.texts.5"),value:24},{key:6,text:ge.I18n.instance.t("extensions:develop.monitor.filter.dropdowns.timeRange.texts.6"),value:48},{key:7,text:ge.I18n.instance.t("extensions:develop.monitor.filter.dropdowns.timeRange.texts.7"),value:72},{key:8,text:ge.I18n.instance.t("extensions:develop.monitor.filter.dropdowns.timeRange.texts.8"),value:168},{key:9,text:ge.I18n.instance.t("extensions:develop.monitor.filter.dropdowns.timeRange.texts.9"),value:-1}]),he(Se,"END_TIME_GREATER_THAN_START_TIME_ERROR_CODE","LM-10008"),he(Se,"START_TIME_GREATER_THAN_CURRENT_TIME_ERROR_CODE","LM-10009");const xe=Se;var Ne=xe.TIME_ZONE_DATA;const we=function(e){var t=e.getTimeZone,n=e.selectedTimeZone,r=(0,m.$)().t;return u.createElement(me.Z,{search:!0,selection:!0,placeholder:r("extensions:develop.monitor.filter.dropdowns.timeZone.placeholder"),value:n,options:Ne,onChange:function(e,n){var r=n.value;t(r)}})};function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ce(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ce(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Oe=function(e){var t,n,r,o,a,i,l,c=e["data-componentid"],s=e.setToTime,d=e.setFromTime,p=e.setTimeRange,f=Ie((0,u.useState)(!1),2),v=f[0],E=f[1],y=Ie((0,u.useState)(""),2),T=y[0],h=y[1],b=Ie((0,u.useState)(""),2),S=b[0],x=b[1],N=Ie((0,u.useState)(""),2),w=N[0],I=N[1],C=Ie((0,u.useState)(""),2),A=C[0],_=C[1],G=Ie((0,u.useState)(.25),2),R=G[0],k=G[1],Z=Ie((0,u.useState)(.25),2),M=Z[0],D=Z[1],L=Ie((0,u.useState)((t=(new Date).getTimezoneOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60,a=t<=0?"+":"-",i=String(r).padStart(2,"0"),l=String(o).padStart(2,"0"),"".concat(a).concat(i).concat(l))),2),F=L[0],j=L[1],U=Ie((0,u.useState)(void 0),2),$=U[0],z=U[1],J=(0,m.$)().t,B=new Date,q=new Date,Y=new Date(B.setDate(B.getDate()-30)),Q=function(e){return e.toLocaleDateString("en-GB").split("/").reverse().join("-")},V=function(){w&&A&&T&&S||k(M),E(!1)};return u.createElement("div",{className:"time-range-selector-wrapper"},u.createElement(me.Z,{scrolling:!0,pointing:"top right",open:$,options:xe.TIMERANGE_DROPDOWN_OPTIONS,onOpen:function(){return z(!0)},onClose:function(){return z(!1)},onChange:function(e,t){var n=t.value;if(p(n),k(n),-1!==n){D(n),h(""),I(""),x(""),_("");var r=(new Date).getTime();s(r.toString()),d((r-36e5*n).toString())}else E(!0)},onClick:V,value:R,"data-componentid":"".concat(c,"-timerange-dropdown")}),u.createElement("span",{hidden:-1!==R},u.createElement(g.Z,{name:v?"close":"calendar alternate",className:"icon-btn",color:"grey",onClick:v?V:function(){return E(!v)}})),u.createElement(de.Z,{onOpen:function(){return E(!0)},open:v},u.createElement(pe.Z,{className:"custom-portal-wrapper"},u.createElement("div",{className:"main-container",onClick:function(e){return e.stopPropagation()}},u.createElement(fe.Z,{className:"date-picker-form",onSubmit:function(e){e.preventDefault();var t=new Date("".concat(T,"T").concat(w).concat(F)).getTime().toString(),n=new Date("".concat(S,"T").concat(A).concat(F)).getTime().toString();d(t),s(n),E(!1)}},u.createElement(fe.Z.Group,null,u.createElement(fe.Z.Field,{width:16},u.createElement("label",null,J("extensions:develop.monitor.filter.dropdowns.timeRange.custom.labels.timeZone")),u.createElement(we,{getTimeZone:j,selectedTimeZone:F}))),u.createElement(fe.Z.Group,null,u.createElement(fe.Z.Field,{width:16},u.createElement("label",null,J("extensions:develop.monitor.filter.dropdowns.timeRange.custom.labels.from")),u.createElement("div",{className:"date-time-picker-row"},u.createElement("div",null,u.createElement(ve.Z,{className:"date-input",type:"date",value:T,min:Q(Y),max:Q(q),onChange:function(e){return h(e.target.value)},required:!0})),u.createElement("div",null,u.createElement(ve.Z,{className:"time-input",type:"time",max:H(T,S,F,A),value:w,onChange:function(e){return I(e.target.value)},required:!0}))))),u.createElement(fe.Z.Group,null,u.createElement(fe.Z.Field,{width:16},u.createElement("label",null,J("extensions:develop.monitor.filter.dropdowns.timeRange.custom.labels.to")),u.createElement("div",{className:"date-time-picker-row"},u.createElement("div",null,u.createElement(ve.Z,{className:"date-input",type:"date",min:T||Q(Y),max:Q(q),value:S,onChange:function(e){return x(e.target.value)},required:!0})),u.createElement("div",null,u.createElement(ve.Z,{className:"time-input",type:"time",max:P(S,F),value:A,onChange:function(e){return _(e.target.value)},required:!0}))))),u.createElement(fe.Z.Group,null,u.createElement(fe.Z.Field,{width:16},u.createElement(O.Z,{fluid:!0,icon:"check",type:"submit"}))))))))};var Ae=n(96124),_e=n(76271),Ge=n(6833);const Re=function(e){var t=function(e){var t={data:e,headers:{"Content-Type":"application/json"},method:Ge.f2.POST,url:0===(null==e?void 0:e.logType)?_e.h.getState().config.endpoints.diagnosticLogsEndpoint:_e.h.getState().config.endpoints.auditLogsEndpoint};return(0,Ae.Z)(e?t:null)}(e),n=t.data,r=t.error,o=t.isValidating;return{error:r,list:(null==n?void 0:n.logs)||[],loading:o,next:(null==n?void 0:n.nextToken)||null,previous:(null==n?void 0:n.previousToken)||null}};function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ze(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ze(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Me=function(e){var t=e["data-componentid"],n=ke((0,u.useState)(!1),2),r=n[0],o=n[1],i=ke((0,u.useState)(!1),2),l=i[0],c=i[1],d=ke((0,u.useState)(""),2),p=d[0],f=d[1],v=ke((0,u.useState)(""),2),y=v[0],T=v[1],h=ke((0,u.useState)(""),2),b=h[0],S=h[1],x=ke((0,u.useState)(""),2),N=x[0],w=x[1],I=ke((0,u.useState)(""),2),C=I[0],O=I[1],A=ke((0,u.useState)(.25),2),_=A[0],G=A[1],R=ke((0,u.useState)(new Map),2),k=R[0],Z=R[1],D=ke((0,u.useState)([]),2),L=D[0],F=D[1],H=ke((0,u.useState)(null),2),P=H[0],$=H[1],z=ke((0,u.useState)(!1),2),J=z[0],B=z[1],q=ke((0,u.useState)(!1),2),Y=q[0],Q=q[1],V=ke((0,u.useState)(""),2),W=V[0],K=V[1],X=ke((0,u.useState)(.25),2),ee=X[0],te=X[1],ne=ke((0,u.useState)(!1),2),re=ne[0],oe=ne[1],ae=ke((0,u.useState)(!1),2),ie=ae[0],le=ae[1],ce=ke((0,u.useState)([]),2),se=ce[0],me=ce[1],de=(0,m.$)().t,pe="GMT+0000 UTC";(0,u.useEffect)((function(){setTimeout((function(){Q(!0)}),xe.DELAY_MESSEGE_TIMEOUT),-1===_?B(!1):(B(!0),ie||(le(!0),setTimeout((function(){oe(!0),le(!1)}),xe.REFRESH_BUTTON_TIMEOUT)))}),[W]),(0,u.useEffect)((function(){oe(!1)}),[N,C,b,y]),(0,u.useEffect)((function(){var e=U(pe),t=e.toString(),n=(e-36e5*_).toString();w(t),O(n),K(t),$({endTime:t,filter:"",limit:xe.LOG_FETCH_COUNT,logType:M.AUDIT_LOGS,startTime:n})}),[]);var fe=(0,u.useRef)(null),ve=Re(P),ge=ve.error,Ee=ve.list,ye=ve.loading,Te=ve.next,he=ve.previous;(0,u.useEffect)((function(){me(Ee)}),[Ee]);var be=function(e){var t=e.target;Q(!1),0===t.scrollTop&&(he?($({filter:p,limit:xe.LOG_FETCH_COUNT,previousToken:he}),o(!1),c(!1)):o(!0)),t.scrollHeight-t.scrollTop===t.clientHeight&&(Te?($({filter:p,limit:xe.LOG_FETCH_COUNT,nextToken:Te}),c(!1),o(!1)):c(!0))},Se=function(){var e="";k.forEach((function(t){e=e?"".concat(e," and logentry co '").concat(t,"'"):"logentry co '".concat(t,"'")})),T(e)},Ne=function(){var e="";0===b.length?e=b:(e="logentry co '".concat(b,"'"),y&&(e=" and ".concat(e))),f(e);var t=C,n=N,r=U(pe);-1!==_&&(n=r.toString(),t=(r-36e5*_).toString()),Q(!1),K(r.toString()),te(_),$({endTime:n,filter:"".concat(y).concat(e),limit:xe.LOG_FETCH_COUNT,logType:M.AUDIT_LOGS,startTime:t})},we=function(){f(""),S(""),oe(!1)},Ie=function(e){var t=k;t.set(e.property,e.value),Z(t),Se();var n=[];t.forEach((function(e,t){n.push({key:t,value:e})})),F(n)},Ce=function(e){var t=k;t.delete(e),Z(t),Se();var n=[];t.forEach((function(e,t){n.push({key:t,value:e})})),F(n)},Ae=function(){var e=k;e.clear(),Z(e),Se(),F([])},_e=function(){return u.createElement("form",{className:"advance-search-form",onSubmit:function(e){e.preventDefault()}},u.createElement("div",{className:"search-input-wrapper"},u.createElement("div",{className:"search-box ui action left icon input advanced-search with-add-on"},u.createElement("input",{autoComplete:"off",placeholder:de("extensions:develop.monitor.filter.searchBar.placeholderAudit"),maxLength:120,name:"query",type:"text",className:"search-input",value:b,onChange:function(e){return S(e.target.value)},"data-componentid":"".concat(t,"-search-input")}),u.createElement(g.Z,{name:"search",color:"grey"})),u.createElement("div",{className:"search-box-addons",hidden:!b},u.createElement(g.Z,{name:"close",color:"grey",onClick:we,className:"icon-button"})),u.createElement("input",{hidden:!0,type:"submit",value:"Submit","data-componentid":"".concat(t,"-search-input-submit")})))},Ge=function(){var e,n,o;return ge?(null==ge||null===(e=ge.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.code)===xe.END_TIME_GREATER_THAN_START_TIME_ERROR_CODE?u.createElement(s.$J,{subtitle:[de("extensions:develop.monitor.notifications.endTimeGreaterThanStartTimeError.subtitle.0"),de("extensions:develop.monitor.notifications.endTimeGreaterThanStartTimeError.subtitle.1")],title:de("extensions:develop.monitor.notifications.endTimeGreaterThanStartTimeError.title"),image:(0,a.jF)().genericError,imageSize:"tiny","data-componentid":"".concat(t,"-end-time-greater-than-start-time-error-placeholder")}):(null==ge||null===(n=ge.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.code)===xe.START_TIME_GREATER_THAN_CURRENT_TIME_ERROR_CODE?u.createElement(s.$J,{subtitle:[de("extensions:develop.monitor.notifications.startTimeGreaterThanCurrentError.subtitle.0"),de("extensions:develop.monitor.notifications.startTimeGreaterThanCurrentError.subtitle.1")],title:de("extensions:develop.monitor.notifications.startTimeGreaterThanCurrentError.title"),image:(0,a.jF)().genericError,imageSize:"tiny","data-componentid":"".concat(t,"-start-time-greater-than-current-time-error-placeholder")}):u.createElement(s.$J,{subtitle:[de("extensions:develop.monitor.notifications.genericError.subtitle.0"),de("extensions:develop.monitor.notifications.genericError.subtitle.1")],title:de("extensions:develop.monitor.notifications.genericError.title"),image:(0,a.jF)().genericError,imageSize:"tiny","data-componentid":"".concat(t,"-generic-error-placeholder")}):p&&0===Ee.length?u.createElement(s.$J,{action:u.createElement(s.Qj,{onClick:we},de("extensions:develop.monitor.notifications.emptySearchResult.actionLabel")),image:(0,a.jF)().emptySearch,imageSize:"tiny",title:de("extensions:develop.monitor.notifications.emptySearchResult.title"),subtitle:[de("extensions:develop.monitor.notifications.emptySearchResult.subtitle.0"),de("extensions:develop.monitor.notifications.emptySearchResult.subtitle.1")],"data-componentid":"".concat(t,"-empty-search-placeholder")}):y&&0===(null==Ee?void 0:Ee.length)?u.createElement(s.$J,{action:u.createElement(s.Qj,{onClick:Ae},de("extensions:develop.monitor.notifications.emptyFilterResult.actionLabel")),image:(0,a.jF)().emptySearch,imageSize:"tiny",title:de("extensions:develop.monitor.notifications.emptyFilterResult.title"),subtitle:[de("extensions:develop.monitor.notifications.emptyFilterResult.subtitle.0"),de("extensions:develop.monitor.notifications.emptyFilterResult.subtitle.1")],"data-componentid":"".concat(t,"-empty-filter-placeholder")}):0!==(null==Ee?void 0:Ee.length)||Te&&he||ye?u.createElement(u.Fragment,null,ye&&Y&&u.createElement("div",{className:"audit-logs-delay-message"},u.createElement(s.v0,{type:"info",compact:!0,content:de("extensions:develop.monitor.filter.delayMessage.text")})),u.createElement(ue,{handleScroll:be,scrollRef:fe,logs:se,loading:ye,rowHeight:xe.LOG_ROW_HEIGHT,logCount:xe.LOG_FETCH_COUNT,isPreviousEmpty:r,isNextEmpty:l,logType:M.AUDIT_LOGS,setSearchQuery:Ie,"data-componentid":t})):u.createElement(s.$J,{image:(0,a.jF)().emptySearch,imageSize:"tiny",title:de("extensions:develop.monitor.notifications.emptyResponse.title"),subtitle:[de("extensions:develop.monitor.notifications.emptyResponse.subtitle.0")+"".concat(null===(o=xe.TIMERANGE_DROPDOWN_OPTIONS.find((function(e){return e.value===ee})))||void 0===o?void 0:o.text.toLowerCase()),de("extensions:develop.monitor.notifications.emptyResponse.subtitle.1")],"data-componentid":"".concat(t,"-empty-data-placeholder")})},Ze=function(){if(y)return u.createElement(s.Qj,{basic:!0,compact:!0,primary:!1,"data-componentid":"".concat(t,"-clear-filter-button"),onClick:Ae,disabled:!y},de("extensions:develop.monitor.filter.topToolbar.buttons.clearFilters.label"))},Me=function(){if(-1!==_){var e=U(pe);w(e.toString()),O((e-36e5*_).toString())}Ne()},De=function(){var e=new Date(Number(W)).toISOString();return u.createElement("div",{className:"logs-refresh-component"},J&&u.createElement(s.kW,{icon:"warning sign",popup:!0,compact:!0,warning:!0},de("extensions:develop.monitor.filter.refreshMessage.tooltipText")),u.createElement("p",null,J&&de("extensions:develop.monitor.filter.refreshMessage.text")+j(e)))},Le=function(e){return"requestId"===e?"traceId":e};return u.createElement("div",null,u.createElement("div",null,u.createElement("div",{className:"top-action-bar"},_e(),u.createElement(Oe,{setFromTime:function(e){return O(e)},setToTime:function(e){return w(e)},setTimeRange:function(e){return G(e)},"data-componentid":"".concat(t,"-audit")}),re?u.createElement(s.KM,{onClick:function(){return Me()},"data-componentid":"".concat(t,"-refresh-button")},u.createElement(g.Z,{name:"refresh"}),de("extensions:develop.monitor.filter.refreshButton.label")):u.createElement(s.KM,{onClick:function(){return Ne()},"data-componentid":"".concat(t,"-search-button")},u.createElement(g.Z,{name:"search"}),de("extensions:develop.monitor.filter.queryButton.label"))),u.createElement("div",null,u.createElement("div",{className:"top-toolbar"},De(),u.createElement(E.Z.Group,null,null==L?void 0:L.map((function(e,t){return u.createElement(E.Z,{key:t,className:"filter-pill"},Le(e.key),u.createElement(E.Z.Detail,null,e.value),u.createElement(g.Z,{name:"delete",onClick:function(){return Ce(e.key)}}))})),Ze())),Ge())))};Me.defaultProps={"data-componentid":"audit-logs"};const De=Me;function Le(e){return function(e){if(Array.isArray(e))return Ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||je(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||je(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){if(e){if("string"==typeof e)return Ue(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(e,t):void 0}}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const He=function(e){var t=e["data-componentid"],n=(0,u.useRef)(null),r=Fe((0,u.useState)(!1),2),o=r[0],i=r[1],l=Fe((0,u.useState)(!1),2),c=l[0],d=l[1],p=Fe((0,u.useState)(""),2),f=p[0],v=p[1],y=Fe((0,u.useState)(""),2),T=y[0],h=y[1],b=Fe((0,u.useState)(""),2),S=b[0],x=b[1],N=Fe((0,u.useState)(""),2),w=N[0],I=N[1],C=Fe((0,u.useState)(""),2),O=C[0],A=C[1],_=Fe((0,u.useState)(.25),2),G=_[0],R=_[1],k=Fe((0,u.useState)(new Map),2),Z=k[0],D=k[1],L=Fe((0,u.useState)([]),2),F=L[0],H=L[1],P=Fe((0,u.useState)(null),2),$=P[0],z=P[1],J=Fe((0,u.useState)(!1),2),B=J[0],q=J[1],Y=Fe((0,u.useState)(!1),2),Q=Y[0],V=Y[1],W=Fe((0,u.useState)(""),2),K=W[0],X=W[1],ee=Fe((0,u.useState)(.25),2),te=ee[0],ne=ee[1],re=Fe((0,u.useState)(!1),2),oe=re[0],ae=re[1],ie=Fe((0,u.useState)(!1),2),le=ie[0],ce=ie[1],se=Fe((0,u.useState)([]),2),me=se[0],de=se[1],pe="GMT+0000 UTC",fe=(0,m.$)().t,ve=Re($),ge=ve.error,Ee=ve.list,ye=ve.loading,Te=ve.next,he=ve.previous;(0,u.useEffect)((function(){var e=U(pe),t=e.toString(),n=(e-36e5*G).toString();I(t),A(n),X(t),z({endTime:t,filter:"",limit:xe.LOG_FETCH_COUNT,logType:M.DIAGNOSTIC_LOGS,startTime:n})}),[]),(0,u.useEffect)((function(){setTimeout((function(){V(!0)}),xe.DELAY_MESSEGE_TIMEOUT),-1===G?q(!1):(q(!0),le||(ce(!0),setTimeout((function(){ae(!0),ce(!1)}),xe.REFRESH_BUTTON_TIMEOUT)))}),[K]),(0,u.useEffect)((function(){ae(!1)}),[w,O,S,T]),(0,u.useEffect)((function(){!ye&&Ee.length>0&&de((function(e){return[].concat(Le(e),Le(Ee))}))}),[Ee,ye]);var be=function(e){var t=e.target;V(!1),t.scrollHeight-t.scrollTop===t.clientHeight&&(Te?(z({filter:f,limit:xe.LOG_FETCH_COUNT,logType:M.DIAGNOSTIC_LOGS,nextToken:Te}),d(!1),i(!1)):d(!0))},Se=function(){var e="";Z.forEach((function(t){e=e?"".concat(e," and logentry co '").concat(t,"'"):"logentry co '".concat(t,"'")})),h(e)},Ne=function(e){de([]);var t="";0===S.length?t=S:(t="logentry co '".concat(S,"'"),T&&(t=" and ".concat(t))),v(void 0===e?t:e);var n=O,r=w,o=U(pe);-1!==G&&(r=o.toString(),n=(o-36e5*G).toString()),V(!1),X(o.toString()),ne(G),z({endTime:r,filter:"".concat(T).concat(void 0===e?t:e),limit:xe.LOG_FETCH_COUNT,logType:M.DIAGNOSTIC_LOGS,startTime:n})},we=function(){v(""),x(""),ae(!1),Ne("")},Ie=function(e){var t=Z;t.set(e.property,e.value),D(t),Se();var n=[];t.forEach((function(e,t){n.push({key:t,value:e})})),H(n)},Ce=function(){var e=Z;e.clear(),D(e),Se(),H([])},Ae=function(){return u.createElement("form",{className:"advance-search-form",onSubmit:function(e){e.preventDefault()}},u.createElement("div",{className:"search-input-wrapper"},u.createElement("div",{className:"search-box ui action left icon input advanced-search with-add-on"},u.createElement("input",{autoComplete:"off",placeholder:fe("extensions:develop.monitor.filter.searchBar.placeholderDiagnostic"),maxLength:120,name:"query",type:"text",className:"search-input",value:S,onChange:function(e){return x(e.target.value)},"data-componentid":"".concat(t,"-search-input")}),u.createElement(g.Z,{name:"search",color:"grey"})),u.createElement("div",{className:"search-box-addons",hidden:!S},u.createElement(g.Z,{name:"close",color:"grey",onClick:we,className:"icon-button"})),u.createElement("input",{hidden:!0,type:"submit",value:"Submit","data-componentid":"".concat(t,"-search-input-submit")})))},_e=function(){var e,r,i;return ge?(null==ge||null===(e=ge.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.code)===xe.END_TIME_GREATER_THAN_START_TIME_ERROR_CODE?u.createElement(s.$J,{subtitle:[fe("extensions:develop.monitor.notifications.endTimeGreaterThanStartTimeError.subtitle.0"),fe("extensions:develop.monitor.notifications.endTimeGreaterThanStartTimeError.subtitle.1")],title:fe("extensions:develop.monitor.notifications.endTimeGreaterThanStartTimeError.title"),image:(0,a.jF)().genericError,imageSize:"tiny","data-componentid":"".concat(t,"-end-time-greater-than-start-time-error-placeholder")}):(null==ge||null===(r=ge.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.code)===xe.START_TIME_GREATER_THAN_CURRENT_TIME_ERROR_CODE?u.createElement(s.$J,{subtitle:[fe("extensions:develop.monitor.notifications.startTimeGreaterThanCurrentError.subtitle.0"),fe("extensions:develop.monitor.notifications.startTimeGreaterThanCurrentError.subtitle.1")],title:fe("extensions:develop.monitor.notifications.startTimeGreaterThanCurrentError.title"),image:(0,a.jF)().genericError,imageSize:"tiny","data-componentid":"".concat(t,"-start-time-greater-than-current-time-error-placeholder")}):u.createElement(s.$J,{subtitle:[fe("extensions:develop.monitor.notifications.genericError.subtitle.0"),fe("extensions:develop.monitor.notifications.genericError.subtitle.1")],title:fe("extensions:develop.monitor.notifications.genericError.title"),image:(0,a.jF)().genericError,imageSize:"tiny","data-componentid":"".concat(t,"-generic-error-placeholder")}):f&&0===Ee.length?u.createElement(s.$J,{action:u.createElement(s.Qj,{onClick:we},fe("extensions:develop.monitor.notifications.emptySearchResult.actionLabel")),image:(0,a.jF)().emptySearch,imageSize:"tiny",title:fe("extensions:develop.monitor.notifications.emptySearchResult.title"),subtitle:[fe("extensions:develop.monitor.notifications.emptySearchResult.subtitle.0"),fe("extensions:develop.monitor.notifications.emptySearchResult.subtitle.1")],"data-componentid":"".concat(t,"-empty-search-placeholder")}):T&&0===Ee.length?u.createElement(s.$J,{action:u.createElement(s.Qj,{onClick:Ce},fe("extensions:develop.monitor.notifications.emptyFilterResult.actionLabel")),image:(0,a.jF)().emptySearch,imageSize:"tiny",title:fe("extensions:develop.monitor.notifications.emptyFilterResult.title"),subtitle:[fe("extensions:develop.monitor.notifications.emptyFilterResult.subtitle.0"),fe("extensions:develop.monitor.notifications.emptyFilterResult.subtitle.1")],"data-componentid":"".concat(t,"-empty-filter-placeholder")}):0!==Ee.length||Te&&he||ye?u.createElement(u.Fragment,null,ye&&Q&&u.createElement("div",{className:"diagnostic-logs-delay-message"},u.createElement(s.v0,{type:"info",compact:!0,content:fe("extensions:develop.monitor.filter.delayMessage.text")})),u.createElement(ue,{handleScroll:be,scrollRef:n,logs:me,loading:ye,rowHeight:xe.LOG_ROW_HEIGHT,logCount:xe.LOG_FETCH_COUNT,isPreviousEmpty:o,isNextEmpty:c,logType:M.DIAGNOSTIC_LOGS,setSearchQuery:Ie,"data-componentid":t})):u.createElement(s.$J,{image:(0,a.jF)().emptySearch,imageSize:"tiny",title:fe("extensions:develop.monitor.notifications.emptyResponse.title"),subtitle:[fe("extensions:develop.monitor.notifications.emptyResponse.subtitle.0")+"".concat(null===(i=xe.TIMERANGE_DROPDOWN_OPTIONS.find((function(e){return e.value===te})))||void 0===i?void 0:i.text.toLowerCase()),fe("extensions:develop.monitor.notifications.emptyResponse.subtitle.1")],"data-componentid":"".concat(t,"-empty-data-placeholder")})},Ge=function(){if(T)return u.createElement(s.Qj,{basic:!0,compact:!0,primary:!1,"data-componentid":"".concat(t,"-clear-filter-button"),onClick:Ce,disabled:!T},fe("extensions:develop.monitor.filter.topToolbar.buttons.clearFilters.label"))},ke=function(){if(-1!==G){var e=U(pe);I(e.toString()),A((e-36e5*G).toString())}Ne()},Ze=function(){var e=new Date(Number(K)).toISOString();return u.createElement("div",{className:"logs-refresh-component"},B&&u.createElement(s.kW,{icon:"warning sign",popup:!0,compact:!0,warning:!0},fe("extensions:develop.monitor.filter.refreshMessage.tooltipText")),u.createElement("p",null,B&&fe("extensions:develop.monitor.filter.refreshMessage.text")+j(e)))},Me=function(e){return"requestId"===e?"traceId":e};return u.createElement("div",null,u.createElement("div",null,u.createElement("div",{className:"top-action-bar"},Ae(),u.createElement(Oe,{setFromTime:function(e){return A(e)},setToTime:function(e){return I(e)},setTimeRange:function(e){return R(e)},"data-componentid":t}),oe?u.createElement(s.KM,{onClick:function(){return ke()},"data-componentid":"".concat(t,"-refresh-button")},u.createElement(g.Z,{name:"refresh"}),fe("extensions:develop.monitor.filter.refreshButton.label")):u.createElement(s.KM,{onClick:function(){return Ne()},"data-componentid":"".concat(t,"-search-button")},u.createElement(g.Z,{name:"search"}),fe("extensions:develop.monitor.filter.queryButton.label"))),u.createElement("div",null,u.createElement(u.Fragment,null,u.createElement("div",{className:"top-toolbar"},Ze(),u.createElement(E.Z.Group,null,F&&F.map((function(e,t){return u.createElement(E.Z,{key:t,className:"filter-pill"},Me(e.key),u.createElement(E.Z.Detail,null,e.value),u.createElement(g.Z,{name:"delete",onClick:function(){return function(e){var t=Z;t.delete(e),D(t),Se();var n=[];t.forEach((function(e,t){n.push({key:t,value:e})})),H(n)}(e.key)}}))})),Ge())),_e()))))};var Pe=n(11718),$e={};$e.styleTagTransform=ee(),$e.setAttributes=V(),$e.insert=Y().bind(null,"head"),$e.domAPI=B(),$e.insertStyleElement=K();z()(Pe.Z,$e);Pe.Z&&Pe.Z.locals&&Pe.Z.locals;function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],c=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Je(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Je(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Be=function(e){var t,n,g=e["data-componentid"],E=ze((0,u.useState)(M.DIAGNOSTIC_LOGS),2),y=E[0],T=E[1],h=(0,d.v9)((function(e){return e.config.ui.features})),b=(0,m.$)().t,S=(0,s.fQ)().getLink,x=(0,o.EV)(null==h||null===(t=h.auditLogs)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.feature),N=function(e,t){T(t.activeIndex)},w=function(){var e,t,n=[];return(null===(e=h.diagnosticLogs)||void 0===e?void 0:e.enabled)&&n.push({componentId:"diagnostic-logs",menuItem:u.createElement(p.Z,{key:"text",className:"item-with-chip"},b("extensions:develop.monitor.logs.tabs.diagnostic")),render:I}),(null===(t=h.auditLogs)||void 0===t?void 0:t.enabled)&&x&&n.push({componentId:"audit-logs",menuItem:u.createElement(p.Z,{key:"text",className:"item-with-chip"},b("extensions:develop.monitor.logs.tabs.audit")),render:C}),n},I=function(){return u.createElement(He,{"data-componentid":g})},C=function(){return u.createElement(De,null)},O=function(){l.m.push(i.$.getPaths().get("LOG_SETTINGS"))};return u.createElement("div",{className:"diagnostic-logs"},u.createElement(s.Xg,{title:b("extensions:develop.monitor.pageHeader.title"),pageTitle:"Logs",description:u.createElement(u.Fragment,null,b("extensions:develop.monitor.pageHeader.description"),u.createElement(s.eb,{link:S("manage.logs.learnMore")},b("common:learnMore"))),"data-componentid":"".concat(g,"-layout")},null!=h&&null!==(n=h.auditLogs.disabledFeatures)&&void 0!==n&&n.includes(c.Z.FEATURE_FLAG_KEY_MAP.REMOTE_LOG_PUBLISH)?u.createElement(u.Fragment,null):u.createElement(s.pJ,{className:"mt-0 mb-5","data-componentid":"log-publish-configuration"},u.createElement(f.Z,null,u.createElement(f.Z.Item,null,u.createElement(v.Z,{verticalAlign:"middle"},u.createElement(v.Z.Column,{floated:"left",mobile:16,computer:8,verticalAlign:"middle"},u.createElement(f.Z.Content,{verticalAlign:"middle"},u.createElement(s.dn,{icon:(0,a.FL)().tenantIcon,floated:"left",size:"mini",spaced:"right",verticalAlign:"middle",inline:!0,square:!0,transparent:!0}),u.createElement(f.Z.Header,{"data-componentid":"application-consumer-account-link-title",className:"logs-title"},b("console:manage.features.serverConfigs.remoteLogPublishing.title")),u.createElement(f.Z.Description,{"data-componentid":"application-consumer-account-link-description"},b("console:manage.features.serverConfigs.remoteLogPublishing.description")))),u.createElement(v.Z.Column,{mobile:16,computer:4,textAlign:"right"},u.createElement(s.GI,{trigger:u.createElement(s.zx,{className:"log-publish-settings-button","data-componentid":"navigate-to-log-publish-settings-button",onClick:O},u.createElement(r.UG,null)," Configure"),content:b("console:manage.features.serverConfigs.remoteLogPublishing.title"),position:"top right",size:"mini",hideOnScroll:!0,inverted:!0})))))),u.createElement(s.M$,{activeIndex:y,"data-componentid":"".concat(g,"-log-tabs"),defaultActiveIndex:0,onTabChange:N,panes:w()})))};Be.defaultProps={"data-componentid":"logs-page"};const qe=Be},88100:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(81611),o=n.n(r),a=n(83948),i=n.n(a)()(o());i.push([e.id,".log-data-viewer-panel{height:100%;width:calc(100% - 16px)}.log-data-viewer-panel .log-data-viewer{border:1px solid var(--oxygen-palette-divider);height:500px}.log-data-viewer-toolbar-container .oxygen-toolbar{display:flex;justify-content:space-between;align-items:center;align-content:center;flex-wrap:nowrap;flex-direction:row;padding-left:0;padding-right:0}.log-data-viewer-toolbar-container .oxygen-toolbar .actions{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;align-items:center;gap:10px}.full-screen-log-data-viewer-container{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);width:95%;height:90%;padding:32px}.full-screen-log-data-viewer-container .log-data-viewer-toolbar-container{background-color:var(--oxygen-palette-common-white);padding-left:15px;padding-right:15px;border-top-right-radius:var(--oxygen-shape-borderRadius);border-top-left-radius:var(--oxygen-shape-borderRadius)}.full-screen-log-data-viewer-container .log-data-viewer{border:1px solid var(--oxygen-palette-divider);height:500px}.data-viewer-buttons{padding:5px 12px;border-radius:var(--oxygen-shape-borderRadius);font-size:12px;color:var(--oxygen-palette-text-secondary)}",""]);const l=i},11718:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(81611),o=n.n(r),a=n(83948),i=n.n(a)()(o());i.push([e.id,".tabs.resource-tabs .ui.pointing.secondary.menu .item.item-with-chip{min-height:50px}.tabs.resource-tabs .ui.pointing.secondary.menu .item.item-with-chip .oxygen-chip-beta{margin-left:8px}",""]);const l=i}}]);